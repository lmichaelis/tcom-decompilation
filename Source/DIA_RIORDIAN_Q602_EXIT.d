instance DIA_RIORDIAN_Q602_EXIT(C_INFO) {
    NPC = 59649;
    NR = 999;
    CONDITION = DIA_RIORDIAN_Q602_EXIT_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_RIORDIAN_Q602_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_RIORDIAN_Q602_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_RIORDIAN_Q602_ALIVE(C_INFO) {
    NPC = 59649;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_ALIVE_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_ALIVE_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_ALIVE_CONDITION() {
    if ((LOG_GETSTATUS(MIS_Q602)) == (LOG_RUNNING)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_RIORDIAN_Q602_ALIVE_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_03_03");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    INFO_CLEARCHOICES(90220);
    INFO_ADDCHOICE(90220, "Unfortunately, no. He's still alive, but that will change soon.", 90223);
}

func void DIA_RIORDIAN_Q602_ALIVE_NO() {
    AI_STARTFACEANI(OTHER, S_SERIOUS, 1, -(1));
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_No_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_No_03_02");
    INFO_CLEARCHOICES(90220);
    INFO_ADDCHOICE(90220, "Ulryk and the Usurer want to overthrow the Myrtanians.", 90229);
}

var int RIORDIAN_Q602_ALIVE_VOLFZACKE;
var int RIORDIAN_Q602_ALIVE_MAGES;
var int RIORDIAN_Q602_ALIVE_FINISHTALK;
func void DIA_RIORDIAN_Q602_ALIVE_CHOICES() {
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    INFO_CLEARCHOICES(90220);
    INFO_ADDCHOICE(90220, "There's no time to waste.", 90235);
    if ((RIORDIAN_Q602_ALIVE_MAGES) == (FALSE)) {
        INFO_ADDCHOICE(90220, "Where are the other mages?", 90231);
    };
    if ((RIORDIAN_Q602_ALIVE_VOLFZACKE) == (FALSE)) {
        INFO_ADDCHOICE(90220, "What happened at Vardhal?", 90230);
    };
}

func void DIA_RIORDIAN_Q602_ALIVE_FINISHCHOICE() {
    if ((RIORDIAN_Q602_ALIVE_FINISHTALK) == (1)) {
        AI_RESETFACEANI(SELF);
        AI_RESETFACEANI(OTHER);
    };
    DIA_RIORDIAN_Q602_ALIVE_CHOICES();
}

func void DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK() {
    AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Ulryk_15_01");
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Ulryk_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Ulryk_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Ulryk_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Ulryk_03_05");
    DIA_RIORDIAN_Q602_ALIVE_CHOICES();
}

func void DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_VOLFZACKE() {
    RIORDIAN_Q602_ALIVE_VOLFZACKE = TRUE;
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Volfzacke_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Volfzacke_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Volfzacke_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Volfzacke_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Volfzacke_03_05");
    DIA_RIORDIAN_Q602_ALIVE_FINISHCHOICE();
}

func void DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_MAGES() {
    RIORDIAN_Q602_ALIVE_MAGES = TRUE;
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Mages_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Mages_03_02");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Mages_15_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Mages_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Mages_03_05");
    INFO_CLEARCHOICES(90220);
    INFO_ADDCHOICE(90220, "I finally took matters into my own hands!", 90234);
    INFO_ADDCHOICE(90220, DIALOG_BESILENT, 90233);
    INFO_CLEARCHOICES(90243);
    INFO_ADDCHOICE(90243, "I finally took matters into my own hands!", 90234);
    INFO_ADDCHOICE(90243, DIALOG_BESILENT, 90233);
}

func void DIA_RIORDIAN_Q602_ALIVE_NEXT() {
    INFO_CLEARCHOICES(90220);
    INFO_CLEARCHOICES(90243);
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Next_03_01");
    DIA_RIORDIAN_Q602_ALIVE_FINISHCHOICE();
}

func void DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_MAGES_SILENCE() {
    DIA_RIORDIAN_Q602_ALIVE_NEXT();
}

func void DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_MAGES_YES() {
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Yes_15_01");
    DIA_RIORDIAN_Q602_ALIVE_NEXT();
}

func void DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_LEAVE() {
    AI_STARTFACEANI(SELF, S_TIRED, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Leave_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Leave_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Leave_03_03");
    INFO_CLEARCHOICES(90220);
    INFO_ADDCHOICE(90220, "I don't know.", 90239);
    INFO_ADDCHOICE(90220, "I'll get the Usurer if the whole city burns.", 90238);
    INFO_ADDCHOICE(90220, "Archolos is my home. I will not let it fall.", 90237);
}

func void DIA_RIORDIAN_Q602_ALIVE_END() {
    RIORDIAN_Q602_ALIVE_FINISHTALK = 1;
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_End_03_01");
    INFO_CLEARCHOICES(90220);
    AI_STOPPROCESSINFOS(SELF);
    SELF.AIVAR[15] = TRUE;
    NPC_EXCHANGEROUTINE(SELF, "Q602_FOLLOW");
}

func void DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_LEAVE_ARCHOLOS() {
    AI_STARTFACEANI(OTHER, S_SMILE, 1, -(1));
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Archolos_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Archolos_03_02");
    DIA_RIORDIAN_Q602_ALIVE_END();
}

func void DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_LEAVE_VOLKER() {
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Volker_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Volker_03_02");
    DIA_RIORDIAN_Q602_ALIVE_END();
}

func void DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_LEAVE_DUNNO() {
    AI_STARTFACEANI(OTHER, S_SAD, 1, -(1));
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Dunno_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Dunno_03_02");
    DIA_RIORDIAN_Q602_ALIVE_END();
}

instance DIA_RIORDIAN_Q602_VOLFZACKEQUESTION(C_INFO) {
    NPC = 59649;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_VOLFZACKEQUESTION_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_VOLFZACKEQUESTION_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "What happened at Vardhal?";
}

func int DIA_RIORDIAN_Q602_VOLFZACKEQUESTION_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_Q602)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 90220))) && ((RIORDIAN_Q602_ALIVE_VOLFZACKE) == (0))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_RIORDIAN_Q602_VOLFZACKEQUESTION_INFO() {
    DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_VOLFZACKE();
}

instance DIA_RIORDIAN_Q602_MAGESQUESTION(C_INFO) {
    NPC = 59649;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_MAGESQUESTION_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_MAGESQUESTION_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Where are the other mages?";
}

func int DIA_RIORDIAN_Q602_MAGESQUESTION_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_Q602)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 90220))) && ((RIORDIAN_Q602_ALIVE_MAGES) == (0))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_RIORDIAN_Q602_MAGESQUESTION_INFO() {
    DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_MAGES();
}

instance DIA_RIORDIAN_Q602_RAMSEY(C_INFO) {
    NPC = 59649;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_RAMSEY_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_RAMSEY_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_RAMSEY_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q602)) == (LOG_RUNNING)) && ((Q602_RAMSEY_STATUS) >= (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_RIORDIAN_Q602_RAMSEY_INFO() {
    if ((Q602_DOGISDEAD) >= (1)) {
        WLD_SENDTRIGGER("Q602_MOVER_WALL_DOGGO");
    };
    INFO_CLEARCHOICES(90246);
    if ((Q602_RAMSEY_STATUS) == (1)) {
        AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Ramsey_03_01");
        INFO_ADDCHOICE(90246, "Ramsey left me no choice.", 90253);
        INFO_ADDCHOICE(90246, "A traitor.", 90252);
    };
    if ((Q602_RAMSEY_STATUS) >= (2)) {
        AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Ramsey_03_02");
        INFO_ADDCHOICE(90246, "Let's just say this situation wasn't entirely his fault.", 90255);
        INFO_ADDCHOICE(90246, "Silbach needs a ruler, even one like this.", 90254);
    };
}

func void DIA_RIORDIAN_Q602_RAMSEY_END() {
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Ramsey_Next_03_02");
    INFO_CLEARCHOICES(90246);
    AI_STOPPROCESSINFOS(SELF);
}

func void DIA_RIORDIAN_Q602_RAMSEY_NEXT() {
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Ramsey_Next_03_01");
    DIA_RIORDIAN_Q602_RAMSEY_END();
}

func void DIA_RIORDIAN_Q602_RAMSEY_NEXT2() {
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Ramsey_Next2_03_01");
    DIA_RIORDIAN_Q602_RAMSEY_END();
}

func void DIA_RIORDIAN_Q602_RAMSEY_TRAITOR() {
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Ramsey_Traitor_15_01");
    DIA_RIORDIAN_Q602_RAMSEY_NEXT();
}

func void DIA_RIORDIAN_Q602_RAMSEY_NOCHOICE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Ramsey_NoChoice_15_01");
    DIA_RIORDIAN_Q602_RAMSEY_NEXT();
}

func void DIA_RIORDIAN_Q602_RAMSEY_SILBACH() {
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Ramsey_Silbach_15_01");
    DIA_RIORDIAN_Q602_RAMSEY_NEXT2();
}

func void DIA_RIORDIAN_Q602_RAMSEY_NOTGUILTY() {
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Ramsey_NotGuilty_15_01");
    DIA_RIORDIAN_Q602_RAMSEY_NEXT2();
}

instance DIA_RIORDIAN_Q602_LUDLOF(C_INFO) {
    NPC = 59649;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_LUDLOF_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_LUDLOF_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_LUDLOF_CONDITION() {
    if ((LOG_GETSTATUS(MIS_Q602)) == (LOG_RUNNING)) {
        if ((((Q602_LUDLOFSTATUS) == (1)) || ((Q602_LUDLOFSTATUS) == (2))) || ((Q602_LUDLOFSTATUS) == (4))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_RIORDIAN_Q602_LUDLOF_INFO() {
    if ((Q308_WHOWILLDIE) != (3)) {
        WLD_SENDTRIGGER("Q602_MOVER_WALL_LUDLOF");
    };
    AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Ludlof_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Ludlof_03_02");
    AI_RESETFACEANI(SELF);
}

instance DIA_RIORDIAN_Q602_BROTHERS(C_INFO) {
    NPC = 59649;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_BROTHERS_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_BROTHERS_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_BROTHERS_CONDITION() {
    if ((((((NPC_KNOWSINFO(OTHER, 90119)) && (NPC_ISDEAD(BAU_2245_HOLDWIG_Q602))) && (NPC_ISDEAD(NONE_50203_HOLDWIGGUARD_Q602))) && (NPC_ISDEAD(NONE_50204_HOLDWIGGUARD_Q602))) || ((((NPC_KNOWSINFO(OTHER, 90705)) && (NPC_ISDEAD(VLK_11181_ANDERAS_Q602))) && (NPC_ISDEAD(NONE_50205_ANDERASGUARD_Q602))) && (NPC_ISDEAD(NONE_50206_ANDERASGUARD_Q602)))) || ((Q602_VINEYARDFIGHT) == (3))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_RIORDIAN_Q602_BROTHERS_INFO() {
    if ((Q602_VINEYARDFIGHT) == (3)) {
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Brothers_03_02");
        AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Brothers_03_03");
        AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Brothers_03_04");
        AI_RESETFACEANI(SELF);
        AI_STOPPROCESSINFOS(SELF);
    };
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Brothers_03_01");
    INFO_CLEARCHOICES(90259);
    INFO_ADDCHOICE(90259, "I have no idea. Let's move on.", 90262);
    if (((LOG_GETSTATUS(MIS_SQ225)) == (LOG_SUCCESS)) || ((LOG_GETSTATUS(MIS_SQ116)) == (LOG_SUCCESS))) {
        INFO_ADDCHOICE(90259, "I made a mistake of meddling in the affairs of this vineyard...", 90263);
    };
}

func void DIA_RIORDIAN_Q602_BROTHERS_DONTKNOW() {
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Brothers_DontKnow_15_01");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Brothers_DontKnow_03_02");
    AI_RESETFACEANI(SELF);
    AI_STOPPROCESSINFOS(SELF);
}

func void DIA_RIORDIAN_Q602_BROTHERS_MISTAKE() {
    AI_STARTFACEANI(OTHER, S_TIRED, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Brothers_Mistake_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Brothers_Mistake_15_02");
    AI_STARTFACEANI(SELF, S_TIRED, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Brothers_Mistake_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Brothers_Mistake_03_04");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Brothers_Mistake_03_05");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_RIORDIAN_Q602_DOGGO(C_INFO) {
    NPC = 59649;
    NR = 2;
    CONDITION = DIA_RIORDIAN_Q602_DOGGO_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_DOGGO_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_DOGGO_CONDITION() {
    if ((Q602_DOGISDEAD) == (3)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_RIORDIAN_Q602_DOGGO_INFO() {
    AI_TURNTONPC(KDW_203_RIORDIAN_Q602, NONE_13336_DOGGO_Q602);
    AI_TURNTONPC(HERO, NONE_13336_DOGGO_Q602);
    AI_PLAYANI(HERO, "T_FACEPALM");
    AI_WAIT(KDW_203_RIORDIAN_Q602, 1073741824);
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 90267);
    AI_WAIT(KDW_203_RIORDIAN_Q602, 1073741824);
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 90268);
    AI_WAITTILLEND(HERO, KDW_203_RIORDIAN_Q602);
    AI_STARTFACEANI(KDW_203_RIORDIAN_Q602, S_ANGRY, 1, -(1));
    AI_WAIT(KDW_203_RIORDIAN_Q602, 1056964608);
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Doggo_03_01");
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 90269);
    INFO_CLEARCHOICES(90264);
    INFO_ADDCHOICE(90264, "There's nothing more we can do here. Let's go to the City Hall.", 90273);
    INFO_ADDCHOICE(90264, "They'll pay me for this...", 90272);
    INFO_ADDCHOICE(90264, DIALOG_DONOTTALK, 90271);
}

func void Q602_DOGGO_CAMERA_01() {
    WLD_SENDTRIGGER("Q602_DOGGO_03");
    WLD_SENDUNTRIGGER("Q602_DOGGO_01");
}

func void Q602_DOGGO_CAMERA_02() {
    WLD_SENDTRIGGER("Q602_DOGGO_04");
    WLD_SENDUNTRIGGER("Q602_DOGGO_03");
}

func void Q602_DOGGO_CAMERA_03() {
    TELEPORTNPCTOWP(1819, "PARTM5_DOGGO_HERO");
    WLD_SENDTRIGGER("Q602_DOGGO_02");
    WLD_SENDUNTRIGGER("Q602_DOGGO_04");
}

func void Q602_DOGGO_CAMERA_04() {
    WLD_SENDTRIGGER("Q602_DOGGO_05");
    WLD_SENDUNTRIGGER("Q602_DOGGO_02");
}

func void DIA_RIORDIAN_Q602_DOGGO_SILENCE() {
    AI_FUNCTION(SELF, 90270);
    AI_WAIT(HERO, 1069547520);
    AI_TURNAWAY(HERO, NONE_13336_DOGGO_Q602);
    AI_WAITTILLEND(SELF, OTHER);
    INFO_CLEARCHOICES(90264);
    AI_STOPPROCESSINFOS(SELF);
    AI_FUNCTION(SELF, 90274);
}

func void DIA_RIORDIAN_Q602_DOGGO_PAY() {
    AI_FUNCTION(SELF, 90270);
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Doggo_Pay_15_01");
    AI_TURNAWAY(HERO, NONE_13336_DOGGO_Q602);
    AI_WAITTILLEND(SELF, OTHER);
    INFO_CLEARCHOICES(90264);
    AI_STOPPROCESSINFOS(SELF);
    AI_FUNCTION(SELF, 90274);
}

func void DIA_RIORDIAN_Q602_DOGGO_MOVE() {
    AI_FUNCTION(SELF, 90270);
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Doggo_Move_15_01");
    AI_TURNAWAY(HERO, NONE_13336_DOGGO_Q602);
    AI_WAITTILLEND(SELF, OTHER);
    INFO_CLEARCHOICES(90264);
    AI_STOPPROCESSINFOS(SELF);
    AI_FUNCTION(SELF, 90274);
}

func void Q602_DOGGO_FINISH() {
    HERO.AIVAR[4] = TRUE;
    FF_APPLYONCEEXT(90275, 75, 4);
}

func void Q602_DOGGO_FINISH_APPLY() {
    var int Q602_DOGGO_FINISH_COUNT;
    Q602_DOGGO_FINISH_COUNT = (Q602_DOGGO_FINISH_COUNT) + (1);
    if ((Q602_DOGGO_FINISH_COUNT) == (4)) {
        Q602_DOGGO_FINISH_COUNT = 0;
        WLD_SENDUNTRIGGER("Q602_DOGGO_01");
        WLD_SENDUNTRIGGER("Q602_DOGGO_02");
        WLD_SENDUNTRIGGER("Q602_DOGGO_03");
        WLD_SENDUNTRIGGER("Q602_DOGGO_04");
        WLD_SENDUNTRIGGER("Q602_DOGGO_05");
        DIACAM_ENABLE();
        HERO.AIVAR[4] = FALSE;
        AI_RESETFACEANI(HERO);
        AI_RESETFACEANI(KDW_203_RIORDIAN_Q602);
    };
}

instance DIA_RIORDIAN_Q602_FINALWAR(C_INFO) {
    NPC = 59649;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_FINALWAR_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_FINALWAR_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_FINALWAR_CONDITION() {
    if ((Q602_FIGHTCUTSCENE) == (2)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void Q602_FINALWAR_CAMERA_01() {
    TELEPORTNPCTOWP(1819, "PARTM5_FINALWAR_HERO");
    TELEPORTNPCTOWP(59649, "PARTM5_FINALWAR_RIORDIAN");
    WLD_SENDTRIGGER("Q602_FINALWAR_02");
    WLD_SENDUNTRIGGER("Q602_FINALWAR_01");
}

func void Q602_FINALWAR_CAMERA_02() {
    WLD_SENDTRIGGER("Q602_FINALWAR_03");
    WLD_SENDUNTRIGGER("Q602_FINALWAR_02");
}

func void DIA_RIORDIAN_Q602_FINALWAR_INFO() {
    AI_TURNTONPC(HERO, MIL_10179_MILITIA_Q602);
    AI_TURNTONPC(KDW_203_RIORDIAN_Q602, MIL_10179_MILITIA_Q602);
    AI_WAIT(KDW_203_RIORDIAN_Q602, 1084227584);
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 90279);
    AI_STOPLOOKAT(KDW_203_RIORDIAN_Q602);
    AI_STOPLOOKAT(HERO);
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_FinalWar_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_FinalWar_03_02");
    INFO_CLEARCHOICES(90277);
    INFO_ADDCHOICE(90277, "We'll look for them once we've cleared the market.", 90284);
    INFO_ADDCHOICE(90277, "It doesn't matter, we have to help our own.", 90283);
}

func void DIA_RIORDIAN_Q602_FINALWAR_NEXT() {
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_FinalWar_Next_03_01");
    INFO_CLEARCHOICES(90277);
    AI_STOPPROCESSINFOS(SELF);
    AI_FUNCTION(SELF, 61209);
}

func void DIA_RIORDIAN_Q602_FINALWAR_HELP() {
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 90280);
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_FinalWar_Help_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_FinalWar_Help_03_02");
    DIA_RIORDIAN_Q602_FINALWAR_NEXT();
}

func void DIA_RIORDIAN_Q602_FINALWAR_SEARCH() {
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 90280);
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_FinalWar_Search_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_FinalWar_Search_03_02");
    DIA_RIORDIAN_Q602_FINALWAR_NEXT();
}

instance DIA_RIORDIAN_Q602_FIGHTULRYK(C_INFO) {
    NPC = 59649;
    NR = 2;
    CONDITION = DIA_RIORDIAN_Q602_FIGHTULRYK_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_FIGHTULRYK_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_FIGHTULRYK_CONDITION() {
    if ((Q602_FINISHFINALWARBATTLE) == (TRUE)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void Q602_FINALWAR_ULRYK_CAMERA_01() {
    TELEPORTNPCTOWP(1819, "PARTM5_CITYHALL_09");
    TELEPORTNPCTOWP(59649, "PARTM5_FINALWAR_RIORDIAN2");
    WLD_SENDTRIGGER("Q602_FINALWAR_ULRYK_02");
    WLD_SENDUNTRIGGER("Q602_FINALWAR_ULRYK_01");
}

func void Q602_FINALWAR_ULRYK_CAMERA_02() {
    TELEPORTNPCTOWP(1819, "PARTM5_FINALWAR_HERO2");
    WLD_SENDTRIGGER("Q602_FINALWAR_ULRYK_03");
    WLD_SENDUNTRIGGER("Q602_FINALWAR_ULRYK_02");
}

func void DIA_RIORDIAN_Q602_FIGHTULRYK_INFO() {
    AI_TURNTONPC(HERO, NONE_15_ULRYK_Q602);
    AI_TURNTONPC(KDW_203_RIORDIAN_Q602, NONE_15_ULRYK_Q602);
    AI_WAIT(KDW_203_RIORDIAN_Q602, 1065353216);
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 90287);
    AI_WAIT(KDW_203_RIORDIAN_Q602, 1065353216);
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 61216);
    AI_WAIT(KDW_203_RIORDIAN_Q602, 1069547520);
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 90288);
    AI_WAIT(KDW_203_RIORDIAN_Q602, 1065353216);
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_FightUlryk_03_01");
    AI_STOPPROCESSINFOS(SELF);
    NPC_EXCHANGEROUTINE(SELF, "Q602_OBSERVE");
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 61221);
}

instance DIA_RIORDIAN_Q602_AFTERULRYK(C_INFO) {
    NPC = 59649;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_AFTERULRYK_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_AFTERULRYK_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_AFTERULRYK_CONDITION() {
    if ((Q602_FINALBATTLE_STARTFIGHT) == (12)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_RIORDIAN_Q602_AFTERULRYK_INFO() {
    B_STARTOTHERROUTINE(NONE_14020_EFFECTHELPER, START);
    NPC_REFRESH(NONE_14020_EFFECTHELPER);
    TELEPORTNPCTOWP(59906, NONE_14020_EFFECTHELPER.WP);
    AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_AfterUlryk_03_01");
    INFO_CLEARCHOICES(90290);
    INFO_ADDCHOICE(90290, "We were trying to stop them the whole time.", 90295);
    INFO_ADDCHOICE(90290, "Maybe you're right...", 90294);
}

func void DIA_RIORDIAN_Q602_AFTERULRYK_NEXT() {
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_AfterUlryk_Next_03_01");
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_AfterUlryk_Next_15_02");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_AfterUlryk_Next_03_03");
    INFO_CLEARCHOICES(90290);
    AI_STOPPROCESSINFOS(SELF);
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

func void DIA_RIORDIAN_Q602_AFTERULRYK_YEAH() {
    AI_STARTFACEANI(OTHER, S_TIRED, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_AfterUlryk_Yeah_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_AfterUlryk_Yeah_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_AfterUlryk_Yeah_03_03");
    DIA_RIORDIAN_Q602_AFTERULRYK_NEXT();
}

func void DIA_RIORDIAN_Q602_AFTERULRYK_TRIED() {
    AI_STARTFACEANI(OTHER, S_SERIOUS, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_AfterUlryk_Tried_15_01");
    DIA_RIORDIAN_Q602_AFTERULRYK_NEXT();
}

instance DIA_RIORDIAN_Q602_GOODBYE(C_INFO) {
    NPC = 59649;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_GOODBYE_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_GOODBYE_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_GOODBYE_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 90369)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void RIORDIAN_Q602_CHANGERTN() {
    B_STARTOTHERROUTINE(MIL_10180_MILITIA_Q602, "Q602_SMALLTALK");
    NPC_REFRESH(MIL_10180_MILITIA_Q602);
    B_STARTOTHERROUTINE(KDW_216_INGOLF_Q602, "FOLLOW");
    NPC_REFRESH(KDW_216_INGOLF_Q602);
}

func void DIA_RIORDIAN_Q602_AMBIENT_COMMENT() {
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Goodbye_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Goodbye_03_02");
    AI_STOPPROCESSINFOS(SELF);
    AI_RESETFACEANI(SELF);
}

func void DIA_RIORDIAN_Q602_GOODBYE_INFO() {
    DIA_RIORDIAN_Q602_AMBIENT_COMMENT();
    NPC_EXCHANGEROUTINE(SELF, "Q602_SMALLTALK");
    AI_FUNCTION(SELF, 90298);
}

instance DIA_RIORDIAN_Q602_AMBIENT(C_INFO) {
    NPC = 59649;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_AMBIENT_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_AMBIENT_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_AMBIENT_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 90296)) && (NPC_ISINSTATE(SELF, 61599))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_RIORDIAN_Q602_AMBIENT_INFO() {
    DIA_RIORDIAN_Q602_AMBIENT_COMMENT();
}

