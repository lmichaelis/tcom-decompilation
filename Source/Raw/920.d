func void SQ224SEED_WORK() {
    HERO.AIVAR[4] = FALSE;
    SQ224_SEEDCOUNT = (SQ224_SEEDCOUNT) + (1);
    B_GIVEPLAYERXP(XP_SQ224_WORK);
    if ((SQ224_SEEDCOUNT) == (5)) {
        B_LOGENTRY(TOPIC_SQ224, LOG_SQ224_SEEDDONE);
    };
    AI_WAIT(HERO, 0x3f99999a);
    AI_USEMOB(HERO, NPC_GETDETECTEDMOB(HERO), -(1));
    AI_FUNCTION(HERO, 0xbf55);
}

func void SQ224SEED_WORK_REMOVESEED() {
    FF_APPLYONCEEXT(0xbf56, 30, 5);
    HERO.AIVAR[4] = FALSE;
    PLAYER_MOBSI_PRODUCTION = MOBSI_NONE;
    AI_STOPPROCESSINFOS(HERO);
}

func void SQ224SEED_WORK_REMOVESEED_APPLY() {
    SQ224SEED_WORK_REMOVESEED_COUNT = (SQ224SEED_WORK_REMOVESEED_COUNT) + (1);
    if ((SQ224SEED_WORK_REMOVESEED_COUNT) == (5)) {
        SQ224SEED_WORK_REMOVESEED_COUNT = 0;
        NPC_REMOVEINVITEMS(HERO, 0x90d8, 1);
        PRINTD("Usuwam nasiona");
    };
}

var int SQ224SEED_WORK_REMOVESEED_APPLY.SQ224SEED_WORK_REMOVESEED_COUNT = 0;
func void SQ224SEED_S1() {
    HER = HLP_GETNPC(0xc3ab);
    if ((HLP_GETINSTANCEID(SELF)) == (HLP_GETINSTANCEID(HER))) {
        if (HLP_STRCMP(NPC_GETNEARESTWP(HERO), "PART4_SQ224_SEED_01")) {
            WLD_SENDTRIGGER("MOVER_SQ224_SEED_01");
            MOB_CHANGEFOCUSNAME("SQ224_SEED_01", "MOBNAME_NOTHING");
            SQ224SEED_WORK();
        } else if (HLP_STRCMP(NPC_GETNEARESTWP(HERO), "PART4_SQ224_SEED_02")) {
            WLD_SENDTRIGGER("MOVER_SQ224_SEED_02");
            MOB_CHANGEFOCUSNAME("SQ224_SEED_02", "MOBNAME_NOTHING");
            SQ224SEED_WORK();
        } else if (HLP_STRCMP(NPC_GETNEARESTWP(HERO), "PART4_SQ224_SEED_03")) {
            WLD_SENDTRIGGER("MOVER_SQ224_SEED_03");
            MOB_CHANGEFOCUSNAME("SQ224_SEED_03", "MOBNAME_NOTHING");
            SQ224SEED_WORK();
        } else if (HLP_STRCMP(NPC_GETNEARESTWP(HERO), "PART4_SQ224_SEED_04")) {
            WLD_SENDTRIGGER("MOVER_SQ224_SEED_04");
            MOB_CHANGEFOCUSNAME("SQ224_SEED_04", "MOBNAME_NOTHING");
            SQ224SEED_WORK();
        } else if (HLP_STRCMP(NPC_GETNEARESTWP(HERO), "PART4_SQ224_SEED_05")) {
            WLD_SENDTRIGGER("MOVER_SQ224_SEED_05");
            MOB_CHANGEFOCUSNAME("SQ224_SEED_05", "MOBNAME_NOTHING");
            SQ224SEED_WORK();
        };
    };
}

instance SQ224SEED_S1.HER(C_NPC)
func void SQ224SEED_S0() {
    HERO.AIVAR[4] = FALSE;
    B_ENDPRODUCTIONDIALOG();
}

