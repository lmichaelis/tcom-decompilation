instance DIA_AMB_CITY_SLD_EXIT(C_INFO) {
    NR = 999;
    CONDITION = DIA_AMB_CITY_SLD_EXIT_CONDITION;
    INFORMATION = DIA_AMB_CITY_SLD_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_AMB_CITY_SLD_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_AMB_CITY_SLD_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_AMB_CITY_SLD_HOWTOJOIN(C_INFO) {
    NR = 1;
    CONDITION = DIA_AMB_CITY_SLD_HOWTOJOIN_CONDITION;
    INFORMATION = DIA_AMB_CITY_SLD_HOWTOJOIN_INFO;
    PERMANENT = TRUE;
    IMPORTANT = FALSE;
    DESCRIPTION = "What should I do to join the mercenaries?";
}

func int DIA_AMB_CITY_SLD_HOWTOJOIN_CONDITION() {
    if ((KAPITEL) == (2)) {
        if (((HERO.GUILD) != (GIL_MIL)) && ((HERO.GUILD) != (GIL_SLD))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_AMB_CITY_SLD_HOWTOJOIN_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    B_SAY(OTHER, SELF, "$MARVIN_TellMeAboutJoiningSLD");
    if ((((SELF.VOICE) == (37)) || ((SELF.VOICE) == (49))) || ((SELF.VOICE) == (72))) {
        B_SAY(SELF, OTHER, "$AMB_MERCARAXOS_HOWTOJOIN_V1_01");
        AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_MERCARAXOS_HOWTOJOIN_V1_02");
    };
    if ((((SELF.VOICE) == (25)) || ((SELF.VOICE) == (67))) || ((SELF.VOICE) == (59))) {
        AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_MERCARAXOS_HOWTOJOIN_V2_01");
        AI_RESETFACEANI(SELF);
        B_SAY(SELF, OTHER, "$AMB_MERCARAXOS_HOWTOJOIN_V2_02");
    };
    if (((SELF.VOICE) == (28)) || ((SELF.VOICE) == (64))) {
        AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_MERCARAXOS_HOWTOJOIN_V3_01");
        B_SAY(SELF, OTHER, "$AMB_MERCARAXOS_HOWTOJOIN_V3_02");
    };
    AI_RESETFACEANI(OTHER);
    AI_RESETFACEANI(SELF);
}

instance DIA_AMB_CITY_SLD_ABOUTGUILD(C_INFO) {
    NR = 2;
    CONDITION = DIA_AMB_CITY_SLD_ABOUTGUILD_CONDITION;
    INFORMATION = DIA_AMB_CITY_SLD_ABOUTGUILD_INFO;
    PERMANENT = TRUE;
    IMPORTANT = FALSE;
    DESCRIPTION = "What can you tell me about the Guild's mercenaries?";
}

func int DIA_AMB_CITY_SLD_ABOUTGUILD_CONDITION() {
    return TRUE;
}

func void DIA_AMB_CITY_SLD_ABOUTGUILD_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    B_SAY(OTHER, SELF, "$MARVIN_TellMeAboutSLD");
    if ((((SELF.VOICE) == (37)) || ((SELF.VOICE) == (49))) || ((SELF.VOICE) == (72))) {
        B_SAY(SELF, OTHER, "$AMB_MERCARAXOS_ABOUTMERC_V1_01");
        if ((LOG_GETSTATUS(MIS_QA401)) == (0)) {
            B_SAY(SELF, OTHER, "$AMB_MERCARAXOS_ABOUTMERC_V1_02");
        };
    };
    if ((((SELF.VOICE) == (25)) || ((SELF.VOICE) == (67))) || ((SELF.VOICE) == (59))) {
        B_SAY(SELF, OTHER, "$AMB_MERCARAXOS_ABOUTMERC_V2_01");
        AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_MERCARAXOS_ABOUTMERC_V2_02");
    };
    if (((SELF.VOICE) == (28)) || ((SELF.VOICE) == (64))) {
        AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_MERCARAXOS_ABOUTMERC_V3_01");
        B_SAY(SELF, OTHER, "$AMB_MERCARAXOS_ABOUTMERC_V3_02");
    };
    AI_RESETFACEANI(OTHER);
    AI_RESETFACEANI(SELF);
}

instance DIA_AMB_CITY_SLD_LORENZO(C_INFO) {
    NR = 3;
    CONDITION = DIA_AMB_CITY_SLD_LORENZO_CONDITION;
    INFORMATION = DIA_AMB_CITY_SLD_LORENZO_INFO;
    PERMANENT = TRUE;
    IMPORTANT = FALSE;
    DESCRIPTION = "Tell me about Lorenzo.";
}

func int DIA_AMB_CITY_SLD_LORENZO_CONDITION() {
    return TRUE;
}

func void DIA_AMB_CITY_SLD_LORENZO_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    B_SAY(OTHER, SELF, "$MARVIN_OpinionAboutLorenzo");
    if ((((SELF.VOICE) == (37)) || ((SELF.VOICE) == (49))) || ((SELF.VOICE) == (72))) {
        AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_MERCARAXOS_ABOUTLORENZO_V1_01");
        B_SAY(SELF, OTHER, "$AMB_MERCARAXOS_ABOUTLORENZO_V1_02");
    };
    if ((((SELF.VOICE) == (25)) || ((SELF.VOICE) == (67))) || ((SELF.VOICE) == (59))) {
        AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_MERCARAXOS_ABOUTLORENZO_V2_01");
        AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_MERCARAXOS_ABOUTLORENZO_V2_02");
    };
    if (((SELF.VOICE) == (28)) || ((SELF.VOICE) == (64))) {
        AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_MERCARAXOS_ABOUTLORENZO_V3_01");
        B_SAY(SELF, OTHER, "$AMB_MERCARAXOS_ABOUTLORENZO_V3_02");
    };
    AI_RESETFACEANI(OTHER);
    AI_RESETFACEANI(SELF);
}

func void B_ASSIGNAMBIENTINFOS_AMB_CITY_SLD(var C_NPC SLF) {
    DIA_AMB_CITY_SLD_EXIT.NPC = HLP_GETINSTANCEID(SLF);
    DIA_AMB_CITY_SLD_HOWTOJOIN.NPC = HLP_GETINSTANCEID(SLF);
    DIA_AMB_CITY_SLD_ABOUTGUILD.NPC = HLP_GETINSTANCEID(SLF);
    DIA_AMB_CITY_SLD_LORENZO.NPC = HLP_GETINSTANCEID(SLF);
}

