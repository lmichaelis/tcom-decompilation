func void Q602_FIRSTCUTSCENE_WOLFSSONATTACK() {
    B_STARTOTHERROUTINE(DJG_10047_WOLFSON_Q602, "Q602_FIGHT");
    NPC_REFRESH(DJG_10047_WOLFSON_Q602);
    DJG_10047_WOLFSON_Q602.FLAGS = 0;
    DJG_10047_WOLFSON_Q602.AIVAR[52] = TRUE;
    DJG_10047_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(HERO, HERO.GUILD);
    B_IMMEDIATEATTACKPLAYER(DJG_10047_WOLFSON_Q602, AR_KILL);
    NPC_SETTRUEGUILD(DJG_10047_WOLFSON_Q602, GIL_BDT);
}

func void Q602_KUNOKILLSLEON() {
    AI_DRAWWEAPON(VLK_61270_KUNO_Q602);
    SND_PLAY("FIG_SwordFinal");
    SND_PLAY("SVM_1_DEAD");
    B_SAY(VLK_61270_KUNO_Q602, HERO, "$KUNO_KILLSLEON");
    B_KILLNPC(0xeadb);
}

func void Q602_ARAXOSVOLKERFIGHT() {
    PRINTD("Zmiana gildi dla ludzi lichwiarza!");
    NONE_10055_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10055_VOLKERGUARD_Q602, GIL_BDT);
    NONE_10056_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10056_VOLKERGUARD_Q602, GIL_BDT);
    NONE_10057_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10057_VOLKERGUARD_Q602, GIL_BDT);
    NONE_10058_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10058_VOLKERGUARD_Q602, GIL_BDT);
    NONE_10059_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10059_VOLKERGUARD_Q602, GIL_BDT);
    NONE_10060_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10060_VOLKERGUARD_Q602, GIL_BDT);
    NONE_10061_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(HERO, HERO.GUILD);
}

func void Q602_LORENZOBODY() {
    Q602_LORENZOISDEAD = TRUE;
    FF_APPLYONCEEXTGT(0xeeb3, 0, -(1));
}

func void Q602_LORENZOBODY_APPLY() {
    if ((Q602_LORENZOBODY_COUNT) == (0)) {
        PRINTD("Rozpoczynam - Q602_LorenzoBody_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("KM_Q602_LORENZOBODY");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        CHANGEVOBCOLLISION("CORPSE_LORENZO", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("KM_Q602_LORENZOBODY");
        Q602_LORENZOBODY_COUNT = 1;
    };
    if (((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Sko刃zy쓴m - Q602_LorenzoBody_Apply");
        CHANGEVOBCOLLISION("CORPSE_LORENZO", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xeeb3);
        Q602_LORENZOBODY_COUNT = 0;
    };
}

var int Q602_LORENZOBODY_APPLY.Q602_LORENZOBODY_COUNT = 0;
instance Q602_LORENZOBODY_APPLY.MOVER1(ZCMOVER)
var int Q602_LORENZOBODY_APPLY.MOVPTR1 = 0;
func void Q602_SPAWNBRADLOCKANDHOMIES() {
    WLD_INSERTNPC(0xea15, "PARTM1_GUILDHOUSE_BRADLOCK");
    WLD_INSERTNPC(0xe9b2, "PARTM1_GUILDHOUSE_BRADLOCK_MAN_01");
    WLD_INSERTNPC(0xe9b5, "PARTM1_GUILDHOUSE_BRADLOCK_MAN_02");
}

func void Q602_KILLBRADLOCKANDHOMIES() {
    B_KILLNPC(0xea15);
    B_KILLNPC(0xe9b2);
    B_KILLNPC(0xe9b5);
}

func void Q602_BRADLOCKFIGHT() {
    Q602_FIGHTWITHBRADLOCK = 1;
    NONE_2246_BRADLOCK_Q602.FLAGS = 0;
    NONE_2246_BRADLOCK_Q602.AIVAR[52] = TRUE;
    NONE_2246_BRADLOCK_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_2246_BRADLOCK_Q602, GIL_BDT);
    NONE_10062_VOLKERGUARD_Q602.FLAGS = 0;
    NONE_10062_VOLKERGUARD_Q602.AIVAR[52] = TRUE;
    NONE_10062_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10062_VOLKERGUARD_Q602, GIL_BDT);
    B_STARTOTHERROUTINE(NONE_10062_VOLKERGUARD_Q602, "Q602_FIGHT");
    NONE_10063_VOLKERGUARD_Q602.FLAGS = 0;
    NONE_10063_VOLKERGUARD_Q602.AIVAR[52] = TRUE;
    NONE_10063_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10063_VOLKERGUARD_Q602, GIL_BDT);
    B_STARTOTHERROUTINE(NONE_10063_VOLKERGUARD_Q602, "Q602_FIGHT");
    if ((NPC_GETDISTTONPC(SLD_10000_ADELARD_Q602, HERO)) >= (1000)) {
        Q602_NEEDADELARDHELP = 1;
        TELEPORTNPCTOWP(0xea5a, "PARTM1_PATH_69");
        B_STARTOTHERROUTINE(SLD_10000_ADELARD_Q602, "Q602_HELPWITHBRADLOCK");
        NPC_REFRESH(SLD_10000_ADELARD_Q602);
    };
    B_STARTOTHERROUTINE(SLD_10000_ADELARD_Q602, "Q602_RUNTOLORENZO");
    NPC_REFRESH(SLD_10000_ADELARD_Q602);
    NPC_SETTRUEGUILD(HERO, HERO.GUILD);
    B_IMMEDIATEATTACKPLAYER(NONE_2246_BRADLOCK_Q602, AR_KILL);
    B_IMMEDIATEATTACKPLAYER(NONE_10062_VOLKERGUARD_Q602, AR_KILL);
    B_IMMEDIATEATTACKPLAYER(NONE_10063_VOLKERGUARD_Q602, AR_KILL);
}

func void Q602_DIMACUTSCENE_FIGHT() {
    PRINTD("Walka!");
    NONE_10064_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10064_VOLKERGUARD_Q602, GIL_BDT);
    NONE_10064_VOLKERGUARD_Q602.FLAGS = 0;
    NONE_10065_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10065_VOLKERGUARD_Q602, GIL_BDT);
    NONE_10065_VOLKERGUARD_Q602.FLAGS = 0;
    NONE_10066_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10066_VOLKERGUARD_Q602, GIL_BDT);
    NONE_10066_VOLKERGUARD_Q602.FLAGS = 0;
    SLD_5001_DIMA_Q602.FLAGS = 0;
    SLD_1017_ARAXOS_Q602.FLAGS = 0;
    B_ATTACK(SLD_1017_ARAXOS_Q602, NONE_10066_VOLKERGUARD_Q602, AR_KILL, 1);
    B_ATTACK(SLD_5001_DIMA_Q602, NONE_10065_VOLKERGUARD_Q602, AR_KILL, 1);
    NPC_SETTRUEGUILD(HERO, HERO.GUILD);
}

func void Q602_DIMACUTSCENE_CHANGERTN() {
    PRINTD("Zmiana rutyn");
    B_STARTOTHERROUTINE(SLD_5001_DIMA_Q602, "Q602_FIGHT");
    NPC_REFRESH(SLD_5001_DIMA_Q602);
    B_STARTOTHERROUTINE(SLD_1017_ARAXOS_Q602, "Q602_FIGHT");
    NPC_REFRESH(SLD_1017_ARAXOS_Q602);
    B_STARTOTHERROUTINE(NONE_10064_VOLKERGUARD_Q602, "Q602_FIGHT");
    NPC_REFRESH(NONE_10064_VOLKERGUARD_Q602);
    B_STARTOTHERROUTINE(NONE_10065_VOLKERGUARD_Q602, "Q602_FIGHT");
    NPC_REFRESH(NONE_10065_VOLKERGUARD_Q602);
    B_STARTOTHERROUTINE(NONE_10066_VOLKERGUARD_Q602, "Q602_FIGHT");
    NPC_REFRESH(NONE_10066_VOLKERGUARD_Q602);
}

func void Q602_HOMELESSBODY() {
    FF_APPLYONCEEXTGT(0xeebd, 0, -(1));
    MOB_CREATEITEMS("Q602_BESTHOMELESS", 0x859b, Q602_HOMELESSDUDE_COUNTGOLD);
}

func void Q602_HOMELESSBODY_APPLY() {
    if ((Q602_HOMELESSBODY_COUNT) == (0)) {
        PRINTD("Rozpoczynam - Q602_HomelessBody_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("Q602_MOVER_BESTHOMELESS");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        CHANGEVOBCOLLISION("Q602_BESTHOMELESS", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("Q602_MOVER_BESTHOMELESS");
        Q602_HOMELESSBODY_COUNT = 1;
    };
    if (((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Sko刃zy쓴m - Q602_HomelessBody_Apply");
        CHANGEVOBCOLLISION("Q602_BESTHOMELESS", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xeebd);
        Q602_HOMELESSBODY_COUNT = 0;
    };
}

var int Q602_HOMELESSBODY_APPLY.Q602_HOMELESSBODY_COUNT = 0;
instance Q602_HOMELESSBODY_APPLY.MOVER1(ZCMOVER)
var int Q602_HOMELESSBODY_APPLY.MOVPTR1 = 0;
func void Q602_CARAMONBODY() {
    if ((MARVIN_ARAXOS_WHEREJOINED) == (1)) {
        if ((CARAMON_TIERARMOR) == (1)) {
            FF_APPLYONCEEXTGT(0xeec6, 0, -(1));
        } else if ((CARAMON_TIERARMOR) == (2)) {
            FF_APPLYONCEEXTGT(0xeeca, 0, -(1));
        } else {
            FF_APPLYONCEEXTGT(0xeec2, 0, -(1));
        } else {
            /* set_instance(0) */;
        };
    };
    if ((MARVIN_ARAXOS_WHEREJOINED) == (2)) {
        if ((CARAMON_TIERARMOR) == (3)) {
            FF_APPLYONCEEXTGT(0xeece, 0, -(1));
        } else if ((CARAMON_TIERARMOR) == (4)) {
            FF_APPLYONCEEXTGT(0xeed2, 0, -(1));
        } else {
            FF_APPLYONCEEXTGT(0xeec2, 0, -(1));
        } else {
            /* set_instance(0) */;
        };
    };
    FF_APPLYONCEEXTGT(0xeec2, 0, -(1));
}

func void Q602_CARAMONBODY_APPLY() {
    if ((Q602_CARAMONBODY_COUNT) == (0)) {
        PRINTD("Rozpoczynam - Q602_CaramonBody_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("KM_Q602_CARAMONBODY");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        CHANGEVOBCOLLISION("CORPSE_CARAMON", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("KM_Q602_CARAMONBODY");
        Q602_CARAMONBODY_COUNT = 1;
    };
    if (((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Sko刃zy쓴m - Q602_CaramonBody_Apply");
        CHANGEVOBCOLLISION("CORPSE_CARAMON", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xeec2);
        Q602_CARAMONBODY_COUNT = 0;
    };
}

var int Q602_CARAMONBODY_APPLY.Q602_CARAMONBODY_COUNT = 0;
instance Q602_CARAMONBODY_APPLY.MOVER1(ZCMOVER)
var int Q602_CARAMONBODY_APPLY.MOVPTR1 = 0;
func void Q602_CARAMONBODY_APPLY_W1() {
    if ((Q602_CARAMONBODY_COUNT_W1) == (0)) {
        PRINTD("Rozpoczynam - Q602_CaramonBody_W1_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("KM_Q602_CARAMONBODY_W1");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        CHANGEVOBCOLLISION("CORPSE_CARAMON_W1", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("KM_Q602_CARAMONBODY_W1");
        Q602_CARAMONBODY_COUNT_W1 = 1;
    };
    if (((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Sko刃zy쓴m - Q602_CaramonBody_Apply_W1");
        CHANGEVOBCOLLISION("CORPSE_CARAMON_W1", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xeec6);
        Q602_CARAMONBODY_COUNT_W1 = 0;
    };
}

var int Q602_CARAMONBODY_APPLY_W1.Q602_CARAMONBODY_COUNT_W1 = 0;
instance Q602_CARAMONBODY_APPLY_W1.MOVER1(ZCMOVER)
var int Q602_CARAMONBODY_APPLY_W1.MOVPTR1 = 0;
func void Q602_CARAMONBODY_APPLY_W2() {
    if ((Q602_CARAMONBODY_COUNT_W2) == (0)) {
        PRINTD("Rozpoczynam - Q602_CaramonBody_W2_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("KM_Q602_CARAMONBODY_W2");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        CHANGEVOBCOLLISION("CORPSE_CARAMON_W2", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("KM_Q602_CARAMONBODY_W2");
        Q602_CARAMONBODY_COUNT_W2 = 1;
    };
    if (((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Sko刃zy쓴m - Q602_CaramonBody_Apply_W2");
        CHANGEVOBCOLLISION("CORPSE_CARAMON_W2", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xeeca);
        Q602_CARAMONBODY_COUNT_W2 = 0;
    };
}

var int Q602_CARAMONBODY_APPLY_W2.Q602_CARAMONBODY_COUNT_W2 = 0;
instance Q602_CARAMONBODY_APPLY_W2.MOVER1(ZCMOVER)
var int Q602_CARAMONBODY_APPLY_W2.MOVPTR1 = 0;
func void Q602_CARAMONBODY_APPLY_H1() {
    if ((Q602_CARAMONBODY_COUNT_H1) == (0)) {
        PRINTD("Rozpoczynam - Q602_CaramonBody_H1_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("KM_Q602_CARAMONBODY_H1");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        CHANGEVOBCOLLISION("CORPSE_CARAMON_H1", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("KM_Q602_CARAMONBODY_H1");
        Q602_CARAMONBODY_COUNT_H1 = 1;
    };
    if (((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Sko刃zy쓴m - Q602_CaramonBody_Apply_H1");
        CHANGEVOBCOLLISION("CORPSE_CARAMON_H1", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xeece);
        Q602_CARAMONBODY_COUNT_H1 = 0;
    };
}

var int Q602_CARAMONBODY_APPLY_H1.Q602_CARAMONBODY_COUNT_H1 = 0;
instance Q602_CARAMONBODY_APPLY_H1.MOVER1(ZCMOVER)
var int Q602_CARAMONBODY_APPLY_H1.MOVPTR1 = 0;
func void Q602_CARAMONBODY_APPLY_H2() {
    if ((Q602_CARAMONBODY_COUNT_H2) == (0)) {
        PRINTD("Rozpoczynam - Q602_CaramonBody_H2_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("KM_Q602_CARAMONBODY_H2");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        CHANGEVOBCOLLISION("CORPSE_CARAMON_H2", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("KM_Q602_CARAMONBODY_H2");
        Q602_CARAMONBODY_COUNT_H2 = 1;
    };
    if (((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Sko刃zy쓴m - Q602_CaramonBody_Apply_H2");
        CHANGEVOBCOLLISION("CORPSE_CARAMON_H2", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xeed2);
        Q602_CARAMONBODY_COUNT_H2 = 0;
    };
}

var int Q602_CARAMONBODY_APPLY_H2.Q602_CARAMONBODY_COUNT_H2 = 0;
instance Q602_CARAMONBODY_APPLY_H2.MOVER1(ZCMOVER)
var int Q602_CARAMONBODY_APPLY_H2.MOVPTR1 = 0;
func void Q602_SILVESTRFIGHT() {
    NONE_10071_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10071_VOLKERGUARD_Q602, GIL_BDT);
    NONE_10071_VOLKERGUARD_Q602.FLAGS = 0;
    NONE_10072_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10072_VOLKERGUARD_Q602, GIL_BDT);
    NONE_10072_VOLKERGUARD_Q602.FLAGS = 0;
    NONE_10073_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10073_VOLKERGUARD_Q602, GIL_BDT);
    NONE_10073_VOLKERGUARD_Q602.FLAGS = 0;
    NPC_SETTRUEGUILD(HERO, HERO.GUILD);
}

func void Q602_CHANGEGUILD_V1() {
    PRINTD("Zmiana gildi i rtn!");
    NONE_10074_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10074_VOLKERGUARD_Q602, GIL_BDT);
    NONE_10074_VOLKERGUARD_Q602.FLAGS = 0;
    NONE_10075_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10075_VOLKERGUARD_Q602, GIL_BDT);
    NONE_10075_VOLKERGUARD_Q602.FLAGS = 0;
    B_STARTOTHERROUTINE(KDF_9004_TENGRAL_Q602, "Q602_FIGHT");
    B_STARTOTHERROUTINE(NONE_10074_VOLKERGUARD_Q602, "Q602_FIGHT");
    B_STARTOTHERROUTINE(NONE_10075_VOLKERGUARD_Q602, "Q602_FIGHT");
    NPC_SETTRUEGUILD(HERO, HERO.GUILD);
}

func void Q602_CHANGECITIZENFROMCHURCHRTN() {
    Q602_GUIDECITIZEN = TRUE;
    VLK_10076_CITIZEN_Q602.FLAGS = 0;
    VLK_6300_GROEN_Q602.FLAGS = 0;
    VLK_10079_CITIZEN_Q602.FLAGS = 0;
    VLK_10077_CITIZEN_Q602.FLAGS = 0;
    VLK_10078_CITIZEN_Q602.FLAGS = 0;
    VLK_10080_CITIZEN_Q602.FLAGS = 0;
    VLK_10076_CITIZEN_Q602.AIVAR[15] = TRUE;
    VLK_6300_GROEN_Q602.AIVAR[15] = TRUE;
    VLK_10079_CITIZEN_Q602.AIVAR[15] = TRUE;
    VLK_10077_CITIZEN_Q602.AIVAR[15] = TRUE;
    VLK_10078_CITIZEN_Q602.AIVAR[15] = TRUE;
    VLK_10080_CITIZEN_Q602.AIVAR[15] = TRUE;
    if (!(NPC_ISDEAD(VLK_10076_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10076_CITIZEN_Q602, "Q602_FOLLOW");
        NPC_REFRESH(VLK_10076_CITIZEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_6300_GROEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_6300_GROEN_Q602, "Q602_FOLLOW");
        NPC_REFRESH(VLK_6300_GROEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_10079_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10079_CITIZEN_Q602, "Q602_FOLLOW");
        NPC_REFRESH(VLK_10079_CITIZEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_10077_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10077_CITIZEN_Q602, "Q602_FOLLOW");
        NPC_REFRESH(VLK_10077_CITIZEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_10078_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10078_CITIZEN_Q602, "Q602_FOLLOW");
        NPC_REFRESH(VLK_10078_CITIZEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_10080_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10080_CITIZEN_Q602, "Q602_FOLLOW");
        NPC_REFRESH(VLK_10080_CITIZEN_Q602);
    };
}

func void Q602_CHANGECITIZENFROMCHURCHRTN_V2() {
    if (!(NPC_ISDEAD(VLK_10076_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10076_CITIZEN_Q602, "Q602_WAIT");
        NPC_REFRESH(VLK_10076_CITIZEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_6300_GROEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_6300_GROEN_Q602, "Q602_WAIT");
        NPC_REFRESH(VLK_6300_GROEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_10079_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10079_CITIZEN_Q602, "Q602_WAIT");
        NPC_REFRESH(VLK_10079_CITIZEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_10077_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10077_CITIZEN_Q602, "Q602_WAIT");
        NPC_REFRESH(VLK_10077_CITIZEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_10078_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10078_CITIZEN_Q602, "Q602_WAIT");
        NPC_REFRESH(VLK_10078_CITIZEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_10080_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10080_CITIZEN_Q602, "Q602_WAIT");
        NPC_REFRESH(VLK_10080_CITIZEN_Q602);
    };
}

func void Q602_CHANGECITIZENFROMCHURCHRTN_V3() {
    if (!(NPC_ISDEAD(VLK_10076_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10076_CITIZEN_Q602, "Q602_BARRACK_WAIT");
        NPC_REFRESH(VLK_10076_CITIZEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_6300_GROEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_6300_GROEN_Q602, "Q602_BARRACK_WAIT");
        NPC_REFRESH(VLK_6300_GROEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_10079_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10079_CITIZEN_Q602, "Q602_BARRACK_WAIT");
        NPC_REFRESH(VLK_10079_CITIZEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_10077_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10077_CITIZEN_Q602, "Q602_BARRACK_WAIT");
        NPC_REFRESH(VLK_10077_CITIZEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_10078_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10078_CITIZEN_Q602, "Q602_BARRACK_WAIT");
        NPC_REFRESH(VLK_10078_CITIZEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_10080_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10080_CITIZEN_Q602, "Q602_BARRACK_WAIT");
        NPC_REFRESH(VLK_10080_CITIZEN_Q602);
    };
}

func void Q602_CHANGECITIZENFROMCHURCHRTN_V4() {
    if (!(NPC_ISDEAD(VLK_10076_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10076_CITIZEN_Q602, "Q602_BARRACK");
        NPC_REFRESH(VLK_10076_CITIZEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_6300_GROEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_6300_GROEN_Q602, "Q602_BARRACK");
        NPC_REFRESH(VLK_6300_GROEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_10079_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10079_CITIZEN_Q602, "Q602_BARRACK");
        NPC_REFRESH(VLK_10079_CITIZEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_10077_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10077_CITIZEN_Q602, "Q602_BARRACK");
        NPC_REFRESH(VLK_10077_CITIZEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_10078_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10078_CITIZEN_Q602, "Q602_BARRACK");
        NPC_REFRESH(VLK_10078_CITIZEN_Q602);
    };
    if (!(NPC_ISDEAD(VLK_10080_CITIZEN_Q602))) {
        B_STARTOTHERROUTINE(VLK_10080_CITIZEN_Q602, "Q602_BARRACK");
        NPC_REFRESH(VLK_10080_CITIZEN_Q602);
    };
}

func void Q602_VOLKERGUARDSBODY_V1() {
    FF_APPLYONCEEXTGT(0xeedd, 0, -(1));
}

func void Q602_VOLKERGUARDSBODY_V1_APPLY() {
    if ((Q602_VOLKERGUARDSBODY_V1_COUNT) == (0)) {
        PRINTD("Rozpoczynam - Q602_VolkerGuardsBody_V1_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("KM_PARTE3_VOLKERGUARD_01");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        MOVPTR2 = MEM_SEARCHVOBBYNAME("KM_PARTE3_VOLKERGUARD_02");
        MOVER2 = MEM_PTRTOINST(MOVPTR2);
        MOVPTR3 = MEM_SEARCHVOBBYNAME("KM_PARTE3_VOLKERGUARD_03");
        MOVER3 = MEM_PTRTOINST(MOVPTR3);
        CHANGEVOBCOLLISION("CORPSE_VOLKERGUARD_01", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("CORPSE_VOLKERGUARD_02", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("CORPSE_VOLKERGUARD_03", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("KM_PARTE3_VOLKERGUARD_01");
        WLD_SENDTRIGGER("KM_PARTE3_VOLKERGUARD_02");
        WLD_SENDTRIGGER("KM_PARTE3_VOLKERGUARD_03");
        Q602_VOLKERGUARDSBODY_V1_COUNT = 1;
    };
    if (((((((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER3.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER3.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Sko刃zy쓴m - Q602_VolkerGuardsBody_V1_Apply");
        CHANGEVOBCOLLISION("CORPSE_VOLKERGUARD_01", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("CORPSE_VOLKERGUARD_02", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("CORPSE_VOLKERGUARD_03", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xeedd);
        Q602_VOLKERGUARDSBODY_V1_COUNT = 0;
    };
}

var int Q602_VOLKERGUARDSBODY_V1_APPLY.Q602_VOLKERGUARDSBODY_V1_COUNT = 0;
instance Q602_VOLKERGUARDSBODY_V1_APPLY.MOVER1(ZCMOVER)
instance Q602_VOLKERGUARDSBODY_V1_APPLY.MOVER2(ZCMOVER)
instance Q602_VOLKERGUARDSBODY_V1_APPLY.MOVER3(ZCMOVER)
var int Q602_VOLKERGUARDSBODY_V1_APPLY.MOVPTR1 = 0;
var int Q602_VOLKERGUARDSBODY_V1_APPLY.MOVPTR2 = 0;
var int Q602_VOLKERGUARDSBODY_V1_APPLY.MOVPTR3 = 0;
func void Q602_FIGHTWITHBLAKE() {
    PRINTD("Walka");
    Q602_BLOCKYOURPATHFIGHT_CHECK = 1;
    if (HLP_ISVALIDNPC(NONE_6410_BLAKE_Q602)) {
        if (!(NPC_ISDEAD(NONE_6410_BLAKE_Q602))) {
            NONE_6410_BLAKE_Q602.GUILD = GIL_BDT;
            NPC_SETTRUEGUILD(NONE_6410_BLAKE_Q602, GIL_BDT);
            NONE_6410_BLAKE_Q602.FLAGS = 0;
            B_IMMEDIATEATTACKPLAYER(NONE_6410_BLAKE_Q602, AR_KILL);
            if ((NPC_ISINSTATE(NONE_6410_BLAKE_Q602, 0xf09f)) == (FALSE)) {
                B_STARTOTHERROUTINE(NONE_6410_BLAKE_Q602, "FIGHT");
                NPC_REFRESH(NONE_6410_BLAKE_Q602);
                AI_TURNTONPC(NONE_6410_BLAKE_Q602, HERO);
            } else {
                NPC_EXCHANGEROUTINE(NONE_6410_BLAKE_Q602, "START");
            };
        };
    };
    if (HLP_ISVALIDNPC(NONE_6411_HASMETH_Q602)) {
        if (!(NPC_ISDEAD(NONE_6411_HASMETH_Q602))) {
            NONE_6411_HASMETH_Q602.GUILD = GIL_BDT;
            NPC_SETTRUEGUILD(NONE_6411_HASMETH_Q602, GIL_BDT);
            NONE_6411_HASMETH_Q602.FLAGS = 0;
            B_IMMEDIATEATTACKPLAYER(NONE_6411_HASMETH_Q602, AR_KILL);
            B_STARTOTHERROUTINE(NONE_6411_HASMETH_Q602, "FIGHT");
            NPC_REFRESH(NONE_6411_HASMETH_Q602);
            AI_TURNTONPC(NONE_6411_HASMETH_Q602, HERO);
        };
    };
    if (HLP_ISVALIDNPC(NONE_6412_THULSA_Q602)) {
        if (!(NPC_ISDEAD(NONE_6412_THULSA_Q602))) {
            NONE_6412_THULSA_Q602.GUILD = GIL_BDT;
            NPC_SETTRUEGUILD(NONE_6412_THULSA_Q602, GIL_BDT);
            NONE_6412_THULSA_Q602.FLAGS = 0;
            B_IMMEDIATEATTACKPLAYER(NONE_6412_THULSA_Q602, AR_KILL);
            B_STARTOTHERROUTINE(NONE_6412_THULSA_Q602, "FIGHT");
            NPC_REFRESH(NONE_6412_THULSA_Q602);
            AI_TURNTONPC(NONE_6412_THULSA_Q602, HERO);
        };
    };
    NPC_SETTRUEGUILD(HERO, HERO.GUILD);
}

func void Q602_FIGHTWITHVOLKERMAN_ATBLAKEPLACE() {
    PRINTD("Walka");
    Q602_BLOCKYOURPATHFIGHT_CHECK = 1;
    if (HLP_ISVALIDNPC(NONE_10083_VOLKERGUARD_Q602)) {
        if (!(NPC_ISDEAD(NONE_10083_VOLKERGUARD_Q602))) {
            NONE_10083_VOLKERGUARD_Q602.GUILD = GIL_BDT;
            NPC_SETTRUEGUILD(NONE_10083_VOLKERGUARD_Q602, GIL_BDT);
            NONE_10083_VOLKERGUARD_Q602.FLAGS = 0;
            B_IMMEDIATEATTACKPLAYER(NONE_10083_VOLKERGUARD_Q602, AR_KILL);
            B_STARTOTHERROUTINE(NONE_10083_VOLKERGUARD_Q602, "FIGHT");
            NPC_REFRESH(NONE_10083_VOLKERGUARD_Q602);
            AI_TURNTONPC(NONE_10083_VOLKERGUARD_Q602, HERO);
        };
    };
    if (HLP_ISVALIDNPC(NONE_10084_VOLKERGUARD_Q602)) {
        if (!(NPC_ISDEAD(NONE_10084_VOLKERGUARD_Q602))) {
            NONE_10084_VOLKERGUARD_Q602.GUILD = GIL_BDT;
            NPC_SETTRUEGUILD(NONE_10084_VOLKERGUARD_Q602, GIL_BDT);
            NONE_10084_VOLKERGUARD_Q602.FLAGS = 0;
            B_IMMEDIATEATTACKPLAYER(NONE_10084_VOLKERGUARD_Q602, AR_KILL);
            B_STARTOTHERROUTINE(NONE_10084_VOLKERGUARD_Q602, "FIGHT");
            NPC_REFRESH(NONE_10084_VOLKERGUARD_Q602);
            AI_TURNTONPC(NONE_10084_VOLKERGUARD_Q602, HERO);
        };
    };
    if (HLP_ISVALIDNPC(NONE_10085_VOLKERGUARD_Q602)) {
        if (!(NPC_ISDEAD(NONE_10085_VOLKERGUARD_Q602))) {
            NONE_10085_VOLKERGUARD_Q602.GUILD = GIL_BDT;
            NPC_SETTRUEGUILD(NONE_10085_VOLKERGUARD_Q602, GIL_BDT);
            NONE_10085_VOLKERGUARD_Q602.FLAGS = 0;
            B_IMMEDIATEATTACKPLAYER(NONE_10085_VOLKERGUARD_Q602, AR_KILL);
            B_STARTOTHERROUTINE(NONE_10085_VOLKERGUARD_Q602, "FIGHT");
            NPC_REFRESH(NONE_10085_VOLKERGUARD_Q602);
            AI_TURNTONPC(NONE_10085_VOLKERGUARD_Q602, HERO);
        };
    };
    NPC_SETTRUEGUILD(HERO, HERO.GUILD);
}

func void Q602_REMOVESALLTEAM() {
    if ((Q602_HELPSALL) == (0)) {
        if (!(NPC_ISDEAD(MIL_4044_SALL_Q602))) {
            B_REMOVENPC(0xe98d);
        };
        if (!(NPC_ISDEAD(MIL_4048_MILITIA_Q602))) {
            B_REMOVENPC(0xe998);
        };
        if (!(NPC_ISDEAD(MIL_4049_MILITIA_Q602))) {
            B_REMOVENPC(0xe99d);
        };
    };
}

func void Q602_RUUDBODY() {
    FF_APPLYONCEEXTGT(0xeee9, 0, -(1));
}

func void Q602_RUUDBODY_APPLY() {
    if ((Q602_RUUDBODY_COUNT) == (0)) {
        PRINTD("Rozpoczynam - Q602_RuudBody_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("Q602_CORPSE_RUUD");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        CHANGEVOBCOLLISION("CORPSE_RUUD", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("Q602_CORPSE_RUUD");
        Q602_RUUDBODY_COUNT = 1;
    };
    if (((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Sko刃zy쓴m - Q602_RuudBody_Apply");
        CHANGEVOBCOLLISION("CORPSE_RUUD", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xeee9);
        Q602_RUUDBODY_COUNT = 0;
    };
}

var int Q602_RUUDBODY_APPLY.Q602_RUUDBODY_COUNT = 0;
instance Q602_RUUDBODY_APPLY.MOVER1(ZCMOVER)
var int Q602_RUUDBODY_APPLY.MOVPTR1 = 0;
func void Q602_FIGHTWITHYEZEGAN() {
    PRINTD("Walka");
    Q602_YEZEGANFIGHTSTATE = 1;
    if (HLP_ISVALIDNPC(DJG_10002_YEZEGAN_Q602)) {
        if (!(NPC_ISDEAD(DJG_10002_YEZEGAN_Q602))) {
            NPC_REFRESH(DJG_10002_YEZEGAN_Q602);
            DJG_10002_YEZEGAN_Q602.GUILD = GIL_BDT;
            NPC_SETTRUEGUILD(DJG_10002_YEZEGAN_Q602, GIL_BDT);
            B_IMMEDIATEATTACKPLAYER(DJG_10002_YEZEGAN_Q602, AR_KILL);
            AI_TURNTONPC(DJG_10002_YEZEGAN_Q602, HERO);
        };
    };
    if (HLP_ISVALIDNPC(DJG_10089_WOLFSON_Q602)) {
        if (!(NPC_ISDEAD(DJG_10089_WOLFSON_Q602))) {
            NPC_REFRESH(DJG_10089_WOLFSON_Q602);
            DJG_10089_WOLFSON_Q602.GUILD = GIL_BDT;
            NPC_SETTRUEGUILD(DJG_10089_WOLFSON_Q602, GIL_BDT);
            B_IMMEDIATEATTACKPLAYER(DJG_10089_WOLFSON_Q602, AR_KILL);
            AI_TURNTONPC(DJG_10089_WOLFSON_Q602, HERO);
        };
    };
    if (HLP_ISVALIDNPC(DJG_10091_WOLFSON_Q602)) {
        if (!(NPC_ISDEAD(DJG_10091_WOLFSON_Q602))) {
            NPC_REFRESH(DJG_10091_WOLFSON_Q602);
            DJG_10091_WOLFSON_Q602.GUILD = GIL_BDT;
            NPC_SETTRUEGUILD(DJG_10091_WOLFSON_Q602, GIL_BDT);
            B_IMMEDIATEATTACKPLAYER(DJG_10091_WOLFSON_Q602, AR_KILL);
            AI_TURNTONPC(DJG_10091_WOLFSON_Q602, HERO);
        };
    };
    NPC_SETTRUEGUILD(HERO, HERO.GUILD);
    HERO.AIVAR[4] = FALSE;
}

func void Q602_OSIPFLEE() {
    PRINTD("Ucieczka");
    if (HLP_ISVALIDNPC(NONE_6408_OSIPFRIEND_Q602)) {
        if (!(NPC_ISDEAD(NONE_6408_OSIPFRIEND_Q602))) {
            Q602_OSIP_FLEE_02 = 1;
            NPC_EXCHANGEROUTINE(NONE_6408_OSIPFRIEND_Q602, "Q602_FLEE");
        };
    };
    if (HLP_ISVALIDNPC(NONE_6409_OSIPFRIEND_Q602)) {
        if (!(NPC_ISDEAD(NONE_6409_OSIPFRIEND_Q602))) {
            Q602_OSIP_FLEE_03 = 1;
            NPC_EXCHANGEROUTINE(NONE_6409_OSIPFRIEND_Q602, "Q602_FLEE");
        };
    };
    if (HLP_ISVALIDNPC(STRF_6405_OSIP_Q602)) {
        if (!(NPC_ISDEAD(STRF_6405_OSIP_Q602))) {
            Q602_OSIP_FLEE_01 = 1;
            NPC_EXCHANGEROUTINE(STRF_6405_OSIP_Q602, "Q602_FLEE");
        };
    };
}

func void Q602_FIGHTWITHOSIP() {
    PRINTD("Walka");
    Q602_OSIP_FIGHT = 1;
    if (HLP_ISVALIDNPC(STRF_6405_OSIP_Q602)) {
        if (!(NPC_ISDEAD(STRF_6405_OSIP_Q602))) {
            STRF_6405_OSIP_Q602.GUILD = GIL_BDT;
            NPC_SETTRUEGUILD(STRF_6405_OSIP_Q602, GIL_BDT);
            STRF_6405_OSIP_Q602.FLAGS = 0;
            B_IMMEDIATEATTACKPLAYER(STRF_6405_OSIP_Q602, AR_KILL);
            AI_TURNTONPC(STRF_6405_OSIP_Q602, HERO);
        };
    };
    if (HLP_ISVALIDNPC(NONE_6408_OSIPFRIEND_Q602)) {
        if (!(NPC_ISDEAD(NONE_6408_OSIPFRIEND_Q602))) {
            NONE_6408_OSIPFRIEND_Q602.GUILD = GIL_BDT;
            NPC_SETTRUEGUILD(NONE_6408_OSIPFRIEND_Q602, GIL_BDT);
            NONE_6408_OSIPFRIEND_Q602.FLAGS = 0;
            B_IMMEDIATEATTACKPLAYER(NONE_6408_OSIPFRIEND_Q602, AR_KILL);
            AI_TURNTONPC(NONE_6408_OSIPFRIEND_Q602, HERO);
        };
    };
    if (HLP_ISVALIDNPC(NONE_6409_OSIPFRIEND_Q602)) {
        if (!(NPC_ISDEAD(NONE_6409_OSIPFRIEND_Q602))) {
            NONE_6409_OSIPFRIEND_Q602.GUILD = GIL_BDT;
            NPC_SETTRUEGUILD(NONE_6409_OSIPFRIEND_Q602, GIL_BDT);
            NONE_6409_OSIPFRIEND_Q602.FLAGS = 0;
            B_IMMEDIATEATTACKPLAYER(NONE_6409_OSIPFRIEND_Q602, AR_KILL);
            AI_TURNTONPC(NONE_6409_OSIPFRIEND_Q602, HERO);
        };
    };
    NPC_SETTRUEGUILD(HERO, HERO.GUILD);
}

func void Q602_CHECKIFFABIODEAD_APPLY() {
    if ((CURRENTLEVEL) == (ARCHOLOS_ENDGAME_ZEN)) {
        if (NPC_ISDEAD(NONE_6366_FABIO_Q602)) {
            FINALBOARDS_FABIOISDEAD = TRUE;
            FINALBOARDS_FABIOISDEAD_HOW = 1;
            FF_REMOVE(0xeef0);
        };
    };
}

func void Q602_FIGHTWITHFABIO() {
    PRINTD("Walka");
    Q602_FIGHTWITHFABIOEVENTS = 1;
    FF_APPLYONCEEXTGT(0xeef0, 0, -(1));
    if (!(NPC_ISDEAD(NONE_6364_SIGMUN_Q602))) {
        NONE_6364_SIGMUN_Q602.AIVAR[52] = TRUE;
        NONE_6364_SIGMUN_Q602.FLAGS = 0;
        NONE_6364_SIGMUN_Q602.NPCTYPE = NPCTYPE_MAIN;
        B_IMMEDIATEATTACKPLAYER(NONE_6364_SIGMUN_Q602, AR_KILL);
        AI_TURNTONPC(NONE_6364_SIGMUN_Q602, HERO);
        NPC_SETTRUEGUILD(NONE_6364_SIGMUN_Q602, GIL_BDT);
        NONE_6364_SIGMUN_Q602.GUILD = GIL_BDT;
    };
    if (!(NPC_ISDEAD(NONE_6366_FABIO_Q602))) {
        NONE_6366_FABIO_Q602.FLAGS = 0;
        NONE_6366_FABIO_Q602.AIVAR[96] = -(1);
        NONE_6366_FABIO_Q602.NPCTYPE = NPCTYPE_MAIN;
        B_IMMEDIATEATTACKPLAYER(NONE_6366_FABIO_Q602, AR_KILL);
        AI_TURNTONPC(NONE_6366_FABIO_Q602, HERO);
        NPC_SETTRUEGUILD(NONE_6366_FABIO_Q602, GIL_BDT);
        NONE_6366_FABIO_Q602.GUILD = GIL_BDT;
    };
    NPC_SETTRUEGUILD(HERO, HERO.GUILD);
}

func void Q602_FABIOVICITIMSDIALOGUE() {
    if (NPC_KNOWSINFO(OTHER, 0x161a1)) {
        Q602_FIGHTWITHFABIOEVENTS = 3;
        AI_OUTPUT(OTHER, SELF, "DIA_FabioVictim_Q602_HELP_15_03");
        AI_OUTPUT(SELF, OTHER, "DIA_FabioVictim_Q602_HELP_03_04");
        NPC_EXCHANGEROUTINE(VLK_10092_CITIZEN_Q602, "Q602_BARRACK");
        NPC_EXCHANGEROUTINE(VLK_10093_CITIZEN_Q602, "Q602_BARRACK");
        NPC_EXCHANGEROUTINE(VLK_10094_CITIZEN_Q602, "Q602_BARRACK");
    };
    AI_OUTPUT(OTHER, SELF, "DIA_FabioVictim_Q602_HELP_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_FabioVictim_Q602_HELP_03_02");
}

func void Q602_CHANGEGUILD_VINEYARD() {
    PRINTD("Zmiana gildi dla Winniarzy!");
    NONE_50200_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_50200_VOLKERGUARD_Q602, GIL_BDT);
    NONE_50200_VOLKERGUARD_Q602.NPCTYPE = NPCTYPE_MAIN;
    NONE_50201_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_50201_VOLKERGUARD_Q602, GIL_BDT);
    NONE_50201_VOLKERGUARD_Q602.NPCTYPE = NPCTYPE_MAIN;
    NONE_50202_VOLKERGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_50202_VOLKERGUARD_Q602, GIL_BDT);
    NONE_50202_VOLKERGUARD_Q602.NPCTYPE = NPCTYPE_MAIN;
    NPC_SETTRUEGUILD(HERO, HERO.GUILD);
}

func void Q602_VINEYARDATTACK() {
    if ((SQ225_FINISHWAY) == (1)) {
        BAU_2245_HOLDWIG_Q602.GUILD = GIL_BDT;
        NPC_SETTRUEGUILD(BAU_2245_HOLDWIG_Q602, GIL_BDT);
        BAU_2245_HOLDWIG_Q602.NPCTYPE = NPCTYPE_MAIN;
        BAU_2245_HOLDWIG_Q602.FLAGS = 0;
        B_IMMEDIATEATTACKPLAYER(BAU_2245_HOLDWIG_Q602, AR_KILL);
        NONE_50203_HOLDWIGGUARD_Q602.GUILD = GIL_BDT;
        NPC_SETTRUEGUILD(NONE_50203_HOLDWIGGUARD_Q602, GIL_BDT);
        NONE_50203_HOLDWIGGUARD_Q602.NPCTYPE = NPCTYPE_MAIN;
        NONE_50203_HOLDWIGGUARD_Q602.FLAGS = 0;
        B_IMMEDIATEATTACKPLAYER(NONE_50203_HOLDWIGGUARD_Q602, AR_KILL);
        NONE_50204_HOLDWIGGUARD_Q602.GUILD = GIL_BDT;
        NPC_SETTRUEGUILD(NONE_50204_HOLDWIGGUARD_Q602, GIL_BDT);
        NONE_50204_HOLDWIGGUARD_Q602.NPCTYPE = NPCTYPE_MAIN;
        NONE_50204_HOLDWIGGUARD_Q602.FLAGS = 0;
        B_IMMEDIATEATTACKPLAYER(NONE_50204_HOLDWIGGUARD_Q602, AR_KILL);
    };
    if ((SQ225_FINISHWAY) == (2)) {
        VLK_11181_ANDERAS_Q602.GUILD = GIL_BDT;
        NPC_SETTRUEGUILD(VLK_11181_ANDERAS_Q602, GIL_BDT);
        VLK_11181_ANDERAS_Q602.NPCTYPE = NPCTYPE_MAIN;
        VLK_11181_ANDERAS_Q602.FLAGS = 0;
        B_IMMEDIATEATTACKPLAYER(VLK_11181_ANDERAS_Q602, AR_KILL);
        NONE_50205_ANDERASGUARD_Q602.GUILD = GIL_BDT;
        NPC_SETTRUEGUILD(NONE_50205_ANDERASGUARD_Q602, GIL_BDT);
        NONE_50205_ANDERASGUARD_Q602.NPCTYPE = NPCTYPE_MAIN;
        NONE_50205_ANDERASGUARD_Q602.FLAGS = 0;
        B_IMMEDIATEATTACKPLAYER(NONE_50205_ANDERASGUARD_Q602, AR_KILL);
        NONE_50206_ANDERASGUARD_Q602.GUILD = GIL_BDT;
        NPC_SETTRUEGUILD(NONE_50206_ANDERASGUARD_Q602, GIL_BDT);
        NONE_50206_ANDERASGUARD_Q602.NPCTYPE = NPCTYPE_MAIN;
        NONE_50206_ANDERASGUARD_Q602.FLAGS = 0;
        B_IMMEDIATEATTACKPLAYER(NONE_50206_ANDERASGUARD_Q602, AR_KILL);
    };
    NPC_SETTRUEGUILD(HERO, HERO.GUILD);
}

func void Q602_CHANGERTN_VINEYARD() {
    B_STARTOTHERROUTINE(BAU_2245_HOLDWIG_Q602, "GUARD");
    NPC_REFRESH(BAU_2245_HOLDWIG_Q602);
    B_STARTOTHERROUTINE(VLK_11181_ANDERAS_Q602, "GUARD");
    NPC_REFRESH(VLK_11181_ANDERAS_Q602);
    B_STARTOTHERROUTINE(NONE_50203_HOLDWIGGUARD_Q602, "GUARD");
    NPC_REFRESH(NONE_50203_HOLDWIGGUARD_Q602);
    B_STARTOTHERROUTINE(NONE_50205_ANDERASGUARD_Q602, "GUARD");
    NPC_REFRESH(NONE_50205_ANDERASGUARD_Q602);
}

func void Q602_CHANGEGUILD_RAMSEY() {
    PRINTD("Zmiana gildi dla Ramseya!");
    NONE_10119_RAMSEYGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10119_RAMSEYGUARD_Q602, GIL_BDT);
    NONE_10119_RAMSEYGUARD_Q602.NPCTYPE = NPCTYPE_MAIN;
    NONE_10111_RAMSEYGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10111_RAMSEYGUARD_Q602, GIL_BDT);
    NONE_10111_RAMSEYGUARD_Q602.NPCTYPE = NPCTYPE_MAIN;
    NONE_10112_RAMSEYGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10112_RAMSEYGUARD_Q602, GIL_BDT);
    NONE_10112_RAMSEYGUARD_Q602.NPCTYPE = NPCTYPE_MAIN;
    NONE_10113_RAMSEYGUARD_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10113_RAMSEYGUARD_Q602, GIL_BDT);
    NONE_10113_RAMSEYGUARD_Q602.NPCTYPE = NPCTYPE_MAIN;
    NONE_500_RAMSEY_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_500_RAMSEY_Q602, GIL_BDT);
    NONE_500_RAMSEY_Q602.NPCTYPE = NPCTYPE_MAIN;
    MIL_10114_GUARD_Q602.NPCTYPE = NPCTYPE_MAIN;
    MIL_10115_GUARD_Q602.NPCTYPE = NPCTYPE_MAIN;
    MIL_10116_GUARD_Q602.NPCTYPE = NPCTYPE_MAIN;
    MIL_10117_GUARD_Q602.NPCTYPE = NPCTYPE_MAIN;
    MIL_10118_GUARD_Q602.NPCTYPE = NPCTYPE_MAIN;
    NPC_SETTRUEGUILD(HERO, HERO.GUILD);
}

func void Q602_CHANGEFLAGS_RAMSEY() {
    PRINTD("Zmiana flags dla Ramseya!");
    NONE_10119_RAMSEYGUARD_Q602.FLAGS = 0;
    NONE_10111_RAMSEYGUARD_Q602.FLAGS = 0;
    NONE_10112_RAMSEYGUARD_Q602.FLAGS = 0;
    NONE_10113_RAMSEYGUARD_Q602.FLAGS = 0;
    NONE_500_RAMSEY_Q602.FLAGS = NPC_FLAG_IMPORTANT;
    NONE_500_RAMSEY_Q602.AIVAR[96] = -(1);
    MIL_10114_GUARD_Q602.FLAGS = 0;
    MIL_10115_GUARD_Q602.FLAGS = 0;
    MIL_10116_GUARD_Q602.FLAGS = 0;
    MIL_10117_GUARD_Q602.FLAGS = 0;
    MIL_10118_GUARD_Q602.FLAGS = 0;
    MIL_10114_GUARD_Q602.AIVAR[52] = TRUE;
    MIL_10115_GUARD_Q602.AIVAR[52] = TRUE;
    MIL_10116_GUARD_Q602.AIVAR[52] = TRUE;
    MIL_10117_GUARD_Q602.AIVAR[52] = TRUE;
    MIL_10118_GUARD_Q602.AIVAR[52] = TRUE;
}

func void Q602_AFTERRAMSEY_MILITIADIALOGUE() {
    Q602_MILITIA_DIALOGUE = 1;
    AI_OUTPUT(SELF, OTHER, "DIA_MILITIA_Q602_THANKS_03_01");
    AI_OUTPUT(OTHER, SELF, "DIA_MILITIA_Q602_THANKS_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_MILITIA_Q602_THANKS_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_MILITIA_Q602_THANKS_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_MILITIA_Q602_THANKS_03_05");
    AI_STOPPROCESSINFOS(SELF);
    if (HLP_ISVALIDNPC(MIL_10114_GUARD_Q602)) {
        if (!(NPC_ISDEAD(MIL_10114_GUARD_Q602))) {
            NPC_EXCHANGEROUTINE(MIL_10114_GUARD_Q602, "Q602_REST");
        };
    };
    if (HLP_ISVALIDNPC(MIL_10115_GUARD_Q602)) {
        if (!(NPC_ISDEAD(MIL_10115_GUARD_Q602))) {
            NPC_EXCHANGEROUTINE(MIL_10115_GUARD_Q602, "Q602_REST");
        };
    };
    if (HLP_ISVALIDNPC(MIL_10116_GUARD_Q602)) {
        if (!(NPC_ISDEAD(MIL_10116_GUARD_Q602))) {
            NPC_EXCHANGEROUTINE(MIL_10116_GUARD_Q602, "Q602_REST");
        };
    };
    if (HLP_ISVALIDNPC(MIL_10117_GUARD_Q602)) {
        if (!(NPC_ISDEAD(MIL_10117_GUARD_Q602))) {
            NPC_EXCHANGEROUTINE(MIL_10117_GUARD_Q602, "Q602_REST");
        };
    };
    if (HLP_ISVALIDNPC(MIL_10118_GUARD_Q602)) {
        if (!(NPC_ISDEAD(MIL_10118_GUARD_Q602))) {
            NPC_EXCHANGEROUTINE(MIL_10118_GUARD_Q602, "Q602_REST");
        };
    };
}

func void Q602_LUDLOFESCAPE() {
    Q602_LUDLOFSTATUS = 1;
    NPC_EXCHANGEROUTINE(VLK_6424_LUDLOF_Q602, "Q602_FLEE");
    NPC_EXCHANGEROUTINE(NONE_10121_THIEF_Q602, "Q602_FLEE");
    NPC_EXCHANGEROUTINE(NONE_10122_THIEF_Q602, "Q602_FLEE");
}

func void Q602_FIGHTWITHLUDLOF() {
    Q602_LUDLOFSTATUS = 3;
    VLK_6424_LUDLOF_Q602.FLAGS = 0;
    VLK_6424_LUDLOF_Q602.NPCTYPE = NPCTYPE_MAIN;
    VLK_6424_LUDLOF_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(VLK_6424_LUDLOF_Q602, GIL_BDT);
    NONE_10121_THIEF_Q602.FLAGS = 0;
    NONE_10121_THIEF_Q602.NPCTYPE = NPCTYPE_MAIN;
    NONE_10121_THIEF_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10121_THIEF_Q602, GIL_BDT);
    NONE_10122_THIEF_Q602.FLAGS = 0;
    NONE_10122_THIEF_Q602.NPCTYPE = NPCTYPE_MAIN;
    NONE_10122_THIEF_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(NONE_10122_THIEF_Q602, GIL_BDT);
    B_IMMEDIATEATTACKPLAYER(VLK_6424_LUDLOF_Q602, AR_KILL);
    B_IMMEDIATEATTACKPLAYER(NONE_10121_THIEF_Q602, AR_KILL);
    B_ATTACK(NONE_10122_THIEF_Q602, KDW_203_RIORDIAN_Q602, AR_KILL, 1);
    AI_TURNTONPC(VLK_6424_LUDLOF_Q602, HERO);
    AI_TURNTONPC(NONE_10121_THIEF_Q602, HERO);
    AI_TURNTONPC(NONE_10122_THIEF_Q602, HERO);
    NPC_SETTRUEGUILD(HERO, HERO.GUILD);
}

func void Q602_REMOVEOTHERFIGHTERS() {
    if ((NPC_ISDEAD(NONE_10111_RAMSEYGUARD_Q602)) == (FALSE)) {
        B_STARTOTHERROUTINE(NONE_10111_RAMSEYGUARD_Q602, TOT);
        NPC_REFRESH(NONE_10111_RAMSEYGUARD_Q602);
        TELEPORTNPCTOWP(0xe9ec, NONE_10111_RAMSEYGUARD_Q602.WP);
    };
    if ((NPC_ISDEAD(NONE_10112_RAMSEYGUARD_Q602)) == (FALSE)) {
        B_STARTOTHERROUTINE(NONE_10112_RAMSEYGUARD_Q602, TOT);
        NPC_REFRESH(NONE_10112_RAMSEYGUARD_Q602);
        TELEPORTNPCTOWP(0xe9ef, NONE_10112_RAMSEYGUARD_Q602.WP);
    };
    if ((NPC_ISDEAD(NONE_10113_RAMSEYGUARD_Q602)) == (FALSE)) {
        B_STARTOTHERROUTINE(NONE_10113_RAMSEYGUARD_Q602, TOT);
        NPC_REFRESH(NONE_10113_RAMSEYGUARD_Q602);
        TELEPORTNPCTOWP(0xe9f2, NONE_10113_RAMSEYGUARD_Q602.WP);
    };
    if ((NPC_ISDEAD(NONE_10119_RAMSEYGUARD_Q602)) == (FALSE)) {
        B_STARTOTHERROUTINE(NONE_10119_RAMSEYGUARD_Q602, TOT);
        NPC_REFRESH(NONE_10119_RAMSEYGUARD_Q602);
        TELEPORTNPCTOWP(0xe9f5, NONE_10119_RAMSEYGUARD_Q602.WP);
    };
    if ((NPC_ISDEAD(NONE_10121_THIEF_Q602)) == (FALSE)) {
        B_STARTOTHERROUTINE(NONE_10121_THIEF_Q602, TOT);
        NPC_REFRESH(NONE_10121_THIEF_Q602);
        TELEPORTNPCTOWP(0xe9f8, NONE_10121_THIEF_Q602.WP);
    };
    if ((NPC_ISDEAD(NONE_10122_THIEF_Q602)) == (FALSE)) {
        B_STARTOTHERROUTINE(NONE_10122_THIEF_Q602, TOT);
        NPC_REFRESH(NONE_10122_THIEF_Q602);
        TELEPORTNPCTOWP(0xe9fc, NONE_10122_THIEF_Q602.WP);
    };
    if ((NPC_ISDEAD(MIL_10114_GUARD_Q602)) == (FALSE)) {
        B_STARTOTHERROUTINE(MIL_10114_GUARD_Q602, TOT);
        NPC_REFRESH(MIL_10114_GUARD_Q602);
        TELEPORTNPCTOWP(0xe92a, MIL_10114_GUARD_Q602.WP);
    };
    if ((NPC_ISDEAD(MIL_10115_GUARD_Q602)) == (FALSE)) {
        B_STARTOTHERROUTINE(MIL_10115_GUARD_Q602, TOT);
        NPC_REFRESH(MIL_10115_GUARD_Q602);
        TELEPORTNPCTOWP(0xe92e, MIL_10115_GUARD_Q602.WP);
    };
    if ((NPC_ISDEAD(MIL_10116_GUARD_Q602)) == (FALSE)) {
        B_STARTOTHERROUTINE(MIL_10116_GUARD_Q602, TOT);
        NPC_REFRESH(MIL_10116_GUARD_Q602);
        TELEPORTNPCTOWP(0xe932, MIL_10116_GUARD_Q602.WP);
    };
    if ((NPC_ISDEAD(MIL_10117_GUARD_Q602)) == (FALSE)) {
        B_STARTOTHERROUTINE(MIL_10117_GUARD_Q602, TOT);
        NPC_REFRESH(MIL_10117_GUARD_Q602);
        TELEPORTNPCTOWP(0xe936, MIL_10117_GUARD_Q602.WP);
    };
    if ((NPC_ISDEAD(MIL_10118_GUARD_Q602)) == (FALSE)) {
        B_STARTOTHERROUTINE(MIL_10118_GUARD_Q602, TOT);
        NPC_REFRESH(MIL_10118_GUARD_Q602);
        TELEPORTNPCTOWP(0xe93a, MIL_10118_GUARD_Q602.WP);
    };
    if ((NPC_ISDEAD(NONE_500_RAMSEY_Q602)) == (FALSE)) {
        B_STARTOTHERROUTINE(NONE_500_RAMSEY_Q602, TOT);
        NPC_REFRESH(NONE_500_RAMSEY_Q602);
        TELEPORTNPCTOWP(0xea18, NONE_500_RAMSEY_Q602.WP);
    };
    if ((NPC_ISDEAD(VLK_6424_LUDLOF_Q602)) == (FALSE)) {
        B_STARTOTHERROUTINE(VLK_6424_LUDLOF_Q602, TOT);
        NPC_REFRESH(VLK_6424_LUDLOF_Q602);
        TELEPORTNPCTOWP(0xeaed, VLK_6424_LUDLOF_Q602.WP);
    };
}

func void Q602_FINALBATTLE_PREPAREFIGHT() {
    Q602_PARTYMEMBERSEEENEMY = TRUE;
    PRINTD("Zmiana gildi");
    DJG_10131_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10131_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10131_WOLFSON_Q602, GIL_BDT);
    B_STARTOTHERROUTINE(DJG_10131_WOLFSON_Q602, "FIGHT");
    NPC_REFRESH(DJG_10131_WOLFSON_Q602);
    DJG_10132_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10132_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10132_WOLFSON_Q602, GIL_BDT);
    B_STARTOTHERROUTINE(DJG_10132_WOLFSON_Q602, "FIGHT");
    NPC_REFRESH(DJG_10132_WOLFSON_Q602);
    DJG_10134_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10134_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10134_WOLFSON_Q602, GIL_BDT);
    B_STARTOTHERROUTINE(DJG_10134_WOLFSON_Q602, "FIGHT");
    NPC_REFRESH(DJG_10134_WOLFSON_Q602);
    DJG_10136_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10136_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10136_WOLFSON_Q602, GIL_BDT);
    B_STARTOTHERROUTINE(DJG_10136_WOLFSON_Q602, "FIGHT");
    NPC_REFRESH(DJG_10136_WOLFSON_Q602);
    DJG_10138_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10138_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10138_WOLFSON_Q602, GIL_BDT);
    B_STARTOTHERROUTINE(DJG_10138_WOLFSON_Q602, "FIGHT");
    NPC_REFRESH(DJG_10138_WOLFSON_Q602);
    DJG_10140_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10140_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10140_WOLFSON_Q602, GIL_BDT);
    B_STARTOTHERROUTINE(DJG_10140_WOLFSON_Q602, "FIGHT");
    NPC_REFRESH(DJG_10140_WOLFSON_Q602);
    DJG_10142_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10142_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10142_WOLFSON_Q602, GIL_BDT);
    B_STARTOTHERROUTINE(DJG_10142_WOLFSON_Q602, "FIGHT");
    NPC_REFRESH(DJG_10142_WOLFSON_Q602);
    DJG_10144_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10144_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10144_WOLFSON_Q602, GIL_BDT);
    B_STARTOTHERROUTINE(DJG_10144_WOLFSON_Q602, "FIGHT");
    NPC_REFRESH(DJG_10144_WOLFSON_Q602);
    DJG_10146_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10146_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10146_WOLFSON_Q602, GIL_BDT);
    B_STARTOTHERROUTINE(DJG_10146_WOLFSON_Q602, "FIGHT");
    NPC_REFRESH(DJG_10146_WOLFSON_Q602);
    DJG_10148_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10148_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10148_WOLFSON_Q602, GIL_BDT);
    B_STARTOTHERROUTINE(DJG_10148_WOLFSON_Q602, "FIGHT");
    NPC_REFRESH(DJG_10148_WOLFSON_Q602);
    DJG_10150_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10150_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10150_WOLFSON_Q602, GIL_BDT);
    B_STARTOTHERROUTINE(DJG_10150_WOLFSON_Q602, "FIGHT");
    NPC_REFRESH(DJG_10150_WOLFSON_Q602);
    DJG_10152_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10152_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10152_WOLFSON_Q602, GIL_BDT);
    B_STARTOTHERROUTINE(DJG_10152_WOLFSON_Q602, "FIGHT");
    NPC_REFRESH(DJG_10152_WOLFSON_Q602);
    DJG_10154_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10154_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10154_WOLFSON_Q602, GIL_BDT);
    B_STARTOTHERROUTINE(DJG_10154_WOLFSON_Q602, "FIGHT");
    NPC_REFRESH(DJG_10154_WOLFSON_Q602);
    B_STARTOTHERROUTINE(MIL_10156_MILITIA_Q602, "FIGHT");
    NPC_REFRESH(MIL_10156_MILITIA_Q602);
    B_STARTOTHERROUTINE(MIL_10157_MILITIA_Q602, "FIGHT");
    NPC_REFRESH(MIL_10157_MILITIA_Q602);
    B_STARTOTHERROUTINE(MIL_10158_MILITIA_Q602, "FIGHT");
    NPC_REFRESH(MIL_10158_MILITIA_Q602);
    B_STARTOTHERROUTINE(MIL_10159_MILITIA_Q602, "FIGHT");
    NPC_REFRESH(MIL_10159_MILITIA_Q602);
    B_STARTOTHERROUTINE(MIL_10160_MILITIA_Q602, "FIGHT");
    NPC_REFRESH(MIL_10160_MILITIA_Q602);
    B_STARTOTHERROUTINE(MIL_10161_MILITIA_Q602, "FIGHT");
    NPC_REFRESH(MIL_10161_MILITIA_Q602);
    B_STARTOTHERROUTINE(MIL_10162_MILITIA_Q602, "FIGHT");
    NPC_REFRESH(MIL_10162_MILITIA_Q602);
    B_STARTOTHERROUTINE(MIL_10163_MILITIA_Q602, "FIGHT");
    NPC_REFRESH(MIL_10163_MILITIA_Q602);
    B_STARTOTHERROUTINE(MIL_10165_MILITIA_Q602, "FIGHT");
    NPC_REFRESH(MIL_10165_MILITIA_Q602);
    B_STARTOTHERROUTINE(MIL_10167_MILITIA_Q602, "FIGHT");
    NPC_REFRESH(MIL_10167_MILITIA_Q602);
    B_STARTOTHERROUTINE(MIL_10169_MILITIA_Q602, "FIGHT");
    NPC_REFRESH(MIL_10169_MILITIA_Q602);
    B_STARTOTHERROUTINE(MIL_10171_MILITIA_Q602, "FIGHT");
    NPC_REFRESH(MIL_10171_MILITIA_Q602);
    B_STARTOTHERROUTINE(MIL_10173_MILITIA_Q602, "FIGHT");
    NPC_REFRESH(MIL_10173_MILITIA_Q602);
    B_STARTOTHERROUTINE(MIL_10175_MILITIA_Q602, "FIGHT");
    NPC_REFRESH(MIL_10175_MILITIA_Q602);
    B_STARTOTHERROUTINE(MIL_10177_MILITIA_Q602, "FIGHT");
    NPC_REFRESH(MIL_10177_MILITIA_Q602);
    B_STARTOTHERROUTINE(MIL_10179_MILITIA_Q602, "FIGHT");
    NPC_REFRESH(MIL_10179_MILITIA_Q602);
    NPC_SETTRUEGUILD(HERO, HERO.GUILD);
}

func void Q602_FINALBATTLE_TELEPORTFIGHT() {
    PRINTD("Teleport");
    TELEPORTNPCTOWP(0xe88f, DJG_10131_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe892, DJG_10132_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe895, DJG_10134_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe898, DJG_10136_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe89e, DJG_10138_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe8a1, DJG_10140_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe8a4, DJG_10142_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe8a7, DJG_10144_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe8aa, DJG_10146_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe8ad, DJG_10148_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe8b0, DJG_10150_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe8b3, DJG_10152_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe8b6, DJG_10154_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe93e, MIL_10156_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe942, MIL_10157_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe946, MIL_10158_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe94a, MIL_10159_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe94e, MIL_10160_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe952, MIL_10161_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe956, MIL_10162_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe95a, MIL_10163_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe95e, MIL_10165_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe962, MIL_10167_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe966, MIL_10169_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe96a, MIL_10171_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe96e, MIL_10173_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe972, MIL_10175_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe976, MIL_10177_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe97d, MIL_10179_MILITIA_Q602.WP);
}

func void Q602_FINALBATTLE_FLAGS_MORTAL() {
    PRINTD("Zmiana flags雕");
    DJG_10131_WOLFSON_Q602.FLAGS = 0;
    DJG_10132_WOLFSON_Q602.FLAGS = 0;
    DJG_10134_WOLFSON_Q602.FLAGS = 0;
    DJG_10136_WOLFSON_Q602.FLAGS = 0;
    DJG_10138_WOLFSON_Q602.FLAGS = 0;
    DJG_10140_WOLFSON_Q602.FLAGS = 0;
    DJG_10142_WOLFSON_Q602.FLAGS = 0;
    DJG_10144_WOLFSON_Q602.FLAGS = 0;
    DJG_10146_WOLFSON_Q602.FLAGS = 0;
    DJG_10148_WOLFSON_Q602.FLAGS = 0;
    DJG_10150_WOLFSON_Q602.FLAGS = 0;
    DJG_10152_WOLFSON_Q602.FLAGS = 0;
    DJG_10154_WOLFSON_Q602.FLAGS = 0;
    MIL_10156_MILITIA_Q602.FLAGS = 0;
    MIL_10157_MILITIA_Q602.FLAGS = 0;
    MIL_10158_MILITIA_Q602.FLAGS = 0;
    MIL_10159_MILITIA_Q602.FLAGS = 0;
    MIL_10160_MILITIA_Q602.FLAGS = 0;
    MIL_10161_MILITIA_Q602.FLAGS = 0;
    MIL_10162_MILITIA_Q602.FLAGS = 0;
    MIL_10163_MILITIA_Q602.FLAGS = 0;
    MIL_10165_MILITIA_Q602.FLAGS = 0;
    MIL_10167_MILITIA_Q602.FLAGS = 0;
    MIL_10169_MILITIA_Q602.FLAGS = 0;
    MIL_10171_MILITIA_Q602.FLAGS = 0;
    MIL_10173_MILITIA_Q602.FLAGS = 0;
    MIL_10175_MILITIA_Q602.FLAGS = 0;
    MIL_10177_MILITIA_Q602.FLAGS = 0;
    MIL_10179_MILITIA_Q602.FLAGS = 0;
}

func void Q602_FINALBATTLE_FLAGS_IMMORTAL() {
    PRINTD("Zmiana flags雕");
    DJG_10131_WOLFSON_Q602.FLAGS = 2;
    DJG_10132_WOLFSON_Q602.FLAGS = 2;
    DJG_10134_WOLFSON_Q602.FLAGS = 2;
    DJG_10136_WOLFSON_Q602.FLAGS = 2;
    DJG_10138_WOLFSON_Q602.FLAGS = 2;
    DJG_10140_WOLFSON_Q602.FLAGS = 2;
    DJG_10142_WOLFSON_Q602.FLAGS = 2;
    DJG_10144_WOLFSON_Q602.FLAGS = 2;
    DJG_10146_WOLFSON_Q602.FLAGS = 2;
    DJG_10148_WOLFSON_Q602.FLAGS = 2;
    DJG_10150_WOLFSON_Q602.FLAGS = 2;
    DJG_10152_WOLFSON_Q602.FLAGS = 2;
    DJG_10154_WOLFSON_Q602.FLAGS = 2;
    MIL_10156_MILITIA_Q602.FLAGS = 2;
    MIL_10157_MILITIA_Q602.FLAGS = 2;
    MIL_10158_MILITIA_Q602.FLAGS = 2;
    MIL_10159_MILITIA_Q602.FLAGS = 2;
    MIL_10160_MILITIA_Q602.FLAGS = 2;
    MIL_10161_MILITIA_Q602.FLAGS = 2;
    MIL_10162_MILITIA_Q602.FLAGS = 2;
    MIL_10163_MILITIA_Q602.FLAGS = 2;
    MIL_10165_MILITIA_Q602.FLAGS = 2;
    MIL_10167_MILITIA_Q602.FLAGS = 2;
    MIL_10169_MILITIA_Q602.FLAGS = 2;
    MIL_10171_MILITIA_Q602.FLAGS = 2;
    MIL_10173_MILITIA_Q602.FLAGS = 2;
    MIL_10175_MILITIA_Q602.FLAGS = 2;
    MIL_10177_MILITIA_Q602.FLAGS = 2;
    MIL_10179_MILITIA_Q602.FLAGS = 2;
}

func void Q602_FINALBATTLE_TELEPORTWARRIORS() {
    PRINTD("Teleport");
    TELEPORTNPCTOWP(0xe88f, DJG_10131_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe892, DJG_10132_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe895, DJG_10134_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe898, DJG_10136_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe89e, DJG_10138_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe8a1, DJG_10140_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe8a4, DJG_10142_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe8a7, DJG_10144_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe8aa, DJG_10146_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe8ad, DJG_10148_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe8b0, DJG_10150_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe8b3, DJG_10152_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe8b6, DJG_10154_WOLFSON_Q602.WP);
    TELEPORTNPCTOWP(0xe93e, MIL_10156_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe942, MIL_10157_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe946, MIL_10158_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe94a, MIL_10159_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe94e, MIL_10160_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe952, MIL_10161_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe956, MIL_10162_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe95a, MIL_10163_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe95e, MIL_10165_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe962, MIL_10167_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe966, MIL_10169_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe96a, MIL_10171_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe96e, MIL_10173_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe972, MIL_10175_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe976, MIL_10177_MILITIA_Q602.WP);
    TELEPORTNPCTOWP(0xe97d, MIL_10179_MILITIA_Q602.WP);
}

func void Q602_FINALBATTLE_SPAWNNEWWOLFSONS() {
    PRINTD("Przyby씇 posi쓺i");
    Q602_FINALBATTLE_STARTFIGHT = 3;
    WLD_INSERTNPC(0xe8b9, "PARTE5_SPAWNPOINT_01");
    WLD_INSERTNPC(0xe8bd, "PARTE5_SPAWNPOINT_02");
    WLD_INSERTNPC(0xe8c1, "PARTE5_SPAWNPOINT_03");
    WLD_INSERTNPC(0xe8c5, "PARTE5_SPAWNPOINT_04");
    WLD_INSERTNPC(0xe8c9, "PARTE5_SPAWNPOINT_01");
    WLD_INSERTNPC(0xe8cd, "PARTE5_SPAWNPOINT_02");
}

func void Q602_FINALBATTLE_NEWWOLFSONS_RUN() {
    PRINTD("Biegn!");
    B_STARTOTHERROUTINE(DJG_10181_WOLFSON_Q602, "Q602_RUN");
    NPC_REFRESH(DJG_10181_WOLFSON_Q602);
    B_STARTOTHERROUTINE(DJG_10182_WOLFSON_Q602, "Q602_RUN");
    NPC_REFRESH(DJG_10182_WOLFSON_Q602);
    B_STARTOTHERROUTINE(DJG_10183_WOLFSON_Q602, "Q602_RUN");
    NPC_REFRESH(DJG_10183_WOLFSON_Q602);
    B_STARTOTHERROUTINE(DJG_10184_WOLFSON_Q602, "Q602_RUN");
    NPC_REFRESH(DJG_10184_WOLFSON_Q602);
    B_STARTOTHERROUTINE(DJG_10185_WOLFSON_Q602, "Q602_RUN");
    NPC_REFRESH(DJG_10185_WOLFSON_Q602);
    B_STARTOTHERROUTINE(DJG_10186_WOLFSON_Q602, "Q602_RUN");
    NPC_REFRESH(DJG_10186_WOLFSON_Q602);
    AI_WAIT(DJG_10181_WOLFSON_Q602, 0x3fb33333);
    AI_WAIT(DJG_10182_WOLFSON_Q602, 0x402ccccd);
    AI_WAIT(DJG_10183_WOLFSON_Q602, 0x3f8ccccd);
    AI_WAIT(DJG_10184_WOLFSON_Q602, 0x4079999a);
    AI_WAIT(DJG_10185_WOLFSON_Q602, 0x3fa66666);
    AI_WAIT(DJG_10186_WOLFSON_Q602, 0x3fe66666);
}

func void Q602_FINALBATTLE_NEWWOLFSONS_TELEPORT() {
    B_STARTOTHERROUTINE(DJG_10181_WOLFSON_Q602, "Q602_FIGHT");
    NPC_REFRESH(DJG_10181_WOLFSON_Q602);
    TELEPORTNPCTOWP(0xe8b9, DJG_10181_WOLFSON_Q602.WP);
    B_STARTOTHERROUTINE(DJG_10182_WOLFSON_Q602, "Q602_FIGHT");
    NPC_REFRESH(DJG_10182_WOLFSON_Q602);
    TELEPORTNPCTOWP(0xe8bd, DJG_10182_WOLFSON_Q602.WP);
    B_STARTOTHERROUTINE(DJG_10183_WOLFSON_Q602, "Q602_FIGHT");
    NPC_REFRESH(DJG_10183_WOLFSON_Q602);
    TELEPORTNPCTOWP(0xe8c1, DJG_10183_WOLFSON_Q602.WP);
    B_STARTOTHERROUTINE(DJG_10184_WOLFSON_Q602, "Q602_FIGHT");
    NPC_REFRESH(DJG_10184_WOLFSON_Q602);
    TELEPORTNPCTOWP(0xe8c5, DJG_10184_WOLFSON_Q602.WP);
    B_STARTOTHERROUTINE(DJG_10185_WOLFSON_Q602, "Q602_FIGHT");
    NPC_REFRESH(DJG_10185_WOLFSON_Q602);
    TELEPORTNPCTOWP(0xe8c9, DJG_10185_WOLFSON_Q602.WP);
    B_STARTOTHERROUTINE(DJG_10186_WOLFSON_Q602, "Q602_FIGHT");
    NPC_REFRESH(DJG_10186_WOLFSON_Q602);
    TELEPORTNPCTOWP(0xe8cd, DJG_10186_WOLFSON_Q602.WP);
}

func void Q602_FINALBATTLE_NEWWOLFSONS_ATTACK() {
    DJG_10181_WOLFSON_Q602.FLAGS = 0;
    DJG_10181_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10181_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10181_WOLFSON_Q602, GIL_BDT);
    DJG_10182_WOLFSON_Q602.FLAGS = 0;
    DJG_10182_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10182_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10182_WOLFSON_Q602, GIL_BDT);
    DJG_10183_WOLFSON_Q602.FLAGS = 0;
    DJG_10183_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10183_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10183_WOLFSON_Q602, GIL_BDT);
    DJG_10184_WOLFSON_Q602.FLAGS = 0;
    DJG_10184_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10184_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10184_WOLFSON_Q602, GIL_BDT);
    DJG_10185_WOLFSON_Q602.FLAGS = 0;
    DJG_10185_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10185_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10185_WOLFSON_Q602, GIL_BDT);
    DJG_10186_WOLFSON_Q602.FLAGS = 0;
    DJG_10186_WOLFSON_Q602.NPCTYPE = NPCTYPE_MAIN;
    DJG_10186_WOLFSON_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(DJG_10186_WOLFSON_Q602, GIL_BDT);
    Q602_FINALBATTLE_NEWWOLFSONS_TELEPORT();
    AI_WAIT(DJG_10181_WOLFSON_Q602, 0x3fcccccd);
    AI_WAIT(DJG_10182_WOLFSON_Q602, 0x402ccccd);
    AI_WAIT(DJG_10183_WOLFSON_Q602, 0x3fe66666);
    AI_WAIT(DJG_10184_WOLFSON_Q602, 0x4039999a);
    AI_WAIT(DJG_10185_WOLFSON_Q602, 0x3f800000);
    AI_WAIT(DJG_10186_WOLFSON_Q602, 0x40266666);
    NPC_SETTRUEGUILD(HERO, HERO.GUILD);
}

func void Q602_FINALBATTLE_SPAWNWATERMAGES() {
    PRINTD("Przybyli Magowie");
    Q602_FINALBATTLE_STARTFIGHT = 6;
    WLD_INSERTNPC(0xe90c, "PARTE5_SPAWNPOINT_01");
    WLD_INSERTNPC(0xe911, "PARTE5_SPAWNPOINT_02");
    WLD_INSERTNPC(0xe8fc, "PARTE5_SPAWNPOINT_03");
    WLD_INSERTNPC(0xe916, "PARTE5_SPAWNPOINT_04");
    WLD_INSERTNPC(0xe922, "PARTE5_SPAWNPOINT_01");
    WLD_INSERTNPC(0xe91b, "PARTE5_SPAWNPOINT_02");
}

func void Q602_FINALBATTLE_WATERMAGES_RUN() {
    PRINTD("Biegn!");
    B_STARTOTHERROUTINE(KDW_303_RIEROL_Q602, "Q602_RUN");
    NPC_REFRESH(KDW_303_RIEROL_Q602);
    B_STARTOTHERROUTINE(KDW_206_OTHEKAR_Q602, "Q602_RUN");
    NPC_REFRESH(KDW_206_OTHEKAR_Q602);
    B_STARTOTHERROUTINE(KDW_301_CUSTO_Q602, "Q602_RUN");
    NPC_REFRESH(KDW_301_CUSTO_Q602);
    B_STARTOTHERROUTINE(KDW_214_BADULF_Q602, "Q602_RUN");
    NPC_REFRESH(KDW_214_BADULF_Q602);
    B_STARTOTHERROUTINE(KDW_216_INGOLF_Q602, "Q602_RUN");
    NPC_REFRESH(KDW_216_INGOLF_Q602);
    B_STARTOTHERROUTINE(KDW_215_NOTGER_Q602, "Q602_RUN");
    NPC_REFRESH(KDW_215_NOTGER_Q602);
    AI_WAIT(KDW_303_RIEROL_Q602, 0x3ecccccd);
    AI_WAIT(KDW_206_OTHEKAR_Q602, 0x3dcccccd);
    AI_WAIT(KDW_301_CUSTO_Q602, 0x3f666666);
    AI_WAIT(KDW_214_BADULF_Q602, 0x3fa66666);
    AI_WAIT(KDW_216_INGOLF_Q602, 0x3fc00000);
    AI_WAIT(KDW_215_NOTGER_Q602, 0x3e4ccccd);
}

func void Q602_FINALBATTLE_WATERMAGES_ATTACK() {
    PRINTD("Walcz!!");
    B_STARTOTHERROUTINE(KDW_303_RIEROL_Q602, "Q602_FIGHT");
    NPC_REFRESH(KDW_303_RIEROL_Q602);
    TELEPORTNPCTOWP(0xe90c, KDW_303_RIEROL_Q602.WP);
    B_STARTOTHERROUTINE(KDW_206_OTHEKAR_Q602, "Q602_FIGHT");
    NPC_REFRESH(KDW_206_OTHEKAR_Q602);
    TELEPORTNPCTOWP(0xe911, KDW_206_OTHEKAR_Q602.WP);
    B_STARTOTHERROUTINE(KDW_301_CUSTO_Q602, "Q602_FIGHT");
    NPC_REFRESH(KDW_301_CUSTO_Q602);
    TELEPORTNPCTOWP(0xe8fc, KDW_301_CUSTO_Q602.WP);
    B_STARTOTHERROUTINE(KDW_214_BADULF_Q602, "Q602_FIGHT");
    NPC_REFRESH(KDW_214_BADULF_Q602);
    TELEPORTNPCTOWP(0xe916, KDW_214_BADULF_Q602.WP);
    B_STARTOTHERROUTINE(KDW_216_INGOLF_Q602, "Q602_FIGHT");
    NPC_REFRESH(KDW_216_INGOLF_Q602);
    TELEPORTNPCTOWP(0xe922, KDW_216_INGOLF_Q602.WP);
    B_STARTOTHERROUTINE(KDW_215_NOTGER_Q602, "Q602_FIGHT");
    NPC_REFRESH(KDW_215_NOTGER_Q602);
    TELEPORTNPCTOWP(0xe91b, KDW_215_NOTGER_Q602.WP);
}

func void Q602_KILLWOLFSONS() {
    PRINTD("Zabito wilczych syn雕");
    B_KILLNPC(0xe88f);
    B_KILLNPC(0xe892);
    B_KILLNPC(0xe895);
    B_KILLNPC(0xe898);
    B_KILLNPC(0xe89e);
    B_KILLNPC(0xe8a1);
    B_KILLNPC(0xe8a4);
    B_KILLNPC(0xe8a7);
    B_KILLNPC(0xe8aa);
    B_KILLNPC(0xe8ad);
    B_KILLNPC(0xe8b0);
    B_KILLNPC(0xe8b3);
    B_KILLNPC(0xe8b6);
    B_KILLNPC(0xe8b9);
    B_KILLNPC(0xe8bd);
    B_KILLNPC(0xe8c1);
    B_KILLNPC(0xe8c5);
    B_KILLNPC(0xe8c9);
    B_KILLNPC(0xe8cd);
    B_KILLNPC(0xe8d1);
    B_KILLNPC(0xe8d5);
    B_KILLNPC(0xe8d9);
    B_KILLNPC(0xe8dd);
    B_KILLNPC(0xe8e1);
    B_KILLNPC(0xe8e5);
    B_KILLNPC(0xe8e9);
}

func void Q602_FINALBOSS() {
    MUSIC_OVERRIDETRACK(0x55af);
    VLK_15000_VOLKER_Q602.ATTRIBUTE[0] = VLK_15000_VOLKER_Q602.ATTRIBUTE[1];
    Q602_FINALBOSSTIME = 1;
    B_IMMEDIATEATTACKPLAYER(VLK_15000_VOLKER_Q602, AR_KILL);
    VLK_15000_VOLKER_Q602.FLAGS = NPC_FLAG_IMPORTANT;
    VLK_15000_VOLKER_Q602.NPCTYPE = NPCTYPE_MAIN;
    VLK_15000_VOLKER_Q602.GUILD = GIL_BDT;
    NPC_SETTRUEGUILD(VLK_15000_VOLKER_Q602, GIL_BDT);
    START_BOSSUI(VLK_15000_VOLKER_Q602, 2);
    B_STARTOTHERROUTINE(NONE_16_IVY_Q602, "Q602_FIGHT");
    NPC_REFRESH(NONE_16_IVY_Q602);
}

func void Q602_VOLKERHPREGENTIMER() {
    Q602_VOLKERHPREGENTIMER_COUNT = (Q602_VOLKERHPREGENTIMER_COUNT) + (1);
    if (((Q602_VOLKERHPREGENTIMER_COUNT) == (30)) || ((Q602_FINALBOSSTIME) >= (2))) {
        PRINTD("Koniec regeneracji");
        FF_REMOVE(0xef0a);
    };
    PRINTD("HP regen");
    NPC_CHANGEATTRIBUTE(VLK_15000_VOLKER_Q602, ATR_HITPOINTS, (VLK_15000_VOLKER_Q602.ATTRIBUTE[1]) / (30));
}

var int Q602_VOLKERHPREGENTIMER.Q602_VOLKERHPREGENTIMER_COUNT = 0;
func void Q602_VOLKER_REMOVEMDS() {
    MDL_REMOVEOVERLAYMDS(VLK_15000_VOLKER_Q602, "Humans_Volker_Fast.mds");
    MDL_REMOVEOVERLAYMDS(VLK_15000_VOLKER_Q602, "Humans_Volker_Strong.mds");
    MDL_REMOVEOVERLAYMDS(VLK_15000_VOLKER_Q602, "Humans_Sprint.mds");
}

func void Q602_VOLKERPOWERTIMER() {
    if ((Q602_FINALBOSSTIME) == (TRUE)) {
        Q602_VOLKERPOWERTIMER_COUNT = (Q602_VOLKERPOWERTIMER_COUNT) + (1);
        PRINTD(CS2("Timer:", INTTOSTRING(Q602_VOLKERPOWERTIMER_COUNT)));
        if ((Q602_VOLKERPOWERTIMER_COUNT) == (7)) {
            if ((Q602_VOLKERPOWERTIMER_FIGHTSTYLE) == (0)) {
                Q602_VOLKERPOWERTIMER_FIGHTSTYLE = 1;
                if ((((NPC_ISINSTATE(VLK_15000_VOLKER_Q602, 0xab81)) == (FALSE)) && ((NPC_ISINSTATE(VLK_15000_VOLKER_Q602, 0xab50)) == (FALSE))) && ((NPC_ISINSTATE(VLK_15000_VOLKER_Q602, 0xab85)) == (FALSE))) {
                    Q602_VOLKER_REMOVEMDS();
                    MDL_APPLYOVERLAYMDS(VLK_15000_VOLKER_Q602, "Humans_Volker_Strong.mds");
                    VLK_15000_VOLKER_Q602.FIGHT_TACTIC = FAI_VOLKER_STRONG;
                    VLK_15000_VOLKER_Q602.ATTRIBUTE[4] = 0x5dc;
                };
            } else if ((Q602_VOLKERPOWERTIMER_FIGHTSTYLE) == (1)) {
                Q602_VOLKERPOWERTIMER_FIGHTSTYLE = 2;
                if ((((NPC_ISINSTATE(VLK_15000_VOLKER_Q602, 0xab81)) == (FALSE)) && ((NPC_ISINSTATE(VLK_15000_VOLKER_Q602, 0xab50)) == (FALSE))) && ((NPC_ISINSTATE(VLK_15000_VOLKER_Q602, 0xab85)) == (FALSE))) {
                    Q602_VOLKER_REMOVEMDS();
                    MDL_APPLYOVERLAYMDS(VLK_15000_VOLKER_Q602, "Humans_Volker_Fast.mds");
                    VLK_15000_VOLKER_Q602.FIGHT_TACTIC = FAI_VOLKER_WHIRL;
                    VLK_15000_VOLKER_Q602.ATTRIBUTE[4] = 800;
                };
            } else if ((Q602_VOLKERPOWERTIMER_FIGHTSTYLE) == (2)) {
                Q602_VOLKERPOWERTIMER_FIGHTSTYLE = 3;
                VLK_15000_VOLKER_Q602.ATTRIBUTE[4] = 950;
                VLK_15000_VOLKER_Q602.FIGHT_TACTIC = FAI_VOLKER_FAST;
            } else if ((Q602_VOLKERPOWERTIMER_FIGHTSTYLE) == (3)) {
                Q602_VOLKERPOWERTIMER_FIGHTSTYLE = 0;
                if ((((NPC_ISINSTATE(VLK_15000_VOLKER_Q602, 0xab81)) == (FALSE)) && ((NPC_ISINSTATE(VLK_15000_VOLKER_Q602, 0xab50)) == (FALSE))) && ((NPC_ISINSTATE(VLK_15000_VOLKER_Q602, 0xab85)) == (FALSE))) {
                    MDL_APPLYOVERLAYMDS(VLK_15000_VOLKER_Q602, "Humans_Sprint.mds");
                    VLK_15000_VOLKER_Q602.ATTRIBUTE[4] = 800;
                    VLK_15000_VOLKER_Q602.FIGHT_TACTIC = FAI_HUMAN_COWARD;
                };
            };
            Q602_VOLKERPOWERTIMER_COUNT = 0;
        };
    };
    if ((Q602_FINALBOSSTIME) == (2)) {
        PRINTD("Koniec zmieniania styl雕");
        FF_REMOVE(0xef0d);
    };
}

var int Q602_VOLKERPOWERTIMER.Q602_VOLKERPOWERTIMER_COUNT = 0;
var int Q602_VOLKERPOWERTIMER.Q602_VOLKERPOWERTIMER_FIGHTSTYLE = 0;
func void Q602_DOGGOCUTSCENE_APPLY() {
    Q602_DOGGOCUTSCENE_COUNT = (Q602_DOGGOCUTSCENE_COUNT) + (1);
    if ((Q602_DOGGOCUTSCENE_COUNT) == (4)) {
        Q602_DOGGOCUTSCENE_COUNT = 0;
        CUTSCENE_START(0x16a42);
    };
}

var int Q602_DOGGOCUTSCENE_APPLY.Q602_DOGGOCUTSCENE_COUNT = 0;
const int Q602_TELEPORTRIORDIAN_MAXDISTANCE = 500;
func void Q602_TELEPORTRIORDIAN_VALERIOFIGHT() {
    if ((NPC_GETDISTTONPC(HERO, KDW_203_RIORDIAN_Q602)) >= (Q602_TELEPORTRIORDIAN_MAXDISTANCE)) {
        if ((SQ225_FINISHWAY) == (3)) {
            NPC_CLEARAIQUEUE(KDW_203_RIORDIAN_Q602);
            TELEPORTNPCTOWP(0xe901, "PARTM4_PATH_45");
            AI_TELEPORTALWAYS(KDW_203_RIORDIAN_Q602, "PARTM4_PATH_45", TRUE);
        } else {
            NPC_CLEARAIQUEUE(KDW_203_RIORDIAN_Q602);
            TELEPORTNPCTOWP(0xe901, "PARTM4_PATH_54");
            AI_TELEPORTALWAYS(KDW_203_RIORDIAN_Q602, "PARTM4_PATH_54", TRUE);
        };
    };
}

func void Q602_TELEPORTRIORDIAN_RAMSEYFIGHT() {
    if ((NPC_GETDISTTONPC(HERO, KDW_203_RIORDIAN_Q602)) >= (Q602_TELEPORTRIORDIAN_MAXDISTANCE)) {
        NPC_CLEARAIQUEUE(KDW_203_RIORDIAN_Q602);
        TELEPORTNPCTOWP(0xe901, "PARTM4_PATH_95");
        AI_TELEPORTALWAYS(KDW_203_RIORDIAN_Q602, "PARTM4_PATH_95", TRUE);
    };
}

func void Q602_FINALBATTLE_PREPAREFIGHT_CHANGEGUILD_APPLY() {
    Q602_FINALBATTLE_PREPAREFIGHT_CHANGEGUILD_COUNT = (Q602_FINALBATTLE_PREPAREFIGHT_CHANGEGUILD_COUNT) + (1);
    if ((Q602_FINALBATTLE_PREPAREFIGHT_CHANGEGUILD_COUNT) == (2)) {
        Q602_REMOVEOTHERFIGHTERS();
    };
    if ((Q602_FINALBATTLE_PREPAREFIGHT_CHANGEGUILD_COUNT) == (4)) {
        Q602_FINALBATTLE_PREPAREFIGHT();
    };
}

var int Q602_FINALBATTLE_PREPAREFIGHT_CHANGEGUILD_APPLY.Q602_FINALBATTLE_PREPAREFIGHT_CHANGEGUILD_COUNT = 0;
func void Q602_FIGHTCUTSCENE_APPLY() {
    Q602_FIGHTCUTSCENE_COUNT = (Q602_FIGHTCUTSCENE_COUNT) + (1);
    if ((Q602_FIGHTCUTSCENE_COUNT) == (4)) {
        Q602_FIGHTCUTSCENE_COUNT = 0;
        CUTSCENE_START(0x16a47);
    };
}

var int Q602_FIGHTCUTSCENE_APPLY.Q602_FIGHTCUTSCENE_COUNT = 0;
func void Q602_FINALWAR_FINISH() {
    AI_SETWALKMODE(HERO, NPC_RUN);
    AI_SETWALKMODE(KDW_203_RIORDIAN_Q602, NPC_RUN);
    FF_APPLYONCEEXT(0xef1a, 75, 4);
}

func void Q602_FINALWAR_FINISH_APPLY() {
    Q602_FINALWAR_FINISH_COUNT = (Q602_FINALWAR_FINISH_COUNT) + (1);
    if ((Q602_FINALWAR_FINISH_COUNT) == (1)) {
        AI_GOTOWP(HERO, "PARTM5_PATH_43");
    };
    if ((Q602_FINALWAR_FINISH_COUNT) == (4)) {
        Q602_FINALWAR_FINISH_COUNT = 0;
        WLD_SENDUNTRIGGER("Q602_FINALWAR_01");
        WLD_SENDUNTRIGGER("Q602_FINALWAR_02");
        WLD_SENDUNTRIGGER("Q602_FINALWAR_03");
        DIACAM_ENABLE();
    };
}

var int Q602_FINALWAR_FINISH_APPLY.Q602_FINALWAR_FINISH_COUNT = 0;
func void Q602_FINALWAR_HELP_APPLY() {
    Q602_FINALWAR_HELP_COUNT = (Q602_FINALWAR_HELP_COUNT) + (1);
    if ((Q602_FINALWAR_HELP_COUNT) == (4)) {
        Q602_FINALWAR_HELP_COUNT = 0;
        TELEPORTNPCTOWP(0x71b, "PARTE5_CHARGE_10");
        TELEPORTNPCTOWP(0xe901, "PARTM5_PATH_62");
        AI_OUTPUT(HERO, HERO, "DIA_Marvin_Q602_FinalBattle_15_02");
        WLD_SENDTRIGGER("Q602_FINALWAR_04");
        Q602_FINALBATTLE_TELEPORTWARRIORS();
        Q602_FINALBATTLE_FLAGS_IMMORTAL();
    };
}

var int Q602_FINALWAR_HELP_APPLY.Q602_FINALWAR_HELP_COUNT = 0;
func void Q602_FINALWAR_MAGEHELP_APPLY() {
    Q602_FINALWAR_MAGEHELP_COUNT = (Q602_FINALWAR_MAGEHELP_COUNT) + (1);
    if ((Q602_FINALWAR_MAGEHELP_COUNT) == (4)) {
        Q602_FINALWAR_MAGEHELP_COUNT = 0;
        TELEPORTNPCTOWP(0x71b, "PARTE5_FIGHTPOINT_04");
        TELEPORTNPCTOWP(0xe901, "PARTM5_PATH_62");
        WLD_SENDTRIGGER("Q602_FINALBATTLE_WATERMAGES");
        Q602_FINALBATTLE_TELEPORTWARRIORS();
        Q602_FINALBATTLE_FLAGS_IMMORTAL();
        Q602_FINALBATTLE_NEWWOLFSONS_TELEPORT();
    };
}

var int Q602_FINALWAR_MAGEHELP_APPLY.Q602_FINALWAR_MAGEHELP_COUNT = 0;
func void Q602_FINALWAR_ULRYK_EVENT() {
    WLD_PLAYEFFECT("FX_IceWave", HERO, HERO, 0, 0, 0, FALSE);
    WLD_PLAYEFFECT("FX_EarthQuake", HERO, HERO, 0, 0, 0, FALSE);
    WLD_PLAYEFFECT("FX_DUST", HERO, HERO, 0, 0, 0, FALSE);
    SND_PLAY("ROCKS_KICK_01");
    SND_PLAY("PLACEHOLDER_SlamDoor01");
    SND_PLAY("DESTROY_WOOD");
    SND_PLAY("PEACEKEEPER_EFFECT");
    WLD_SENDTRIGGER("Q602_ULRYK_DOOR_01");
    WLD_SENDTRIGGER("Q602_ULRYK_DOOR_02");
    WLD_SENDTRIGGER("Q602_ULRYK_DOOR_03");
}

func void Q602_CHANGEMILITIARTN() {
    if (HLP_ISVALIDNPC(MIL_10156_MILITIA_Q602)) {
        if ((NPC_ISDEAD(MIL_10156_MILITIA_Q602)) == (FALSE)) {
            B_STARTOTHERROUTINE(MIL_10156_MILITIA_Q602, "AFTERFIGHT");
            NPC_REFRESH(MIL_10156_MILITIA_Q602);
        };
    };
    if (HLP_ISVALIDNPC(MIL_10157_MILITIA_Q602)) {
        if ((NPC_ISDEAD(MIL_10157_MILITIA_Q602)) == (FALSE)) {
            B_STARTOTHERROUTINE(MIL_10157_MILITIA_Q602, "AFTERFIGHT");
            NPC_REFRESH(MIL_10157_MILITIA_Q602);
        };
    };
    if (HLP_ISVALIDNPC(MIL_10158_MILITIA_Q602)) {
        if ((NPC_ISDEAD(MIL_10158_MILITIA_Q602)) == (FALSE)) {
            B_STARTOTHERROUTINE(MIL_10158_MILITIA_Q602, "AFTERFIGHT");
            NPC_REFRESH(MIL_10158_MILITIA_Q602);
        };
    };
    if (HLP_ISVALIDNPC(MIL_10159_MILITIA_Q602)) {
        if ((NPC_ISDEAD(MIL_10159_MILITIA_Q602)) == (FALSE)) {
            B_STARTOTHERROUTINE(MIL_10159_MILITIA_Q602, "AFTERFIGHT");
            NPC_REFRESH(MIL_10159_MILITIA_Q602);
        };
    };
    if (HLP_ISVALIDNPC(MIL_10160_MILITIA_Q602)) {
        if ((NPC_ISDEAD(MIL_10160_MILITIA_Q602)) == (FALSE)) {
            B_STARTOTHERROUTINE(MIL_10160_MILITIA_Q602, "AFTERFIGHT");
            NPC_REFRESH(MIL_10160_MILITIA_Q602);
        };
    };
    if (HLP_ISVALIDNPC(MIL_10161_MILITIA_Q602)) {
        if ((NPC_ISDEAD(MIL_10161_MILITIA_Q602)) == (FALSE)) {
            B_STARTOTHERROUTINE(MIL_10161_MILITIA_Q602, "AFTERFIGHT");
            NPC_REFRESH(MIL_10161_MILITIA_Q602);
        };
    };
    if (HLP_ISVALIDNPC(MIL_10162_MILITIA_Q602)) {
        if ((NPC_ISDEAD(MIL_10162_MILITIA_Q602)) == (FALSE)) {
            B_STARTOTHERROUTINE(MIL_10162_MILITIA_Q602, "AFTERFIGHT");
            NPC_REFRESH(MIL_10162_MILITIA_Q602);
        };
    };
    if (HLP_ISVALIDNPC(MIL_10163_MILITIA_Q602)) {
        if ((NPC_ISDEAD(MIL_10163_MILITIA_Q602)) == (FALSE)) {
            B_STARTOTHERROUTINE(MIL_10163_MILITIA_Q602, "AFTERFIGHT");
            NPC_REFRESH(MIL_10163_MILITIA_Q602);
        };
    };
    if (HLP_ISVALIDNPC(MIL_10165_MILITIA_Q602)) {
        if ((NPC_ISDEAD(MIL_10165_MILITIA_Q602)) == (FALSE)) {
            B_STARTOTHERROUTINE(MIL_10165_MILITIA_Q602, "AFTERFIGHT");
            NPC_REFRESH(MIL_10165_MILITIA_Q602);
        };
    };
    if (HLP_ISVALIDNPC(MIL_10167_MILITIA_Q602)) {
        if ((NPC_ISDEAD(MIL_10167_MILITIA_Q602)) == (FALSE)) {
            B_STARTOTHERROUTINE(MIL_10167_MILITIA_Q602, "AFTERFIGHT");
            NPC_REFRESH(MIL_10167_MILITIA_Q602);
        };
    };
    if (HLP_ISVALIDNPC(MIL_10169_MILITIA_Q602)) {
        if ((NPC_ISDEAD(MIL_10169_MILITIA_Q602)) == (FALSE)) {
            B_STARTOTHERROUTINE(MIL_10169_MILITIA_Q602, "AFTERFIGHT");
            NPC_REFRESH(MIL_10169_MILITIA_Q602);
        };
    };
    if (HLP_ISVALIDNPC(MIL_10171_MILITIA_Q602)) {
        if ((NPC_ISDEAD(MIL_10171_MILITIA_Q602)) == (FALSE)) {
            B_STARTOTHERROUTINE(MIL_10171_MILITIA_Q602, "AFTERFIGHT");
            NPC_REFRESH(MIL_10171_MILITIA_Q602);
        };
    };
    if (HLP_ISVALIDNPC(MIL_10173_MILITIA_Q602)) {
        if ((NPC_ISDEAD(MIL_10173_MILITIA_Q602)) == (FALSE)) {
            B_STARTOTHERROUTINE(MIL_10173_MILITIA_Q602, "AFTERFIGHT");
            NPC_REFRESH(MIL_10173_MILITIA_Q602);
        };
    };
    if (HLP_ISVALIDNPC(MIL_10175_MILITIA_Q602)) {
        if ((NPC_ISDEAD(MIL_10175_MILITIA_Q602)) == (FALSE)) {
            B_STARTOTHERROUTINE(MIL_10175_MILITIA_Q602, "AFTERFIGHT");
            NPC_REFRESH(MIL_10175_MILITIA_Q602);
        };
    };
    if (HLP_ISVALIDNPC(MIL_10177_MILITIA_Q602)) {
        if ((NPC_ISDEAD(MIL_10177_MILITIA_Q602)) == (FALSE)) {
            B_STARTOTHERROUTINE(MIL_10177_MILITIA_Q602, "AFTERFIGHT");
            NPC_REFRESH(MIL_10177_MILITIA_Q602);
        };
    };
    if (HLP_ISVALIDNPC(MIL_10179_MILITIA_Q602)) {
        if ((NPC_ISDEAD(MIL_10179_MILITIA_Q602)) == (FALSE)) {
            B_STARTOTHERROUTINE(MIL_10179_MILITIA_Q602, "AFTERFIGHT");
            NPC_REFRESH(MIL_10179_MILITIA_Q602);
        };
    };
    B_STARTOTHERROUTINE(KDW_303_RIEROL_Q602, "AFTERFIGHT");
    NPC_REFRESH(KDW_303_RIEROL_Q602);
    B_STARTOTHERROUTINE(KDW_206_OTHEKAR_Q602, "AFTERFIGHT");
    NPC_REFRESH(KDW_206_OTHEKAR_Q602);
    B_STARTOTHERROUTINE(KDW_301_CUSTO_Q602, "AFTERFIGHT");
    NPC_REFRESH(KDW_301_CUSTO_Q602);
    B_STARTOTHERROUTINE(KDW_214_BADULF_Q602, "AFTERFIGHT");
    NPC_REFRESH(KDW_214_BADULF_Q602);
    B_STARTOTHERROUTINE(KDW_216_INGOLF_Q602, "AFTERFIGHT");
    NPC_REFRESH(KDW_216_INGOLF_Q602);
    B_STARTOTHERROUTINE(KDW_215_NOTGER_Q602, "AFTERFIGHT");
    NPC_REFRESH(KDW_215_NOTGER_Q602);
}

func void Q602_FINALBATTLE_ENDBATTLE() {
    Q602_PARTYMEMBERSEEENEMY = FALSE;
    HERO.AIVAR[4] = TRUE;
    Q602_CHANGEMILITIARTN();
    FF_APPLYONCEEXT(0xef23, 75, 4);
}

func void Q602_FINALBATTLE_ENDBATTLE_APPLY() {
    Q602_FINALBATTLE_ENDBATTLE_COUNT = (Q602_FINALBATTLE_ENDBATTLE_COUNT) + (1);
    if ((Q602_FINALBATTLE_ENDBATTLE_COUNT) == (4)) {
        Q602_FINALBATTLE_ENDBATTLE_COUNT = 0;
        Q602_FINALBATTLE_TELEPORTWARRIORS();
        CUTSCENE_START(0x16a45);
    };
}

var int Q602_FINALBATTLE_ENDBATTLE_APPLY.Q602_FINALBATTLE_ENDBATTLE_COUNT = 0;
func void Q602_FINALWAR_ULRYK_FINISH() {
    FF_APPLYONCEEXT(0xef26, 75, 4);
}

func void Q602_FINALWAR_ULRYK_FINISH_APPLY() {
    Q602_FINALWAR_ULRYK_FINISH_COUNT = (Q602_FINALWAR_ULRYK_FINISH_COUNT) + (1);
    if ((Q602_FINALWAR_ULRYK_FINISH_COUNT) == (4)) {
        Q602_FINALWAR_ULRYK_FINISH_COUNT = 0;
        Q602_FINISHFINALWARBATTLE = 2;
        WLD_SENDUNTRIGGER("Q602_FINALWAR_ULRYK_01");
        WLD_SENDUNTRIGGER("Q602_FINALWAR_ULRYK_02");
        WLD_SENDUNTRIGGER("Q602_FINALWAR_ULRYK_03");
        DIACAM_ENABLE();
        B_STARTOTHERROUTINE(MIL_4000_RODERICH_Q602, "Q602_FIGHT");
        NPC_REFRESH(MIL_4000_RODERICH_Q602);
        MIL_4000_RODERICH_Q602.FIGHT_TACTIC = FAI_HUMAN_NOJUMP;
        B_STARTOTHERROUTINE(NONE_15_ULRYK_Q602, "Q602_FIGHT");
        NPC_REFRESH(NONE_15_ULRYK_Q602);
        NONE_15_ULRYK_Q602.FIGHT_TACTIC = FAI_HUMAN_NOJUMP;
        NONE_15_ULRYK_Q602.FLAGS = 2;
        MIL_4000_RODERICH_Q602.AIVAR[15] = TRUE;
        NONE_15_ULRYK_Q602.AIVAR[15] = TRUE;
        HERO.AIVAR[4] = FALSE;
    };
}

var int Q602_FINALWAR_ULRYK_FINISH_APPLY.Q602_FINALWAR_ULRYK_FINISH_COUNT = 0;
func void Q602_DEADDOGGO_APPLY() {
    if ((Q602_DEADDOGGO_COUNT) == (0)) {
        PRINTD("Rozpoczynam - Q602_DeadDoggo_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("Q602_MOVER_DOGGO_01");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        CHANGEVOBCOLLISION("Q602_VOB_DOGGO_01", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("Q602_VOB_DOGGO_02", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("Q602_VOB_DOGGO_03", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("Q602_VOB_DOGGO_04", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("Q602_VOB_DOGGO_05", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("Q602_MOVER_DOGGO_01");
        Q602_DEADDOGGO_COUNT = 1;
    };
    if (((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Sko刃zy쓴m - Q602_DeadDoggo_Apply");
        CHANGEVOBCOLLISION("Q602_VOB_DOGGO_01", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("Q602_VOB_DOGGO_02", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("Q602_VOB_DOGGO_03", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("Q602_VOB_DOGGO_04", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("Q602_VOB_DOGGO_05", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xef28);
        Q602_DEADDOGGO_COUNT = 0;
    };
}

var int Q602_DEADDOGGO_APPLY.Q602_DEADDOGGO_COUNT = 0;
instance Q602_DEADDOGGO_APPLY.MOVER1(ZCMOVER)
var int Q602_DEADDOGGO_APPLY.MOVPTR1 = 0;
func void Q602_GRAYSONNOTE_APPLY() {
    if ((Q602_GRAYSONNOTE_COUNT) == (0)) {
        PRINTD("Rozpoczynam - Q602_GraysonNote_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("Q602_E2_GRAYSONNOTE");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        MOVPTR2 = MEM_SEARCHVOBBYNAME("Q602_E3_GRAYSONNOTE");
        MOVER2 = MEM_PTRTOINST(MOVPTR2);
        CHANGEVOBCOLLISION("Q602_NEWSBOARD_01", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("Q602_NEWSBOARD_02", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("Q602_E2_GRAYSONNOTE");
        WLD_SENDTRIGGER("Q602_E3_GRAYSONNOTE");
        Q602_GRAYSONNOTE_COUNT = 1;
    };
    if (((((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Sko刃zy쓴m - Q602_GraysonNote_Apply");
        CHANGEVOBCOLLISION("Q602_NEWSBOARD_01", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("Q602_NEWSBOARD_02", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xef2c);
        Q602_GRAYSONNOTE_COUNT = 0;
    };
}

var int Q602_GRAYSONNOTE_APPLY.Q602_GRAYSONNOTE_COUNT = 0;
instance Q602_GRAYSONNOTE_APPLY.MOVER1(ZCMOVER)
instance Q602_GRAYSONNOTE_APPLY.MOVER2(ZCMOVER)
var int Q602_GRAYSONNOTE_APPLY.MOVPTR1 = 0;
var int Q602_GRAYSONNOTE_APPLY.MOVPTR2 = 0;
func void Q602_GRIFCORPSE_APPLY() {
    if ((Q602_GRIFCORPSE_COUNT) == (0)) {
        PRINTD("Rozpoczynam - Q602_GrifCorpse_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("Q602_MOVER_GRIF");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        CHANGEVOBCOLLISION("Q602_GRIF", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("Q602_MOVER_GRIF");
        Q602_GRIFCORPSE_COUNT = 1;
    };
    if (((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Sko刃zy쓴m - Q602_GrifCorpse_Apply");
        CHANGEVOBCOLLISION("Q602_GRIF", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xef32);
        Q602_GRIFCORPSE_COUNT = 0;
    };
}

var int Q602_GRIFCORPSE_APPLY.Q602_GRIFCORPSE_COUNT = 0;
instance Q602_GRIFCORPSE_APPLY.MOVER1(ZCMOVER)
var int Q602_GRIFCORPSE_APPLY.MOVPTR1 = 0;
func void Q602_SPAWNALLNPC() {
    if ((Q602_HOMELESSDUDEDEAD) == (FALSE)) {
        Q602_HOMELESSBODY();
    };
    if ((Q509_CARAMONVOLFZACKE) == (0)) {
        FINALBOARDS_CARAMONISDEAD = TRUE;
        WLD_SENDTRIGGER("KM_Q602_CARAMONBODY_BLOOD");
        if (((HERO.GUILD) == (GIL_SLD)) || ((MARVIN_LOSTGUILDARAXOS) == (1))) {
            WLD_INSERTNPC(0xea62, "PARTE1_CARAMON");
        } else {
            Q602_CARAMONBODY();
        };
    };
    if ((Q305_JAVAD_WENTTONEWHOME) >= (2)) {
        WLD_INSERTNPC(0xea7a, "PARTE1_LORENZO");
        WLD_INSERTNPC(0xea30, "PARTE1_JAVAD");
        Q602_SPAWNBRADLOCKANDHOMIES();
        Q602_KILLBRADLOCKANDHOMIES();
    };
    Q602_LORENZOBODY();
    Q602_SPAWNBRADLOCKANDHOMIES();
    if ((CQ005_FIGHTWITHTHUGS) != (1)) {
        WLD_INSERTNPC(0xea4f, "PARTE1_SILVESTR");
    };
    Q602_TENGRALDOOR = 1;
    if ((SQ305_MARVINCANUSEBLAKELEVER) == (2)) {
        WLD_INSERTNPC(0xea42, "PARTE3_BLAKE");
        WLD_INSERTNPC(0xea45, "PARTE3_HASMETH");
        WLD_INSERTNPC(0xea48, "PARTE3_THULSA");
        Q602_VOLKERGUARDSBODY_V1();
    };
    WLD_INSERTNPC(0xe9d1, "PARTE3_BLAKE");
    WLD_INSERTNPC(0xe9d4, "PARTE3_HASMETH");
    WLD_INSERTNPC(0xe9d7, "PARTE3_THULSA");
    if ((Q504_RUUDVOLFZACKE) == (0)) {
        if ((LOG_GETSTATUS(MIS_CQ006)) == (LOG_SUCCESS)) {
            WLD_INSERTNPC(0xeadd, "PARTE3_RUUD");
        } else {
            Q602_RUUDBODY();
        };
    };
    if ((Q509_ARWIDVOLFZACKE) == (0)) {
        WLD_INSERTNPC(0xe98b, "PARTM3_BARRACK_HOUSE1_BED06");
    };
    if ((Q308_WHOWILLDIE) != (2)) {
        WLD_INSERTNPC(0xea81, "PARTE4_OSSIP");
        WLD_INSERTNPC(0xea3a, "PARTE4_OSSIP_FRIEND_02");
        WLD_INSERTNPC(0xea3e, "PARTE4_OSSIP_FRIEND_01");
    };
    if (((Q401_FABIOANDGANGGONE) == (2)) && ((FINALBOARDS_FABIOISDEAD) == (0))) {
        WLD_INSERTNPC(0xea33, "PARTE4_GALBO");
        WLD_INSERTNPC(0xea2e, "PARTE4_FABIO");
        WLD_INSERTNPC(0xea38, "PARTE4_SIGMUN");
        WLD_INSERTNPC(0xeab0, "PARTE4_WOMAN_03");
        WLD_INSERTNPC(0xeab4, "PARTE4_WOMAN_02");
        WLD_INSERTNPC(0xeab8, "PARTE4_WOMAN_01");
    };
    WLD_INSERTNPC(0xe9f5, "PARTE5_RAMSEY_01");
    WLD_INSERTNPC(0xe9ec, "PARTE5_RAMSEY_02");
    WLD_INSERTNPC(0xe9ef, "PARTE5_RAMSEY_03");
    WLD_INSERTNPC(0xe9f2, "PARTE5_RAMSEY_04");
    WLD_INSERTNPC(0xea18, "PARTM5_PATH_68");
    WLD_INSERTNPC(0xe92a, "PARTE5_VOLKERGUARD_01");
    WLD_INSERTNPC(0xe92e, "PARTE5_VOLKERGUARD_02");
    WLD_INSERTNPC(0xe932, "PARTE5_VOLKERGUARD_03");
    WLD_INSERTNPC(0xe936, "PARTE5_VOLKERGUARD_04");
    WLD_INSERTNPC(0xe93a, "PARTE5_VOLKERGUARD_05");
    if (((Q308_WHOWILLDIE) != (3)) && (NPC_KNOWSINFO(HERO, 0x12b35))) {
        WLD_SENDTRIGGER("Q602_MOVER_WALL_LUDLOF");
        WLD_INSERTNPC(0xeaed, "PARTM5_PATH_101");
        WLD_INSERTNPC(0xe9f8, "PARTE5_THIEF_01");
        WLD_INSERTNPC(0xe9fc, "PARTE5_THIEF_02");
    };
    if (((TAKEDOGGO) == (TRUE)) && ((Q505_VIKTORDOG) != (2))) {
        WLD_SENDTRIGGER("Q602_MOVER_WALL_DOGGO");
        Q602_DOGISDEAD = 1;
        FF_APPLYONCEEXTGT(0xef28, 0, -(1));
    };
    if (((Q509_GARDVOLFZACKE) == (FALSE)) && ((SQ219_EASTER_EGG) != (1))) {
        Q602_GARDINCITY = 1;
        WLD_INSERTNPC(0xea85, "PARTM1_PATH_20");
        WLD_INSERTNPC(0xe863, "PARTM1_PATH_20");
        WLD_INSERTNPC(0xe865, "PARTM1_PATH_20");
    };
    WLD_INSERTNPC(0xe879, "PARTM8_PATH_14");
    if ((LOG_GETSTATUS(MIS_SQ309)) == (LOG_SUCCESS)) {
        FF_APPLYONCEEXTGT(0xf3ac, 0, -(1));
    };
    if ((Q509_GRIFVOLFZACKE) == (FALSE)) {
        FF_APPLYONCEEXTGT(0xef32, 0, -(1));
    };
    if (((SQ417_DECISION) == (2)) && ((LOG_GETSTATUS(MIS_SQ417)) == (LOG_SUCCESS))) {
        WLD_INSERTNPC(0xe861, "PARTM3_PATH_152");
        WLD_INSERTNPC(0xc492, "PARTM3_ARMOR_01");
    };
    WLD_INSERTNPC(0xe9cd, "PARTM3_PATH_152");
    WLD_INSERTNPC(0xe9cf, "PARTM3_ARMOR_01");
    if ((LOG_GETSTATUS(MIS_KQ401)) == (LOG_SUCCESS)) {
        FF_APPLYONCEEXTGT(0xef2c, 0, -(1));
    };
    CHANGEVOBCOLLISION("Q602_NEWSBOARD_01", TRUE, TRUE, TRUE, TRUE);
    CHANGEVOBCOLLISION("Q602_NEWSBOARD_02", TRUE, TRUE, TRUE, TRUE);
}

func void Q602_SPAWNRIORDIAN() {
    PRINTD("Zmiana Gildi + respawn Riordian");
    if (!(NPC_ISDEAD(NONE_10104_VOLKERGUARD_Q602))) {
        NONE_10104_VOLKERGUARD_Q602.GUILD = GIL_BDT;
        NPC_SETTRUEGUILD(NONE_10104_VOLKERGUARD_Q602, GIL_BDT);
        NONE_10104_VOLKERGUARD_Q602.FLAGS = 0;
        B_IMMEDIATEATTACKPLAYER(NONE_10104_VOLKERGUARD_Q602, AR_KILL);
        WLD_INSERTNPC(0xe901, "PARTM4_PATH_49");
        Q602_VINEYARDFIGHT = 1;
        if ((SQ225_FINISHWAY) == (1)) {
            WLD_INSERTNPC(0xe858, "PARTE4_Q602_VINEYARDLEADER");
            WLD_INSERTNPC(0xea22, "PARTE4_Q602_VINEYARDLEADER_WARRIOR_01");
            WLD_INSERTNPC(0xea26, "PARTE4_Q602_VINEYARDLEADER_WARRIOR_02");
        } else if ((SQ225_FINISHWAY) == (2)) {
            WLD_INSERTNPC(0xeabc, "PARTE4_Q602_VINEYARDLEADER");
            WLD_INSERTNPC(0xea28, "PARTE4_Q602_VINEYARDLEADER_WARRIOR_01");
            WLD_INSERTNPC(0xea2c, "PARTE4_Q602_VINEYARDLEADER_WARRIOR_02");
        } else if ((SQ225_FINISHWAY) == (3)) {
            WLD_INSERTNPC(0xea1c, "PARTE4_Q602_VINEYARDLEADER");
            WLD_INSERTNPC(0xea1e, "PARTE4_Q602_VINEYARDLEADER_WARRIOR_02");
            WLD_INSERTNPC(0xea20, "PARTE4_Q602_VINEYARDLEADER_WARRIOR_01");
            WLD_INSERTNPC(0xe858, "PARTE4_Q602_VINEYARDLEADR_HOLDWIG_FIGHT");
            WLD_INSERTNPC(0xeabc, "PARTE4_Q602_VINEYARDLEADR_ANDERAS_FIGHT");
            WLD_INSERTNPC(0xea22, "PARTE4_Q602_VINEYARDLEADER_WARRIOR_03_FIGHT");
            WLD_INSERTNPC(0xea28, "PARTE4_Q602_VINEYARDLEADER_WARRIOR_04_FIGHT");
            BAU_2245_HOLDWIG_Q602.AIVAR[15] = TRUE;
            VLK_11181_ANDERAS_Q602.AIVAR[15] = TRUE;
            NONE_50203_HOLDWIGGUARD_Q602.AIVAR[15] = TRUE;
            NONE_50205_ANDERASGUARD_Q602.AIVAR[15] = TRUE;
            NONE_50200_VOLKERGUARD_Q602.FIGHT_TACTIC = FAI_HUMAN_NOJUMP;
            NONE_50201_VOLKERGUARD_Q602.FIGHT_TACTIC = FAI_HUMAN_NOJUMP;
            NONE_50202_VOLKERGUARD_Q602.FIGHT_TACTIC = FAI_HUMAN_NOJUMP;
            BAU_2245_HOLDWIG_Q602.FIGHT_TACTIC = FAI_HUMAN_NOJUMP;
            VLK_11181_ANDERAS_Q602.FIGHT_TACTIC = FAI_HUMAN_NOJUMP;
            NONE_50203_HOLDWIGGUARD_Q602.FIGHT_TACTIC = FAI_HUMAN_NOJUMP;
            NONE_50205_ANDERASGUARD_Q602.FIGHT_TACTIC = FAI_HUMAN_NOJUMP;
            Q602_TELEPORTRIORDIAN_VALERIOFIGHT();
        };
    };
    Q602_GUILD_V3 = TRUE;
}

func void Q602_VOLKER_RUNTOHERO() {
    if (NPC_ISINSTATE(VLK_15000_VOLKER_Q602, 0xab50)) {
        NPC_SETSTATETIME(VLK_15000_VOLKER_Q602, (SPL_TIME_FREEZE) + (1));
    };
    if (NPC_ISINSTATE(VLK_15000_VOLKER_Q602, 0xab85)) {
        NPC_SETSTATETIME(VLK_15000_VOLKER_Q602, (SPL_TIME_SHORTZAPPED) + (1));
    };
    if (NPC_ISINSTATE(VLK_15000_VOLKER_Q602, 0xab81)) {
        NPC_SETSTATETIME(VLK_15000_VOLKER_Q602, (SPL_TIME_WHIRLWIND) + (1));
    };
    MDL_APPLYOVERLAYMDS(VLK_15000_VOLKER_Q602, "HUMANS_Sprint.mds");
    NPC_CLEARAIQUEUE(VLK_15000_VOLKER_Q602);
    B_CLEARPERCEPTIONS(VLK_15000_VOLKER_Q602);
    AI_TURNTONPC(VLK_15000_VOLKER_Q602, HERO);
    AI_GOTONPC(VLK_15000_VOLKER_Q602, HERO);
}

func void Q602_VOLKER_ATTACK() {
    NPC_CLEARAIQUEUE(VLK_15000_VOLKER_Q602);
    AI_PLAYANI(VLK_15000_VOLKER_Q602, "T_BOSS_SWORDATTACK");
    if ((VLK_15000_VOLKER_Q602.AIVAR[17]) == (TRUE)) {
        FF_APPLYONCEEXT(0xef3a, 360, 14);
    };
    FF_APPLYONCEEXT(0xef3a, 180, 14);
}

func void Q602_VOLKER_ATTACK_APPLY() {
    Q602_VOLKER_ATTACK_COUNT = (Q602_VOLKER_ATTACK_COUNT) + (1);
    if ((Q602_VOLKER_ATTACK_COUNT) == (2)) {
        if ((NPC_GETDISTTONPC(HERO, VLK_15000_VOLKER_Q602)) <= (300)) {
            NPC_CLEARAIQUEUE(HERO);
            PRINTD("Przewracasz si!");
            AI_PLAYANI(HERO, "T_BOSSFALLDOWN");
        };
        B_IMMEDIATEATTACKPLAYER(VLK_15000_VOLKER_Q602, AR_NONE);
    };
    if ((Q602_VOLKER_ATTACK_COUNT) == (14)) {
        Q602_VOLKER_ATTACK_COUNT = 0;
        MDL_REMOVEOVERLAYMDS(VLK_15000_VOLKER_Q602, "Humans_Sprint.mds");
    };
}

var int Q602_VOLKER_ATTACK_APPLY.Q602_VOLKER_ATTACK_COUNT = 0;
