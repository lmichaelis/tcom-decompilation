func void Q205_PREPARESCENE() {
    FF_APPLYONCEEXTGT(0xf300, 0, -(1));
    B_STARTOTHERROUTINE(NONE_11037_MARKUS, "Q205_VILLAGE");
    NPC_REFRESH(NONE_11037_MARKUS);
    TELEPORTNPCTOWP(0xe2c2, NONE_11037_MARKUS.WP);
    B_STARTOTHERROUTINE(NONE_6262_CARDEN, "Q205_VILLAGE");
    NPC_REFRESH(NONE_6262_CARDEN);
    TELEPORTNPCTOWP(0xe162, NONE_6262_CARDEN.WP);
    if (!(NPC_ISDEAD(MIL_6270_JERRAN))) {
        B_STARTOTHERROUTINE(MIL_6270_JERRAN, TOT);
        NPC_REFRESH(MIL_6270_JERRAN);
        TELEPORTNPCTOWP(0xdbd1, MIL_6270_JERRAN.WP);
    };
    if (!(NPC_ISDEAD(MIL_6271_RENEGADE))) {
        B_STARTOTHERROUTINE(MIL_6271_RENEGADE, TOT);
        NPC_REFRESH(MIL_6271_RENEGADE);
        TELEPORTNPCTOWP(0xdba9, MIL_6271_RENEGADE.WP);
    };
}

func void Q205_PREPARESCENE_APPLY() {
    if ((Q205_PREPARESCENE_COLLISION) == (0)) {
        PRINTD("Rozpoczynam - Q205_PrepareScene_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("Q205_TREE_FULL");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        MOVPTR2 = MEM_SEARCHVOBBYNAME("Q205_TREE_HALF");
        MOVER2 = MEM_PTRTOINST(MOVPTR2);
        MOVPTR3 = MEM_SEARCHVOBBYNAME("Q205_MOVER_BENCHES");
        MOVER3 = MEM_PTRTOINST(MOVPTR3);
        MOVPTR4 = MEM_SEARCHVOBBYNAME("Q205_MOVER_CORPSE_GERWIN");
        MOVER4 = MEM_PTRTOINST(MOVPTR4);
        MOVPTR5 = MEM_SEARCHVOBBYNAME("Q205_MOVER_CORPSE_MILITIA");
        MOVER5 = MEM_PTRTOINST(MOVPTR5);
        CHANGEVOBCOLLISION("Q205_CRATE", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("Q205_BENCH_01", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("Q205_BENCH_02", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("Q205_CORPSE_GERWIN", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("Q205_CORPSE_MILITIA", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("Q205_TREE_FULL");
        WLD_SENDTRIGGER("Q205_TREE_HALF");
        WLD_SENDTRIGGER("Q205_MOVER_BENCHES");
        WLD_SENDTRIGGER("Q205_MOVER_CORPSE_GERWIN");
        WLD_SENDTRIGGER("Q205_MOVER_CORPSE_MILITIA");
        WLD_SENDTRIGGER("Q205_MOVER_WINE");
        Q205_PREPARESCENE_COLLISION = 1;
    };
    if (((((((((((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER3.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER3.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER4.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER4.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER5.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER5.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Skoñczy³em - Q205_PrepareScene_Apply");
        CHANGEVOBCOLLISION("Q205_CRATE", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("Q205_BENCH_01", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("Q205_BENCH_02", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("Q205_CORPSE_GERWIN", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("Q205_CORPSE_MILITIA", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xf300);
        Q205_PREPARESCENE_COLLISION = 0;
    };
}

var int Q205_PREPARESCENE_APPLY.Q205_PREPARESCENE_COLLISION = 0;
instance Q205_PREPARESCENE_APPLY.MOVER1(ZCMOVER)
instance Q205_PREPARESCENE_APPLY.MOVER2(ZCMOVER)
instance Q205_PREPARESCENE_APPLY.MOVER3(ZCMOVER)
instance Q205_PREPARESCENE_APPLY.MOVER4(ZCMOVER)
instance Q205_PREPARESCENE_APPLY.MOVER5(ZCMOVER)
var int Q205_PREPARESCENE_APPLY.MOVPTR1 = 0;
var int Q205_PREPARESCENE_APPLY.MOVPTR2 = 0;
var int Q205_PREPARESCENE_APPLY.MOVPTR3 = 0;
var int Q205_PREPARESCENE_APPLY.MOVPTR4 = 0;
var int Q205_PREPARESCENE_APPLY.MOVPTR5 = 0;
func void Q205_SPAWNRENEGADES() {
    PRINTD("Spawn renegades");
    WLD_INSERTNPC(0xdba0, "PART7_CAVE_11");
    WLD_INSERTNPC(0xdbc0, "PART7_CAVE_50");
    WLD_INSERTNPC(0xdbca, "PART7_PATH_60");
    WLD_INSERTNPC(0xdbf3, "PART7_PATH_60");
    WLD_INSERTNPC(0xdbd5, "PART7_PATH_60");
    WLD_INSERTNPC(0xdbad, "PART7_CAVE_GUARD_IDLE_03");
    WLD_INSERTNPC(0xdbe7, "PART7_PATH_60");
}

func void Q205_SALVIDIALOGUEUNLOCKCAMERA() {
    FF_APPLYONCEEXT(0xf30e, 75, 4);
}

func void Q205_SALVIDIALOGUEUNLOCKCAMERA_APPLY() {
    Q205_SALVIDIALOGUEUNLOCKCAMERA_COUNT = (Q205_SALVIDIALOGUEUNLOCKCAMERA_COUNT) + (1);
    if ((Q205_SALVIDIALOGUEUNLOCKCAMERA_COUNT) == (4)) {
        WLD_SENDUNTRIGGER("KM_RENEGADE_ENTRY_01");
        WLD_SENDUNTRIGGER("KM_RENEGADE_PRISON");
        WLD_SENDUNTRIGGER("KM_RENEGADE_PRISON_02");
        HERO.AIVAR[4] = FALSE;
    };
}

var int Q205_SALVIDIALOGUEUNLOCKCAMERA_APPLY.Q205_SALVIDIALOGUEUNLOCKCAMERA_COUNT = 0;
func void Q205_SPAWNTURTLE() {
    WLD_INSERTNPC(0xc3dd, "FP_PART7_HARRIER_01");
    WLD_INSERTNPC(0xc3de, "FP_PART7_HARRIER_02");
    WLD_INSERTNPC(0xc3df, "FP_PART7_HARRIER_03");
    WLD_INSERTNPC(0xc3dc, "FP_ROAM_PART7_56");
    WLD_INSERTNPC(0xc3dc, "FP_ROAM_PART7_80");
}

func void Q205_EATBREAD() {
    AI_STOPLOOKAT(SELF);
    CREATEINVITEMS(SELF, 0x84b2, 1);
    AI_USEITEM(SELF, 0x84b2);
}

func void Q205_CANPREPAREMEAL() {
    Q205_PREPAREMEAL = 1;
    MOB_CHANGEFOCUSNAME("Q205_PAN", "MOBNAME_PAN");
}

func void Q205_BUSY() {
    if ((Q205_BERTOBRODDYBUSY) == (FALSE)) {
        Q205_BERTOBRODDYBUSY = TRUE;
        AI_LOGENTRY(TOPIC_Q205, LOG_Q205_BUSY);
    };
}

func void Q205_TILLCUTSCENE_ENABLE() {
    Q205_TILLCUTSCENE_COUNT = (Q205_TILLCUTSCENE_COUNT) + (1);
    if ((Q205_TILLCUTSCENE_COUNT) == (1)) {
        if ((NPC_ISDEAD(KM_TURTLE_RENEGADE_01)) == (FALSE)) {
            B_KILLNPC(0xc3dd);
        };
        if ((NPC_ISDEAD(KM_TURTLE_RENEGADE_02)) == (FALSE)) {
            B_KILLNPC(0xc3de);
        };
        if ((NPC_ISDEAD(KM_TURTLE_RENEGADE_03)) == (FALSE)) {
            B_KILLNPC(0xc3df);
        };
    };
    if ((Q205_TILLCUTSCENE_COUNT) == (2)) {
        NPC_REFRESH(MIL_6276_TILL);
    };
    if ((Q205_TILLCUTSCENE_COUNT) == (4)) {
        CUTSCENE_START(0x1690d);
    };
}

var int Q205_TILLCUTSCENE_ENABLE.Q205_TILLCUTSCENE_COUNT = 0;
func void Q205_CHANGERENEGADEDOOR() {
    FF_APPLYONCEEXTGT(0xf317, 0, -(1));
}

func void Q205_CHANGERENEGADEDOOR_APPLY() {
    if ((Q205_CHANGERENEGADEDOOR_FRONT_COLLISION) == (0)) {
        PRINTD("Rozpoczynam - Q205_ChangeRenegadeDoor_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("Q205_MOVER_DOOR_FRONT_RENEGADE_01");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        MOVPTR2 = MEM_SEARCHVOBBYNAME("Q205_MOVER_DOOR_FRONT_RENEGADE_02");
        MOVER2 = MEM_PTRTOINST(MOVPTR2);
        CHANGEVOBCOLLISION("DOOR_RENEGADE01", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("DOOR_RENEGADE02", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("Q205_MOVER_DOOR_FRONT_RENEGADE_01");
        WLD_SENDTRIGGER("Q205_MOVER_DOOR_FRONT_RENEGADE_02");
        Q205_CHANGERENEGADEDOOR_FRONT_COLLISION = 1;
    };
    if (((((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Skoñczy³em - Q205_ChangeRenegadeDoor_Apply");
        CHANGEVOBCOLLISION("DOOR_RENEGADE01", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("DOOR_RENEGADE02", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xf317);
        Q205_CHANGERENEGADEDOOR_FRONT_COLLISION = 0;
    };
}

var int Q205_CHANGERENEGADEDOOR_APPLY.Q205_CHANGERENEGADEDOOR_FRONT_COLLISION = 0;
instance Q205_CHANGERENEGADEDOOR_APPLY.MOVER1(ZCMOVER)
instance Q205_CHANGERENEGADEDOOR_APPLY.MOVER2(ZCMOVER)
var int Q205_CHANGERENEGADEDOOR_APPLY.MOVPTR1 = 0;
var int Q205_CHANGERENEGADEDOOR_APPLY.MOVPTR2 = 0;
func void Q205_BERTOHELP() {
    B_REMOVENPC(0xdbe7);
    B_STARTOTHERROUTINE(MIL_6275_BERTO, "Q205_WATERFALL");
    TELEPORTNPCTOWP(0xdbd5, MIL_6275_BERTO.WP);
    B_STARTOTHERROUTINE(MIL_6268_BRODDY, TOT);
    TELEPORTNPCTOWP(0xdbca, MIL_6268_BRODDY.WP);
    B_STARTOTHERROUTINE(MIL_6264_RENEGADE, TOT);
    TELEPORTNPCTOWP(0xdba0, MIL_6264_RENEGADE.WP);
    B_STARTOTHERROUTINE(MIL_6267_SALVI, TOT);
    TELEPORTNPCTOWP(0xdbc0, MIL_6267_SALVI.WP);
    B_STARTOTHERROUTINE(MIL_6277_RENEGADE, TOT);
    TELEPORTNPCTOWP(0xdbad, MIL_6277_RENEGADE.WP);
    B_STARTOTHERROUTINE(NONE_6269_DANIEL, TOT);
    TELEPORTNPCTOWP(0xdbf3, NONE_6269_DANIEL.WP);
    FF_APPLYONCEEXTGT(0xf31e, 0, -(1));
}

func void Q205_CHANGERENEGADEDOOR_BACK() {
    if ((Q205_CHANGERENEGADEDOOR_BACK_COLLISION) == (0)) {
        PRINTD("Rozpoczynam - Q205_ChangeRenegadeDoor_Back");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("Q205_MOVER_TILLDOOR_01");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        MOVPTR2 = MEM_SEARCHVOBBYNAME("Q205_MOVER_TILLDOOR_02");
        MOVER2 = MEM_PTRTOINST(MOVPTR2);
        MOVPTR3 = MEM_SEARCHVOBBYNAME("Q205_MOVER_CORPSE_TILL");
        MOVER3 = MEM_PTRTOINST(MOVPTR3);
        CHANGEVOBCOLLISION("Q205_DOOR_TILL_01", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("Q205_DOOR_TILL_02", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("Q205_CORPSE_TILL", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("Q205_MOVER_TILLDOOR_01");
        WLD_SENDTRIGGER("Q205_MOVER_TILLDOOR_02");
        WLD_SENDTRIGGER("Q205_MOVER_CORPSE_TILL");
        Q205_CHANGERENEGADEDOOR_BACK_COLLISION = 1;
    };
    if (((((((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER3.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER3.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Skoñczy³em - Q205_ChangeRenegadeDoor_Back");
        CHANGEVOBCOLLISION("Q205_DOOR_TILL_01", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("Q205_DOOR_TILL_02", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("Q205_CORPSE_TILL", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xf31e);
        Q205_CHANGERENEGADEDOOR_BACK_COLLISION = 0;
    };
}

var int Q205_CHANGERENEGADEDOOR_BACK.Q205_CHANGERENEGADEDOOR_BACK_COLLISION = 0;
instance Q205_CHANGERENEGADEDOOR_BACK.MOVER1(ZCMOVER)
instance Q205_CHANGERENEGADEDOOR_BACK.MOVER2(ZCMOVER)
instance Q205_CHANGERENEGADEDOOR_BACK.MOVER3(ZCMOVER)
var int Q205_CHANGERENEGADEDOOR_BACK.MOVPTR1 = 0;
var int Q205_CHANGERENEGADEDOOR_BACK.MOVPTR2 = 0;
var int Q205_CHANGERENEGADEDOOR_BACK.MOVPTR3 = 0;
func void Q205_TELEPORTTOCAVERENEGADE() {
    if ((Q205_MARVINCAVERENEGADE_COUNT) == (1)) {
        FADESCREENTOBLACK(2);
        if ((HERO.ATTRIBUTE[0]) != (HERO.ATTRIBUTE[1])) {
            HERO.ATTRIBUTE[0] = HERO.ATTRIBUTE[1];
        };
    };
    if ((Q205_MARVINCAVERENEGADE_COUNT) == (4)) {
        WLD_SENDUNTRIGGER("KM_RENEGADE_ENTRY_01");
    };
    if ((Q205_MARVINCAVERENEGADE_COUNT) == (3)) {
        AI_TELEPORT(HERO, "PART7_CAVE_77");
        B_STARTOTHERROUTINE(MIL_6267_SALVI, "PRISON");
        NPC_REFRESH(MIL_6267_SALVI);
        TELEPORTNPCTOWP(0xdbc0, "PART7_CAVE_47");
        B_STARTOTHERROUTINE(MIL_6264_RENEGADE, "PRISON");
        NPC_REFRESH(MIL_6264_RENEGADE);
        TELEPORTNPCTOWP(0xdba0, "PART7_CAVE_GUARD");
    };
    if ((Q205_MARVINCAVERENEGADE_COUNT) == (4)) {
        HERO.AIVAR[96] = 1;
    };
    if ((Q205_MARVINCAVERENEGADE_COUNT) == (6)) {
        GETITEMHOLDER();
        B_GIVEALLINVENTORY(HERO, ITEM_HOLDER);
        MOB_CREATEITEMS("Q205_RENEGADECHEST", 0x913e, 1);
        MDL_APPLYOVERLAYMDS(HERO, "Humans_Marvin_RenegadePrison.MDS");
        MDL_STARTFACEANI(HERO, "S_EYESCLOSED", 0x3f800000, -1082130432);
    };
    if ((Q205_MARVINCAVERENEGADE_COUNT) == (7)) {
        AI_PLAYANIBS(HERO, "R_MPRISON01", BS_SIT);
        WLD_SENDTRIGGER("KM_RENEGADE_PRISON");
        FADESCREENFROMBLACK(3);
    };
    if ((Q205_MARVINCAVERENEGADE_COUNT) == (11)) {
        NPC_REFRESH(MIL_6267_SALVI);
        AI_SETWALKMODE(MIL_6267_SALVI, NPC_WALK);
        AI_GOTOWP(MIL_6267_SALVI, "PART7_CAVE_50");
        B_STARTOTHERROUTINE(MIL_6267_SALVI, "IDLE");
    };
    if (((Q205_MARVINCAVERENEGADE_COUNT) >= (12)) && ((Q205_MARVINCAVERENEGADE_COUNT) <= (14))) {
        WLD_SENDTRIGGER("KM_RENEGADE_PRISON_02");
    };
    if ((Q205_MARVINCAVERENEGADE_COUNT) == (15)) {
        HERO.AIVAR[4] = FALSE;
        PLAYER_MOBSI_PRODUCTION = MOBSI_NONE;
    };
    Q205_MARVINCAVERENEGADE_COUNT = (Q205_MARVINCAVERENEGADE_COUNT) + (1);
}

func void Q205_ONITEMTAKEN_HOOK(var C_ITEM ITEM) {
    if ((Q205_FOUNDRODERICHSTAMP) == (FALSE)) {
        if ((HLP_GETINSTANCEID(ITEM)) == (0x9140)) {
            if ((LOG_GETSTATUS(MIS_Q205)) == (LOG_RUNNING)) {
                B_LOGENTRY(TOPIC_Q205, LOG_Q205_FOUNDRODERICHSTAMP);
            };
            Q205_FOUNDRODERICHSTAMP = TRUE;
        };
    };
}

func int Q205_ONDROPUNCONSCIOUS(var C_NPC NPC) {
    if (((NPC_ISPLAYER(NPC)) && ((LOG_GETSTATUS(MIS_Q205)) == (LOG_RUNNING))) && ((Q205_MARVINRENEGADECAVE) == (2))) {
        PRINTD("Q205_OnDropUnconscious");
        return TRUE;
    };
    return FALSE;
}

func void Q205_TRANSFERHEROITEMS() {
    GETITEMHOLDER();
    B_GIVEALLINVENTORY(HERO, ITEM_HOLDER);
    MOB_CREATEITEMS("Q205_RENEGADECHEST", 0x913e, 1);
}

func void Q205_RENEGADESIGNOREMURDER_ENABLE() {
    Q205_TRYSOLVEDANIELPROBLEM = TRUE;
    HERO.AIVAR[95] = TRUE;
    NONE_6269_DANIEL.AIVAR[94] = TRUE;
    MIL_6264_RENEGADE.AIVAR[54] = TRUE;
    MIL_6267_SALVI.AIVAR[54] = TRUE;
    MIL_6268_BRODDY.AIVAR[54] = TRUE;
    MIL_6275_BERTO.AIVAR[54] = TRUE;
    MIL_6276_TILL.AIVAR[54] = TRUE;
    MIL_6277_RENEGADE.AIVAR[54] = TRUE;
}

func void Q205_RENEGADESIGNOREMURDER_DISABLE() {
    HERO.AIVAR[95] = FALSE;
    MIL_6264_RENEGADE.AIVAR[54] = FALSE;
    MIL_6267_SALVI.AIVAR[54] = FALSE;
    MIL_6268_BRODDY.AIVAR[54] = FALSE;
    MIL_6275_BERTO.AIVAR[54] = FALSE;
    MIL_6276_TILL.AIVAR[54] = FALSE;
    MIL_6277_RENEGADE.AIVAR[54] = FALSE;
}

func void Q205_CHANGERTNINRENEGADECAVE() {
    Q205_MARVINJOINEDRENEGADES = TRUE;
    B_STARTOTHERROUTINE(MIL_6264_RENEGADE, "CAVE");
    NPC_REFRESH(MIL_6264_RENEGADE);
    B_STARTOTHERROUTINE(MIL_6277_RENEGADE, "CAVE");
    NPC_REFRESH(MIL_6277_RENEGADE);
    B_STARTOTHERROUTINE(MIL_6275_BERTO, "Q205_FOLLOW");
    NPC_REFRESH(MIL_6275_BERTO);
    TELEPORTNPCTOWP(0xdbd5, "PART7_CAVE_52");
    AI_TELEPORTALWAYS(MIL_6275_BERTO, "PART7_CAVE_52", TRUE);
}

func void Q205_RENEGADEARMOR_SHOW() {
    ITM = NPC_GETEQUIPPEDARMOR(OTHER);
    if (((NPC_HASEQUIPPEDARMOR(OTHER)) == (TRUE)) && ((HLP_ISITEM(ITM, 0x8ab5)) == (TRUE))) {
        AI_PLAYANI(OTHER, "T_STAND_2_KILLME");
    };
    NPC_REMOVEINVITEMS(SELF, 0x8ab5, 1);
    AI_REMOVEWEAPON(SELF);
    B_GIVEINVITEMS(OTHER, SELF, 0x8ab5, 1);
    CREATEINVITEM(SELF, 0x8d0d);
    B_STOPLOOKAT(SELF);
    AI_USEITEMTOSTATE(SELF, 0x8d0d, 1);
    AI_WAIT(SELF, 0x40400000);
    AI_USEITEMTOSTATE(SELF, 0x8d0d, -(1));
}

instance Q205_RENEGADEARMOR_SHOW.ITM(C_ITEM)
func void Q205_RENEGADEARMOR_HIDE_RODERICH() {
    ITM = NPC_GETEQUIPPEDARMOR(OTHER);
    if (((NPC_HASEQUIPPEDARMOR(OTHER)) == (TRUE)) && ((HLP_ISITEM(ITM, 0x8ab5)) == (TRUE))) {
        AI_PLAYANI(OTHER, "T_REMOVE_KILLME");
    };
    B_GIVEINVITEMS(SELF, OTHER, 0x8ab5, 1);
}

instance Q205_RENEGADEARMOR_HIDE_RODERICH.ITM(C_ITEM)
func void Q205_RENEGADEARMOR_LENNART_GIVE() {
    NPC_REMOVEINVITEM(NONE_2009_LENNART, 0x8ab5);
}

func void Q205_RENEGADEARMOR_HIDE_LENNART() {
    ITM = NPC_GETEQUIPPEDARMOR(OTHER);
    if (((NPC_HASEQUIPPEDARMOR(OTHER)) == (TRUE)) && ((HLP_ISITEM(ITM, 0x8ab5)) == (TRUE))) {
        AI_EQUIPBESTARMOR(OTHER);
        AI_PLAYANI(OTHER, "T_REMOVE_KILLME");
        AI_FUNCTION(OTHER, 0xf333);
    };
}

instance Q205_RENEGADEARMOR_HIDE_LENNART.ITM(C_ITEM)
func void Q205_REMOVESCENE() {
    B_STARTOTHERROUTINE(MIL_6275_BERTO, TOT);
    TELEPORTNPCTOWP(0xdbd5, MIL_6275_BERTO.WP);
    FF_APPLYONCEEXTGT(0xf337, 0, -(1));
}

func void Q205_REMOVECORPSE_APPLY() {
    if ((Q205_REMOVECORPSE_COLLISION) == (0)) {
        PRINTD("Rozpoczynam - Q205_RemoveCorpse_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("Q205_MOVER_CORPSE_TILL");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        MOVPTR2 = MEM_SEARCHVOBBYNAME("Q205_MOVER_CORPSE_GERWIN");
        MOVER2 = MEM_PTRTOINST(MOVPTR2);
        MOVPTR3 = MEM_SEARCHVOBBYNAME("Q205_MOVER_CORPSE_MILITIA");
        MOVER3 = MEM_PTRTOINST(MOVPTR3);
        CHANGEVOBCOLLISION("Q205_CORPSE_TILL", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("Q205_CORPSE_GERWIN", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("Q205_CORPSE_MILITIA", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("Q205_MOVER_CORPSE_TILL");
        WLD_SENDTRIGGER("Q205_MOVER_CORPSE_GERWIN");
        WLD_SENDTRIGGER("Q205_MOVER_CORPSE_MILITIA");
        Q205_REMOVECORPSE_COLLISION = 1;
    };
    if (((((((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER3.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER3.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Skoñczy³em - Q205_RemoveCorpse_Apply");
        CHANGEVOBCOLLISION("Q205_CORPSE_TILL", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("Q205_CORPSE_GERWIN", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("Q205_CORPSE_MILITIA", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xf337);
        Q205_REMOVECORPSE_COLLISION = 0;
    };
}

var int Q205_REMOVECORPSE_APPLY.Q205_REMOVECORPSE_COLLISION = 0;
instance Q205_REMOVECORPSE_APPLY.MOVER1(ZCMOVER)
instance Q205_REMOVECORPSE_APPLY.MOVER2(ZCMOVER)
instance Q205_REMOVECORPSE_APPLY.MOVER3(ZCMOVER)
var int Q205_REMOVECORPSE_APPLY.MOVPTR1 = 0;
var int Q205_REMOVECORPSE_APPLY.MOVPTR2 = 0;
var int Q205_REMOVECORPSE_APPLY.MOVPTR3 = 0;
func void Q205_BRINGBACKPART4RENEGADES() {
    if ((NPC_ISDEAD(MIL_6270_JERRAN)) == (FALSE)) {
        B_STARTOTHERROUTINE(MIL_6270_JERRAN, START);
        NPC_REFRESH(MIL_6270_JERRAN);
        TELEPORTNPCTOWP(0xdbd1, MIL_6270_JERRAN.WP);
    };
    if ((NPC_ISDEAD(MIL_6271_RENEGADE)) == (FALSE)) {
        B_STARTOTHERROUTINE(MIL_6271_RENEGADE, START);
        NPC_REFRESH(MIL_6271_RENEGADE);
        TELEPORTNPCTOWP(0xdba9, MIL_6271_RENEGADE.WP);
    };
}

func void Q205_FALLDOWNCHECK_MAKEHEROMORTAL() {
    Q205_FALLDOWNCHECK_MAKEHEROMORTAL_COUNT = (Q205_FALLDOWNCHECK_MAKEHEROMORTAL_COUNT) + (1);
    if ((Q205_FALLDOWNCHECK_MAKEHEROMORTAL_COUNT) == (3)) {
        PRINTD("Hero jest miertelny");
        Q205_FALLDOWNCHECK_MAKEHEROMORTAL_COUNT = 0;
        HERO.FLAGS = 0;
    };
}

var int Q205_FALLDOWNCHECK_MAKEHEROMORTAL.Q205_FALLDOWNCHECK_MAKEHEROMORTAL_COUNT = 0;
