func void Q403_PREPARENPC() {
    if ((NPC_ISDEAD(GOBBO_Q403_01)) == (FALSE)) {
        B_REMOVENPC(0xc543);
    };
    if ((NPC_ISDEAD(GOBBO_Q403_02)) == (FALSE)) {
        B_REMOVENPC(0xc544);
    };
    if ((NPC_ISDEAD(GOBBO_Q403_03)) == (FALSE)) {
        B_REMOVENPC(0xc545);
    };
    if ((NPC_ISDEAD(BDT_9009_LOOTER)) == (FALSE)) {
        B_KILLNPC(0xe26d);
    };
    if ((NPC_ISDEAD(BDT_9010_LOOTER)) == (FALSE)) {
        B_KILLNPC(0xe26f);
    };
    if ((NPC_ISDEAD(BDT_9011_LOOTER)) == (FALSE)) {
        B_KILLNPC(0xe271);
    };
    if ((NPC_ISDEAD(STONEGOLEM_Q403)) == (FALSE)) {
        B_REMOVENPC(0xc737);
    };
    if ((NPC_ISDEAD(MINECRAWLERWARRIOR_BEFORE_Q403_01)) == (FALSE)) {
        B_REMOVENPC(0xc5d7);
    };
    if ((NPC_ISDEAD(MINECRAWLERWARRIOR_BEFORE_Q403_02)) == (FALSE)) {
        B_REMOVENPC(0xc5d8);
    };
    if ((NPC_ISDEAD(MINECRAWLERWARRIOR_BEFORE_Q403_03)) == (FALSE)) {
        B_REMOVENPC(0xc5d9);
    };
    WLD_INSERTNPC(0xc5cb, "FP_ROAM_PART16_74");
    WLD_INSERTNPC(0xc5cc, "FP_ROAM_PART16_80");
    WLD_INSERTNPC(0xc5cd, "FP_ROAM_PART16_84");
    WLD_INSERTNPC(0xc5d5, "FP_ROAM_PART16_68");
    WLD_INSERTNPC(0xc5d6, "FP_ROAM_PART16_62");
}

func int Q403_CRAWLERSAREDEAD() {
    if (((((NPC_ISDEAD(MINECRAWLER_Q403_01)) && (NPC_ISDEAD(MINECRAWLER_Q403_02))) && (NPC_ISDEAD(MINECRAWLER_Q403_03))) && (NPC_ISDEAD(MINECRAWLERWARRIOR_Q403_01))) && (NPC_ISDEAD(MINECRAWLERWARRIOR_Q403_02))) {
        return TRUE;
    };
    return FALSE;
}

func void Q403_PREPAREBAES() {
    B_STARTOTHERROUTINE(DJG_10015_BAES, "Q403_CRAWLERS");
    NPC_REFRESH(DJG_10015_BAES);
    TELEPORTNPCTOWP(0xe3b2, DJG_10015_BAES.WP);
    B_STARTOTHERROUTINE(DJG_13717_WOLFSON, "Q403_CRAWLERS");
    NPC_REFRESH(DJG_13717_WOLFSON);
    TELEPORTNPCTOWP(0xe341, DJG_13717_WOLFSON.WP);
    B_STARTOTHERROUTINE(DJG_13718_WOLFSON, "Q403_CRAWLERS");
    NPC_REFRESH(DJG_13718_WOLFSON);
    TELEPORTNPCTOWP(0xe349, DJG_13718_WOLFSON.WP);
}

func void Q403_SPAWNORCS() {
    WLD_INSERTNPC(0xeb95, "FP_ROAM_PART16_Q403_01");
    WLD_INSERTNPC(0xeb96, "FP_ROAM_PART16_Q403_02");
    WLD_INSERTNPC(0xeb97, "FP_ROAM_PART16_Q403_03");
    WLD_INSERTNPC(0xeb98, "FP_ROAM_PART16_Q403_04");
    WLD_INSERTNPC(0xeb8a, "FP_ROAM_PART16_Q403_05");
}

func void Q403_BAESGUIDETOORCS() {
    Q403_ORCSATTACK = 1;
    NPC_EXCHANGEROUTINE(DJG_10015_BAES, "Q403_GUIDE");
    DJG_10015_BAES.AIVAR[15] = TRUE;
    B_STARTOTHERROUTINE(DJG_13717_WOLFSON, "Q403_FOLLOW_BAES");
    NPC_REFRESH(DJG_13717_WOLFSON);
    DJG_13717_WOLFSON.AIVAR[15] = TRUE;
    B_STARTOTHERROUTINE(DJG_13718_WOLFSON, "Q403_FOLLOW_BAES");
    NPC_REFRESH(DJG_13718_WOLFSON);
    DJG_13718_WOLFSON.AIVAR[15] = TRUE;
    Q403_SPAWNORCS();
}

func void Q403_WOLFSSONWAITS() {
    B_STARTOTHERROUTINE(DJG_13717_WOLFSON, "Q403_WAIT");
    NPC_REFRESH(DJG_13717_WOLFSON);
    B_STARTOTHERROUTINE(DJG_13718_WOLFSON, "Q403_WAIT");
    NPC_REFRESH(DJG_13718_WOLFSON);
}

func int Q403_ORCSAREDEAD() {
    if (((((NPC_ISDEAD(ORCSCOUT_ROAM_Q403_01)) && (NPC_ISDEAD(ORCSCOUT_ROAM_Q403_02))) && (NPC_ISDEAD(ORCSCOUT_ROAM_Q403_03))) && (NPC_ISDEAD(ORCSCOUT_ROAM_Q403_04))) && (NPC_ISDEAD(ORCWARRIOR_ROAM_Q403_01))) {
        return TRUE;
    };
    return FALSE;
}

func void Q403_WOLFSSONATTACK() {
    NPC_EXCHANGEROUTINE(DJG_10015_BAES, "Q403_ORCATTACK");
    B_STARTOTHERROUTINE(DJG_13717_WOLFSON, "Q403_ORCATTACK");
    NPC_REFRESH(DJG_13717_WOLFSON);
    B_STARTOTHERROUTINE(DJG_13718_WOLFSON, "Q403_ORCATTACK");
    NPC_REFRESH(DJG_13718_WOLFSON);
}

func void Q403_WOLFSSONORCPLUNDER() {
    B_STARTOTHERROUTINE(DJG_13717_WOLFSON, "Q403_ORCPLUNDER");
    NPC_REFRESH(DJG_13717_WOLFSON);
    B_STARTOTHERROUTINE(DJG_13718_WOLFSON, "Q403_ORCPLUNDER");
    NPC_REFRESH(DJG_13718_WOLFSON);
}

func void Q403_REMOVENPC() {
    if (HLP_ISVALIDNPC(DJG_13717_WOLFSON)) {
        if ((NPC_ISDEAD(DJG_13717_WOLFSON)) == (FALSE)) {
            B_REMOVENPC(0xe341);
        };
    };
    if (HLP_ISVALIDNPC(DJG_13718_WOLFSON)) {
        if ((NPC_ISDEAD(DJG_13718_WOLFSON)) == (FALSE)) {
            B_REMOVENPC(0xe349);
        };
    };
    B_STARTOTHERROUTINE(DJG_10015_BAES, START);
    NPC_REFRESH(DJG_10015_BAES);
    TELEPORTNPCTOWP(0xe3b2, DJG_10015_BAES.WP);
    if ((NPC_KNOWSINFO(HERO, 0x14033)) == (FALSE)) {
        Q403_SPAWNORCS();
    };
    if (((Q403_ORCSATTACK) == (2)) && (NPC_KNOWSINFO(HERO, 0x14040))) {
        WLD_SENDTRIGGER("Q403_ORCHEAD_01");
        WLD_SENDTRIGGER("Q403_ORCHEAD_02");
        WLD_SENDTRIGGER("Q403_ORCHEAD_03");
    };
    HERO.AIVAR[4] = FALSE;
}

