func void QA401_PREPARENPC() {
    B_REMOVENPC(0xd302);
    if ((LOG_GETSTATUS(MIS_SQ223)) == (LOG_RUNNING)) {
        LOG_SETSTATUS(_@(MIS_SQ223), TOPIC_SQ223, LOG_FAILED);
        B_LOGENTRY(TOPIC_SQ223, LOG_SQ223_VZ_FAIL);
    };
    FF_APPLYONCEEXTGT(0xf59d, 0, -(1));
    WLD_INSERTNPC(0xd2aa, "HARBOUR_SHIPYARD_QA401_WORKER_01");
    WLD_INSERTNPC(0xd2ae, "HARBOUR_SHIPYARD_QA401_WORKER_02");
    WLD_INSERTNPC(0xd2b2, "HARBOUR_SHIPYARD_QA401_WORKER_03");
    if (HLP_ISVALIDNPC(VLK_6064_OLDGUY)) {
        B_STARTOTHERROUTINE(VLK_6064_OLDGUY, "QA401_WAIT");
    };
    if (HLP_ISVALIDNPC(VLK_6006_GUY)) {
        B_STARTOTHERROUTINE(VLK_6006_GUY, "QA401_WAIT");
    };
    if ((NPC_ISDEAD(MIL_4003_HARBGUARD)) == (FALSE)) {
        B_STARTOTHERROUTINE(MIL_4003_HARBGUARD, "QA304_PATROL");
    };
    if ((NPC_ISDEAD(MIL_4004_HARBGUARD)) == (FALSE)) {
        B_STARTOTHERROUTINE(MIL_4004_HARBGUARD, "QA304_PATROL");
    };
    if ((NPC_ISDEAD(VLK_6283_BEINARD)) == (FALSE)) {
        QA401_BEINARD_RTNCHECK = 1;
        B_STARTOTHERROUTINE(VLK_6283_BEINARD, "QA401_WAIT");
    };
    if ((NPC_ISDEAD(VLK_6107_ARMAR)) == (FALSE)) {
        B_STARTOTHERROUTINE(VLK_6107_ARMAR, "QA401_TRADER");
    };
    WLD_INSERTNPC(0xd2b6, "SLUMS_QA401_BODYGUARD_01");
    WLD_INSERTNPC(0xd2b9, "SLUMS_QA401_BODYGUARD_02");
    B_STARTOTHERROUTINE(VLK_10095_OTMAR, TOT);
    TELEPORTNPCTOWP(0xcb7c, VLK_10095_OTMAR.WP);
    B_STARTOTHERROUTINE(SLD_1000_ADELARD, "QA401_OTMAR");
    TELEPORTNPCTOWP(0xcb0a, SLD_1000_ADELARD.WP);
    QA401_ADELARD_RTNCHECK = 1;
    if ((NPC_ISDEAD(NONE_6086_FISHERMAN)) == (FALSE)) {
        B_STARTOTHERROUTINE(NONE_6086_FISHERMAN, "QA401_WAIT");
    };
    WLD_INSERTNPC(0xcb83, "PART4_QA401_OTMAR");
    WLD_INSERTNPC(0xda46, "PART4_QA401_ARAXOS");
    WLD_INSERTNPC(0xd950, TOT);
}

func void QA401_EVENTS_APPLY() {
    if ((QA401_EVENTS_COUNT) == (0)) {
        PRINTD("Rozpoczynam - QA401_Events_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("QA401_HARBOUR_SHIP");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        MOVPTR2 = MEM_SEARCHVOBBYNAME("QA401_MOVER_WORKER");
        MOVER2 = MEM_PTRTOINST(MOVPTR2);
        MOVPTR3 = MEM_SEARCHVOBBYNAME("QA401_MOVER_WORKER_CRATE_01");
        MOVER3 = MEM_PTRTOINST(MOVPTR3);
        MOVPTR4 = MEM_SEARCHVOBBYNAME("QA401_MOVER_WORKER_CRATE_02");
        MOVER4 = MEM_PTRTOINST(MOVPTR4);
        MOVPTR5 = MEM_SEARCHVOBBYNAME("QA401_MOVER_WORKER_BARREL_01");
        MOVER5 = MEM_PTRTOINST(MOVPTR5);
        MOVPTR6 = MEM_SEARCHVOBBYNAME("QA401_MOVER_WORKER_BARREL_02");
        MOVER6 = MEM_PTRTOINST(MOVPTR6);
        MOVPTR7 = MEM_SEARCHVOBBYNAME("QA401_MOVER_BRIDGE_CRATES");
        MOVER7 = MEM_PTRTOINST(MOVPTR7);
        MOVPTR8 = MEM_SEARCHVOBBYNAME("QA401_SAND");
        MOVER8 = MEM_PTRTOINST(MOVPTR8);
        CHANGEVOBCOLLISION("QA401_TENTROOF", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("QA401_BARREL_01", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("QA401_BARREL_02", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("QA401_CRATE_01", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("QA401_CRATE_02", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("QA401_BIGCRATE_01", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("QA401_BIGCRATE_02", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("QA401_HARBOUR_SHIP");
        WLD_SENDTRIGGER("QA401_MOVER_WORKER");
        WLD_SENDTRIGGER("QA401_MOVER_WORKER_CRATE_01");
        WLD_SENDTRIGGER("QA401_MOVER_WORKER_CRATE_02");
        WLD_SENDTRIGGER("QA401_MOVER_WORKER_BARREL_01");
        WLD_SENDTRIGGER("QA401_MOVER_WORKER_BARREL_02");
        WLD_SENDTRIGGER("QA401_MOVER_BRIDGE_CRATES");
        WLD_SENDTRIGGER("QA401_SAND");
        QA401_EVENTS_COUNT = 1;
    };
    if (((((((((((((((((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER3.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER3.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER4.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER4.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER5.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER5.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER6.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER6.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER7.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER7.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER8.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER8.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Skoñczy³em - QA401_Events_Apply");
        CHANGEVOBCOLLISION("QA401_TENTROOF", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("QA401_BARREL_01", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("QA401_BARREL_02", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("QA401_CRATE_01", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("QA401_CRATE_02", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("QA401_BIGCRATE_01", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("QA401_BIGCRATE_02", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xf59d);
        QA401_EVENTS_COUNT = 0;
    };
}

var int QA401_EVENTS_APPLY.QA401_EVENTS_COUNT = 0;
instance QA401_EVENTS_APPLY.MOVER1(ZCMOVER)
instance QA401_EVENTS_APPLY.MOVER2(ZCMOVER)
instance QA401_EVENTS_APPLY.MOVER3(ZCMOVER)
instance QA401_EVENTS_APPLY.MOVER4(ZCMOVER)
instance QA401_EVENTS_APPLY.MOVER5(ZCMOVER)
instance QA401_EVENTS_APPLY.MOVER6(ZCMOVER)
instance QA401_EVENTS_APPLY.MOVER7(ZCMOVER)
instance QA401_EVENTS_APPLY.MOVER8(ZCMOVER)
var int QA401_EVENTS_APPLY.MOVPTR1 = 0;
var int QA401_EVENTS_APPLY.MOVPTR2 = 0;
var int QA401_EVENTS_APPLY.MOVPTR3 = 0;
var int QA401_EVENTS_APPLY.MOVPTR4 = 0;
var int QA401_EVENTS_APPLY.MOVPTR5 = 0;
var int QA401_EVENTS_APPLY.MOVPTR6 = 0;
var int QA401_EVENTS_APPLY.MOVPTR7 = 0;
var int QA401_EVENTS_APPLY.MOVPTR8 = 0;
func void QA401_WORKERSGOHOME() {
    NPC_EXCHANGEROUTINE(NONE_13543_WORKER, TOT);
    B_STARTOTHERROUTINE(NONE_13542_WORKER, TOT);
    NPC_REFRESH(NONE_13542_WORKER);
    B_STARTOTHERROUTINE(NONE_13541_WORKER, TOT);
    NPC_REFRESH(NONE_13541_WORKER);
}

func void QA401_WORKERSFLEE() {
    NPC_EXCHANGEROUTINE(NONE_13543_WORKER, FLEE);
    B_STARTOTHERROUTINE(NONE_13542_WORKER, FLEE);
    NPC_REFRESH(NONE_13542_WORKER);
    B_STARTOTHERROUTINE(NONE_13541_WORKER, FLEE);
    NPC_REFRESH(NONE_13541_WORKER);
}

func void QA401_WORKERSCHANGEMDS() {
    MDL_APPLYOVERLAYMDS(NONE_13543_WORKER, HUMANSFLEEMDS);
    MDL_APPLYOVERLAYMDS(NONE_13542_WORKER, HUMANSFLEEMDS);
    MDL_APPLYOVERLAYMDS(NONE_13541_WORKER, HUMANSFLEEMDS);
}

func void QA401_WORKERBLOCKDESTROY() {
    QA401_BLOCKDESTROYOBJECT = TRUE;
    MOB_CHANGEFOCUSNAME("QA401_BARREL_02", "MOBNAME_NOTHING");
}

func void QA401_ARMARGOAWAY() {
    PRINTD("Id¹ se");
    QA401_ARMARRESULT = 1;
    NPC_EXCHANGEROUTINE(VLK_6107_ARMAR, START);
    B_STARTOTHERROUTINE(NONE_13546_BODYGUARD, TOT);
    NPC_REFRESH(NONE_13546_BODYGUARD);
    B_STARTOTHERROUTINE(NONE_13547_BODYGUARD, TOT);
    NPC_REFRESH(NONE_13547_BODYGUARD);
}

func void QA401_ARMARFIGHT() {
    PRINTD("Walka");
    QA401_FIGHTWITHARMAR = 1;
    VLK_6107_ARMAR.AIVAR[52] = TRUE;
    NONE_13546_BODYGUARD.AIVAR[52] = TRUE;
    NONE_13547_BODYGUARD.AIVAR[52] = TRUE;
    VLK_6107_ARMAR.FLAGS = 0;
    NONE_13546_BODYGUARD.FLAGS = 0;
    NONE_13547_BODYGUARD.FLAGS = 0;
    VLK_6107_ARMAR.GUILD = GIL_NONE;
    NPC_SETTRUEGUILD(VLK_6107_ARMAR, GIL_NONE);
    B_IMMEDIATEATTACKPLAYER(VLK_6107_ARMAR, AR_KILL);
    B_IMMEDIATEATTACKPLAYER(NONE_13546_BODYGUARD, AR_KILL);
    B_IMMEDIATEATTACKPLAYER(NONE_13547_BODYGUARD, AR_KILL);
}

func void QA401_PREPAREARAXOSBEACH() {
    PRINTD("Araxos gotowe");
    B_STARTOTHERROUTINE(SLD_1009_CARAMON, "QA401_BEACH_WAIT");
    QA401_CARAMON_RTNCHECK = 1;
    NPC_REFRESH(SLD_1009_CARAMON);
    TELEPORTNPCTOWP(0xcb1c, SLD_1009_CARAMON.WP);
    NPC_CHANGEARMOR(SLD_1009_CARAMON, 0x8473);
    if ((MARVIN_ARAXOSSPECIALIZATION) == (ARAXOS_SPECIALIZATION_FIGHTER)) {
    };
    if ((MARVIN_ARAXOSSPECIALIZATION) == (ARAXOS_SPECIALIZATION_ARCHER)) {
    };
    NPC_REMOVEINVITEMS(SLD_1009_CARAMON, 0x8a89, 1);
    B_STARTOTHERROUTINE(SLD_5002_SUNDER, "QA401_BEACH_WAIT");
    QA401_SUNDER_RTNCHECK = 1;
    NPC_REFRESH(SLD_5002_SUNDER);
    TELEPORTNPCTOWP(0xe176, SLD_5002_SUNDER.WP);
    NPC_CHANGEARMOR(SLD_5002_SUNDER, 0x8af4);
    NPC_REMOVEINVITEMS(SLD_5002_SUNDER, 0x8a89, 1);
    B_STARTOTHERROUTINE(SLD_1000_ADELARD, "QA401_BEACH_WAIT");
    QA401_ADELARD_RTNCHECK = 2;
    NPC_REFRESH(SLD_1000_ADELARD);
    TELEPORTNPCTOWP(0xcb0a, SLD_1000_ADELARD.WP);
    NPC_CHANGEARMOR(SLD_1000_ADELARD, 0x8473);
    NPC_REMOVEINVITEMS(SLD_1000_ADELARD, 0x8a83, 1);
    B_STARTOTHERROUTINE(SLD_13548_ARAXOS, "QA401_BEACH_WAIT");
    NPC_REFRESH(SLD_13548_ARAXOS);
    TELEPORTNPCTOWP(0xda46, SLD_13548_ARAXOS.WP);
    NPC_CHANGEARMOR(SLD_13548_ARAXOS, 0x8af3);
    NPC_REMOVEINVITEMS(SLD_13548_ARAXOS, 0x8a7e, 1);
    B_STARTOTHERROUTINE(SLD_13549_ARAXOS, "QA401_BEACH_WAIT");
    NPC_REFRESH(SLD_13549_ARAXOS);
    TELEPORTNPCTOWP(0xd950, SLD_13549_ARAXOS.WP);
    NPC_CHANGEARMOR(SLD_13549_ARAXOS, 0x8472);
    NPC_REMOVEINVITEMS(SLD_13549_ARAXOS, 0x8a8e, 1);
}

func void QA401_COUNTTASKS() {
    QA401_COUNTTASK = (QA401_COUNTTASK) + (1);
    PRINTD(CS2("Iloœæ skoñczoych tasków: ", INTTOSTRING(QA401_COUNTTASK)));
    HERO.AIVAR[4] = FALSE;
    if ((QA401_COUNTTASK) == (4)) {
        if ((Q206_SPAREPABLO) == (FALSE)) {
            B_LOGENTRY(TOPIC_QA401, LOG_QA401_ALLTASKDONE_V1);
        } else if ((QA401_PABLOTASKDONE) == (FALSE)) {
            B_LOGENTRY(TOPIC_QA401, LOG_QA401_ALLTASKDONE_V2);
        };
    };
    if ((QA401_COUNTTASK) == (5)) {
        B_LOGENTRY(TOPIC_QA401, LOG_QA401_ALLTASKDONE_V3);
        if ((Q206_SPAREPABLO) == (FALSE)) {
            PRINTD("To siê nigdy nie powinno wydarzyæ!");
        };
    };
}

func void QA401_READYTOATTACK() {
    PRINTD("Zmiana RTN");
    QA401_DOOR_CUTSCENEENABLE = 1;
    SLD_1009_CARAMON.AIVAR[15] = TRUE;
    SLD_5002_SUNDER.AIVAR[15] = TRUE;
    SLD_1000_ADELARD.AIVAR[15] = TRUE;
    SLD_13548_ARAXOS.AIVAR[15] = TRUE;
    SLD_13549_ARAXOS.AIVAR[15] = TRUE;
    NPC_EXCHANGEROUTINE(SLD_1000_ADELARD, "QA401_SMUGGLERS_WAIT");
    QA401_CARAMON_RTNCHECK = 4;
    B_STARTOTHERROUTINE(SLD_5002_SUNDER, "QA401_SMUGGLERS_WAIT");
    QA401_SUNDER_RTNCHECK = 5;
    NPC_REFRESH(SLD_5002_SUNDER);
    B_STARTOTHERROUTINE(SLD_1009_CARAMON, "QA401_SMUGGLERS_WAIT");
    QA401_CARAMON_RTNCHECK = 3;
    NPC_REFRESH(SLD_1009_CARAMON);
    B_STARTOTHERROUTINE(SLD_13548_ARAXOS, "QA401_SMUGGLERS_WAIT");
    NPC_REFRESH(SLD_13548_ARAXOS);
    B_STARTOTHERROUTINE(SLD_13549_ARAXOS, "QA401_SMUGGLERS_WAIT");
    NPC_REFRESH(SLD_13549_ARAXOS);
    B_STARTOTHERROUTINE(BDT_13558_SMUGGLER, "QA401_CUTSCENE");
    NPC_REFRESH(BDT_13558_SMUGGLER);
    B_STARTOTHERROUTINE(BDT_13559_SMUGGLER, "QA401_CUTSCENE");
    NPC_REFRESH(BDT_13559_SMUGGLER);
    B_STARTOTHERROUTINE(BDT_13560_SMUGGLER, "QA401_CUTSCENE");
    NPC_REFRESH(BDT_13560_SMUGGLER);
    B_STARTOTHERROUTINE(BDT_13561_SMUGGLER, "QA401_CUTSCENE");
    NPC_REFRESH(BDT_13561_SMUGGLER);
    B_STARTOTHERROUTINE(BDT_13562_SMUGGLER, "QA401_CUTSCENE");
    NPC_REFRESH(BDT_13562_SMUGGLER);
    B_STARTOTHERROUTINE(BDT_13563_SMUGGLER, "QA401_CUTSCENE");
    NPC_REFRESH(BDT_13563_SMUGGLER);
    B_STARTOTHERROUTINE(BDT_13569_SMUGGLER, "QA401_CUTSCENE");
    NPC_REFRESH(BDT_13569_SMUGGLER);
}

func void QA401_DOOR_CUTSCENE_APPLY() {
    QA401_DOOR_CUTSCENE_COUNT = (QA401_DOOR_CUTSCENE_COUNT) + (1);
    if ((QA401_DOOR_CUTSCENE_COUNT) == (4)) {
        CUTSCENE_START(0x16a79);
    };
}

var int QA401_DOOR_CUTSCENE_APPLY.QA401_DOOR_CUTSCENE_COUNT = 0;
func void QA401_FIGHTWITHSMUGGLERS() {
    PRINTD("Walka");
    BDT_13558_SMUGGLER.FLAGS = 0;
    BDT_13559_SMUGGLER.FLAGS = 0;
    BDT_13560_SMUGGLER.FLAGS = 0;
    BDT_13561_SMUGGLER.FLAGS = 0;
    BDT_13562_SMUGGLER.FLAGS = 0;
    BDT_13563_SMUGGLER.FLAGS = 0;
    B_STARTOTHERROUTINE(BDT_13558_SMUGGLER, START);
    NPC_REFRESH(BDT_13558_SMUGGLER);
    TELEPORTNPCTOWP(0xd8ef, BDT_13558_SMUGGLER.WP);
    B_STARTOTHERROUTINE(BDT_13559_SMUGGLER, START);
    NPC_REFRESH(BDT_13559_SMUGGLER);
    TELEPORTNPCTOWP(0xd8f2, BDT_13559_SMUGGLER.WP);
    B_STARTOTHERROUTINE(BDT_13560_SMUGGLER, START);
    NPC_REFRESH(BDT_13560_SMUGGLER);
    TELEPORTNPCTOWP(0xd8f5, BDT_13560_SMUGGLER.WP);
    B_STARTOTHERROUTINE(BDT_13561_SMUGGLER, START);
    NPC_REFRESH(BDT_13561_SMUGGLER);
    TELEPORTNPCTOWP(0xd8f8, BDT_13561_SMUGGLER.WP);
    B_STARTOTHERROUTINE(BDT_13562_SMUGGLER, START);
    NPC_REFRESH(BDT_13562_SMUGGLER);
    TELEPORTNPCTOWP(0xd8fb, BDT_13562_SMUGGLER.WP);
    B_STARTOTHERROUTINE(BDT_13563_SMUGGLER, START);
    NPC_REFRESH(BDT_13563_SMUGGLER);
    TELEPORTNPCTOWP(0xd8fe, BDT_13563_SMUGGLER.WP);
    B_STARTOTHERROUTINE(BDT_13564_SMUGGLER, "QA401_FIGHT_WAIT");
    NPC_REFRESH(BDT_13564_SMUGGLER);
    TELEPORTNPCTOWP(0xd901, BDT_13564_SMUGGLER.WP);
    B_STARTOTHERROUTINE(BDT_13565_SMUGGLER, "QA401_FIGHT_WAIT");
    NPC_REFRESH(BDT_13565_SMUGGLER);
    TELEPORTNPCTOWP(0xd904, BDT_13565_SMUGGLER.WP);
    B_STARTOTHERROUTINE(BDT_13566_SMUGGLER, "QA401_FIGHT_WAIT");
    NPC_REFRESH(BDT_13566_SMUGGLER);
    TELEPORTNPCTOWP(0xd907, BDT_13566_SMUGGLER.WP);
    B_STARTOTHERROUTINE(BDT_13567_SMUGGLER, "QA401_FIGHT_WAIT");
    NPC_REFRESH(BDT_13567_SMUGGLER);
    TELEPORTNPCTOWP(0xd90a, BDT_13567_SMUGGLER.WP);
    B_STARTOTHERROUTINE(BDT_13568_SMUGGLER, "QA401_FIGHT_WAIT");
    NPC_REFRESH(BDT_13568_SMUGGLER);
    TELEPORTNPCTOWP(0xd90d, BDT_13568_SMUGGLER.WP);
    B_STARTOTHERROUTINE(BDT_13569_SMUGGLER, "QA401_FIGHT_WAIT");
    NPC_REFRESH(BDT_13569_SMUGGLER);
    TELEPORTNPCTOWP(0xd910, BDT_13569_SMUGGLER.WP);
    B_STARTOTHERROUTINE(BDT_13571_SMUGGLER, "QA401_FIGHT_WAIT");
    NPC_REFRESH(BDT_13571_SMUGGLER);
    TELEPORTNPCTOWP(0xd916, BDT_13571_SMUGGLER.WP);
    B_STARTOTHERROUTINE(BDT_13572_SMUGGLER, "QA401_FIGHT_WAIT");
    NPC_REFRESH(BDT_13572_SMUGGLER);
    TELEPORTNPCTOWP(0xd91b, BDT_13572_SMUGGLER.WP);
    B_STARTOTHERROUTINE(NONE_7002_GETORYX, "QA401_FIGHT_WAIT");
    NPC_REFRESH(NONE_7002_GETORYX);
    TELEPORTNPCTOWP(0xd936, NONE_7002_GETORYX.WP);
    B_STARTOTHERROUTINE(NONE_7003_NIZAR, "QA401_FIGHT_WAIT");
    NPC_REFRESH(NONE_7003_NIZAR);
    TELEPORTNPCTOWP(0xd93a, NONE_7003_NIZAR.WP);
    B_STARTOTHERROUTINE(NONE_7005_HEKTOR, "QA401_FIGHT_WAIT");
    NPC_REFRESH(NONE_7005_HEKTOR);
    TELEPORTNPCTOWP(0xd94b, NONE_7005_HEKTOR.WP);
    SLD_13548_ARAXOS.FLAGS = 0;
    SLD_13549_ARAXOS.FLAGS = 0;
    B_STARTOTHERROUTINE(SLD_1000_ADELARD, "QA401_SMUGGLERS_FIGHT");
    QA401_ADELARD_RTNCHECK = 5;
    NPC_REFRESH(SLD_1000_ADELARD);
    TELEPORTNPCTOWP(0xcb0a, SLD_1000_ADELARD.WP);
    B_STARTOTHERROUTINE(SLD_5002_SUNDER, "QA401_SMUGGLERS_FIGHT");
    QA401_SUNDER_RTNCHECK = 6;
    NPC_REFRESH(SLD_5002_SUNDER);
    TELEPORTNPCTOWP(0xe176, SLD_5002_SUNDER.WP);
    B_STARTOTHERROUTINE(SLD_1009_CARAMON, "QA401_SMUGGLERS_FIGHT");
    QA401_CARAMON_RTNCHECK = 4;
    NPC_REFRESH(SLD_1009_CARAMON);
    TELEPORTNPCTOWP(0xcb1c, SLD_1009_CARAMON.WP);
    B_STARTOTHERROUTINE(SLD_13548_ARAXOS, "QA401_SMUGGLERS_FIGHT");
    NPC_REFRESH(SLD_13548_ARAXOS);
    TELEPORTNPCTOWP(0xda46, SLD_13548_ARAXOS.WP);
    B_STARTOTHERROUTINE(SLD_13549_ARAXOS, "QA401_SMUGGLERS_FIGHT");
    NPC_REFRESH(SLD_13549_ARAXOS);
    TELEPORTNPCTOWP(0xd950, SLD_13549_ARAXOS.WP);
}

func void QA401_DOORCUTSCENE_KICKDOOR_END() {
    QA401_DOORCUTSCENE_KICKDOOR_END_COUNT = (QA401_DOORCUTSCENE_KICKDOOR_END_COUNT) + (1);
    if ((QA401_DOORCUTSCENE_KICKDOOR_END_COUNT) == (4)) {
        MUSIC_OVERRIDETRACK(0x55b9);
        QA401_DOOR_CUTSCENEENABLE = 3;
        WLD_SENDUNTRIGGER("QA401_DOOR_01");
        WLD_SENDUNTRIGGER("QA401_DOOR_02");
        WLD_SENDUNTRIGGER("QA401_DOOR_03");
        QA401_FIGHTWITHSMUGGLERS();
        HERO.AIVAR[4] = FALSE;
    };
}

var int QA401_DOORCUTSCENE_KICKDOOR_END.QA401_DOORCUTSCENE_KICKDOOR_END_COUNT = 0;
func int QM401_SMUGGLERSAREDEAD_ROUND01() {
    if ((((((NPC_ISDEAD(BDT_13558_SMUGGLER)) && (NPC_ISDEAD(BDT_13559_SMUGGLER))) && (NPC_ISDEAD(BDT_13560_SMUGGLER))) && (NPC_ISDEAD(BDT_13561_SMUGGLER))) && (NPC_ISDEAD(BDT_13562_SMUGGLER))) && (NPC_ISDEAD(BDT_13563_SMUGGLER))) {
        return TRUE;
    };
    return FALSE;
}

func void QM401_SMUGGLERSAREDEAD_ROUND01_CHANGERTN() {
    NPC_EXCHANGEROUTINE(SLD_1000_ADELARD, "QA401_SMUGGLERS_FIGHT_REST");
    QA401_ADELARD_RTNCHECK = 6;
    NPC_REFRESH(SLD_1000_ADELARD);
    B_STARTOTHERROUTINE(SLD_5002_SUNDER, "QA401_SMUGGLERS_FIGHT_REST");
    QA401_SUNDER_RTNCHECK = 7;
    NPC_REFRESH(SLD_5002_SUNDER);
    B_STARTOTHERROUTINE(SLD_1009_CARAMON, "QA401_SMUGGLERS_FIGHT_FOLLOW");
    QA401_CARAMON_RTNCHECK = 5;
    NPC_REFRESH(SLD_1009_CARAMON);
    if ((NPC_ISDEAD(SLD_13548_ARAXOS)) == (FALSE)) {
        B_STARTOTHERROUTINE(SLD_13548_ARAXOS, "QA401_SMUGGLERS_FIGHT_REST");
        NPC_REFRESH(SLD_13548_ARAXOS);
    };
    if ((NPC_ISDEAD(SLD_13549_ARAXOS)) == (FALSE)) {
        B_STARTOTHERROUTINE(SLD_13549_ARAXOS, "QA401_SMUGGLERS_FIGHT_REST");
        NPC_REFRESH(SLD_13549_ARAXOS);
    };
}

func void QA401_GOAWAY_BLOCKER_FADESCREEN() {
    QA401_GOAWAY_BLOCKER = 0;
    TELEPORTNPCTOWP(0x71b, "PART1_CAVE_IN_01");
    TELEPORTNPCTOWP(0xcb1c, SLD_1009_CARAMON.WP);
    FADESCREENFROMBLACK(1);
}

func void QA401_CORPSES_APPLY() {
    if ((QA401_CORPSES_COUNT) == (0)) {
        PRINTD("Rozpoczynam - QA401_CORPSES_APPLY");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("QA305_MOVER_BARREL_01");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        MOVPTR2 = MEM_SEARCHVOBBYNAME("QA305_MOVER_BARREL_02");
        MOVER2 = MEM_PTRTOINST(MOVPTR2);
        CHANGEVOBCOLLISION("QA401_SMUGGLER_CORPSE_01", FALSE, FALSE, FALSE, FALSE);
        CHANGEVOBCOLLISION("QA401_SMUGGLER_CORPSE_02", FALSE, FALSE, FALSE, FALSE);
        WLD_SENDTRIGGER("QA401_MOVER_CORPSE_01");
        WLD_SENDTRIGGER("QA401_MOVER_CORPSE_02");
        QA401_CORPSES_COUNT = 1;
        if ((QA401_LEAVEGUILD_MOVER_02) == (TRUE)) {
            QA401_LEAVEGUILD_MOVER_02 = FALSE;
        };
    };
    if (((((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Skoñczy³em - QA401_CORPSES_APPLY");
        CHANGEVOBCOLLISION("QA401_SMUGGLER_CORPSE_01", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("QA401_SMUGGLER_CORPSE_02", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xf5c0);
        QA401_CORPSES_COUNT = 0;
        if ((QA401_LEAVEGUILD_MOVER_02) == (FALSE)) {
            QA401_LEAVEGUILD_MOVER_02 = TRUE;
        };
    };
}

var int QA401_CORPSES_APPLY.QA401_CORPSES_COUNT = 0;
instance QA401_CORPSES_APPLY.MOVER1(ZCMOVER)
instance QA401_CORPSES_APPLY.MOVER2(ZCMOVER)
var int QA401_CORPSES_APPLY.MOVPTR1 = 0;
var int QA401_CORPSES_APPLY.MOVPTR2 = 0;
func void QA401_FIGHTSMUGGLERS_ROUND02() {
    B_STARTOTHERROUTINE(SLD_1000_ADELARD, "QA401_FIGHT_CUTSCENE_FINAL");
    QA401_ADELARD_RTNCHECK = 7;
    NPC_REFRESH(SLD_1000_ADELARD);
    TELEPORTNPCTOWP(0xcb0a, SLD_1000_ADELARD.WP);
    B_STARTOTHERROUTINE(SLD_5002_SUNDER, "QA401_FIGHT_CUTSCENE_FINAL");
    QA401_SUNDER_RTNCHECK = 8;
    NPC_REFRESH(SLD_5002_SUNDER);
    TELEPORTNPCTOWP(0xe176, SLD_5002_SUNDER.WP);
    if ((NPC_ISDEAD(SLD_13548_ARAXOS)) == (FALSE)) {
        B_STARTOTHERROUTINE(SLD_13548_ARAXOS, "QA401_FIGHT_CUTSCENE_FINAL");
        NPC_REFRESH(SLD_13548_ARAXOS);
        TELEPORTNPCTOWP(0xda46, SLD_13548_ARAXOS.WP);
    };
    if ((NPC_ISDEAD(SLD_13549_ARAXOS)) == (FALSE)) {
        B_STARTOTHERROUTINE(SLD_13549_ARAXOS, "QA401_FIGHT_CUTSCENE_FINAL");
        NPC_REFRESH(SLD_13549_ARAXOS);
        TELEPORTNPCTOWP(0xd950, SLD_13549_ARAXOS.WP);
    };
    BDT_13569_SMUGGLER.FLAGS = 0;
    NONE_7003_NIZAR.FLAGS = 0;
    NONE_7005_HEKTOR.FLAGS = 0;
    BDT_13569_SMUGGLER.AIVAR[61] = TRUE;
    BDT_13569_SMUGGLER.AIVAR[52] = TRUE;
    NONE_7003_NIZAR.AIVAR[61] = TRUE;
    NONE_7003_NIZAR.AIVAR[52] = TRUE;
    NONE_7005_HEKTOR.AIVAR[61] = TRUE;
    NONE_7005_HEKTOR.AIVAR[52] = TRUE;
    B_STARTOTHERROUTINE(BDT_13569_SMUGGLER, "QA401_FIGHT_CAVE");
    NPC_REFRESH(BDT_13569_SMUGGLER);
    TELEPORTNPCTOWP(0xd910, BDT_13569_SMUGGLER.WP);
    B_STARTOTHERROUTINE(NONE_7003_NIZAR, "QA401_FIGHT_CAVE");
    NPC_REFRESH(NONE_7003_NIZAR);
    TELEPORTNPCTOWP(0xd93a, NONE_7003_NIZAR.WP);
    B_STARTOTHERROUTINE(NONE_7005_HEKTOR, "QA401_FIGHT_CAVE");
    NPC_REFRESH(NONE_7005_HEKTOR);
    TELEPORTNPCTOWP(0xd94b, NONE_7005_HEKTOR.WP);
    NONE_7002_GETORYX.GUILD = GIL_NONE;
    NPC_SETTRUEGUILD(NONE_7002_GETORYX, GIL_NONE);
    BDT_13571_SMUGGLER.GUILD = GIL_NONE;
    NPC_SETTRUEGUILD(BDT_13571_SMUGGLER, GIL_NONE);
    BDT_13572_SMUGGLER.GUILD = GIL_NONE;
    NPC_SETTRUEGUILD(BDT_13572_SMUGGLER, GIL_NONE);
    B_STARTOTHERROUTINE(NONE_7002_GETORYX, "QA401_FIGHT_CUTSCENE_FINAL");
    NPC_REFRESH(NONE_7002_GETORYX);
    TELEPORTNPCTOWP(0xd936, NONE_7002_GETORYX.WP);
    B_STARTOTHERROUTINE(BDT_13571_SMUGGLER, "QA401_FIGHT_CUTSCENE_FINAL");
    NPC_REFRESH(BDT_13571_SMUGGLER);
    TELEPORTNPCTOWP(0xd916, BDT_13571_SMUGGLER.WP);
    B_STARTOTHERROUTINE(BDT_13572_SMUGGLER, "QA401_FIGHT_CUTSCENE_FINAL");
    NPC_REFRESH(BDT_13572_SMUGGLER);
    TELEPORTNPCTOWP(0xd91b, BDT_13572_SMUGGLER.WP);
}

func void QA401_GIVEITEMS() {
    CREATEINVITEMS(SELF, 0x859b, QA401_SMUGGLERPAY);
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, QA401_SMUGGLERPAY);
    CREATEINVITEMS(SELF, 0x85a4, 1);
    B_GIVEINVITEMS(SELF, OTHER, 0x85a4, 1);
    CREATEINVITEMS(SELF, 0x859f, 1);
    B_GIVEINVITEMS(SELF, OTHER, 0x859f, 1);
    CREATEINVITEMS(SELF, 0x85b1, 1);
    B_GIVEINVITEMS(SELF, OTHER, 0x85b1, 1);
}

func void QA401_SMUGGLERSFLEE() {
    PRINTD("Uciekaj¹");
    B_STARTOTHERROUTINE(BDT_13569_SMUGGLER, "QA401_FLEE");
    NPC_REFRESH(BDT_13569_SMUGGLER);
    NPC_EXCHANGEROUTINE(NONE_7003_NIZAR, "QA401_FLEE");
    B_STARTOTHERROUTINE(NONE_7005_HEKTOR, "QA401_FLEE");
    NPC_REFRESH(NONE_7005_HEKTOR);
}

func void QA401_SMUGGLERSCAVEFIGHT() {
    BDT_13569_SMUGGLER.AIVAR[61] = FALSE;
    BDT_13569_SMUGGLER.AIVAR[52] = FALSE;
    NONE_7003_NIZAR.AIVAR[61] = FALSE;
    NONE_7003_NIZAR.AIVAR[52] = FALSE;
    NONE_7005_HEKTOR.AIVAR[61] = FALSE;
    NONE_7005_HEKTOR.AIVAR[52] = FALSE;
}

func int QA401_SMUGGLERSCHESTSDEAD() {
    if (((NPC_ISDEAD(BDT_13569_SMUGGLER)) && (NPC_ISDEAD(NONE_7003_NIZAR))) && (NPC_ISDEAD(NONE_7005_HEKTOR))) {
        return TRUE;
    };
    return FALSE;
}

func void QA401_FINAL_CUTSCENE_APPLY() {
    QA401_FINAL_CUTSCENE_COUNT = (QA401_FINAL_CUTSCENE_COUNT) + (1);
    if ((QA401_FINAL_CUTSCENE_COUNT) == (4)) {
        CUTSCENE_START(0x16a7e);
    };
}

var int QA401_FINAL_CUTSCENE_APPLY.QA401_FINAL_CUTSCENE_COUNT = 0;
func void QA401_REMOVESMUGGLERS() {
    if ((NPC_ISDEAD(BDT_13569_SMUGGLER)) == (FALSE)) {
        B_REMOVENPC(0xd910);
    };
    if ((NPC_ISDEAD(NONE_7003_NIZAR)) == (FALSE)) {
        B_REMOVENPC(0xd93a);
    };
    if ((NPC_ISDEAD(NONE_7005_HEKTOR)) == (FALSE)) {
        B_REMOVENPC(0xd94b);
    };
    if ((NPC_ISDEAD(BDT_13572_SMUGGLER)) == (FALSE)) {
        B_REMOVENPC(0xd91b);
    };
}

func void QA401_REFRESHARAXOS() {
    AI_RESETFACEANI(SLD_1000_ADELARD);
    AI_RESETFACEANI(HERO);
    AI_RESETFACEANI(SLD_1009_CARAMON);
    AI_RESETFACEANI(SLD_5002_SUNDER);
    if ((NPC_ISDEAD(SLD_13548_ARAXOS)) == (FALSE)) {
        AI_RESETFACEANI(SLD_13548_ARAXOS);
    };
    if ((NPC_ISDEAD(SLD_13549_ARAXOS)) == (FALSE)) {
        AI_RESETFACEANI(SLD_13549_ARAXOS);
    };
    SLD_5002_SUNDER.HITCHANCE[3] = 40;
    B_STARTOTHERROUTINE(SLD_1000_ADELARD, "QA401_FIGHT_CUTSCENE_FINAL_AFTER");
    QA401_ADELARD_RTNCHECK = 8;
    NPC_REFRESH(SLD_1000_ADELARD);
    B_STARTOTHERROUTINE(SLD_1009_CARAMON, "QA401_FIGHT_CUTSCENE_FINAL_AFTER");
    QA401_CARAMON_RTNCHECK = 7;
    NPC_REFRESH(SLD_1009_CARAMON);
    B_STARTOTHERROUTINE(SLD_5002_SUNDER, "QA401_FIGHT_CUTSCENE_FINAL_AFTER");
    QA401_SUNDER_RTNCHECK = 9;
    NPC_REFRESH(SLD_5002_SUNDER);
    if ((NPC_ISDEAD(SLD_13548_ARAXOS)) == (FALSE)) {
        B_STARTOTHERROUTINE(SLD_13548_ARAXOS, "QA401_FIGHT_CUTSCENE_FINAL_AFTER");
        NPC_REFRESH(SLD_13548_ARAXOS);
    };
    if ((NPC_ISDEAD(SLD_13549_ARAXOS)) == (FALSE)) {
        B_STARTOTHERROUTINE(SLD_13549_ARAXOS, "QA401_FIGHT_CUTSCENE_FINAL_AFTER");
        NPC_REFRESH(SLD_13549_ARAXOS);
    };
}

func void QA401_REMOVEFIRECRATES() {
    QA401_BRIDGEBIGCRATES_FIRE = TRUE;
    QA401_BRIDGEBIGCRATES_FIRE_DAY = WLD_GETDAY();
    QA401_BRIDGEBIGCRATES_FIRE_HOURS = WLD_GETHOUR();
    NPC = HLP_GETNPC(0x71b);
    NPCPTR = _@(0xf5d0);
    FF_APPLYEXTDATAGT(0xf5d7, 75, -(1), NPCPTR);
}

instance QA401_REMOVEFIRECRATES.NPC(C_NPC)
var int QA401_REMOVEFIRECRATES.NPCPTR = 0;
func void QA401_REMOVEBIGCRATES() {
    FF_APPLYONCEEXTGT(0xf5d3, 0, -(1));
    if (HLP_ISVALIDNPC(VLK_6064_OLDGUY)) {
        if ((LOG_GETSTATUS(MIS_KQ403)) == (LOG_SUCCESS)) {
            B_STARTOTHERROUTINE(VLK_6064_OLDGUY, "TAVERN");
        } else {
            B_STARTOTHERROUTINE(VLK_6064_OLDGUY, START);
        };
    };
    if (HLP_ISVALIDNPC(VLK_6006_GUY)) {
        B_STARTOTHERROUTINE(VLK_6006_GUY, START);
    };
    if ((NPC_ISDEAD(MIL_4003_HARBGUARD)) == (FALSE)) {
        B_STARTOTHERROUTINE(MIL_4003_HARBGUARD, START);
    };
    if ((NPC_ISDEAD(MIL_4004_HARBGUARD)) == (FALSE)) {
        B_STARTOTHERROUTINE(MIL_4004_HARBGUARD, START);
    };
}

func void QA401_REMOVEBIGCRATES_APPLY() {
    if ((QA401_REMOVEBIGCRATES_COUNT) == (0)) {
        PRINTD("Rozpoczynam - QA401_RemoveBigCrates_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("QA401_MOVER_BRIDGE_CRATES");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        CHANGEVOBCOLLISION("QA401_BIGCRATE_01", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("QA401_BIGCRATE_02", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("QA401_MOVER_BRIDGE_CRATES");
        QA401_REMOVEBIGCRATES_COUNT = 1;
    };
    if (((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Skoñczy³em - QA401_RemoveBigCrates_Apply");
        CHANGEVOBCOLLISION("QA401_BIGCRATE_01", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("QA401_BIGCRATE_02", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xf5d3);
        QA401_REMOVEBIGCRATES_COUNT = 0;
    };
}

var int QA401_REMOVEBIGCRATES_APPLY.QA401_REMOVEBIGCRATES_COUNT = 0;
instance QA401_REMOVEBIGCRATES_APPLY.MOVER1(ZCMOVER)
var int QA401_REMOVEBIGCRATES_APPLY.MOVPTR1 = 0;
func void QA401_REMOVEFIRECRATES_APPLY() {
    if ((CURRENTLEVEL) == (ARCHOLOS_ZEN)) {
        if ((NPC_GETDISTTOWP(HERO, "HARBOUR_PATH_296")) >= (0x1388)) {
            if ((QA401_BRIDGEBIGCRATES_FIRE) == (TRUE)) {
                if (((QA401_BRIDGEBIGCRATES_FIRE_HOURS) <= ((WLD_GETHOUR()) - (2))) || ((QA401_BRIDGEBIGCRATES_FIRE_DAY) != (WLD_GETDAY()))) {
                    QA401_BRIDGEBIGCRATES_FIRE = 2;
                    PRINTD("Remove skrzynie");
                    FF_REMOVE(0xf5d7);
                    if ((QA401_BRIDGEBIGCRATERESULT) == (1)) {
                        WLD_SENDTRIGGER("QA401_MOVER_BRIDGE_FIRE");
                    };
                    QA401_REMOVEBIGCRATES();
                } else {
                    PRINTD("Poczekaj 2godz lub do innego dnia");
                };
            };
        } else {
            PRINTD("Oddal siê to usunê skrzynie");
        } else {
            /* set_instance(0) */;
        };
    };
    if (((CURRENTLEVEL) == (ARCHOLOS_ENDGAME_ZEN)) || ((CURRENTLEVEL) == (ARCHOLOS_VOLFZACKE_ZEN))) {
        PRINTD("I tak nie zobaczysz efektów");
        FF_REMOVE(0xf5d7);
    };
    PRINTD("Mogê funkcjê wykonaæ tylko w zenie Archolos! - QA401_RemoveFireCrates_Apply");
}

func void QA401_OTMARWHATDO() {
    PRINTD("Sprawa Otmara rozwi¹zana");
    if ((NPC_ISDEAD(NONE_6086_FISHERMAN)) == (FALSE)) {
        B_STARTOTHERROUTINE(NONE_6086_FISHERMAN, START);
    };
    if ((QA401_OTMARRESULT) == (1)) {
        WLD_SENDTRIGGER("QA401_SAND");
        B_REMOVENPC(0xcb83);
        B_STARTOTHERROUTINE(VLK_10095_OTMAR, "QA401_FLEE");
        TELEPORTNPCTOWP(0xcb7c, VLK_10095_OTMAR.WP);
        NPC_CHANGEARMOR(VLK_10095_OTMAR, 0x8af3);
    };
    B_KILLNPC(0xcb83);
}

func void QA401_REMOVENPC() {
    B_REMOVENPC(0xd2aa);
    B_REMOVENPC(0xd2ae);
    B_REMOVENPC(0xd2b2);
    if ((NPC_ISDEAD(VLK_6283_BEINARD)) == (FALSE)) {
        B_STARTOTHERROUTINE(VLK_6283_BEINARD, START);
    };
    if ((NPC_ISDEAD(VLK_6107_ARMAR)) == (FALSE)) {
        B_STARTOTHERROUTINE(VLK_6107_ARMAR, START);
    };
    if ((NPC_ISDEAD(NONE_13546_BODYGUARD)) == (FALSE)) {
        B_REMOVENPC(0xd2b6);
    };
    if ((NPC_ISDEAD(NONE_13547_BODYGUARD)) == (FALSE)) {
        B_REMOVENPC(0xd2b9);
    };
    if ((NPC_ISDEAD(SLD_13548_ARAXOS)) == (FALSE)) {
        B_REMOVENPC(0xda46);
    };
    if ((NPC_ISDEAD(SLD_13549_ARAXOS)) == (FALSE)) {
        B_REMOVENPC(0xd950);
    };
    RESTOREROUTINE_ADELARD();
    RESTOREROUTINE_SUNDER();
    RESTOREROUTINE_CARAMON();
    RESTOREROUTINE_BEINARD();
    FF_APPLYONCEEXTGT(0xf5da, 0, -(1));
}

func void QA401_REMOVENPC_APPLY() {
    if ((QA401_REMOVENPC_COUNT) == (0)) {
        PRINTD("Rozpoczynam - QA401_RemoveNPC_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("QA401_HARBOUR_SHIP");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        MOVPTR2 = MEM_SEARCHVOBBYNAME("QA401_MOVER_WORKER");
        MOVER2 = MEM_PTRTOINST(MOVPTR2);
        MOVPTR3 = MEM_SEARCHVOBBYNAME("QA401_MOVER_WORKER_CRATE_01");
        MOVER3 = MEM_PTRTOINST(MOVPTR3);
        MOVPTR4 = MEM_SEARCHVOBBYNAME("QA401_MOVER_WORKER_CRATE_DESTROY_01");
        MOVER4 = MEM_PTRTOINST(MOVPTR4);
        MOVPTR5 = MEM_SEARCHVOBBYNAME("QA401_MOVER_WORKER_CRATE_02");
        MOVER5 = MEM_PTRTOINST(MOVPTR5);
        MOVPTR6 = MEM_SEARCHVOBBYNAME("QA401_MOVER_WORKER_CRATE_DESTROY_02");
        MOVER6 = MEM_PTRTOINST(MOVPTR6);
        MOVPTR7 = MEM_SEARCHVOBBYNAME("QA401_MOVER_WORKER_BARREL_01");
        MOVER7 = MEM_PTRTOINST(MOVPTR7);
        MOVPTR8 = MEM_SEARCHVOBBYNAME("QA401_MOVER_WORKER_BARREL_DESTROY_01");
        MOVER8 = MEM_PTRTOINST(MOVPTR8);
        MOVPTR9 = MEM_SEARCHVOBBYNAME("QA401_MOVER_WORKER_BARREL_02");
        MOVER9 = MEM_PTRTOINST(MOVPTR9);
        MOVPTR10 = MEM_SEARCHVOBBYNAME("QA401_MOVER_WORKER_BARREL_DESTROY_02");
        MOVER10 = MEM_PTRTOINST(MOVPTR10);
        CHANGEVOBCOLLISION("QA401_TENTROOF", FALSE, FALSE, FALSE, TRUE);
        if ((QA401_WORKER_BARREL_01) == (FALSE)) {
            CHANGEVOBCOLLISION("QA401_BARREL_01", FALSE, FALSE, FALSE, TRUE);
        };
        if ((QA401_WORKER_BARREL_02) == (FALSE)) {
            CHANGEVOBCOLLISION("QA401_BARREL_02", FALSE, FALSE, FALSE, TRUE);
        };
        if ((QA401_WORKER_CHEST_01) == (FALSE)) {
            CHANGEVOBCOLLISION("QA401_CRATE_01", FALSE, FALSE, FALSE, TRUE);
        };
        if ((QA401_WORKER_CHEST_02) == (FALSE)) {
            CHANGEVOBCOLLISION("QA401_CRATE_02", FALSE, FALSE, FALSE, TRUE);
        };
        WLD_SENDTRIGGER("QA401_HARBOUR_SHIP");
        WLD_SENDTRIGGER("QA401_MOVER_WORKER");
        if ((QA401_WORKER_CHEST_01) == (FALSE)) {
            WLD_SENDTRIGGER("QA401_MOVER_WORKER_CRATE_01");
        } else {
            WLD_SENDTRIGGER("QA401_MOVER_WORKER_CRATE_DESTROY_01");
        } else if ((QA401_WORKER_CHEST_02) == (FALSE)) {
            WLD_SENDTRIGGER("QA401_MOVER_WORKER_CRATE_02");
        } else {
            WLD_SENDTRIGGER("QA401_MOVER_WORKER_CRATE_DESTROY_02");
        } else if ((QA401_WORKER_BARREL_01) == (FALSE)) {
            WLD_SENDTRIGGER("QA401_MOVER_WORKER_BARREL_01");
        } else {
            WLD_SENDTRIGGER("QA401_MOVER_WORKER_BARREL_DESTROY_01");
        } else if ((QA401_WORKER_BARREL_02) == (FALSE)) {
            WLD_SENDTRIGGER("QA401_MOVER_WORKER_BARREL_02");
        } else {
            WLD_SENDTRIGGER("QA401_MOVER_WORKER_BARREL_DESTROY_02");
        } else {
            QA401_REMOVENPC_COUNT = 1;
        } else {
            /* set_instance(0) */;
        };
    };
    if (((((((((((((((((((((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER3.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER3.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER4.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER4.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER5.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER5.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER6.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER6.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER7.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER7.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER8.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER8.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER9.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER9.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER10.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER10.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Skoñczy³em - QA401_RemoveNPC_Apply");
        CHANGEVOBCOLLISION("QA401_TENTROOF", TRUE, TRUE, TRUE, TRUE);
        if ((QA401_WORKER_BARREL_01) == (FALSE)) {
            CHANGEVOBCOLLISION("QA401_BARREL_01", TRUE, TRUE, TRUE, TRUE);
        };
        if ((QA401_WORKER_BARREL_02) == (FALSE)) {
            CHANGEVOBCOLLISION("QA401_BARREL_02", TRUE, TRUE, TRUE, TRUE);
        };
        if ((QA401_WORKER_CHEST_01) == (FALSE)) {
            CHANGEVOBCOLLISION("QA401_CRATE_01", TRUE, TRUE, TRUE, TRUE);
        };
        if ((QA401_WORKER_CHEST_02) == (FALSE)) {
            CHANGEVOBCOLLISION("QA401_CRATE_02", TRUE, TRUE, TRUE, TRUE);
        };
        FF_REMOVE(0xf5da);
        QA401_REMOVENPC_COUNT = 0;
    };
}

var int QA401_REMOVENPC_APPLY.QA401_REMOVENPC_COUNT = 0;
instance QA401_REMOVENPC_APPLY.MOVER1(ZCMOVER)
instance QA401_REMOVENPC_APPLY.MOVER2(ZCMOVER)
instance QA401_REMOVENPC_APPLY.MOVER3(ZCMOVER)
instance QA401_REMOVENPC_APPLY.MOVER4(ZCMOVER)
instance QA401_REMOVENPC_APPLY.MOVER5(ZCMOVER)
instance QA401_REMOVENPC_APPLY.MOVER6(ZCMOVER)
instance QA401_REMOVENPC_APPLY.MOVER7(ZCMOVER)
instance QA401_REMOVENPC_APPLY.MOVER8(ZCMOVER)
instance QA401_REMOVENPC_APPLY.MOVER9(ZCMOVER)
instance QA401_REMOVENPC_APPLY.MOVER10(ZCMOVER)
var int QA401_REMOVENPC_APPLY.MOVPTR1 = 0;
var int QA401_REMOVENPC_APPLY.MOVPTR2 = 0;
var int QA401_REMOVENPC_APPLY.MOVPTR3 = 0;
var int QA401_REMOVENPC_APPLY.MOVPTR4 = 0;
var int QA401_REMOVENPC_APPLY.MOVPTR5 = 0;
var int QA401_REMOVENPC_APPLY.MOVPTR6 = 0;
var int QA401_REMOVENPC_APPLY.MOVPTR7 = 0;
var int QA401_REMOVENPC_APPLY.MOVPTR8 = 0;
var int QA401_REMOVENPC_APPLY.MOVPTR9 = 0;
var int QA401_REMOVENPC_APPLY.MOVPTR10 = 0;
func void QA401_SEWERS_SPAWNPABLO() {
    QA401_PABLOSEWERSSPAWN = 2;
    WLD_INSERTNPC(0xe65f, "S1_QM305_SPAWNGAMAL");
}

func void QA401_SEWERS_REMOVEPABLO() {
    QA401_PABLOSEWERSSPAWN = 4;
    if (HLP_ISVALIDNPC(NONE_7004_PABLO_SEWERS)) {
        B_REMOVENPC(0xe65f);
    };
}

func void QA401_PABLOUPDATEARAXOS() {
    if ((QA401_PABLOTASKDONE) == (TRUE)) {
        QA401_PABLOSEWERSSPAWN = 3;
        B_STARTOTHERROUTINE(NONE_7004_PABLO, "QA401_AFTER");
        NPC_REFRESH(NONE_7004_PABLO);
        TELEPORTNPCTOWP(0xd93f, NONE_7004_PABLO.WP);
        FF_APPLYONCEEXTGT(0xf5f3, 0, -(1));
    };
}

func void QA401_PABLOUPDATEARAXOS_APPLY() {
    if ((QA401_PABLOUPDATEARAXOS_COUNT) == (0)) {
        PRINTD("Rozpoczynam - QA401_PabloUpdateAraxos_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("QA401_MOVER_PABLO");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        CHANGEVOBCOLLISION("QA401_VOB_PABLO_01", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("QA401_VOB_PABLO_02", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("QA401_VOB_PABLO_03", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("QA401_VOB_PABLO_04", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("QA401_VOB_PABLO_05", FALSE, FALSE, FALSE, TRUE);
        QA401_PABLOUPDATEARAXOS_COUNT = 1;
    };
    if (((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Skoñczy³em - QA401_PabloUpdateAraxos_Apply");
        CHANGEVOBCOLLISION("QA401_VOB_PABLO_01", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("QA401_VOB_PABLO_02", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("QA401_VOB_PABLO_03", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("QA401_VOB_PABLO_04", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("QA401_VOB_PABLO_05", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xf5f3);
        QA401_PABLOUPDATEARAXOS_COUNT = 0;
    };
}

var int QA401_PABLOUPDATEARAXOS_APPLY.QA401_PABLOUPDATEARAXOS_COUNT = 0;
instance QA401_PABLOUPDATEARAXOS_APPLY.MOVER1(ZCMOVER)
var int QA401_PABLOUPDATEARAXOS_APPLY.MOVPTR1 = 0;
