instance DIA_MILITIA_Q602_EXIT(C_INFO) {
    NPC = 0xe981;
    NR = 999;
    CONDITION = DIA_MILITIA_Q602_EXIT_CONDITION;
    INFORMATION = DIA_MILITIA_Q602_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_MILITIA_Q602_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_MILITIA_Q602_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_MILITIA_Q602_ABOUTVOLKER(C_INFO) {
    NPC = 0xe981;
    NR = 1;
    CONDITION = DIA_MILITIA_Q602_ABOUTVOLKER_CONDITION;
    INFORMATION = DIA_MILITIA_Q602_ABOUTVOLKER_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_MILITIA_Q602_ABOUTVOLKER_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x160b2)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void Q602_MILITIA_CAMERA_01() {
    DIACAM_DISABLE();
    WLD_SENDTRIGGER("Q602_FINALWAR_RIORDIAN_01");
}

func void DIA_MILITIA_Q602_ABOUTVOLKER_INFO() {
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_MILITIA_Q602_AboutVolker_03_01");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_MILITIA_Q602_AboutVolker_03_02");
    AI_FUNCTION(SELF, 0x16103);
    AI_WAITTILLEND(OTHER, SELF);
    AI_WAIT(OTHER, 0x3e99999a);
    AI_TURNTONPC(OTHER, NONE_14020_EFFECTHELPER);
    AI_TURNTONPC(SELF, NONE_14020_EFFECTHELPER);
    AI_WAIT(SELF, 0x3dcccccd);
    AI_POINTATNPC(SELF, NONE_14020_EFFECTHELPER);
    AI_OUTPUT(SELF, OTHER, "DIA_MILITIA_Q602_AboutVolker_03_03");
    INFO_CLEARCHOICES(0x16101);
    INFO_ADDCHOICE(0x16101, "Are you sure it was him?", 0x16105);
}

func void DIA_MILITIA_Q602_ABOUTVOLKER_HIM() {
    WLD_SENDUNTRIGGER("Q602_FINALWAR_RIORDIAN_01");
    DIACAM_ENABLE();
    AI_STOPPOINTAT(SELF);
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    B_STANDUP();
    AI_OUTPUT(OTHER, SELF, "DIA_MILITIA_Q602_AboutVolker_Him_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_MILITIA_Q602_AboutVolker_Him_03_02");
    AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_MILITIA_Q602_AboutVolker_Him_03_03");
    INFO_CLEARCHOICES(0x16101);
    AI_STOPPROCESSINFOS(SELF);
    AI_RESETFACEANI(OTHER);
    AI_RESETFACEANI(SELF);
}

