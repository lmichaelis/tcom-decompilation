var int CARAMON_Q206_LETSGO_DOUBLE = 0;
func void CARAMON_REMOVEOLDARMOR() {
    if ((NPC_HASITEMS(SLD_1009_CARAMON, 0x8a89)) == (1)) {
        NPC_REMOVEINVITEMS(SLD_1009_CARAMON, 0x8a89, 1);
    };
    if ((NPC_HASITEMS(SLD_1009_CARAMON, 0x8a7e)) == (1)) {
        NPC_REMOVEINVITEMS(SLD_1009_CARAMON, 0x8a7e, 1);
    };
    if ((NPC_HASITEMS(SLD_1009_CARAMON, 0x8a83)) == (1)) {
        NPC_REMOVEINVITEMS(SLD_1009_CARAMON, 0x8a83, 1);
    };
    if ((NPC_HASITEMS(SLD_1009_CARAMON, 0x8a8e)) == (1)) {
        NPC_REMOVEINVITEMS(SLD_1009_CARAMON, 0x8a8e, 1);
    };
    if ((NPC_HASITEMS(SLD_1009_CARAMON, 0x8a93)) == (1)) {
        NPC_REMOVEINVITEMS(SLD_1009_CARAMON, 0x8a93, 1);
    };
    HERO.AIVAR[4] = FALSE;
}

func void CARAMON_CHANGEARMOR_TOHUNTER() {
    B_STANDUP();
    AI_PLAYANI(SELF, T_PLUNDER);
    CREATEINVITEMS(SLD_1009_CARAMON, 0x8a5e, 1);
    AI_EQUIPARMOR(SLD_1009_CARAMON, 0x8a5e);
    AI_WAITTILLEND(OTHER, SELF);
    AI_WAITTILLEND(SELF, OTHER);
    AI_FUNCTION(SELF, 0x11275);
}

func void CARAMON_CHANGEARMOR_REMOVEITEM() {
    NPC_REMOVEINVITEMS(SLD_1009_CARAMON, 0x8a5e, 1);
    HERO.AIVAR[4] = FALSE;
}

func void CARAMON_CHANGEARMOR_TOARAXOS() {
    B_STANDUP();
    AI_PLAYANI(SELF, T_PLUNDER);
    if ((MARVIN_ARAXOS_WHEREJOINED) == (1)) {
        if ((CARAMON_TIERARMOR) == (1)) {
            CREATEINVITEMS(SLD_1009_CARAMON, 0x8a7e, 1);
            AI_EQUIPARMOR(SLD_1009_CARAMON, 0x8a7e);
        } else if ((CARAMON_TIERARMOR) == (2)) {
            CREATEINVITEMS(SLD_1009_CARAMON, 0x8a83, 1);
            AI_EQUIPARMOR(SLD_1009_CARAMON, 0x8a83);
        } else {
            CREATEINVITEMS(SLD_1009_CARAMON, 0x8a89, 1);
            AI_EQUIPARMOR(SLD_1009_CARAMON, 0x8a89);
        } else {
            /* set_instance(0) */;
        };
    };
    if ((MARVIN_ARAXOS_WHEREJOINED) == (2)) {
        if ((CARAMON_TIERARMOR) == (3)) {
            CREATEINVITEMS(SLD_1009_CARAMON, 0x8a8e, 1);
            AI_EQUIPARMOR(SLD_1009_CARAMON, 0x8a8e);
        } else if ((CARAMON_TIERARMOR) == (4)) {
            CREATEINVITEMS(SLD_1009_CARAMON, 0x8a93, 1);
            AI_EQUIPARMOR(SLD_1009_CARAMON, 0x8a93);
        } else {
            CREATEINVITEMS(SLD_1009_CARAMON, 0x8a89, 1);
            AI_EQUIPARMOR(SLD_1009_CARAMON, 0x8a89);
        } else {
            /* set_instance(0) */;
        };
    };
    CREATEINVITEMS(SLD_1009_CARAMON, 0x8a89, 1);
    AI_EQUIPARMOR(SLD_1009_CARAMON, 0x8a89);
    AI_FUNCTION(SLD_1009_CARAMON, 0x11277);
    AI_WAITTILLEND(OTHER, SELF);
    AI_WAITTILLEND(SELF, OTHER);
}

func void CARAMON_Q206_FOLLOW() {
    SLD_1009_CARAMON.AIVAR[57] = TRUE;
    SLD_1009_CARAMON.AIVAR[25] = TRUE;
    SLD_1009_CARAMON.AIVAR[54] = TRUE;
    SLD_1009_CARAMON.AIVAR[55] = TRUE;
    SLD_1009_CARAMON.AIVAR[15] = TRUE;
}

func void CARAMON_Q206_UNFOLLOW() {
    SLD_1009_CARAMON.AIVAR[57] = FALSE;
    SLD_1009_CARAMON.AIVAR[25] = FALSE;
    SLD_1009_CARAMON.AIVAR[54] = FALSE;
    SLD_1009_CARAMON.AIVAR[55] = FALSE;
    SLD_1009_CARAMON.AIVAR[15] = FALSE;
}

instance DIA_CARAMON_EXIT(C_INFO) {
    NPC = 0xcb1c;
    NR = 999;
    CONDITION = DIA_CARAMON_EXIT_CONDITION;
    INFORMATION = DIA_CARAMON_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_CARAMON_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_CARAMON_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_CARAMON_HELLO(C_INFO) {
    NPC = 0xcb1c;
    NR = 998;
    CONDITION = DIA_CARAMON_HELLO_CONDITION;
    INFORMATION = DIA_CARAMON_HELLO_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Hey, who are you?";
}

func int DIA_CARAMON_HELLO_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x112ff)) == (FALSE)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_HELLO_THANKSADDCHOICE() {
    INFO_ADDCHOICE(0x1127e, "Thanks for the advice.", 0x11287);
}

func void DIA_CARAMON_HELLO_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Hello_15_00");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Hello_13_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Hello_13_02");
    if ((OTHER.GUILD) != (GIL_SLD)) {
        AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Hello_15_03");
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Hello_13_04");
    };
    if ((OTHER.GUILD) == (GIL_NONE)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Hello_13_05");
        INFO_CLEARCHOICES(0x1127e);
        INFO_ADDCHOICE(0x1127e, "I'd like to join you.", 0x11288);
        INFO_ADDCHOICE(0x1127e, "I'm still considering it.", 0x11285);
    };
}

var int CARAMON_ABOUTLORENZO = 0;
func void DIA_CARAMON_HELLO_ABOUTLORENZO() {
    if (((NPC_KNOWSINFO(OTHER, 0x11549)) == (FALSE)) && ((CARAMON_ABOUTLORENZO) == (FALSE))) {
        CARAMON_ABOUTLORENZO = TRUE;
        AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Hello_join_militia_15_05");
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Hello_join_militia_13_06");
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Hello_join_militia_13_07");
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Hello_join_militia_13_08");
    };
}

func void DIA_CARAMON_HELLO_NEXT() {
    INFO_CLEARCHOICES(0x1127e);
    DIA_CARAMON_HELLO_THANKSADDCHOICE();
    INFO_ADDCHOICE(0x1127e, "What about the City Guard?", 0x11286);
}

func void DIA_CARAMON_HELLO_THINK() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Hello_join_15_00");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Hello_join_13_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Hello_join_13_02");
    DIA_CARAMON_HELLO_NEXT();
}

func void DIA_CARAMON_HELLO_JOIN_MILITIA() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Hello_join_militia_15_00");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Hello_join_militia_13_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Hello_join_militia_13_03");
    if ((CARAMON_ABOUTLORENZO) == (FALSE)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Hello_join_militia_13_04");
    };
    DIA_CARAMON_HELLO_ABOUTLORENZO();
}

func void DIA_CARAMON_HELLO_JOIN_ADVICE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Hello_join_advice_15_00");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Hello_join_advice_13_01");
    INFO_CLEARCHOICES(0x1127e);
}

func void DIA_CARAMON_HELLO_JOIN() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Hello_think_15_00");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Hello_think_13_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Hello_think_13_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Hello_think_13_03");
    DIA_CARAMON_HELLO_ABOUTLORENZO();
    DIA_CARAMON_HELLO_NEXT();
}

instance DIA_CARAMON_Q206_WOODENSCAV(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_Q206_WOODENSCAV_CONDITION;
    INFORMATION = DIA_CARAMON_Q206_WOODENSCAV_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "You carve scavengers?";
}

func int DIA_CARAMON_Q206_WOODENSCAV_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x1158f)) {
        if ((NPC_KNOWSINFO(OTHER, 0x112ff)) || (NPC_KNOWSINFO(OTHER, 0x1127e))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_Q206_WOODENSCAV_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q206_WoodenScav_15_01");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_WoodenScav_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q206_WoodenScav_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_WoodenScav_03_04");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_WoodenScav_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_WoodenScav_03_06");
    B_STANDUP();
    INFO_CLEARCHOICES(0x11289);
    INFO_ADDCHOICE(0x11289, "Give me a moment.", 0x1128c);
    INFO_ADDCHOICE(0x11289, "Let's go.", 0x1128f);
}

func void DIA_CARAMON_Q206_WAITASECOND() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q206_WaitASecond_15_01");
    AI_WAITTILLEND(SELF, OTHER);
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_CARAMON_Q206_LETSGO(C_INFO) {
    NPC = 0xcb1c;
    NR = 2;
    CONDITION = DIA_CARAMON_Q206_LETSGO_CONDITION;
    INFORMATION = DIA_CARAMON_Q206_LETSGO_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Let's go.";
}

func int DIA_CARAMON_Q206_LETSGO_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x11289)) {
        if ((CARAMON_Q206_LETSGO_DOUBLE) == (FALSE)) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_Q206_LETSGO_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q206_LetsGo_15_01");
    B_STANDUP();
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_LetsGo_03_02");
    CARAMON_Q206_LETSGO_DOUBLE = TRUE;
    AI_LOGENTRY(TOPIC_Q206, LOG_Q206_CARAMONLETSGO);
    Q206_CARAMON_RTNCHECK = 2;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "Q206_GUIDE_INGOR");
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_CARAMON_Q206_INGORARMOR(C_INFO) {
    NPC = 0xcb1c;
    NR = 4;
    CONDITION = DIA_CARAMON_Q206_INGORARMOR_CONDITION;
    INFORMATION = DIA_CARAMON_Q206_INGORARMOR_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CARAMON_Q206_INGORARMOR_CONDITION() {
    if (((NPC_KNOWSINFO(OTHER, 0x11289)) && ((CARAMON_Q206_LETSGO_DOUBLE) == (TRUE))) && ((NPC_GETDISTTOWP(SELF, "PARTM1_JOINARAXOS_SLD_01")) < (500))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_Q206_INGORARMOR_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_IngorArmor_03_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q206_IngorArmor_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_IngorArmor_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_IngorArmor_03_04");
    AI_LOGENTRY(TOPIC_Q206, LOG_Q206_INGORARMOR);
    Q206_CARAMON_RTNCHECK = 3;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "Q206_WAITING_ARAXOS");
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_CARAMON_Q206_GOFORREAL(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_Q206_GOFORREAL_CONDITION;
    INFORMATION = DIA_CARAMON_Q206_GOFORREAL_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Let's go.";
}

func int DIA_CARAMON_Q206_GOFORREAL_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x11290)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_Q206_GOFORREAL_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q206_GoForReal_15_01");
    AI_LOGENTRY(TOPIC_Q206, LOG_Q206_WEGOTINGORARMOR);
    Q206_GOWITHCARAMON = TRUE;
    CARAMON_Q206_FOLLOW();
    CARAMON_CHANGEARMOR_TOHUNTER();
    Q206_CARAMON_RTNCHECK = 4;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "Q206_GUIDE_TAVERNE");
    AI_WAITTILLEND(SELF, OTHER);
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_CARAMON_Q206_PRETAVERN(C_INFO) {
    NPC = 0xcb1c;
    NR = 2;
    CONDITION = DIA_CARAMON_Q206_PRETAVERN_CONDITION;
    INFORMATION = DIA_CARAMON_Q206_PRETAVERN_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CARAMON_Q206_PRETAVERN_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x11293)) && ((NPC_GETDISTTOWP(SELF, "HARBOUR_PATH_125")) <= (500))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_Q206_PRETAVERN_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_PreTavern_03_01");
    if (NPC_HASGUILDARMOREQUIPPED(OTHER, GIL_SLD)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_PreTavern_03_02");
    };
    NPC_EXCHANGEROUTINE(SELF, "Q206_WAITING_TAVERNE");
    AI_STOPPROCESSINFOS(SELF);
    AI_LOGENTRY(TOPIC_Q206, LOG_Q206_PRETAVERN);
}

instance DIA_CARAMON_Q206_ANYINFO(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_Q206_ANYINFO_CONDITION;
    INFORMATION = DIA_CARAMON_Q206_ANYINFO_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CARAMON_Q206_ANYINFO_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_Q206)) == (LOG_RUNNING)) && ((Q206_KNOWSFINBAR) == (TRUE))) && ((NPC_KNOWSINFO(OTHER, 0x10e40)) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_Q206_ANYINFO_INFO() {
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_AnyInfo_03_01");
    INFO_CLEARCHOICES(0x11299);
    INFO_ADDCHOICE(0x11299, "We need to look for Finbar, he's supposed to be around the cranes in the harbor.", 0x1129c);
}

func void DIA_CARAMON_Q206_ANYINFO_SEARCH() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q206_AnyInfo_Search_15_01");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_AnyInfo_Search_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_AnyInfo_Search_03_03");
    INFO_CLEARCHOICES(0x11299);
    INFO_ADDCHOICE(0x11299, "What if I find him?", 0x1129d);
}

func void DIA_CARAMON_Q206_ANYINFO_SEARCH_WHAT() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q206_AnyInfo_What_15_01");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_AnyInfo_What_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_AnyInfo_What_03_03");
    INFO_CLEARCHOICES(0x11299);
    AI_STOPPROCESSINFOS(SELF);
    B_LOGENTRY(TOPIC_Q206, LOG_Q206_CARAMON_SPLITUP);
    Q206_CARAMON_RTNCHECK = 6;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "Q206_SEARCH_HARBOUR");
}

instance DIA_CARAMON_Q206_THANKSFORHELP(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_Q206_THANKSFORHELP_CONDITION;
    INFORMATION = DIA_CARAMON_Q206_THANKSFORHELP_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CARAMON_Q206_THANKSFORHELP_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_Q206)) == (LOG_RUNNING)) && ((Q206_SMUGLESDEAD()) == (TRUE))) && (NPC_KNOWSINFO(OTHER, 0x10e40))) {
        if ((((NPC_GETDISTTOWP(SLD_1009_CARAMON, SLD_1009_CARAMON.WP)) <= (500)) && ((NPC_GETDISTTOWP(NONE_7004_PABLO, NONE_7004_PABLO.WP)) <= (500))) || ((NPC_GETDISTTONPC(SLD_1009_CARAMON, NONE_7004_PABLO)) <= (500))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_Q206_THANKSFORHELP_INFO() {
    TRIA_INVITE(NONE_7004_PABLO);
    TRIA_START();
    AI_LOOKATNPC(OTHER, SELF);
    AI_STOPLOOKAT(SELF);
    AI_GOTONPC(NONE_7004_PABLO, OTHER);
    AI_GOTONPC(SLD_1009_CARAMON, OTHER);
    TRIA_WAIT();
    TRIA_NEXT(SLD_1009_CARAMON);
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_ThanksForHelp_03_01");
    AI_TURNTONPC(SELF, NONE_7004_PABLO);
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_ThanksForHelp_03_02");
    INFO_CLEARCHOICES(0x1129e);
    INFO_ADDCHOICE(0x1129e, "This is Pablo, one of the smugglers.", 0x112a1);
}

func void DIA_CARAMON_Q206_THANKSFORHELP_PABLO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q206_ThanksForHelp_Pablo_15_01");
    AI_TURNTONPC(SELF, OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_ThanksForHelp_Pablo_03_02");
    INFO_CLEARCHOICES(0x1129e);
    INFO_ADDCHOICE(0x1129e, "The issue is more complicated than we thought.", 0x112a2);
}

func void DIA_CARAMON_Q206_THANKSFORHELP_PABLO_COMPLICATED() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q206_ThanksForHelp_Complicated_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q206_ThanksForHelp_Complicated_15_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q206_ThanksForHelp_Complicated_15_03");
    TRIA_WAIT();
    TRIA_NEXT(SLD_1009_CARAMON);
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_ThanksForHelp_Complicated_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_ThanksForHelp_Complicated_03_05");
    AI_TURNTONPC(SELF, NONE_7004_PABLO);
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_ThanksForHelp_Complicated_03_06");
    TRIA_WAIT();
    TRIA_NEXT(NONE_7004_PABLO);
    AI_TURNTONPC(OTHER, SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_ThanksForHelp_Complicated_03_07");
    AI_TURNTONPC(SELF, OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_ThanksForHelp_Complicated_03_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_ThanksForHelp_Complicated_03_09");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_ThanksForHelp_Complicated_03_10");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_ThanksForHelp_Complicated_03_11");
    INFO_CLEARCHOICES(0x1129e);
    INFO_ADDCHOICE(0x1129e, "You said you didn't know anything about these goods.", 0x112a4);
    INFO_ADDCHOICE(0x1129e, "You got a deal!", 0x112a3);
}

func void DIA_CARAMON_Q206_THANKSFORHELP_PABLO_COMPLICATED_YES() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q206_ThanksForHelp_Yes_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_ThanksForHelp_Yes_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_ThanksForHelp_Yes_03_03");
    TRIA_WAIT();
    TRIA_NEXT(SLD_1009_CARAMON);
    AI_TURNTONPC(OTHER, SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_ThanksForHelp_Yes_03_04");
    TRIA_FINISH();
    AI_STOPLOOKAT(SELF);
    AI_STOPLOOKAT(OTHER);
    INFO_CLEARCHOICES(0x1129e);
    AI_STOPPROCESSINFOS(SELF);
    AI_LOGENTRY(TOPIC_Q206, LOG_Q206_PABLO_PLAN);
    AI_FUNCTION(SELF, 0x112a5);
}

func void DIA_CARAMON_Q206_THANKSFORHELP_PABLO_COMPLICATED_NO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q206_ThanksForHelp_No_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_ThanksForHelp_No_03_02");
}

func void CARAMON_Q206_THANKSFORHELP_CHANGERTN() {
    NPC_EXCHANGEROUTINE(NONE_7004_PABLO, "Q206_BEACH_BOAT");
    Q206_CARAMON_RTNCHECK = 10;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "Q206_BEACH_TALK");
}

instance DIA_CARAMON_Q206_TRUSTPABLO(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_Q206_TRUSTPABLO_CONDITION;
    INFORMATION = DIA_CARAMON_Q206_TRUSTPABLO_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CARAMON_Q206_TRUSTPABLO_CONDITION() {
    if ((((NPC_GETDISTTOWP(SELF, SELF.WP)) <= (500)) && ((LOG_GETSTATUS(MIS_Q206)) == (LOG_RUNNING))) && (NPC_KNOWSINFO(OTHER, 0x1129e))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_Q206_TRUSTPABLO_INFO() {
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_TrustPablo_03_01");
    INFO_CLEARCHOICES(0x112a6);
    INFO_ADDCHOICE(0x112a6, "So far, he has proven to be quite useful.", 0x112aa);
    INFO_ADDCHOICE(0x112a6, "It's our only lead.", 0x112ab);
}

func void DIA_CARAMON_Q206_TRUSTPABLO_NEXT() {
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_TrustPablo_Next_03_01");
    INFO_CLEARCHOICES(0x112a6);
    AI_STOPPROCESSINFOS(SELF);
    Q206_CARAMON_RTNCHECK = 11;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "Q206_BEACH_BOAT");
}

func void DIA_CARAMON_Q206_TRUSTPABLO_GOOD() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q206_TrustPablo_Good_15_01");
    DIA_CARAMON_Q206_TRUSTPABLO_NEXT();
}

func void DIA_CARAMON_Q206_TRUSTPABLO_TRACE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q206_TrustPablo_Trace_15_01");
    DIA_CARAMON_Q206_TRUSTPABLO_NEXT();
}

instance DIA_CARAMON_Q206_AFTERPABLO(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_Q206_AFTERPABLO_CONDITION;
    INFORMATION = DIA_CARAMON_Q206_AFTERPABLO_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CARAMON_Q206_AFTERPABLO_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q206)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x10e5b))) {
        if (((Q206_SPAREPABLO) == (TRUE)) || (NPC_ISDEAD(NONE_7004_PABLO))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_Q206_AFTERPABLO_INFO() {
    if (NPC_ISDEAD(NONE_7004_PABLO)) {
        AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_AfterPablo_03_01");
    };
    AI_STARTFACEANI(SELF, S_TIRED, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_AfterPablo_03_02");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_AfterPablo_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_AfterPablo_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_AfterPablo_03_05");
    INFO_CLEARCHOICES(0x112ac);
    INFO_ADDCHOICE(0x112ac, "Last time, splitting up didn't work out too well for us.", 0x112af);
    INFO_ADDCHOICE(0x112ac, "Thanks, I'm heading into town then.", 0x112b0);
}

func void DIA_CARAMON_Q206_AFTERPABLO_NO() {
    Q206_CHECKDOORWITHCARAMON = 1;
    AI_STARTFACEANI(OTHER, S_SERIOUS, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q206_AfterPablo_No_15_01");
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_AfterPablo_No_03_02");
    INFO_CLEARCHOICES(0x112ac);
    AI_STOPPROCESSINFOS(SELF);
    Q206_CARAMON_RTNCHECK = 13;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "Q206_GUIDE_DOOR");
}

func void DIA_CARAMON_Q206_AFTERPABLO_YES() {
    AI_STARTFACEANI(OTHER, S_SMILE, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q206_AfterPablo_Yes_15_01");
    AI_RESETFACEANI(OTHER);
    INFO_CLEARCHOICES(0x112ac);
    AI_STOPPROCESSINFOS(SELF);
    Q206_CARAMON_RTNCHECK = 14;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "Q206_DOOR");
    AI_LOGENTRY(TOPIC_Q206, LOG_Q206_CARAMON_GOBACK_V1);
    CARAMON_Q206_UNFOLLOW();
}

instance DIA_CARAMON_Q206_DOOR(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_Q206_DOOR_CONDITION;
    INFORMATION = DIA_CARAMON_Q206_DOOR_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CARAMON_Q206_DOOR_CONDITION() {
    if (((((LOG_GETSTATUS(MIS_Q206)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x112ac))) && ((NPC_GETDISTTOWP(SELF, SELF.WP)) <= (500))) && ((Q206_CHECKDOORWITHCARAMON) == (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_Q206_DOOR_INFO() {
    Q206_CHECKDOORWITHCARAMON = 2;
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_Door_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q206_Door_03_02");
    AI_STOPPROCESSINFOS(SELF);
    AI_LOGENTRY(TOPIC_Q206, LOG_Q206_CARAMON_GOBACK_V2);
    Q206_CARAMON_RTNCHECK = 14;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "Q206_DOOR");
    CARAMON_Q206_UNFOLLOW();
}

instance DIA_CARAMON_WHYMERCENARIES(C_INFO) {
    NPC = 0xcb1c;
    NR = 3;
    CONDITION = DIA_CARAMON_WHYMERCENARIES_CONDITION;
    INFORMATION = DIA_CARAMON_WHYMERCENARIES_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Why did you decide to join the mercenaries?";
}

func int DIA_CARAMON_WHYMERCENARIES_CONDITION() {
    if (((Q206_GOWITHCARAMON) == (TRUE)) && ((Q509_CARAMONVOLFZACKE) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_WHYMERCENARIES_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_WhyMercenaries_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_WhyMercenaries_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_WhyMercenaries_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_WhyMercenaries_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_WhyMercenaries_03_05");
    if ((LOG_GETSTATUS(MIS_CQ003)) == (LOG_SUCCESS)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_WhyMercenaries_03_06");
    };
}

instance DIA_CARAMON_YOURBROTHER(C_INFO) {
    NPC = 0xcb1c;
    NR = 4;
    CONDITION = DIA_CARAMON_YOURBROTHER_CONDITION;
    INFORMATION = DIA_CARAMON_YOURBROTHER_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Where is your brother now?";
}

func int DIA_CARAMON_YOURBROTHER_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x112b4)) && ((Q509_CARAMONVOLFZACKE) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_YOURBROTHER_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_YourBrother_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_YourBrother_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_YourBrother_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_YourBrother_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_YourBrother_03_05");
}

instance DIA_CARAMON_WHEREBORN(C_INFO) {
    NPC = 0xcb1c;
    NR = 5;
    CONDITION = DIA_CARAMON_WHEREBORN_CONDITION;
    INFORMATION = DIA_CARAMON_WHEREBORN_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Were you born on Archolos?";
}

func int DIA_CARAMON_WHEREBORN_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x112b7)) && ((Q509_CARAMONVOLFZACKE) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_WHEREBORN_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_WhereBorn_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_WhereBorn_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_WhereBorn_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_WhereBorn_03_06");
}

instance DIA_CARAMON_KNOWTEACHERS(C_INFO) {
    NPC = 0xcb1c;
    NR = 6;
    CONDITION = DIA_CARAMON_KNOWTEACHERS_CONDITION;
    INFORMATION = DIA_CARAMON_KNOWTEACHERS_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Do you know anyone in the Guild who could teach me something?";
}

func int DIA_CARAMON_KNOWTEACHERS_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x112b4)) && ((Q509_CARAMONVOLFZACKE) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_KNOWTEACHERS_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KnowTeachers_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KnowTeachers_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KnowTeachers_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KnowTeachers_03_04");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KnowTeachers_15_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KnowTeachers_03_06");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KnowTeachers_15_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KnowTeachers_03_08");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KnowTeachers_15_09");
}

instance DIA_CARAMON_QA302_HELP(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_QA302_HELP_CONDITION;
    INFORMATION = DIA_CARAMON_QA302_HELP_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "We have an assignment. I need you to watch the people at Gerstand's tavern.";
}

func int DIA_CARAMON_QA302_HELP_CONDITION() {
    if (((LOG_GETSTATUS(MIS_QA302)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x1139d))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_QA302_HELP_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_QA302_Help_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_QA302_Help_15_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_QA302_Help_15_03");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_QA302_Help_03_04");
    AI_RESETFACEANI(SELF);
}

instance DIA_CARAMON_QA302_LETSGO(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_QA302_LETSGO_CONDITION;
    INFORMATION = DIA_CARAMON_QA302_LETSGO_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Now is a good time.";
}

func int DIA_CARAMON_QA302_LETSGO_CONDITION() {
    if (((LOG_GETSTATUS(MIS_QA302)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x112c0))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_QA302_LETSGO_INFO() {
    CARAMON_Q206_FOLLOW();
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_QA302_LetsGo_15_01");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    CARAMON_CHANGEARMOR_TOHUNTER();
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_QA302_LetsGo_03_02");
    AI_STOPPROCESSINFOS(SELF);
    QA302_CARAMON_RTNCHECK = 1;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "QA302_GERSTAND_GUIDE");
    QA302_PREPAREERNESTO();
    AI_LOGENTRY(TOPIC_QA302, LOG_QA302_CARAMON_GUIDE);
}

instance DIA_CARAMON_QA302_GERSTANDINN(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_QA302_GERSTANDINN_CONDITION;
    INFORMATION = DIA_CARAMON_QA302_GERSTANDINN_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CARAMON_QA302_GERSTANDINN_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_QA302)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x112c3))) && ((NPC_GETDISTTOWP(SELF, "PARTM4_PATH_84")) <= (500))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_QA302_GERSTANDINN_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_QA302_GerstandInn_03_01");
    AI_STOPPROCESSINFOS(SELF);
    QA302_CARAMON_RTNCHECK = 2;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "QA302_GERSTAND_INN");
}

instance DIA_CARAMON_QA302_SUSPECT(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_QA302_SUSPECT_CONDITION;
    INFORMATION = DIA_CARAMON_QA302_SUSPECT_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CARAMON_QA302_SUSPECT_CONDITION() {
    if (((LOG_GETSTATUS(MIS_QA302)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x1240d))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_QA302_SUSPECT_INFO() {
    MDL_REMOVEOVERLAYMDS(SELF, HUMANSMILITIAMDS);
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_QA302_Suspect_03_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_QA302_Suspect_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_QA302_Suspect_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_QA302_Suspect_03_04");
    AI_FUNCTION(SELF, 0xf003);
    AI_STOPPROCESSINFOS(SELF);
    AI_LOGENTRY(TOPIC_QA302, LOG_QA302_CARAMON_SUSPECT);
}

instance DIA_CARAMON_QA302_BANDITS(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_QA302_BANDITS_CONDITION;
    INFORMATION = DIA_CARAMON_QA302_BANDITS_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CARAMON_QA302_BANDITS_CONDITION() {
    if (((LOG_GETSTATUS(MIS_QA302)) == (LOG_RUNNING)) && ((QA302_BANDITS_CUTSCENEENABLE) == (3))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_QA302_BANDITS_INFO() {
    NONE_13496_QA302_BANDIT.FLAGS = 0;
    NONE_13497_QA302_BANDIT.FLAGS = 0;
    NONE_13498_QA302_BANDIT.FLAGS = 0;
    NONE_13499_QA302_BANDIT.FLAGS = 0;
    NONE_13500_QA302_BANDIT.FLAGS = 0;
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_QA302_Bandits_03_01");
    INFO_CLEARCHOICES(0x112cc);
    INFO_ADDCHOICE(0x112cc, "We need to inform Garos.", 0x112cf);
    INFO_ADDCHOICE(0x112cc, "Yeah, let's go!", 0x112d0);
}

func void DIA_CARAMON_QA302_BANDITS_RIGHT() {
    QA302_CARAMONHELP = 1;
    CARAMON_Q206_UNFOLLOW();
    MDL_APPLYOVERLAYMDS(SELF, HUMANSMILITIAMDS);
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_QA302_Bandits_Right_15_01");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_QA302_Bandits_Right_03_02");
    AI_STARTFACEANI(OTHER, S_SMUG, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_QA302_Bandits_Right_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_QA302_Bandits_Right_03_04");
    CARAMON_CHANGEARMOR_TOARAXOS();
    AI_LOGENTRY(TOPIC_QA302, LOG_QA302_CARAMON_WHATDO_V1);
    INFO_CLEARCHOICES(0x112cc);
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    AI_STOPPROCESSINFOS(SELF);
    QA302_CARAMON_RTNCHECK = 8;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "QA302_BANDIT_GAROS");
}

func void DIA_CARAMON_QA302_BANDITS_LETSGO() {
    QA302_CARAMONHELP = 2;
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_QA302_Bandits_LetsGo_15_01");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_QA302_Bandits_LetsGo_03_02");
    AI_LOGENTRY(TOPIC_QA302, LOG_QA302_CARAMON_WHATDO_V2);
    INFO_CLEARCHOICES(0x112cc);
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    AI_STOPPROCESSINFOS(SELF);
    QA302_CARAMON_RTNCHECK = 7;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "QA302_BANDIT_FIGHT");
}

instance DIA_CARAMON_QA302_AFTERFIGHT(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_QA302_AFTERFIGHT_CONDITION;
    INFORMATION = DIA_CARAMON_QA302_AFTERFIGHT_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CARAMON_QA302_AFTERFIGHT_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_QA302)) == (LOG_RUNNING)) && ((QA302_FINALFIGHT) == (2))) && ((QA302_CARAMONHELP) == (2))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_QA302_AFTERFIGHT_INFO() {
    CARAMON_Q206_UNFOLLOW();
    MDL_APPLYOVERLAYMDS(SELF, HUMANSMILITIAMDS);
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_QA302_AfterFight_03_01");
    AI_STARTFACEANI(OTHER, S_SMUG, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_QA302_AfterFight_15_02");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_QA302_AfterFight_03_03");
    CARAMON_CHANGEARMOR_TOARAXOS();
    AI_STOPPROCESSINFOS(SELF);
    NPC_EXCHANGEROUTINE(SELF, START);
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

instance DIA_CARAMON_KQ403_ACTION(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_KQ403_ACTION_CONDITION;
    INFORMATION = DIA_CARAMON_KQ403_ACTION_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Get up, Caramon, we have work to do.";
}

func int DIA_CARAMON_KQ403_ACTION_CONDITION() {
    if (((LOG_GETSTATUS(MIS_KQ403)) == (LOG_RUNNING)) && ((KQ403_DECISION) == (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_KQ403_ACTION_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_Action_15_01");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    B_STANDUP();
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Action_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_Action_15_03");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Action_03_04");
    INFO_CLEARCHOICES(0x112d4);
    INFO_ADDCHOICE(0x112d4, "Do you know each other?", 0x112d7);
}

func void DIA_CARAMON_KQ403_ACTION_KNOW() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_Action_Know_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Action_Know_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_Action_Know_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Action_Know_03_04");
    INFO_CLEARCHOICES(0x112d4);
    INFO_ADDCHOICE(0x112d4, "We have to come up with something. Otherwise we'll be homeless.", 0x112d8);
}

func void DIA_CARAMON_KQ403_ACTION_KNOW_THINK() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_Action_Think_15_01");
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Action_Think_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_Action_Think_15_03");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Action_Think_03_04");
    AI_STARTFACEANI(SELF, S_THINK, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Action_Think_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Action_Think_03_06");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Action_Think_03_07");
    INFO_CLEARCHOICES(0x112d4);
    AI_STOPPROCESSINFOS(SELF);
    AI_LOGENTRY(TOPIC_KQ403, LOG_KQ403_CARAMON_LETSGO);
    KQ403_CARAMON_RTNCHECK = 1;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "KQ403_GUIDE");
    CARAMON_Q206_FOLLOW();
    KQ403_CHANGERTN();
}

instance DIA_CARAMON_KQ403_HOUSE(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_KQ403_HOUSE_CONDITION;
    INFORMATION = DIA_CARAMON_KQ403_HOUSE_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CARAMON_KQ403_HOUSE_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_KQ403)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x112d4))) && ((NPC_GETDISTTOWP(SELF, "HARBOUR_PATH_170")) <= (500))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_KQ403_HOUSE_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_House_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_House_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_House_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_House_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_House_03_05");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_House_15_06");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_House_15_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_House_03_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_House_03_09");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_House_03_10");
    AI_LOGENTRY(TOPIC_KQ403, LOG_KQ403_CARAMON_HOUSE);
    AI_STOPPROCESSINFOS(SELF);
    KQ403_CARAMON_RTNCHECK = 2;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "KQ403_WAITHOUSE");
}

instance DIA_CARAMON_KQ403_GOTIT(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_KQ403_GOTIT_CONDITION;
    INFORMATION = DIA_CARAMON_KQ403_GOTIT_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "We're calling off the action.";
}

func int DIA_CARAMON_KQ403_GOTIT_CONDITION() {
    if (((LOG_GETSTATUS(MIS_KQ403)) == (LOG_RUNNING)) && ((KQ403_DIALOGUEWITHKALEB) == (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_KQ403_GOTIT_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_GotIt_15_01");
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GotIt_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_GotIt_15_03");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GotIt_03_04");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_GotIt_15_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GotIt_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GotIt_03_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GotIt_03_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GotIt_03_09");
    B_STANDUP();
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GotIt_03_10");
    AI_RESETFACEANI(SELF);
    AI_STOPPROCESSINFOS(SELF);
    NPC_EXCHANGEROUTINE(SELF, START);
    CARAMON_Q206_UNFOLLOW();
}

instance DIA_CARAMON_KQ403_NOGOOD(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_KQ403_NOGOOD_CONDITION;
    INFORMATION = DIA_CARAMON_KQ403_NOGOOD_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I talked to Kaleb.";
}

func int DIA_CARAMON_KQ403_NOGOOD_CONDITION() {
    if (((LOG_GETSTATUS(MIS_KQ403)) == (LOG_RUNNING)) && ((KQ403_DIALOGUEWITHKALEB) == (2))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_KQ403_NOGOOD_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_NoGood_15_01");
    B_STANDUP();
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_NoGood_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_NoGood_15_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_NoGood_15_04");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_NoGood_03_05");
    INFO_CLEARCHOICES(0x112df);
    INFO_ADDCHOICE(0x112df, "I'm scared to ask...", 0x112e2);
}

func void DIA_CARAMON_KQ403_NOGOOD_SCARE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_NoGood_Scare_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_NoGood_Scare_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_NoGood_Scare_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_NoGood_Scare_15_04");
    AI_RESETFACEANI(SELF);
    INFO_CLEARCHOICES(0x112df);
    AI_STOPPROCESSINFOS(SELF);
    KQ403_CARAMON_RTNCHECK = 3;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "KQ403_INSIDEHOUSE");
    KQ403_TELEPORTLADY();
}

instance DIA_CARAMON_KQ403_GOSSIP(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_KQ403_GOSSIP_CONDITION;
    INFORMATION = DIA_CARAMON_KQ403_GOSSIP_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CARAMON_KQ403_GOSSIP_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_KQ403)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x112df))) && ((NPC_GETDISTTOWP(SELF, "HARBOUR_HOUSE01_06")) <= (350))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_KQ403_GOSSIP_INFO() {
    AI_STARTFACEANI(SELF, S_SURPRISE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Gossip_03_01");
    INFO_CLEARCHOICES(0x112e3);
    INFO_ADDCHOICE(0x112e3, "Haunted? Are you making fun of me?", 0x112e7);
    INFO_ADDCHOICE(0x112e3, "What are you talking about?", 0x112e8);
}

func void DIA_CARAMON_KQ403_GOSSIP_END() {
    AI_STARTFACEANI(SELF, S_FRIGHTENED, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Gossip_Scare_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Gossip_Scare_03_04");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_Gossip_Scare_15_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Gossip_Scare_03_06");
    AI_STOPLOOKAT(SELF);
    AI_PLAYANI(SELF, T_SEARCH_SCARED);
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Gossip_Scare_03_07");
    AI_STARTFACEANI(OTHER, S_FRIGHTENED, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_Gossip_Scare_15_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Gossip_Scare_03_09");
    AI_RESETFACEANI(OTHER);
    AI_RESETFACEANI(SELF);
    INFO_CLEARCHOICES(0x112e3);
    AI_STOPPROCESSINFOS(SELF);
    KQ403_CARAMON_RTNCHECK = 4;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "KQ403_FLEE");
    AI_FUNCTION(SELF, 0xf1b8);
}

func void DIA_CARAMON_KQ403_GOSSIP_SCARE() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_Gossip_Scare_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Gossip_Scare_03_02");
    DIA_CARAMON_KQ403_GOSSIP_END();
}

func void DIA_CARAMON_KQ403_GOSSIP_WHAT() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_Gossip_What_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Gossip_What_03_02");
    DIA_CARAMON_KQ403_GOSSIP_END();
}

instance DIA_CARAMON_KQ403_GOODJOB(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_KQ403_GOODJOB_CONDITION;
    INFORMATION = DIA_CARAMON_KQ403_GOODJOB_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CARAMON_KQ403_GOODJOB_CONDITION() {
    if (((((LOG_GETSTATUS(MIS_KQ403)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x112e3))) && ((NPC_GETDISTTOWP(SELF, "HARBOUR_PATH_143")) <= (500))) && (NPC_KNOWSINFO(OTHER, 0x124e9))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_KQ403_GOODJOB_INFO() {
    KQ403_GOTBONES = 1;
    MOB_CHANGEFOCUSNAME("GRAVE_DIG_02", "MOBNAME_DIG_OUT");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    MOB_CHANGEFOCUSNAME("GRAVE_DIG_01", "MOBNAME_DIG_OUT");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GoodJob_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GoodJob_03_02");
    AI_PLAYANI(SELF, T_LAUGH);
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_GoodJob_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GoodJob_03_04");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_GoodJob_15_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GoodJob_03_06");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_GoodJob_15_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GoodJob_03_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GoodJob_03_09");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GoodJob_03_10");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GoodJob_03_11");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_GoodJob_15_12");
    AI_STOPPROCESSINFOS(SELF);
    AI_LOGENTRY(TOPIC_KQ403, LOG_KQ403_CARAMON_NEEDS);
    KQ403_CARAMON_RTNCHECK = 5;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "KQ403_HARBOUR");
    CARAMON_Q206_UNFOLLOW();
    MDL_REMOVEOVERLAYMDS(SELF, HUMANSFLEEMDS);
}

instance DIA_CARAMON_KQ403_GOTEVERYTHING(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_KQ403_GOTEVERYTHING_CONDITION;
    INFORMATION = DIA_CARAMON_KQ403_GOTEVERYTHING_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "As for the needed materials...";
}

func int DIA_CARAMON_KQ403_GOTEVERYTHING_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_KQ403)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x112e9))) && ((KQ403_READYFORDEMOLISHHOUSE) == (0))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_KQ403_GOTEVERYTHING_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_GotEverything_15_01");
    if ((((NPC_HASITEMS(OTHER, 0x8453)) >= (3)) && ((NPC_HASITEMS(OTHER, 0x91d0)) >= (1))) && ((NPC_HASITEMS(OTHER, 0x9a70)) >= (1))) {
        KQ403_READYFORDEMOLISHHOUSE = 1;
        AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_GotEverything_15_02");
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GotEverything_03_03");
        AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_GotEverything_15_04");
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GotEverything_03_05");
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GotEverything_03_06");
        AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
        AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_GotEverything_15_07");
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GotEverything_03_08");
        AI_RESETFACEANI(OTHER);
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GotEverything_03_09");
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GotEverything_03_10");
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GotEverything_03_11");
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GotEverything_03_12");
        AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_GotEverything_15_13");
        AI_LOGENTRY(TOPIC_KQ403, LOG_KQ403_CARAMON_GOTEVERYTHING);
        AI_STOPPROCESSINFOS(SELF);
        KQ403_CARAMON_RTNCHECK = 6;
        NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "KQ403_TAVERN");
        KQ403_PREPAREHOUSE();
    };
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_GotEverything_15_14");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_GotEverything_03_15");
}

instance DIA_CARAMON_KQ403_READY(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_KQ403_READY_CONDITION;
    INFORMATION = DIA_CARAMON_KQ403_READY_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CARAMON_KQ403_READY_CONDITION() {
    if (((((LOG_GETSTATUS(MIS_KQ403)) == (LOG_RUNNING)) && ((KQ403_GHOSTCOUNT) == (4))) && (WLD_ISTIME(6, 0, 22, 0))) && (NPC_ISINSTATE(SELF, 0xf09f))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void KQ403_PREPARECUTSCENE() {
    KQ403_KALEBCUTSCENE = 1;
}

func void DIA_CARAMON_KQ403_READY_INFO() {
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_Ready_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Ready_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_Ready_15_03");
    B_STANDUP();
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Ready_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Ready_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Ready_03_06");
    AI_RESETFACEANI(SELF);
    AI_STOPPROCESSINFOS(SELF);
    KQ403_CARAMON_RTNCHECK = 8;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "KQ403_EVENT");
    AI_FUNCTION(SELF, 0x112f1);
}

instance DIA_CARAMON_KQ403_CONGRATULATIONS(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_KQ403_CONGRATULATIONS_CONDITION;
    INFORMATION = DIA_CARAMON_KQ403_CONGRATULATIONS_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CARAMON_KQ403_CONGRATULATIONS_CONDITION() {
    if (((LOG_GETSTATUS(MIS_KQ403)) == (LOG_SUCCESS)) && (NPC_ISINSTATE(SELF, 0xf09f))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_KQ403_CONGRATULATIONS_INFO() {
    KQ403_CARAMONPROMOTION = 1;
    KQ403_CARAMONPROMOTION_DAY = WLD_GETDAY();
    AI_STARTFACEANI(OTHER, S_SMILE, 1, -(1));
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_Congratulations_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Congratulations_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_Congratulations_15_03");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Congratulations_03_04");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_KQ403_Congratulations_15_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Congratulations_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Congratulations_03_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_KQ403_Congratulations_03_08");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    NPC = HLP_GETNPC(0x71b);
    NPCPTR = _@(0x112f6);
    FF_APPLYEXTDATAGT(0x112f8, 75, -(1), NPCPTR);
}

instance DIA_CARAMON_KQ403_CONGRATULATIONS_INFO.NPC(C_NPC)
var int DIA_CARAMON_KQ403_CONGRATULATIONS_INFO.NPCPTR = 0;
func void KQ403_CARAMON_PROMOTION_APPLY() {
    if ((CURRENTLEVEL) == (ARCHOLOS_ZEN)) {
        if ((KQ403_CARAMONPROMOTION) == (1)) {
            if ((KQ403_CARAMONPROMOTION_DAY) <= ((WLD_GETDAY()) - (1))) {
                KQ403_CARAMONPROMOTION = 2;
                PRINTD("Awans Caramon!");
                if ((MARVIN_ARAXOS_WHEREJOINED) == (1)) {
                    if ((CARAMON_TIERARMOR) == (1)) {
                        CARAMON_TIERARMOR = 2;
                        NPC_CHANGEARMOR(SLD_1009_CARAMON, 0x8a83);
                        NPC_REMOVEINVITEMS(SLD_1009_CARAMON, 0x8a7e, 1);
                        CREATEINVITEMS(SLD_1009_CARAMON, 0x9a9a, 1);
                        B_SETATTRIBUTESTOLEVEL(SLD_1009_CARAMON, 50);
                    } else {
                        CARAMON_TIERARMOR = 1;
                        NPC_CHANGEARMOR(SLD_1009_CARAMON, 0x8a7e);
                        NPC_REMOVEINVITEMS(SLD_1009_CARAMON, 0x8a89, 1);
                        CREATEINVITEMS(SLD_1009_CARAMON, 0x9a97, 1);
                        B_SETATTRIBUTESTOLEVEL(SLD_1009_CARAMON, 40);
                    } else {
                        /* set_instance(0) */;
                    };
                };
                if ((MARVIN_ARAXOS_WHEREJOINED) == (2)) {
                    if ((CARAMON_TIERARMOR) == (3)) {
                        CARAMON_TIERARMOR = 4;
                        NPC_CHANGEARMOR(SLD_1009_CARAMON, 0x8a93);
                        NPC_REMOVEINVITEMS(SLD_1009_CARAMON, 0x8a8e, 1);
                        CREATEINVITEMS(SLD_1009_CARAMON, 0x9b47, 1);
                        CREATEINVITEMS(SLD_1009_CARAMON, 0x864f, 20);
                        B_SETATTRIBUTESTOLEVEL(SLD_1009_CARAMON, 50);
                    } else {
                        CARAMON_TIERARMOR = 3;
                        NPC_CHANGEARMOR(SLD_1009_CARAMON, 0x8a8e);
                        NPC_REMOVEINVITEMS(SLD_1009_CARAMON, 0x8a89, 1);
                        CREATEINVITEMS(SLD_1009_CARAMON, 0x9b45, 1);
                        CREATEINVITEMS(SLD_1009_CARAMON, 0x864f, 20);
                        B_SETATTRIBUTESTOLEVEL(SLD_1009_CARAMON, 40);
                    };
                };
                FF_REMOVE(0x112f8);
            };
        } else {
            PRINTD("Poczekaj dzieñ, to awansujê Caramona!");
        } else {
            /* set_instance(0) */;
        };
    };
    if (((CURRENTLEVEL) == (ARCHOLOS_ENDGAME_ZEN)) || ((CURRENTLEVEL) == (ARCHOLOS_VOLFZACKE_ZEN))) {
        PRINTD("I tak nie zobaczysz efektów");
        FF_REMOVE(0x112f8);
    };
    PRINTD("Mogê funkcjê wykonaæ tylko w zenie Archolos! - KQ403_CARAMON_PROMOTION_APPLY");
}

instance DIA_CARAMON_QA401_AFTEREVENT(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_QA401_AFTEREVENT_CONDITION;
    INFORMATION = DIA_CARAMON_QA401_AFTEREVENT_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CARAMON_QA401_AFTEREVENT_CONDITION() {
    if ((LOG_GETSTATUS(MIS_QA401)) == (LOG_RUNNING)) {
        if (((QA401_SMUGGLERCHEST_DECISION) == (1)) || (((QA401_SMUGGLERCHEST_DECISION) == (2)) && ((QA401_SMUGGLERSCHESTSDEAD()) == (TRUE)))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_QA401_AFTEREVENT_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_QA401_AfterEvent_03_01");
    if ((QA401_SMUGGLERCHEST_DECISION) == (1)) {
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_QA401_AfterEvent_03_02");
        B_GIVEPLAYERXP(XP_QA401_SMUGGLERSCHESTFREE);
    };
    AI_STARTFACEANI(SELF, S_TIRED, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_QA401_AfterEvent_03_03");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_QA401_AfterEvent_03_04");
    AI_RESETFACEANI(SELF);
    AI_LOGENTRY(TOPIC_QA401, LOG_QA401_CARAMON_EVENT);
    AI_STOPPROCESSINFOS(SELF);
}

var int CARAMON_KNOWHOW = 0;
var int CARAMON_SAME = 0;
var int CARAMON_KNOWWHY = 0;
instance DIA_CARAMON_YOUALIVE(C_INFO) {
    NPC = 0xcb1c;
    NR = 2;
    CONDITION = DIA_CARAMON_YOUALIVE_CONDITION;
    INFORMATION = DIA_CARAMON_YOUALIVE_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CARAMON_YOUALIVE_CONDITION() {
    if ((((CARAMON_CHAT) == (TRUE)) && ((OTHER.GUILD) == (GIL_SLD))) && ((Q509_CARAMONVOLFZACKE) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_YOUALIVE_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_YouAlive_03_00");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_YouAlive_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_YouAlive_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_YouAlive_03_03");
    INFO_CLEARCHOICES(0x112ff);
    INFO_ADDCHOICE(0x112ff, "Did your baptism look the same?", 0x11302);
    INFO_ADDCHOICE(0x112ff, "Why did you join the Guild?", 0x11303);
    INFO_ADDCHOICE(0x112ff, "What was your recruitment process like?", 0x11304);
}

func void DIA_CARAMON_YOUALIVE_SAME() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_YouAlive_Same_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_YouAlive_Same_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_YouAlive_Same_03_03");
    CARAMON_SAME = TRUE;
    if ((((CARAMON_SAME) == (TRUE)) && ((CARAMON_KNOWWHY) == (TRUE))) && ((CARAMON_KNOWHOW) == (TRUE))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_All_03_01");
        CARAMON_CHAT = FALSE;
        AI_STOPPROCESSINFOS(SELF);
        NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, START);
    };
}

func void DIA_CARAMON_YOUALIVE_WHYJOIN() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_YouAlive_WhyJoin_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_YouAlive_WhyJoin_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_YouAlive_WhyJoin_03_03");
    CARAMON_KNOWWHY = TRUE;
    if ((((CARAMON_SAME) == (TRUE)) && ((CARAMON_KNOWWHY) == (TRUE))) && ((CARAMON_KNOWHOW) == (TRUE))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_All_03_02");
        CARAMON_CHAT = FALSE;
        AI_STOPPROCESSINFOS(SELF);
        NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, START);
    };
}

func void DIA_CARAMON_YOUALIVE_HOWJOIN() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_YouAlive_HowJoin_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_YouAlive_HowJoin_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_YouAlive_HowJoin_03_03");
    CARAMON_KNOWHOW = TRUE;
    if ((((CARAMON_SAME) == (TRUE)) && ((CARAMON_KNOWWHY) == (TRUE))) && ((CARAMON_KNOWHOW) == (TRUE))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_All_03_03");
        CARAMON_CHAT = FALSE;
        AI_STOPPROCESSINFOS(SELF);
        NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, START);
    };
}

instance DIA_CARAMON_CANYOUTEACH(C_INFO) {
    NPC = 0xcb1c;
    NR = 3;
    CONDITION = DIA_CARAMON_CANYOUTEACH_CONDITION;
    INFORMATION = DIA_CARAMON_CANYOUTEACH_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Could I train with you?";
}

func int DIA_CARAMON_CANYOUTEACH_CONDITION() {
    if (((OTHER.GUILD) == (GIL_SLD)) && (NPC_KNOWSINFO(OTHER, 0x1158f))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_CANYOUTEACH_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_CanYouTeach_15_00");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_CanYouTeach_03_04");
    LOG_CREATETOPIC(TOPIC_ARAXOSTEACHER, LOG_NOTE);
    AI_LOGENTRY(TOPIC_ARAXOSTEACHER, LOG_ARAXOSTEACHER_CARAMON);
}

var int CARAMON_NOMORE = 0;
var int CARAMON_CURRENTBLEVEL = 0;
var int CARAMON_CURRENT1HLEVEL = 0;
var int CARAMON_CURRENTDEXLEVEL = 0;
var string CARAMON_PRINTS = "";
const int CARAMON_RLEVEL = 40;
const int CARAMON_RLEVELDEX = 80;
instance DIA_CARAMON_TEACH(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_TEACH_CONDITION;
    INFORMATION = DIA_CARAMON_TEACH_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "I want to train.";
}

func int DIA_CARAMON_TEACH_CONDITION() {
    if (((NPC_KNOWSINFO(OTHER, 0x11305)) && ((CARAMON_NOMORE) == (FALSE))) && ((OTHER.GUILD) == (GIL_SLD))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_TEACH_CHOICES() {
    CARAMON_CURRENTBLEVEL = OTHER.AIVAR[86];
    CARAMON_CURRENT1HLEVEL = OTHER.AIVAR[84];
    CARAMON_CURRENTDEXLEVEL = OTHER.AIVAR[82];
    CARAMON_GOLDCOST = 0;
    INFO_CLEARCHOICES(0x1130f);
    INFO_ADDCHOICE(0x1130f, DIALOG_BACK, 0x11314);
    INFO_ADDCHOICE(0x1130f, B_BUILDLEARNSTRING2(PRINT_LEARNBOW1, B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_BOW, 1), CARAMON_GOLDCOST), 0x11315);
    INFO_ADDCHOICE(0x1130f, B_BUILDLEARNSTRING2(PRINT_LEARNBOW5, B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_BOW, 5), (CARAMON_GOLDCOST) * (5)), 0x11316);
    INFO_ADDCHOICE(0x1130f, B_BUILDLEARNSTRING2(PRINT_LEARN1H1, B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_1H, 1), CARAMON_GOLDCOST), 0x11317);
    INFO_ADDCHOICE(0x1130f, B_BUILDLEARNSTRING2(PRINT_LEARN1H5, B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_1H, 5), (CARAMON_GOLDCOST) * (5)), 0x11318);
    INFO_ADDCHOICE(0x1130f, B_BUILDLEARNSTRING2(PRINT_LEARNDEX1, B_GETLEARNCOSTATTRIBUTE(OTHER, ATR_DEXTERITY, 1), CARAMON_GOLDCOST), 0x11319);
    INFO_ADDCHOICE(0x1130f, B_BUILDLEARNSTRING2(PRINT_LEARNDEX5, B_GETLEARNCOSTATTRIBUTE(OTHER, ATR_DEXTERITY, 5), (CARAMON_GOLDCOST) * (5)), 0x1131a);
}

var int DIA_CARAMON_TEACH_CHOICES.CARAMON_GOLDCOST = 0;
func void DIA_CARAMON_TEACH_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Teach_15_00");
    if ((((OTHER.AIVAR[86]) >= (80)) && ((OTHER.AIVAR[82]) >= (120))) && ((OTHER.AIVAR[84]) >= (80))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_NoMore_03_01");
        CARAMON_NOMORE = TRUE;
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Teach_03_01");
    DIA_CARAMON_TEACH_CHOICES();
}

func void DIA_CARAMON_TEACH_BACK() {
    INFO_CLEARCHOICES(0x1130f);
}

func void DIA_CARAMON_TEACH_B1() {
    if ((OTHER.AIVAR[86]) < (40)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Teach_B1_03_00");
        CARAMON_PRINTS = CONCATSTRINGS(PRINT_MINSKILL, INTTOSTRING(CARAMON_RLEVEL));
    };
    if ((CARAMON_CURRENTBLEVEL) < (OTHER.AIVAR[86])) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Teach_B1_03_01");
    };
    B_TEACHFIGHTTALENTPERCENT(SELF, OTHER, NPC_TALENT_BOW, 1, 80);
    DIA_CARAMON_TEACH_CHOICES();
}

func void DIA_CARAMON_TEACH_B5() {
    if ((OTHER.AIVAR[86]) < (40)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Teach_B5_03_02");
        CARAMON_PRINTS = CONCATSTRINGS(PRINT_MINSKILL, INTTOSTRING(CARAMON_RLEVEL));
    };
    if ((CARAMON_CURRENTBLEVEL) < (OTHER.AIVAR[86])) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Teach_B5_03_03");
    };
    B_TEACHFIGHTTALENTPERCENT(SELF, OTHER, NPC_TALENT_BOW, 5, 80);
    DIA_CARAMON_TEACH_CHOICES();
}

func void DIA_CARAMON_TEACH_1H1() {
    if ((OTHER.AIVAR[84]) < (40)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Teach_1H1_03_00");
        CARAMON_PRINTS = CONCATSTRINGS(PRINT_MINSKILL, INTTOSTRING(CARAMON_RLEVEL));
    };
    if ((CARAMON_CURRENT1HLEVEL) < (OTHER.AIVAR[84])) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Teach_1H1_03_01");
    };
    B_TEACHFIGHTTALENTPERCENT(SELF, OTHER, NPC_TALENT_1H, 1, 80);
    DIA_CARAMON_TEACH_CHOICES();
}

func void DIA_CARAMON_TEACH_1H5() {
    if ((OTHER.AIVAR[84]) < (40)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Teach_1H5_03_02");
        CARAMON_PRINTS = CONCATSTRINGS(PRINT_MINSKILL, INTTOSTRING(CARAMON_RLEVEL));
    };
    if ((CARAMON_CURRENT1HLEVEL) < (OTHER.AIVAR[84])) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Teach_1H5_03_03");
    };
    B_TEACHFIGHTTALENTPERCENT(SELF, OTHER, NPC_TALENT_1H, 5, 80);
    DIA_CARAMON_TEACH_CHOICES();
}

func void DIA_CARAMON_TEACHDEX1() {
    if ((OTHER.AIVAR[82]) < (80)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_TeachDEX1_03_00");
        CARAMON_PRINTS = CONCATSTRINGS(PRINT_MINATR, INTTOSTRING(CARAMON_RLEVELDEX));
    };
    if ((CARAMON_CURRENTDEXLEVEL) < (OTHER.AIVAR[82])) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_TeachDEX1_03_01");
    };
    B_TEACHATTRIBUTEPOINTS(SELF, OTHER, ATR_DEXTERITY, 1, 120);
    DIA_CARAMON_TEACH_CHOICES();
}

func void DIA_CARAMON_TEACHDEX5() {
    if ((OTHER.AIVAR[82]) < (80)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_TeachDEX5_03_00");
        CARAMON_PRINTS = CONCATSTRINGS(PRINT_MINATR, INTTOSTRING(CARAMON_RLEVELDEX));
    };
    if ((CARAMON_CURRENTDEXLEVEL) < (OTHER.AIVAR[82])) {
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_TeachDEX5_03_01");
    };
    B_TEACHATTRIBUTEPOINTS(SELF, OTHER, ATR_DEXTERITY, 5, 120);
    DIA_CARAMON_TEACH_CHOICES();
}

instance DIA_CARAMON_Q509_QUESTION(C_INFO) {
    NPC = 0xcb1c;
    NR = 1;
    CONDITION = DIA_CARAMON_Q509_QUESTION_CONDITION;
    INFORMATION = DIA_CARAMON_Q509_QUESTION_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "There's something I want to talk about...";
}

func int DIA_CARAMON_Q509_QUESTION_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_Q509)) == (LOG_RUNNING)) && ((Q509_COUNTWARRIORS) < (4))) && ((LOG_GETSTATUS(MIS_Q204)) == (LOG_SUCCESS))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_Q509_QUESTION_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q509_Question_15_01");
    B_STANDUP();
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q509_Question_03_02");
    AI_STARTFACEANI(OTHER, S_SAD, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q509_Question_15_03");
    AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q509_Question_03_04");
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q509_Question_15_05");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q509_Question_15_06");
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q509_Question_15_07");
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q509_Question_03_08");
    AI_STARTFACEANI(SELF, S_THINK, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q509_Question_03_09");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q509_Question_03_10");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q509_Question_03_11");
    INFO_CLEARCHOICES(0x1131b);
    INFO_ADDCHOICE(0x1131b, "Thanks, Caramon, that means a lot to me.", 0x1131e);
}

func void DIA_CARAMON_Q509_QUESTION_THANKS() {
    AI_STARTFACEANI(OTHER, S_SMUG, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Caramon_Q509_Question_Thanks_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q509_Question_Thanks_03_02");
    INFO_CLEARCHOICES(0x1131b);
    B_STANDUP();
    AI_STOPPROCESSINFOS(SELF);
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    B_GIVEPLAYERXP(XP_VARHDAL_RECRUIT);
    SELF.AIVAR[15] = TRUE;
    Q509_CARAMONVOLFZACKE = 1;
    SELF.FLAGS = 2;
    NPC_EXCHANGEROUTINE(SELF, "Q509_WAIT");
    AI_LOGENTRY(TOPIC_Q509, LOG_Q509_CARAMON);
    AI_FUNCTION(SELF, 0xf74c);
}

instance DIA_CARAMON_Q509_FEEL(C_INFO) {
    NPC = 0xcb1c;
    NR = 90;
    CONDITION = DIA_CARAMON_Q509_FEEL_CONDITION;
    INFORMATION = DIA_CARAMON_Q509_FEEL_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "How's the morale?";
}

func int DIA_CARAMON_Q509_FEEL_CONDITION() {
    if (((Q509_CARAMONVOLFZACKE) == (1)) && ((NPC_GETDISTTOWP(SELF, "PART5_Q509_HEROFRIEND")) <= (0x7d0))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_Q509_FEEL_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    B_SAY(OTHER, SELF, "$MARVIN_VolfzackMorale3");
    AI_STARTFACEANI(SELF, S_TIRED, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Q509_Feel_03_02");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

instance DIA_CARAMON_AMBIENT(C_INFO) {
    NPC = 0xcb1c;
    NR = 950;
    CONDITION = DIA_CARAMON_AMBIENT_CONDITION;
    INFORMATION = DIA_CARAMON_AMBIENT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "How are you doing?";
}

func int DIA_CARAMON_AMBIENT_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x1127e)) {
        if ((((((LOG_GETSTATUS(MIS_Q206)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x1128d))) || (((LOG_GETSTATUS(MIS_QA302)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x112c3)))) || (((LOG_GETSTATUS(MIS_KQ403)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x112d4)))) || (((LOG_GETSTATUS(MIS_QA401)) == (LOG_RUNNING)) && ((QA401_PREPAREARAXOSONBEACH) == (TRUE)))) {
            return FALSE;
        };
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CARAMON_AMBIENT_INFO() {
    AI_STARTFACEANI(OTHER, S_SMILE, 1, -(1));
    B_SAY(OTHER, SELF, "$MARVIN_WhatNew4");
    if ((HERO.GUILD) == (GIL_SLD)) {
        NPC_INITAMBIENTS(SELF, 5);
    };
    NPC_INITAMBIENTS(SELF, 3);
    if ((NPC_GETLASTAMBIENT(SELF)) == (1)) {
        AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Ambient_03_03");
        AI_STARTFACEANI(SELF, "S_DOUBT", 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Ambient_03_04");
    };
    if ((NPC_GETLASTAMBIENT(SELF)) == (2)) {
        AI_STARTFACEANI(SELF, "S_TIRED", 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Ambient_03_07");
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Ambient_03_08");
    };
    if ((NPC_GETLASTAMBIENT(SELF)) == (3)) {
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Ambient_03_09");
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Ambient_03_10");
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Ambient_03_11");
    };
    if ((NPC_GETLASTAMBIENT(SELF)) == (4)) {
        AI_STARTFACEANI(SELF, "S_TIRED", 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Ambient_03_01");
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Ambient_03_02");
    };
    if ((NPC_GETLASTAMBIENT(SELF)) == (5)) {
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Ambient_03_05");
        AI_STARTFACEANI(SELF, "S_TIRED", 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Caramon_Ambient_03_06");
    };
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

