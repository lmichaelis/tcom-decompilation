func void Q206_SPAWNFISHERMANS() {
    WLD_INSERTNPC(0xd2ee, "HARBOUR_TAVERN_GUEST_14");
    WLD_INSERTNPC(0xd4cf, "HARBOUR_TAVERN_60");
    WLD_INSERTNPC(0xd2eb, "HARBOUR_TAVERN_60");
    WLD_INSERTNPC(0xd2e8, "HARBOUR_TAVERN_GUEST_13");
}

func void Q206_MARVINISBADSPY() {
    if ((Q206_MARVINISSPY) == (FALSE)) {
        if ((LOG_GETSTATUS(MIS_Q206)) == (LOG_RUNNING)) {
            if (NPC_HASGUILDARMOREQUIPPED(HERO, GIL_SLD)) {
                PRINTD("This Marvin is a Spy!");
                Q206_MARVINISSPY = TRUE;
            };
        };
    };
}

func void Q206_UNBLOCKFINBARPATH() {
    B_STARTOTHERROUTINE(VLK_13863_BULLY, START);
    TELEPORTNPCTOWP(0xd3cb, VLK_13863_BULLY.WP);
    B_STARTOTHERROUTINE(VLK_13864_WORKER, START);
    TELEPORTNPCTOWP(0xd3ce, VLK_13864_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_13866_WORKER, START);
    TELEPORTNPCTOWP(0xd3d5, VLK_13866_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_6011_GUY, START);
    TELEPORTNPCTOWP(0xd405, VLK_6011_GUY.WP);
    B_STARTOTHERROUTINE(VLK_13374_GIRL, START);
    TELEPORTNPCTOWP(0xd3b5, VLK_13374_GIRL.WP);
    B_STARTOTHERROUTINE(VLK_6010_GUY, START);
    TELEPORTNPCTOWP(0xd402, VLK_6010_GUY.WP);
    B_STARTOTHERROUTINE(VLK_6103_WORKER, START);
    TELEPORTNPCTOWP(0xd483, VLK_6103_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_6067_GIRL, START);
    TELEPORTNPCTOWP(0xd423, VLK_6067_GIRL.WP);
    B_STARTOTHERROUTINE(VLK_6071_GIRL, START);
    TELEPORTNPCTOWP(0xd435, VLK_6071_GIRL.WP);
    B_STARTOTHERROUTINE(VLK_13371_GIRL, START);
    TELEPORTNPCTOWP(0xd3aa, VLK_13371_GIRL.WP);
    B_STARTOTHERROUTINE(VLK_13379_GIRL, START);
    TELEPORTNPCTOWP(0xd3be, VLK_13379_GIRL.WP);
    B_STARTOTHERROUTINE(VLK_6016_WORKER, START);
    TELEPORTNPCTOWP(0xd414, VLK_6016_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_6070_GUY, START);
    TELEPORTNPCTOWP(0xd42f, VLK_6070_GUY.WP);
    B_STARTOTHERROUTINE(VLK_13850_WORKER, START);
    TELEPORTNPCTOWP(0xd6a8, VLK_13850_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_6082_GUY, START);
    TELEPORTNPCTOWP(0xd446, VLK_6082_GUY.WP);
    B_STARTOTHERROUTINE(VLK_6013_GIRL, START);
    TELEPORTNPCTOWP(0xd40b, VLK_6013_GIRL.WP);
    B_STARTOTHERROUTINE(VLK_12289_WORKER, START);
    TELEPORTNPCTOWP(0xd12e, VLK_12289_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_14122_WORKER, START);
    TELEPORTNPCTOWP(0xd1a8, VLK_14122_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_6102_WORKER, START);
    TELEPORTNPCTOWP(0xd47d, VLK_6102_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_13823_WORKER, START);
    TELEPORTNPCTOWP(0xce3b, VLK_13823_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_6094_GUY, START);
    TELEPORTNPCTOWP(0xd465, VLK_6094_GUY.WP);
    B_STARTOTHERROUTINE(VLK_6008_GUY, START);
    TELEPORTNPCTOWP(0xd3f8, VLK_6008_GUY.WP);
    B_STARTOTHERROUTINE(VLK_13829_WORKER, START);
    TELEPORTNPCTOWP(0xce44, VLK_13829_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_6093_GIRL, START);
    TELEPORTNPCTOWP(0xd462, VLK_6093_GIRL.WP);
    B_STARTOTHERROUTINE(VLK_6014_GIRL, START);
    TELEPORTNPCTOWP(0xd40e, VLK_6014_GIRL.WP);
    B_STARTOTHERROUTINE(VLK_6095_GUY, START);
    TELEPORTNPCTOWP(0xd46a, VLK_6095_GUY.WP);
    B_STARTOTHERROUTINE(VLK_6063_SHOPKEEPER, START);
    TELEPORTNPCTOWP(0xd33a, VLK_6063_SHOPKEEPER.WP);
    B_STARTOTHERROUTINE(VLK_6101_WORKER, START);
    TELEPORTNPCTOWP(0xd478, VLK_6101_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_6099_GUY, START);
    TELEPORTNPCTOWP(0xd471, VLK_6099_GUY.WP);
    B_STARTOTHERROUTINE(BDT_13439_MANHUNTER, START);
    TELEPORTNPCTOWP(0xd023, BDT_13439_MANHUNTER.WP);
    B_STARTOTHERROUTINE(VLK_13821_WORKER, START);
    TELEPORTNPCTOWP(0xce36, VLK_13821_WORKER.WP);
}

func void Q206_BLOCKFINBARPATH() {
    B_STARTOTHERROUTINE(VLK_13863_BULLY, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd3cb, VLK_13863_BULLY.WP);
    B_STARTOTHERROUTINE(VLK_13864_WORKER, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd3ce, VLK_13864_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_13866_WORKER, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd3d5, VLK_13866_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_6011_GUY, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd405, VLK_6011_GUY.WP);
    B_STARTOTHERROUTINE(VLK_13374_GIRL, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd3b5, VLK_13374_GIRL.WP);
    B_STARTOTHERROUTINE(VLK_6010_GUY, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd402, VLK_6010_GUY.WP);
    B_STARTOTHERROUTINE(VLK_6103_WORKER, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd483, VLK_6103_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_6067_GIRL, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd423, VLK_6067_GIRL.WP);
    B_STARTOTHERROUTINE(VLK_6071_GIRL, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd435, VLK_6071_GIRL.WP);
    B_STARTOTHERROUTINE(VLK_13371_GIRL, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd3aa, VLK_13371_GIRL.WP);
    B_STARTOTHERROUTINE(VLK_13379_GIRL, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd3be, VLK_13379_GIRL.WP);
    B_STARTOTHERROUTINE(VLK_6016_WORKER, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd414, VLK_6016_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_6070_GUY, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd42f, VLK_6070_GUY.WP);
    B_STARTOTHERROUTINE(VLK_13850_WORKER, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd6a8, VLK_13850_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_6082_GUY, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd446, VLK_6082_GUY.WP);
    B_STARTOTHERROUTINE(VLK_6013_GIRL, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd40b, VLK_6013_GIRL.WP);
    B_STARTOTHERROUTINE(VLK_12289_WORKER, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd12e, VLK_12289_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_14122_WORKER, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd1a8, VLK_14122_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_6102_WORKER, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd47d, VLK_6102_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_13823_WORKER, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xce3b, VLK_13823_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_6094_GUY, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd465, VLK_6094_GUY.WP);
    B_STARTOTHERROUTINE(VLK_6008_GUY, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd3f8, VLK_6008_GUY.WP);
    B_STARTOTHERROUTINE(VLK_13829_WORKER, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xce44, VLK_13829_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_6093_GIRL, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd462, VLK_6093_GIRL.WP);
    B_STARTOTHERROUTINE(VLK_6014_GIRL, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd40e, VLK_6014_GIRL.WP);
    B_STARTOTHERROUTINE(VLK_6095_GUY, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd46a, VLK_6095_GUY.WP);
    B_STARTOTHERROUTINE(VLK_6063_SHOPKEEPER, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd33a, VLK_6063_SHOPKEEPER.WP);
    B_STARTOTHERROUTINE(VLK_6101_WORKER, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd478, VLK_6101_WORKER.WP);
    B_STARTOTHERROUTINE(VLK_6099_GUY, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd471, VLK_6099_GUY.WP);
    B_STARTOTHERROUTINE(BDT_13439_MANHUNTER, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xd023, BDT_13439_MANHUNTER.WP);
    B_STARTOTHERROUTINE(VLK_13821_WORKER, "Q206_FINBARBODY");
    TELEPORTNPCTOWP(0xce36, VLK_13821_WORKER.WP);
}

func void Q206_PREPAREFINBARBODY() {
    FF_APPLYONCEEXTGT(0xee6c, 0, -(1));
    B_STARTOTHERROUTINE(MIL_4008_HARBGUARD, "FINBARBODY");
    TELEPORTNPCTOWP(0xd368, MIL_4008_HARBGUARD.WP);
    B_STARTOTHERROUTINE(MIL_4009_HARBGUARD, "FINBARBODY");
    TELEPORTNPCTOWP(0xd36c, MIL_4009_HARBGUARD.WP);
    B_STARTOTHERROUTINE(VLK_6091_GUY, "FINBAR");
    TELEPORTNPCTOWP(0xd45c, VLK_6091_GUY.WP);
    B_STARTOTHERROUTINE(VLK_6089_GUY, "FINBAR");
    TELEPORTNPCTOWP(0xd456, VLK_6089_GUY.WP);
    WLD_INSERTNPC(0xd34c, "HARBOUR_PATH_99_WITNESS01");
    WLD_INSERTNPC(0xd34f, "HARBOUR_PATH_99_WITNESS03");
    WLD_INSERTNPC(0xd532, "HARBOUR_PATH_99_WITNESS03");
    WLD_INSERTNPC(0xd349, "HARBOUR_PATH_99_WITNESS04");
    B_STARTOTHERROUTINE(SLD_1009_CARAMON, "Q206_WAITING_TAVERNE2");
    NPC_REFRESH(SLD_1009_CARAMON);
    TELEPORTNPCTOWP(0xcb1c, SLD_1009_CARAMON.WP);
    Q206_CARAMON_RTNCHECK = 5;
    WLD_INSERTITEM(0x8582, "FP_SLUMS_Q206_HAMMER_01");
    WLD_INSERTITEM(0x8585, "FP_SLUMS_Q206_HAMMER_02");
    WLD_INSERTITEM(0x9144, "FP_SLUMS_Q206_FINBARLETTER");
    Q206_BLOCKFINBARPATH();
}

func void Q206_KNOWFINBAR_CHECK() {
    if ((Q206_KNOWSFINBAR) == (TRUE)) {
        AI_LOGENTRY(TOPIC_Q206, LOG_Q206_FINBAR_CONFRIMEDINFO);
        B_GIVEPLAYERXP(XP_Q206_GOODSPY_FINBAR);
    };
    Q206_KNOWSFINBAR = TRUE;
    Q206_PREPAREFINBARBODY();
}

func void Q206_CHANGEFINBARBODYUC() {
    if ((Q206_CHANGEFINBARBODYUC_COUNT) == (0)) {
        PRINTD("Rozpoczynam - Q206_ChangeFinbarBodyUC");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("KM_FINBAR_MOVER");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        MOVPTR2 = MEM_SEARCHVOBBYNAME("Q206_MOVER_NAILES_01");
        MOVER2 = MEM_PTRTOINST(MOVPTR2);
        MOVPTR3 = MEM_SEARCHVOBBYNAME("Q206_MOVER_NAILES_02");
        MOVER3 = MEM_PTRTOINST(MOVPTR3);
        MOVPTR4 = MEM_SEARCHVOBBYNAME("Q206_MOVER_FINBARBLOOD");
        MOVER4 = MEM_PTRTOINST(MOVPTR4);
        CHANGEVOBCOLLISION("FINBAR_BODY", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("Q206_HARBOUR_BARRELBROKEN", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("Q206_HARBOUR_CRATEBROKEN", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("KM_FINBAR_MOVER");
        WLD_SENDTRIGGER("Q206_MOVER_NAILES_01");
        WLD_SENDTRIGGER("Q206_MOVER_NAILES_02");
        WLD_SENDTRIGGER("Q206_MOVER_FINBARBLOOD");
        Q206_CHANGEFINBARBODYUC_COUNT = 1;
    };
    if (((((((((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER3.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER3.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER4.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER4.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Skoñczy³em - Q206_ChangeFinbarBodyUC");
        CHANGEVOBCOLLISION("FINBAR_BODY", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("Q206_HARBOUR_BARRELBROKEN", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("Q206_HARBOUR_CRATEBROKEN", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xee6c);
        Q206_CHANGEFINBARBODYUC_COUNT = 0;
    };
}

var int Q206_CHANGEFINBARBODYUC.Q206_CHANGEFINBARBODYUC_COUNT = 0;
instance Q206_CHANGEFINBARBODYUC.MOVER1(ZCMOVER)
instance Q206_CHANGEFINBARBODYUC.MOVER2(ZCMOVER)
instance Q206_CHANGEFINBARBODYUC.MOVER3(ZCMOVER)
instance Q206_CHANGEFINBARBODYUC.MOVER4(ZCMOVER)
var int Q206_CHANGEFINBARBODYUC.MOVPTR1 = 0;
var int Q206_CHANGEFINBARBODYUC.MOVPTR2 = 0;
var int Q206_CHANGEFINBARBODYUC.MOVPTR3 = 0;
var int Q206_CHANGEFINBARBODYUC.MOVPTR4 = 0;
func void Q206_SPAWNPABLO() {
    PRINTD("Spawn Pablo");
    FF_APPLYONCEEXTGT(0xee77, 0, -(1));
    B_STARTOTHERROUTINE(SLD_1009_CARAMON, "Q206_SEARCH_HARBOUR2");
    NPC_REFRESH(SLD_1009_CARAMON);
    TELEPORTNPCTOWP(0xcb1c, SLD_1009_CARAMON.WP);
    Q206_CARAMON_RTNCHECK = 7;
    WLD_INSERTNPC(0xd93f, "SLUMS_STORAGE02_Q206_PABLO");
    WLD_INSERTNPC(0xd2e1, "SLUMS_STORAGE02_Q206_PABLO");
    WLD_INSERTNPC(0xd2dd, "SLUMS_STORAGE02_Q206_PABLO");
    NONE_7004_PABLO.AIVAR[15] = TRUE;
    NONE_6280_BANDIT.AIVAR[15] = TRUE;
    NONE_6279_BANDIT.AIVAR[15] = TRUE;
}

func void Q206_CHANGEDOORSMUGGLERS_APPLY() {
    if ((Q206_CHANGEDOORSMUGGLERS_COLLISION) == (0)) {
        PRINTD("Rozpoczynam - Q206_ChangeDoorSmugglers_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("KM_PABLO_MOVER");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        CHANGEVOBCOLLISION("DOOR_PABLO_01", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("DOOR_PABLO_02", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("KM_PABLO_MOVER");
        Q206_CHANGEDOORSMUGGLERS_COLLISION = 1;
    };
    if (((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Skoñczy³em - Q206_ChangeDoorSmugglers_Apply");
        CHANGEVOBCOLLISION("DOOR_PABLO_01", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("DOOR_PABLO_02", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xee77);
        Q206_CHANGEDOORSMUGGLERS_COLLISION = 0;
    };
}

var int Q206_CHANGEDOORSMUGGLERS_APPLY.Q206_CHANGEDOORSMUGGLERS_COLLISION = 0;
instance Q206_CHANGEDOORSMUGGLERS_APPLY.MOVER1(ZCMOVER)
var int Q206_CHANGEDOORSMUGGLERS_APPLY.MOVPTR1 = 0;
func void Q206_MEETPABLO_APPLY() {
    Q206_MEETPABLO_APPLY_COUNT = (Q206_MEETPABLO_APPLY_COUNT) + (1);
    if ((Q206_MEETPABLO_APPLY_COUNT) == (4)) {
        CUTSCENE_START(0x16916);
    };
}

var int Q206_MEETPABLO_APPLY.Q206_MEETPABLO_APPLY_COUNT = 0;
func void Q206_MEETPABLO_END_APPLY() {
    Q206_MEETPABLO_END_APPLY_COUNT = (Q206_MEETPABLO_END_APPLY_COUNT) + (1);
    if ((Q206_MEETPABLO_END_APPLY_COUNT) == (4)) {
        Q206_FIGHTWITHPABLO = 1;
        WLD_SENDUNTRIGGER("Q206_PABLO_01");
        WLD_SENDUNTRIGGER("Q206_PABLO_02");
        WLD_SENDUNTRIGGER("Q206_PABLO_03");
        NONE_7004_PABLO.AIVAR[92] = FALSE;
        NONE_7004_PABLO.AIVAR[96] = -(1);
        NONE_6279_BANDIT.FLAGS = 0;
        NONE_6280_BANDIT.FLAGS = 0;
        B_STARTOTHERROUTINE(NONE_7004_PABLO, "Q206_FIGHT");
        B_STARTOTHERROUTINE(NONE_6279_BANDIT, "Q206_FIGHT");
        B_STARTOTHERROUTINE(NONE_6280_BANDIT, "Q206_FIGHT");
        B_IMMEDIATEATTACKPLAYER(NONE_7004_PABLO, AR_KILL);
        B_IMMEDIATEATTACKPLAYER(NONE_6279_BANDIT, AR_KILL);
        B_IMMEDIATEATTACKPLAYER(NONE_6280_BANDIT, AR_KILL);
        NONE_7004_PABLO.AIVAR[15] = FALSE;
        NONE_6280_BANDIT.AIVAR[15] = FALSE;
        NONE_6279_BANDIT.AIVAR[15] = FALSE;
        B_LOGENTRY(TOPIC_Q206, LOG_Q206_PABLOSTARTFIGHT);
        AI_TURNTONPC(NONE_7004_PABLO, HERO);
        AI_SETWALKMODE(NONE_7004_PABLO, NPC_RUN);
        AI_GOTONPC(NONE_7004_PABLO, HERO);
        HERO.AIVAR[4] = FALSE;
    };
}

var int Q206_MEETPABLO_END_APPLY.Q206_MEETPABLO_END_APPLY_COUNT = 0;
func void Q206_PREPARECARAMONFIGHT() {
    PRINTD("Caramon potrzebuje pomocy!");
    B_STARTOTHERROUTINE(BAU_7708_FASTTRAVEL, TOT);
    NPC_REFRESH(BAU_7708_FASTTRAVEL);
    TELEPORTNPCTOWP(0xd27c, BAU_7708_FASTTRAVEL.WP);
    B_STARTOTHERROUTINE(SLD_1009_CARAMON, "Q206_BEACH_WAITFORFIGHT");
    NPC_REFRESH(SLD_1009_CARAMON);
    TELEPORTNPCTOWP(0xcb1c, SLD_1009_CARAMON.WP);
    Q206_CARAMON_RTNCHECK = 8;
    WLD_INSERTNPC(0xd2e5, "PARTM6_Q206_BEACH_BADNIT_01");
    WLD_INSERTNPC(0xd29e, "PARTM6_Q206_BEACH_BADNIT_01");
    WLD_INSERTNPC(0xd2a1, "PARTM6_Q206_BEACH_BADNIT_01");
    WLD_INSERTNPC(0xd2a4, "PARTM6_Q206_BEACH_BADNIT_01");
    WLD_INSERTNPC(0xd2a7, "PARTM6_Q206_BEACH_BADNIT_01");
    NONE_6281_THUG.AIVAR[15] = TRUE;
    NONE_13518_THUG.AIVAR[15] = TRUE;
    NONE_13519_THUG.AIVAR[15] = TRUE;
    NONE_13520_THUG.AIVAR[15] = TRUE;
    NONE_13521_THUG.AIVAR[15] = TRUE;
}

func void Q206_CARAMONHELP_APPLY() {
    Q206_CARAMONHELP_APPLY_COUNT = (Q206_CARAMONHELP_APPLY_COUNT) + (1);
    if ((Q206_CARAMONHELP_APPLY_COUNT) == (4)) {
        CUTSCENE_START(0x16910);
    };
}

var int Q206_CARAMONHELP_APPLY.Q206_CARAMONHELP_APPLY_COUNT = 0;
func void Q206_CARAMONHELP_END_APPLY() {
    Q206_CARAMONHELP_END_APPLY = (Q206_CARAMONHELP_END_APPLY) + (1);
    if ((Q206_CARAMONHELP_END_APPLY) == (4)) {
        WLD_SENDUNTRIGGER("Q206_BEACHFIGHT_01");
        WLD_SENDUNTRIGGER("Q206_BEACHFIGHT_02");
        WLD_SENDUNTRIGGER("Q206_BEACHFIGHT_03");
        NONE_13518_THUG.AIVAR[92] = FALSE;
        NONE_13519_THUG.AIVAR[92] = FALSE;
        NONE_7004_PABLO.AIVAR[92] = FALSE;
        B_STARTOTHERROUTINE(NONE_13518_THUG, "Q206_BEACH_FIGHT");
        NPC_REFRESH(NONE_13518_THUG);
        NPC_SETTRUEGUILD(NONE_13518_THUG, GIL_BDT);
        NONE_13518_THUG.GUILD = GIL_BDT;
        NONE_13518_THUG.FLAGS = 0;
        B_STARTOTHERROUTINE(NONE_13519_THUG, "Q206_BEACH_FIGHT");
        NPC_REFRESH(NONE_13519_THUG);
        NPC_SETTRUEGUILD(NONE_13519_THUG, GIL_BDT);
        NONE_13519_THUG.GUILD = GIL_BDT;
        NONE_13519_THUG.FLAGS = 0;
        B_STARTOTHERROUTINE(NONE_13520_THUG, "Q206_BEACH_FIGHT");
        NPC_REFRESH(NONE_13520_THUG);
        NPC_SETTRUEGUILD(NONE_13520_THUG, GIL_BDT);
        NONE_13520_THUG.GUILD = GIL_BDT;
        NONE_13520_THUG.FLAGS = 0;
        B_STARTOTHERROUTINE(NONE_13521_THUG, "Q206_BEACH_FIGHT");
        NPC_REFRESH(NONE_13521_THUG);
        NPC_SETTRUEGUILD(NONE_13521_THUG, GIL_BDT);
        NONE_13521_THUG.GUILD = GIL_BDT;
        NONE_13521_THUG.FLAGS = 0;
        B_STARTOTHERROUTINE(NONE_6281_THUG, "Q206_BEACH_FIGHT");
        NPC_REFRESH(NONE_6281_THUG);
        NPC_SETTRUEGUILD(NONE_6281_THUG, GIL_BDT);
        NONE_6281_THUG.GUILD = GIL_BDT;
        NONE_6281_THUG.FLAGS = 0;
        B_STARTOTHERROUTINE(NONE_7004_PABLO, "Q206_BEACH_FIGHT");
        NPC_REFRESH(NONE_7004_PABLO);
        B_STARTOTHERROUTINE(SLD_1009_CARAMON, "Q206_BEACH_FIGHT");
        NPC_REFRESH(SLD_1009_CARAMON);
        Q206_CARAMON_RTNCHECK = 9;
        B_IMMEDIATEATTACKPLAYER(NONE_13518_THUG, AR_KILL);
        B_IMMEDIATEATTACKPLAYER(NONE_13520_THUG, AR_KILL);
        NONE_6281_THUG.AIVAR[15] = FALSE;
        NONE_13518_THUG.AIVAR[15] = FALSE;
        NONE_13519_THUG.AIVAR[15] = FALSE;
        NONE_13520_THUG.AIVAR[15] = FALSE;
        NONE_13521_THUG.AIVAR[15] = FALSE;
        B_LOGENTRY(TOPIC_Q206, LOG_Q206_PABLOSTARTFIGHT);
        HERO.AIVAR[4] = FALSE;
    };
}

var int Q206_CARAMONHELP_END_APPLY.Q206_CARAMONHELP_END_APPLY = 0;
func int Q206_SMUGLESDEAD() {
    if (((((NPC_ISDEAD(NONE_6281_THUG)) && (NPC_ISDEAD(NONE_13518_THUG))) && (NPC_ISDEAD(NONE_13519_THUG))) && (NPC_ISDEAD(NONE_13520_THUG))) && (NPC_ISDEAD(NONE_13521_THUG))) {
        return TRUE;
    };
    return FALSE;
}

func void Q206_TELEPORTPABLOCARAMONTOBEACH() {
    WLD_SETTIME(20, 25);
    TELEPORTNPCTOWP(0x71b, "PART1_FISHER_BEACH_HERO_Q206");
    B_STARTOTHERROUTINE(NONE_7004_PABLO, "Q206_BEACH_FISHER");
    NPC_REFRESH(NONE_7004_PABLO);
    TELEPORTNPCTOWP(0xd93f, NONE_7004_PABLO.WP);
    B_STARTOTHERROUTINE(SLD_1009_CARAMON, "Q206_BEACH_FISHER");
    NPC_REFRESH(SLD_1009_CARAMON);
    TELEPORTNPCTOWP(0xcb1c, SLD_1009_CARAMON.WP);
    Q206_CARAMON_RTNCHECK = 12;
    HERO.AIVAR[4] = FALSE;
    FADESCREENFROMBLACK(1);
}

func void Q206_FIGHTWITHPABLO_KILLHIM() {
    NPC_SETTRUEGUILD(NONE_7004_PABLO, GIL_BDT);
    NONE_7004_PABLO.GUILD = GIL_BDT;
    NONE_7004_PABLO.FLAGS = 0;
    B_IMMEDIATEATTACKPLAYER(NONE_7004_PABLO, AR_KILL);
}

func void Q206_HEALPABLOCARAMON() {
    if ((NONE_7004_PABLO.ATTRIBUTE[0]) != (NONE_7004_PABLO.ATTRIBUTE[1])) {
        NONE_7004_PABLO.ATTRIBUTE[0] = NONE_7004_PABLO.ATTRIBUTE[1];
    };
    if ((SLD_1009_CARAMON.ATTRIBUTE[0]) != (SLD_1009_CARAMON.ATTRIBUTE[1])) {
        SLD_1009_CARAMON.ATTRIBUTE[0] = SLD_1009_CARAMON.ATTRIBUTE[1];
    };
}

func void Q206_REMOVENPC() {
    FF_APPLYONCEEXTGT(0xee6c, 0, -(1));
    B_REMOVENPC(0xd2e8);
    B_REMOVENPC(0xd2eb);
    B_REMOVENPC(0xd4cf);
    B_REMOVENPC(0xd2ee);
    B_REMOVENPC(0xd34c);
    B_REMOVENPC(0xd34f);
    B_REMOVENPC(0xd532);
    B_REMOVENPC(0xd349);
    B_STARTOTHERROUTINE(BAU_7708_FASTTRAVEL, START);
    TELEPORTNPCTOWP(0xd27c, BAU_7708_FASTTRAVEL.WP);
    B_STARTOTHERROUTINE(MIL_4008_HARBGUARD, START);
    TELEPORTNPCTOWP(0xd368, MIL_4008_HARBGUARD.WP);
    B_STARTOTHERROUTINE(MIL_4009_HARBGUARD, START);
    TELEPORTNPCTOWP(0xd36c, MIL_4009_HARBGUARD.WP);
    B_STARTOTHERROUTINE(VLK_6091_GUY, START);
    TELEPORTNPCTOWP(0xd45c, VLK_6091_GUY.WP);
    B_STARTOTHERROUTINE(VLK_6089_GUY, START);
    TELEPORTNPCTOWP(0xd456, VLK_6089_GUY.WP);
    RESTOREROUTINE_CARAMON();
    TELEPORTNPCTOWP(0xcb1c, SLD_1009_CARAMON.WP);
    NPC_CHANGEARMOR(SLD_1009_CARAMON, 0x8a89);
    if ((Q206_SPAREPABLO) == (TRUE)) {
        NPC_CHANGEARMOR(NONE_7004_PABLO, 0x8a59);
        NPC_REMOVEINVITEMS(NONE_7004_PABLO, 0x8ade, 1);
    };
    NPC_REMOVEINVITEMS(SLD_1009_CARAMON, 0x8a56, 1);
    Q206_BLOCKFINBARPATH();
    WLD_INSERTNPC(0xd95a, "PART1_CAVE_OUT_06_NONAME");
}

