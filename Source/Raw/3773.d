instance DIA_CANDAC_EXIT(C_INFO) {
    NPC = 0xcafa;
    NR = 999;
    CONDITION = DIA_CANDAC_EXIT_CONDITION;
    INFORMATION = DIA_CANDAC_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_CANDAC_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_CANDAC_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_CANDAC_INNOS(C_INFO) {
    NPC = 0xcafa;
    NR = 1;
    CONDITION = DIA_CANDAC_INNOS_CONDITION;
    INFORMATION = DIA_CANDAC_INNOS_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CANDAC_INNOS_CONDITION() {
    if (NPC_ISINSTATE(SELF, 0xf09f)) {
        if (((KAPITEL) == (2)) || ((KAPITEL) == (1))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_INNOS_INFO() {
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_INNOS_100_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_INNOS_100_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_INNOS_100_03");
    NPC_EXCHANGEROUTINE(SELF, "NORMALDAY");
    AI_RESETFACEANI(SELF);
}

instance DIA_CANDAC_HELLO(C_INFO) {
    NPC = 0xcafa;
    NR = 1;
    CONDITION = DIA_CANDAC_HELLO_CONDITION;
    INFORMATION = DIA_CANDAC_HELLO_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "What kind of armor is that?";
}

func int DIA_CANDAC_HELLO_CONDITION() {
    if ((KAPITEL) < (5)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_HELLO_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_Hello_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_Hello_100_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_Hello_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_Hello_100_04");
}

instance DIA_CANDAC_BADPLACE(C_INFO) {
    NPC = 0xcafa;
    NR = 4;
    CONDITION = DIA_CANDAC_BADPLACE_CONDITION;
    INFORMATION = DIA_CANDAC_BADPLACE_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "You don't like Archolos?";
}

func int DIA_CANDAC_BADPLACE_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x1112b)) && ((Q509_CANDACVOLFZACKE) == (0))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_BADPLACE_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_BadPlace_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_BadPlace_100_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_BadPlace_100_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_BadPlace_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_BadPlace_100_05");
}

instance DIA_CANDAC_PALADINS(C_INFO) {
    NPC = 0xcafa;
    NR = 5;
    CONDITION = DIA_CANDAC_PALADINS_CONDITION;
    INFORMATION = DIA_CANDAC_PALADINS_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Will you tell me about the paladins?";
}

func int DIA_CANDAC_PALADINS_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x1112b)) && ((Q509_CANDACVOLFZACKE) == (0))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_PALADINS_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_Paladins_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_Paladins_100_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_Paladins_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_Paladins_100_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_Paladins_100_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_Paladins_100_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_Paladins_100_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_Paladins_100_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_Paladins_100_09");
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_Paladins_15_10");
}

instance DIA_CANDAC_SQ309(C_INFO) {
    NPC = 0xcafa;
    NR = 1;
    CONDITION = DIA_CANDAC_SQ309_CONDITION;
    INFORMATION = DIA_CANDAC_SQ309_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CANDAC_SQ309_CONDITION() {
    if (((KAPITEL) == (3)) || ((KAPITEL) == (4))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_SQ309_INFO() {
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_100_01");
    INFO_CLEARCHOICES(0x11134);
    INFO_ADDCHOICE(0x11134, "When we were young, we had some lessons with Fire Mages...", 0x1113f);
    INFO_ADDCHOICE(0x11134, "Of course.", 0x1113e);
}

func void DIA_CANDAC_SQ309_WELL_SEE() {
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_See_100_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_See_100_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_See_100_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_See_100_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_See_100_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_See_100_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_See_100_07");
    INFO_CLEARCHOICES(0x11134);
    INFO_ADDCHOICE(0x11134, "I don't think it's any of my business.", 0x1113d);
    INFO_ADDCHOICE(0x11134, "Is he cheating them? I think people see what they are buying.", 0x11138);
    INFO_ADDCHOICE(0x11134, "Why don't you do something about it?", 0x11139);
}

func void DIA_CANDAC_SQ309_WELL_SEE_CHEAT() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ309_Cheat_15_01");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Cheat_100_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Cheat_100_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Cheat_100_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Cheat_100_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Cheat_100_06");
}

func void DIA_CANDAC_SQ309_WELL_SEE_DOSOMETHING() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ309_DoSomething_15_01");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_DoSomething_100_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_DoSomething_100_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_DoSomething_100_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_DoSomething_100_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_DoSomething_100_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_DoSomething_100_07");
    AI_RESETFACEANI(SELF);
    INFO_CLEARCHOICES(0x11134);
    INFO_ADDCHOICE(0x11134, "I don't think it's any of my business.", 0x1113d);
    INFO_ADDCHOICE(0x11134, "Have you tried talking to the mages about it?", 0x1113a);
}

func void DIA_CANDAC_SQ309_WELL_SEE_DOSOMETHING_FIREMAGE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ309_FireMage_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_FireMage_100_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_FireMage_100_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_FireMage_100_04");
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ309_FireMage_15_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_FireMage_100_06");
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ309_FireMage_15_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_FireMage_100_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_FireMage_100_09");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_FireMage_100_10");
    INFO_CLEARCHOICES(0x11134);
    INFO_ADDCHOICE(0x11134, "I don't think it's any of my business.", 0x1113d);
    INFO_ADDCHOICE(0x11134, "Xardas?", 0x1113b);
    INFO_ADDCHOICE(0x11134, "Let me help you, where do I start?", 0x1113c);
}

func void DIA_CANDAC_SQ309_WELL_SEE_DOSOMETHING_FIREMAGE_XARDAS() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ309_Xardas_15_01");
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Xardas_100_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Xardas_100_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Xardas_100_04");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Xardas_100_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Xardas_100_06");
    AI_RESETFACEANI(SELF);
}

func void DIA_CANDAC_SQ309_WELL_SEE_DOSOMETHING_FIREMAGE_HELP() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ309_Help_15_01");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Help_100_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Help_100_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Help_100_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Help_100_05");
    AI_RESETFACEANI(SELF);
    LOG_CREATETOPIC(TOPIC_SQ309, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ309), TOPIC_SQ309, LOG_RUNNING);
    AI_LOGENTRY(TOPIC_SQ309, LOG_SQ309_START);
    INFO_CLEARCHOICES(0x11134);
    AI_STOPPROCESSINFOS(SELF);
    SQ309_TAKEQUEST = TRUE;
    NPC_EXCHANGEROUTINE(SELF, "NORMALDAY");
}

func void DIA_CANDAC_SQ309_WELL_SEE_GOODBYE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ309_Goodbye_15_01");
    AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Goodbye_100_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Goodbye_100_03");
    INFO_CLEARCHOICES(0x11134);
    AI_STOPPROCESSINFOS(SELF);
    AI_RESETFACEANI(SELF);
    NPC_EXCHANGEROUTINE(SELF, "NORMALDAY");
}

func void DIA_CANDAC_SQ309_YES() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ309_Yes_15_01");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Yes_100_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Yes_100_03");
    DIA_CANDAC_SQ309_WELL_SEE();
}

func void DIA_CANDAC_SQ309_WELL() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ309_Well_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309_Well_100_02");
    DIA_CANDAC_SQ309_WELL_SEE();
}

instance DIA_CANDAC_SQ309TAKE(C_INFO) {
    NPC = 0xcafa;
    NR = 1;
    CONDITION = DIA_CANDAC_SQ309TAKE_CONDITION;
    INFORMATION = DIA_CANDAC_SQ309TAKE_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Let me help you, where do I start?";
}

func int DIA_CANDAC_SQ309TAKE_CONDITION() {
    if (((KAPITEL) == (3)) || ((KAPITEL) == (4))) {
        if ((NPC_KNOWSINFO(OTHER, 0x11134)) && ((SQ309_TAKEQUEST) == (FALSE))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_SQ309TAKE_INFO() {
    DIA_CANDAC_SQ309_WELL_SEE_DOSOMETHING_FIREMAGE_HELP();
}

instance DIA_CANDAC_SQ309END(C_INFO) {
    NPC = 0xcafa;
    NR = 1;
    CONDITION = DIA_CANDAC_SQ309END_CONDITION;
    INFORMATION = DIA_CANDAC_SQ309END_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I guess things didn't go your way...";
}

func int DIA_CANDAC_SQ309END_CONDITION() {
    if (((LOG_GETSTATUS(MIS_SQ309)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0xff98))) {
        if ((KAPITEL) < (5)) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_SQ309END_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ309End_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309End_100_02");
    INFO_CLEARCHOICES(0x11143);
    INFO_ADDCHOICE(0x11143, "If the mages themselves said so...", 0x11146);
    INFO_ADDCHOICE(0x11143, "Why don't I at least tell you what I've discovered so far?", 0x11147);
}

func void DIA_CANDAC_SQ309END_MAGES() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ309End_Mages_15_01");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309End_Mages_100_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309End_Mages_100_03");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309End_Mages_100_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309End_Mages_100_05");
}

func void DIA_CANDAC_SQ309END_RESEARCH() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ309End_Research_15_01");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309End_Research_100_02");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309End_Research_100_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309End_Research_100_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309End_Research_100_05");
    INFO_CLEARCHOICES(0x11143);
    INFO_ADDCHOICE(0x11143, "So what's my reward going to be?", 0x11148);
}

func void DIA_CANDAC_SQ309END_RESEARCH_REWARD() {
    NPC_EXCHANGEROUTINE(SELF, RESERVED_CONST_STRING_64);
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ309End_Reward_15_01");
    AI_STARTFACEANI(SELF, S_TIRED, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309End_Reward_100_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309End_Reward_100_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309End_Reward_100_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309End_Reward_100_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ309End_Reward_100_06");
    CREATEINVITEMS(SELF, 0x877d, 1);
    B_GIVEINVITEMS(SELF, OTHER, 0x877d, 1);
    AI_RESETFACEANI(SELF);
    AI_LOGENTRY(TOPIC_SQ309, LOG_SQ309_FINISH);
    LOG_SETSTATUS(_@(MIS_SQ309), TOPIC_SQ309, LOG_SUCCESS);
    B_GIVEPLAYERXP(XP_SQ309_FINISH);
    INFO_CLEARCHOICES(0x11143);
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_CANDAC_SQ508_WHAT(C_INFO) {
    NPC = 0xcafa;
    NR = 1;
    CONDITION = DIA_CANDAC_SQ508_WHAT_CONDITION;
    INFORMATION = DIA_CANDAC_SQ508_WHAT_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CANDAC_SQ508_WHAT_CONDITION() {
    if (((KAPITEL) == (5)) && ((NPC_GETDISTTOWP(SELF, "PART8_MONASTERY_CANDAC_DRINK")) <= (0x7d0))) {
        if (NPC_KNOWSINFO(OTHER, 0x1112b)) {
            return TRUE;
        };
        if (((NPC_KNOWSINFO(OTHER, 0x1112b)) == (FALSE)) && (NPC_ISINSTATE(SELF, 0xf09f))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_SQ508_WHAT_INFO() {
    if (((NPC_KNOWSINFO(OTHER, 0x1112b)) == (FALSE)) && (NPC_ISINSTATE(SELF, 0xf09f))) {
        AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
        AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ508_What_15_01");
    };
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_What_03_02");
    INFO_CLEARCHOICES(0x11149);
    if (NPC_KNOWSINFO(OTHER, 0x1112b)) {
        INFO_ADDCHOICE(0x11149, "I could ask the same thing.", 0x11150);
    };
    if ((LOG_GETSTATUS(MIS_Q501)) == (LOG_RUNNING)) {
        INFO_ADDCHOICE(0x11149, "I've been badly wounded. The mages are trying to help me.", 0x1114e);
    };
    INFO_ADDCHOICE(0x11149, "I was badly wounded. The mages helped me.", 0x1114f);
}

func void DIA_CANDAC_SQ508_WHAT_CHOICES() {
    AI_RESETFACEANI(OTHER);
    INFO_CLEARCHOICES(0x11149);
    INFO_ADDCHOICE(0x11149, DIALOG_BESILENT, 0x11153);
    INFO_ADDCHOICE(0x11149, "And you treat it with alcohol?", 0x11152);
}

func void DIA_CANDAC_SQ508_BODY() {
    AI_STARTFACEANI(SELF, S_TIRED, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_What_Wounded_03_02");
    DIA_CANDAC_SQ508_WHAT_CHOICES();
}

func void DIA_CANDAC_SQ508_WHAT_WOUNDED() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ508_What_Wounded_15_01");
    DIA_CANDAC_SQ508_BODY();
}

func void DIA_CANDAC_SQ508_WHAT_WASWOUNDED() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ508_What_WasWounded_15_01");
    DIA_CANDAC_SQ508_BODY();
}

func void DIA_CANDAC_SQ508_WHAT_SAME() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ508_What_Same_15_01");
    AI_STARTFACEANI(SELF, S_TIRED, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_What_Same_03_02");
    DIA_CANDAC_SQ508_WHAT_CHOICES();
}

func void DIA_CANDAC_SQ508_WHAT_NEXT() {
    if (((LOG_GETSTATUS(MIS_SQ309)) == (LOG_RUNNING)) || ((LOG_GETSTATUS(MIS_SQ309)) == (LOG_SUCCESS))) {
        AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_What_Next_03_01");
        if ((LOG_GETSTATUS(MIS_SQ309)) == (LOG_RUNNING)) {
            AI_LOGENTRY(TOPIC_SQ309, LOG_SQ309_FAILED_CHAPTER5);
            LOG_SETSTATUS(_@(MIS_SQ309), TOPIC_SQ309, LOG_FAILED);
        };
    };
    AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_What_Next_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_What_Next_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_What_Next_03_04");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_What_Next_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_What_Next_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_What_Next_03_07");
    AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_What_Next_03_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_What_Next_03_09");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_What_Next_03_10");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_What_Next_03_11");
    INFO_CLEARCHOICES(0x11149);
    INFO_ADDCHOICE(0x11149, "How's it going?", 0x11156);
    INFO_ADDCHOICE(0x11149, "I don't think it works out very well.", 0x11155);
}

func void DIA_CANDAC_SQ508_WHAT_SAME_BEER() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ508_What_Beer_15_01");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_What_Beer_03_02");
    DIA_CANDAC_SQ508_WHAT_NEXT();
}

func void DIA_CANDAC_SQ508_WHAT_SAME_SILENCE() {
    AI_WAIT(OTHER, 0x3f000000);
    AI_WAITTILLEND(SELF, OTHER);
    DIA_CANDAC_SQ508_WHAT_NEXT();
}

func void DIA_CANDAC_SQ508_WHAT_END() {
    INFO_CLEARCHOICES(0x11149);
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_What_End_03_01");
    AI_RESETFACEANI(OTHER);
}

func void DIA_CANDAC_SQ508_WHAT_SAME_BEER_NEXT_BAD() {
    AI_STARTFACEANI(OTHER, S_TIRED, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ508_What_Bad_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_What_Bad_03_02");
    DIA_CANDAC_SQ508_WHAT_END();
}

func void DIA_CANDAC_SQ508_WHAT_SAME_BEER_NEXT_GOING() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ508_What_Going_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_What_Going_03_02");
    DIA_CANDAC_SQ508_WHAT_END();
}

instance DIA_CANDAC_SQ508_START(C_INFO) {
    NPC = 0xcafa;
    NR = 1;
    CONDITION = DIA_CANDAC_SQ508_START_CONDITION;
    INFORMATION = DIA_CANDAC_SQ508_START_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "You can always start by getting rid of that bottle.";
}

func int DIA_CANDAC_SQ508_START_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x11149)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_SQ508_START_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ508_Start_15_01");
    B_USEFAKEEMPTYBEER_STATE_START();
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_Start_03_02");
    B_USEFAKEEMPTYBEER_STATE_REMOVE();
    AI_RESETFACEANI(SELF);
    CREATEINVITEMS(SELF, 0x8e0b, 4);
    B_GIVEINVITEMS(SELF, OTHER, 0x8e0b, 4);
    LOG_CREATETOPIC(TOPIC_SQ508, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ508), TOPIC_SQ508, LOG_RUNNING);
    AI_LOGENTRY(TOPIC_SQ508, LOG_SQ508_START);
    NPC_EXCHANGEROUTINE(SELF, "SQ508_PRAY");
}

instance DIA_CANDAC_SQ508_FINALLY(C_INFO) {
    NPC = 0xcafa;
    NR = 1;
    CONDITION = DIA_CANDAC_SQ508_FINALLY_CONDITION;
    INFORMATION = DIA_CANDAC_SQ508_FINALLY_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CANDAC_SQ508_FINALLY_CONDITION() {
    if (((LOG_GETSTATUS(MIS_SQ508)) == (LOG_RUNNING)) && ((SQ508_READTOSTART) == (TRUE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_SQ508_FINALLY_INFO() {
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_Finally_03_01");
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ508_Finally_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_Finally_03_03");
    AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_Finally_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_Finally_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_Finally_03_06");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_Finally_03_07");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    AI_LOGENTRY(TOPIC_SQ508, LOG_SQ508_CANDAC_WHATSNEW);
}

instance DIA_CANDAC_SQ508_JOBFORYOU(C_INFO) {
    NPC = 0xcafa;
    NR = 1;
    CONDITION = DIA_CANDAC_SQ508_JOBFORYOU_CONDITION;
    INFORMATION = DIA_CANDAC_SQ508_JOBFORYOU_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I found a job for you.";
}

func int DIA_CANDAC_SQ508_JOBFORYOU_CONDITION() {
    if (((LOG_GETSTATUS(MIS_SQ508)) == (LOG_RUNNING)) && ((SQ508_HELPNOVIZE) == (TRUE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_SQ508_JOBFORYOU_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ508_JobForYou_15_01");
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_JobForYou_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ508_JobForYou_15_03");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_JobForYou_03_04");
    AI_RESETFACEANI(SELF);
    AI_LOGENTRY(TOPIC_SQ508, LOG_SQ508_CANDAC_REFUSEHELP);
}

instance DIA_CANDAC_SQ508_ABOUTGRAVEYARD(C_INFO) {
    NPC = 0xcafa;
    NR = 1;
    CONDITION = DIA_CANDAC_SQ508_ABOUTGRAVEYARD_CONDITION;
    INFORMATION = DIA_CANDAC_SQ508_ABOUTGRAVEYARD_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "About that cemetery...";
}

func int DIA_CANDAC_SQ508_ABOUTGRAVEYARD_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_SQ508)) == (LOG_RUNNING)) && ((SQ508_ENOUGHEVIDENCE) == (TRUE))) && (NPC_KNOWSINFO(OTHER, 0x1115d))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_SQ508_ABOUTGRAVEYARD_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ508_AboutGraveyard_15_01");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_AboutGraveyard_03_02");
    INFO_CLEARCHOICES(0x11160);
    INFO_ADDCHOICE(0x11160, "So you're just going to let the statue of Innos be desecrated?", 0x11163);
}

func void DIA_CANDAC_SQ508_ABOUTGRAVEYARD_ALLOW() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ508_AboutGraveyard_Allow_15_01");
    AI_STARTFACEANI(SELF, S_SURPRISE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_AboutGraveyard_Allow_03_02");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

instance DIA_CANDAC_SQ508_SIGN(C_INFO) {
    NPC = 0xcafa;
    NR = 1;
    CONDITION = DIA_CANDAC_SQ508_SIGN_CONDITION;
    INFORMATION = DIA_CANDAC_SQ508_SIGN_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Maybe this is the sign you've been waiting for?";
}

func int DIA_CANDAC_SQ508_SIGN_CONDITION() {
    if (((LOG_GETSTATUS(MIS_SQ508)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x11160))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_SQ508_SIGN_INFO() {
    AI_STARTFACEANI(OTHER, S_SURPRISE, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ508_Sign_15_01");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_Sign_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_SQ508_Sign_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_Sign_03_04");
    AI_RESETFACEANI(OTHER);
    AI_LOGENTRY(TOPIC_SQ508, LOG_SQ508_CANDAC_PLAN);
    SQ508_CANDACREADYFORGRAVEYARD();
}

instance DIA_CANDAC_SQ508_LETSGO(C_INFO) {
    NPC = 0xcafa;
    NR = 1;
    CONDITION = DIA_CANDAC_SQ508_LETSGO_CONDITION;
    INFORMATION = DIA_CANDAC_SQ508_LETSGO_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CANDAC_SQ508_LETSGO_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_SQ508)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x11164))) && (WLD_ISTIME(18, 0, 4, 0))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_SQ508_LETSGO_INFO() {
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_LetsGo_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_LetsGo_03_02");
    AI_STOPPROCESSINFOS(SELF);
    NPC_EXCHANGEROUTINE(SELF, "SQ508_GUIDE");
    SELF.AIVAR[15] = TRUE;
    SQ508_PREPAREGRAVEYARD();
}

instance DIA_CANDAC_SQ508_FINISH(C_INFO) {
    NPC = 0xcafa;
    NR = 1;
    CONDITION = DIA_CANDAC_SQ508_FINISH_CONDITION;
    INFORMATION = DIA_CANDAC_SQ508_FINISH_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CANDAC_SQ508_FINISH_CONDITION() {
    if (((LOG_GETSTATUS(MIS_SQ508)) == (LOG_RUNNING)) && ((SQ508_RESULT) >= (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_SQ508_FINISH_INFO() {
    if ((SQ508_RESULT) == (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_Finish_03_01");
        AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_Finish_03_02");
        AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_Finish_03_03");
        AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_Finish_03_04");
        AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_Finish_03_05");
        AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_Finish_03_06");
        NPC_EXCHANGEROUTINE(SELF, "SQ508_AFTERQUEST_V1");
        AI_LOGENTRY(TOPIC_SQ508, LOG_SQ508_FINISH_V1);
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_Finish_03_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_Finish_03_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_SQ508_Finish_03_09");
    NPC_EXCHANGEROUTINE(SELF, "SQ508_AFTERQUEST_V2");
    AI_LOGENTRY(TOPIC_SQ508, LOG_SQ508_FINISH_V2);
    LOG_SETSTATUS(_@(MIS_SQ508), TOPIC_SQ508, LOG_SUCCESS);
    B_GIVEPLAYERXP(XP_SQ508_FINISH);
}

instance DIA_CANDAC_Q509_STOPPRAYING(C_INFO) {
    NPC = 0xcafa;
    NR = 1;
    CONDITION = DIA_CANDAC_Q509_STOPPRAYING_CONDITION;
    INFORMATION = DIA_CANDAC_Q509_STOPPRAYING_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Candac, may I disturb your prayer?";
}

func int DIA_CANDAC_Q509_STOPPRAYING_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_Q509)) == (LOG_RUNNING)) && ((Q509_COUNTWARRIORS) < (4))) && ((LOG_GETSTATUS(MIS_SQ508)) == (LOG_SUCCESS))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_Q509_STOPPRAYING_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_Q509_StopPraying_15_01");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_Q509_StopPraying_03_02");
    if ((SQ508_RESULT) == (2)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Candac_Q509_StopPraying_03_03");
    };
    if ((SQ508_RESULT) == (1)) {
        NPC_EXCHANGEROUTINE(SELF, "Q509_GUIDE_V1");
    };
    NPC_EXCHANGEROUTINE(SELF, "Q509_GUIDE_V2");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

instance DIA_CANDAC_Q509_QUESTION(C_INFO) {
    NPC = 0xcafa;
    NR = 1;
    CONDITION = DIA_CANDAC_Q509_QUESTION_CONDITION;
    INFORMATION = DIA_CANDAC_Q509_QUESTION_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_CANDAC_Q509_QUESTION_CONDITION() {
    if (((((LOG_GETSTATUS(MIS_Q509)) == (LOG_RUNNING)) && ((Q509_COUNTWARRIORS) < (4))) && (NPC_KNOWSINFO(OTHER, 0x1116d))) && ((NPC_GETDISTTOWP(SELF, SELF.WP)) <= (500))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_Q509_QUESTION_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_Q509_Question_03_01");
    AI_PLAYANIBS(SELF, T_STAND_2_LGUARD, BS_SIT);
    INFO_CLEARCHOICES(0x11170);
    INFO_ADDCHOICE(0x11170, "I'm getting ready for an expedition...", 0x11173);
}

func void DIA_CANDAC_Q509_QUESTION_PREPARE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_Q509_Question_Prepare_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_Q509_Question_Prepare_15_02");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_Q509_Question_Prepare_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_Q509_Question_Prepare_03_04");
    AI_PLAYANIBS(SELF, T_LGUARD_2_STAND, BS_STAND);
    INFO_CLEARCHOICES(0x11170);
    INFO_ADDCHOICE(0x11170, "I knew I could count on you.", 0x11174);
}

func void DIA_CANDAC_Q509_QUESTION_PREPARE_THANKS() {
    AI_STARTFACEANI(OTHER, S_SMUG, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Candac_Q509_Question_Thanks_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_Q509_Question_Thanks_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_Q509_Question_Thanks_03_03");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    INFO_CLEARCHOICES(0x11170);
    B_STANDUP();
    AI_STOPPROCESSINFOS(SELF);
    B_GIVEPLAYERXP(XP_VARHDAL_RECRUIT);
    SELF.AIVAR[15] = TRUE;
    SELF.FLAGS = 2;
    Q509_CANDACVOLFZACKE = 1;
    NPC_EXCHANGEROUTINE(SELF, "Q509_WAIT");
    AI_LOGENTRY(TOPIC_Q509, LOG_Q509_CANDAC);
    AI_FUNCTION(SELF, 0xf74c);
}

instance DIA_CANDAC_Q509_FEEL(C_INFO) {
    NPC = 0xcafa;
    NR = 90;
    CONDITION = DIA_CANDAC_Q509_FEEL_CONDITION;
    INFORMATION = DIA_CANDAC_Q509_FEEL_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "How's the morale?";
}

func int DIA_CANDAC_Q509_FEEL_CONDITION() {
    if (((Q509_CANDACVOLFZACKE) == (1)) && ((NPC_GETDISTTOWP(SELF, "PART5_Q509_CANDAC")) <= (0x7d0))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_Q509_FEEL_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    B_SAY(OTHER, SELF, "$MARVIN_VolfzackMorale3");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Candac_Q509_Feel_03_02");
    AI_STARTFACEANI(SELF, S_TIRED, 1, -(1));
    if ((SQ508_RESULT) == (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Candac_Q509_Feel_03_03");
    };
    if ((SQ508_RESULT) == (2)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Candac_Q509_Feel_03_04");
    };
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

instance DIA_CANDAC_AMBIENT(C_INFO) {
    NPC = 0xcafa;
    NR = 997;
    CONDITION = DIA_CANDAC_AMBIENT_CONDITION;
    INFORMATION = DIA_CANDAC_AMBIENT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "How are things going?";
}

func int DIA_CANDAC_AMBIENT_CONDITION() {
    if ((NPC_GETDISTTOWP(SELF, "PART5_Q509_CANDAC")) > (0x7d0)) {
        if ((NPC_KNOWSINFO(OTHER, 0x1112b)) || (NPC_KNOWSINFO(OTHER, 0x11128))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_AMBIENT_INFO() {
    B_SAY(OTHER, SELF, "$MARVIN_WhatNew3");
    if ((KAPITEL) < (5)) {
        if ((((LOG_GETSTATUS(MIS_SQ309)) != (LOG_RUNNING)) && ((LOG_GETSTATUS(MIS_SQ309)) != (LOG_SUCCESS))) && ((LOG_GETSTATUS(MIS_SQ309)) != (LOG_FAILED))) {
            AI_OUTPUT(SELF, OTHER, "DIA_Candac_Ambient_03_01");
        } else if ((LOG_GETSTATUS(MIS_SQ309)) == (LOG_RUNNING)) {
            AI_OUTPUT(SELF, OTHER, "DIA_Candac_Ambient_03_02");
        } else if ((LOG_GETSTATUS(MIS_SQ309)) == (LOG_SUCCESS)) {
            AI_OUTPUT(SELF, OTHER, "DIA_Candac_Ambient_03_03");
        } else if ((LOG_GETSTATUS(MIS_SQ309)) == (LOG_FAILED)) {
            AI_OUTPUT(SELF, OTHER, "DIA_Candac_Ambient_03_04");
        };
    };
    if ((KAPITEL) == (5)) {
        if (((LOG_GETSTATUS(MIS_SQ508)) != (LOG_RUNNING)) && ((LOG_GETSTATUS(MIS_SQ508)) != (LOG_SUCCESS))) {
            AI_OUTPUT(SELF, OTHER, "DIA_Candac_Ambient_03_05");
        } else if ((LOG_GETSTATUS(MIS_SQ508)) == (LOG_RUNNING)) {
            AI_OUTPUT(SELF, OTHER, "DIA_Candac_Ambient_03_06");
        } else if ((LOG_GETSTATUS(MIS_SQ508)) == (LOG_SUCCESS)) {
            AI_OUTPUT(SELF, OTHER, "DIA_Candac_Ambient_03_07");
        };
    };
}

instance DIA_CANDAC_PICKPOCKET(C_INFO) {
    NPC = 0xcafa;
    NR = 900;
    CONDITION = DIA_CANDAC_PICKPOCKET_CONDITION;
    INFORMATION = DIA_CANDAC_PICKPOCKET_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = PICKPOCKET_120;
}

func int DIA_CANDAC_PICKPOCKET_CONDITION() {
    if (((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (1)) && ((SELF.AIVAR[6]) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_CANDAC_PICKPOCKET_INFO() {
    INFO_CLEARCHOICES(0x1117b);
    INFO_ADDCHOICE(0x1117b, DIALOG_BACK, 0x1117f);
    INFO_ADDCHOICE(0x1117b, DIALOG_PICKPOCKET, 0x1117e);
}

func void DIA_CANDAC_PICKPOCKET_DOIT() {
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (3)) {
        CREATEINVITEMS(SELF, 0x877d, 1);
        B_GIVEINVITEMS(SELF, OTHER, 0x877d, 1);
        B_PICKPOCKET_AMBIENT_TIER_3();
        SELF.AIVAR[6] = TRUE;
        INFO_CLEARCHOICES(0x1117b);
    };
    AI_PLAYANI(HERO, T_CANNOTTAKE);
    PRINTSCREEN(PRINT_CANTPICKPOCKETTHISPERSON, -(1), -(1), FONT_SCREEN, 4);
    INFO_CLEARCHOICES(0x1117b);
}

func void DIA_CANDAC_PICKPOCKET_BACK() {
    INFO_CLEARCHOICES(0x1117b);
}

