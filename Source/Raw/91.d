func void FIXEQUIPBESTWEAPONS_INIT() {
    MEMORYPROTECTIONOVERRIDE(OCNPC__ENABLE_EQUIPBESTWEAPONS, 18);
    MEM_COPYBYTES(_@(NOP20BYTES[0]), OCNPC__ENABLE_EQUIPBESTWEAPONS, 18);
    HOOKENGINEF(OCNPC__ENABLE_EQUIPBESTWEAPONS, 5, 0x509a);
}

const int FIXEQUIPBESTWEAPONS_INIT.NOP20BYTES[5] = {-1869574000, -1869574000, -1869574000, -1869574000, -1869574000};
func void NPCEQUIPBESTWEAPONBYTYPE(var C_NPC NPC, var int TYPE) {
    NPCPTR = _@(0x5096);
    if (CALL_BEGIN(CALL)) {
        CALL_INTPARAM(_@(TYPE));
        CALL__THISCALL(_@(NPCPTR), OCNPC__EQUIPBESTWEAPON);
        CALL = CALL_END();
    };
}

var int NPCEQUIPBESTWEAPONBYTYPE.NPCPTR = 0;
const int NPCEQUIPBESTWEAPONBYTYPE.CALL = 0;
func void _FIXEQUIPBESTWEAPONS() {
    NPC = _^(ESI);
    if ((NPC.FLAGS) == (2)) {
        return;
    };
    NPCEQUIPBESTWEAPONBYTYPE(NPC, ITEM_KAT_NF);
    NPCEQUIPBESTWEAPONBYTYPE(NPC, ITEM_KAT_FF);
}

instance _FIXEQUIPBESTWEAPONS.NPC(C_NPC)
