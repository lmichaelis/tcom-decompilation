instance GQ001_YANNICKSMALLTALKCUTSCENE(CUTSCENE) {
    ONSTART = FUNCTION(0x1689f);
}

func void GQ001_YANNICKSMALLTALKCUTSCENE_WAIT() {
    AI_WAITTILLEND(HERO, BAU_6348_YANNICK);
    AI_WAITTILLEND(HERO, NONE_6351_ROY);
    AI_WAITTILLEND(BAU_6348_YANNICK, HERO);
    AI_WAITTILLEND(BAU_6348_YANNICK, NONE_6351_ROY);
    AI_WAITTILLEND(NONE_6351_ROY, HERO);
    AI_WAITTILLEND(NONE_6351_ROY, BAU_6348_YANNICK);
}

func void GQ001_YANNICKSMALLTALKCUTSCENE_START() {
    if ((Q208_TALKEDWITHYANNIC) == (1)) {
        AI_FUNCTION_S(HERO, 777, "KM_FISHERMAN_01");
        TELEPORTNPCTOWP(0x71b, "PART4_FISHERMAN_CUTSCENE_HERO_01");
    };
    AI_FUNCTION_S(HERO, 777, "KM_FISHERMAN_03");
    TELEPORTNPCTOWP(0x71b, "PART4_FISHERMAN_CUTSCENE_HERO_02");
    NPC_CLEARAIQUEUE(BAU_6348_YANNICK);
    NPC_CLEARAIQUEUE(NONE_6351_ROY);
    BAU_6348_YANNICK.AIVAR[92] = TRUE;
    NONE_6351_ROY.AIVAR[92] = TRUE;
    TELEPORTNPCTOWP(0xda72, BAU_6348_YANNICK.WP);
    TELEPORTNPCTOWP(0xda80, NONE_6351_ROY.WP);
    B_TURNTONPC(BAU_6348_YANNICK, NONE_6351_ROY);
    B_TURNTONPC(NONE_6351_ROY, BAU_6348_YANNICK);
    B_TURNTONPC(HERO, BAU_6348_YANNICK);
    AI_OUTPUT(NONE_6351_ROY, HERO, "DIA_Yannick_Cutscene_03_01");
    AI_OUTPUT(NONE_6351_ROY, HERO, "DIA_Yannick_Cutscene_03_02");
    GQ001_YANNICKSMALLTALKCUTSCENE_WAIT();
    AI_OUTPUT(BAU_6348_YANNICK, HERO, "DIA_Yannick_Cutscene_03_03");
    GQ001_YANNICKSMALLTALKCUTSCENE_WAIT();
    if ((Q208_TALKEDWITHYANNIC) == (1)) {
        WLD_SENDUNTRIGGER("KM_FISHERMAN_01");
        AI_FUNCTION_S(HERO, 777, "KM_FISHERMAN_02_A");
    };
    if ((Q208_TALKEDWITHYANNIC) == (2)) {
        WLD_SENDUNTRIGGER("KM_FISHERMAN_03");
        AI_FUNCTION_S(HERO, 777, "KM_FISHERMAN_04_A");
    };
    AI_OUTPUT(NONE_6351_ROY, HERO, "DIA_Yannick_Cutscene_03_04");
    GQ001_YANNICKSMALLTALKCUTSCENE_WAIT();
    AI_OUTPUT(BAU_6348_YANNICK, HERO, "DIA_Yannick_Cutscene_03_05");
    GQ001_YANNICKSMALLTALKCUTSCENE_WAIT();
    if ((Q208_TALKEDWITHYANNIC) == (1)) {
        WLD_SENDUNTRIGGER("KM_FISHERMAN_02_A");
        AI_FUNCTION_S(HERO, 777, "KM_FISHERMAN_02");
    };
    if ((Q208_TALKEDWITHYANNIC) == (2)) {
        WLD_SENDUNTRIGGER("KM_FISHERMAN_04_A");
        AI_FUNCTION_S(HERO, 777, "KM_FISHERMAN_04");
    };
    AI_LOOKATNPC(NONE_6351_ROY, HERO);
    AI_OUTPUT(NONE_6351_ROY, HERO, "DIA_Yannick_Cutscene_03_06");
    GQ001_YANNICKSMALLTALKCUTSCENE_WAIT();
    AI_OUTPUT(BAU_6348_YANNICK, HERO, "DIA_Yannick_Cutscene_03_07");
    GQ001_YANNICKSMALLTALKCUTSCENE_WAIT();
    AI_FUNCTION(HERO, 0x168a0);
}

func void GQ001_YANNICKCUTSCENE_END() {
    if ((Q208_TALKEDWITHYANNIC) == (1)) {
        WLD_SENDUNTRIGGER("KM_FISHERMAN_02");
    };
    if ((Q208_TALKEDWITHYANNIC) == (2)) {
        WLD_SENDUNTRIGGER("KM_FISHERMAN_04");
    };
    BAU_6348_YANNICK.AIVAR[92] = FALSE;
    NONE_6351_ROY.AIVAR[92] = FALSE;
    B_STARTOTHERROUTINE(BAU_6348_YANNICK, "BENCH");
    NPC_REFRESH(BAU_6348_YANNICK);
    B_STARTOTHERROUTINE(NONE_6351_ROY, START);
    NPC_REFRESH(NONE_6351_ROY);
    AI_STOPLOOKAT(NONE_6351_ROY);
    HERO.AIVAR[4] = FALSE;
}

