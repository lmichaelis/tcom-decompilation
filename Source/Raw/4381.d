instance DIA_RAMHA_Q602_EXIT(C_INFO) {
    NPC = 0xeaeb;
    NR = 999;
    CONDITION = DIA_RAMHA_Q602_EXIT_CONDITION;
    INFORMATION = DIA_RAMHA_Q602_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_RAMHA_Q602_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_RAMHA_Q602_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_RAMHA_Q602_LEAVE(C_INFO) {
    NPC = 0xeaeb;
    NR = 1;
    CONDITION = DIA_RAMHA_Q602_LEAVE_CONDITION;
    INFORMATION = DIA_RAMHA_Q602_LEAVE_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RAMHA_Q602_LEAVE_CONDITION() {
    if ((LOG_GETSTATUS(MIS_Q602)) == (LOG_RUNNING)) {
        if (((NPC_GETDISTTOWP(VLK_6407_RAMHA_Q602, "PARTE3_RAMHA")) <= (500)) && ((NPC_GETDISTTOWP(VLK_6406_FAHDA_Q602, "PARTE3_FAHDA")) <= (500))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_RAMHA_Q602_LEAVE_INFO() {
    TRIA_INVITE(VLK_6406_FAHDA_Q602);
    TRIA_START();
    AI_STARTFACEANI(SELF, S_FRIGHTENED, 1, -(1));
    AI_DRAWWEAPON(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Ramha_Q602_LEAVE_03_01");
    INFO_CLEARCHOICES(0x162bd);
    INFO_ADDCHOICE(0x162bd, "I don't want to hurt you!", 0x162c2);
    INFO_ADDCHOICE(0x162bd, "Take it easy...", 0x162c1);
}

func void DIA_RAMHA_Q602_END() {
    TRIA_FINISH();
    INFO_CLEARCHOICES(0x162bd);
    AI_STOPPROCESSINFOS(OTHER);
    AI_FUNCTION(OTHER, 0x162c3);
}

func void DIA_RAMHA_Q602_LEAVE_CALMDOWN() {
    AI_OUTPUT(OTHER, SELF, "DIA_Ramha_Q602_LEAVE_CalmDown_15_01");
    DIA_RAMHA_Q602_END();
}

func void DIA_RAMHA_Q602_LEAVE_NOFIGHT() {
    AI_OUTPUT(OTHER, SELF, "DIA_Ramha_Q602_LEAVE_NoFight_15_01");
    DIA_RAMHA_Q602_END();
}

func void RAMHA_Q602_FIGHT() {
    B_IMMEDIATEATTACKPLAYER(VLK_6407_RAMHA_Q602, AR_KILL);
    B_IMMEDIATEATTACKPLAYER(VLK_6406_FAHDA_Q602, AR_KILL);
}

