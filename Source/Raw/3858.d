var int DAVIS_COUNTGOLDFORFINALPRESENT = 0;
instance DIA_DAVIS_EXIT(C_INFO) {
    NPC = 0xcdd3;
    NR = 999;
    CONDITION = DIA_DAVIS_EXIT_CONDITION;
    INFORMATION = DIA_DAVIS_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_DAVIS_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_DAVIS_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_DAVIS_WHO(C_INFO) {
    NPC = 0xcdd3;
    NR = 1;
    CONDITION = DIA_DAVIS_WHO_CONDITION;
    INFORMATION = DIA_DAVIS_WHO_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Who are you?";
}

func int DIA_DAVIS_WHO_CONDITION() {
    if (!(NPC_KNOWSINFO(OTHER, 0x11c10))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_WHO_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_Who_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_Who_03_02");
    TRADER_LOGENTRY_DAVIS();
}

var int PQ109_QUESTBEGINNING = 0;
instance DIA_DAVIS_PEON(C_INFO) {
    NPC = 0xcdd3;
    NR = 1;
    CONDITION = DIA_DAVIS_PEON_CONDITION;
    INFORMATION = DIA_DAVIS_PEON_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Aren't you looking for a worker?";
}

func int DIA_DAVIS_PEON_CONDITION() {
    if ((WHONEEDPEON) == (TRUE)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_PEON_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_Peon_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_Peon_03_02");
    INFO_CLEARCHOICES(0x11c10);
    if ((SQ221_UWEDONE) == (2)) {
        INFO_ADDCHOICE(0x11c10, "I helped repair a bridge in Silbach.", 0x11c14);
    };
    if ((PQ109_KNUTWORK) == (TRUE)) {
        INFO_ADDCHOICE(0x11c10, "I worked as a woodcutter in the Wolf's Den area.", 0x11c15);
    };
    INFO_ADDCHOICE(0x11c10, "Actually, not much.", 0x11c16);
}

func void DIA_DAVIS_PEON_QUEST() {
    INFO_CLEARCHOICES(0x11c10);
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_Peon_Quest_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_Peon_Quest_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_Peon_Quest_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_Peon_Quest_03_04");
    if (((IAM_PEON) == (TRUE)) && (((PEON_SECONDTIME) == (0)) || ((PEON_SECONDTIME) == (2)))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_Peon_Quest_03_05");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_Peon_Quest_03_06");
    PQ109_QUESTBEGINNING = TRUE;
}

func void DIA_DAVIS_PEON_BRIDGE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_Peon_Bridge_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_Peon_Bridge_03_02");
    DIA_DAVIS_PEON_QUEST();
}

func void DIA_DAVIS_PEON_KNUT() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_Peon_Knut_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_Peon_Knut_03_02");
    DIA_DAVIS_PEON_QUEST();
}

func void DIA_DAVIS_PEON_NOPE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_Peon_Nope_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_Peon_Nope_03_02");
    DIA_DAVIS_PEON_QUEST();
}

var int PQ109_KNOWALL = 0;
var int PQ109_KNOWPLACE = 0;
instance DIA_DAVIS_PQ109_START(C_INFO) {
    NPC = 0xcdd3;
    NR = 1;
    CONDITION = DIA_DAVIS_PQ109_START_CONDITION;
    INFORMATION = DIA_DAVIS_PQ109_START_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Sounds interesting, what should I do?";
}

func int DIA_DAVIS_PQ109_START_CONDITION() {
    if ((PQ109_QUESTBEGINNING) == (TRUE)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_PQ109_START_CHOICES() {
    INFO_CLEARCHOICES(0x11c19);
    INFO_ADDCHOICE(0x11c19, RESERVED_CONST_STRING_182, 0x996);
    if (((PQ109_KNOWALL) == (FALSE)) || ((PQ109_KNOWPLACE) == (FALSE))) {
        if ((PQ109_KNOWALL) == (FALSE)) {
            INFO_ADDCHOICE(0x11c19, "Is that all?", 0x11c1d);
        };
        if ((PQ109_KNOWPLACE) == (FALSE)) {
            INFO_ADDCHOICE(0x11c19, "Where can I find his workshop?", 0x11c1e);
        };
    };
    INFO_ADDCHOICE(0x11c19, "I'll get to work.", 0x11c1f);
}

func void DIA_DAVIS_PQ109_START_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_PQ109_Start_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_PQ109_Start_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_PQ109_Start_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_PQ109_Start_03_04");
    DIA_DAVIS_PQ109_START_CHOICES();
}

func void DIA_DAVIS_PQ109_START_ALL() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_PQ109_Start_All_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_PQ109_Start_All_03_02");
    PQ109_KNOWALL = TRUE;
    if ((RESERVED_VAR_INT_49) == (FALSE)) {
        DIA_DAVIS_PQ109_START_CHOICES();
    };
}

func void DIA_DAVIS_PQ109_START_PLACE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_PQ109_Start_Place_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_PQ109_Start_Place_03_02");
    PQ109_KNOWPLACE = TRUE;
    if ((RESERVED_VAR_INT_49) == (FALSE)) {
        DIA_DAVIS_PQ109_START_CHOICES();
    };
}

func void DIA_DAVIS_PQ109_START_JOB() {
    INFO_CLEARCHOICES(0x11c19);
    if ((RESERVED_VAR_INT_49) == (TRUE)) {
        AI_OUTPUT(OTHER, SELF, RESERVED_CONST_STRING_184);
        if ((PQ109_KNOWPLACE) == (FALSE)) {
            DIA_DAVIS_PQ109_START_PLACE();
        };
        if ((PQ109_KNOWALL) == (FALSE)) {
            DIA_DAVIS_PQ109_START_ALL();
        };
    };
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_PQ109_Start_Job_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_PQ109_Start_Job_03_02");
    LOG_CREATETOPIC(TOPIC_PQ109, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_PQ109), TOPIC_PQ109, LOG_RUNNING);
    AI_LOGENTRY(TOPIC_PQ109, LOG_PQ109_START);
    if ((PQ109_KNOWALL) == (TRUE)) {
        AI_LOGENTRY(TOPIC_PQ109, LOG_PQ109_DAVIS_TOOLS);
    };
    if ((PQ109_KNOWPLACE) == (TRUE)) {
        AI_LOGENTRY(TOPIC_PQ109, LOG_PQ109_DAVIS_WHERE);
    };
    CREATEINVITEMS(SELF, 0x84ca, 10);
    B_GIVEINVITEMS(SELF, OTHER, 0x84ca, 10);
    MOB_CREATEITEMS("PQ109_CHEST_01", 0x90bd, 1);
    MOB_CREATEITEMS("PQ109_CHEST_02", 0x90bd, 1);
    MOB_CREATEITEMS("PQ109_CHEST_03", 0x90bd, 1);
    WLD_INSERTITEM(0x90be, "FP_PQ109_TOOLS");
}

instance DIA_DAVIS_PQ109_MILITIA(C_INFO) {
    NPC = 0xcdd3;
    NR = 1;
    CONDITION = DIA_DAVIS_PQ109_MILITIA_CONDITION;
    INFORMATION = DIA_DAVIS_PQ109_MILITIA_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I'm a guard. Aren't you afraid I'll turn you in?";
}

func int DIA_DAVIS_PQ109_MILITIA_CONDITION() {
    if ((((OTHER.GUILD) == (GIL_MIL)) && ((PQ109_QUESTBEGINNING) == (TRUE))) && ((LOG_GETSTATUS(MIS_PQ109)) != (LOG_SUCCESS))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_PQ109_MILITIA_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_PQ109_Militia_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_PQ109_Militia_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_PQ109_Militia_03_03");
}

var int DAVIS_WECANBEPEON = 0;
instance DIA_DAVIS_PQ109_FINISH(C_INFO) {
    NPC = 0xcdd3;
    NR = 1;
    CONDITION = DIA_DAVIS_PQ109_FINISH_CONDITION;
    INFORMATION = DIA_DAVIS_PQ109_FINISH_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I did what you asked for.";
}

func int DIA_DAVIS_PQ109_FINISH_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_PQ109)) == (LOG_RUNNING)) && ((NPC_HASITEMS(OTHER, 0x90bd)) >= (3))) && ((NPC_HASITEMS(OTHER, 0x90be)) >= (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_PQ109_FINISH_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_PQ109_Finish_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_PQ109_Finish_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_PQ109_Finish_15_03");
    NPC_REMOVEINVITEMS(SELF, 0x90be, 1);
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_PQ109_Finish_03_04");
    NPC_REMOVEINVITEMS(SELF, 0x90bd, 3);
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_PQ109_Finish_03_05");
    if (((IAM_PEON) == (TRUE)) && (((PEON_SECONDTIME) == (0)) || ((PEON_SECONDTIME) == (2)))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_PQ109_Finish_03_06");
        CREATEINVITEMS(SELF, 0x859b, PQ109_REWARD);
        B_GIVEINVITEMS(SELF, OTHER, 0x859b, PQ109_REWARD);
        AI_LOGENTRY(TOPIC_PQ109, LOG_PQ109_FINISH_V1);
    };
    B_GIVEINVITEMS(OTHER, SELF, 0x90be, 1);
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_PQ109_Finish_03_07");
    B_GIVEINVITEMS(OTHER, SELF, 0x90bd, 3);
    AI_LOGENTRY(TOPIC_PQ109, LOG_PQ109_FINISH_V2);
    DAVIS_WECANBEPEON = TRUE;
    B_GIVEPLAYERXP(XP_PQ109_FINISH);
    LOG_SETSTATUS(_@(MIS_PQ109), TOPIC_PQ109, LOG_SUCCESS);
}

instance DIA_DAVIS_IWANTTOBEPEON(C_INFO) {
    NPC = 0xcdd3;
    NR = 10;
    CONDITION = DIA_DAVIS_IWANTTOBEPEON_CONDITION;
    INFORMATION = DIA_DAVIS_IWANTTOBEPEON_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "I want to be your apprentice.";
}

func int DIA_DAVIS_IWANTTOBEPEON_CONDITION() {
    if (((DAVIS_WECANBEPEON) == (TRUE)) && ((PEON_DAVIS) == (FALSE))) {
        if (((IAM_PEON) == (FALSE)) || ((PEON_SECONDTIME) == (TRUE))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_IWANTTOBEPEON_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_IwanttobePeon_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_IwanttobePeon_03_02");
    INFO_CLEARCHOICES(0x11c27);
    INFO_ADDCHOICE(0x11c27, "I'll think about it some more.", 0x11c2a);
    INFO_ADDCHOICE(0x11c27, "Yes, I'm sure.", 0x11c2b);
}

func void DIA_DAVIS_IWANTTOBEPEON_NOTSURE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_IwanttobePeonNotSure_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_IwanttobePeonNotSure_03_02");
    INFO_CLEARCHOICES(0x11c27);
}

func void DIA_DAVIS_IWANTTOBEPEON_YES() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_IwanttobePeonYes_15_01");
    if ((B_GETGREATESTPETZCRIME(SELF)) > (CRIME_NONE)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_IwanttobePeonYes_03_05");
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_IwanttobePeonYes_03_06");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_IwanttobePeonYes_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_IwanttobePeonYes_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_IwanttobePeonYes_03_04");
    B_GIVEPLAYERXP(XP_PQ109_FINISH);
    IAM_PEON = TRUE;
    PEON_DAVIS = TRUE;
    if ((PEON_WHOFIRSTPEON) == (0)) {
        PEON_WHOFIRSTPEON = 5;
    };
    PEON_SECONDTIME = 2;
    PEON_DAVIS_DAY = WLD_GETDAY();
    INFO_CLEARCHOICES(0x11c27);
}

var int DAVIS_MIL_SURPRISED = 0;
var int DAVIS_SLD_SURPRISED = 0;
var int PQ110_CANBESTARTED = 0;
instance DIA_DAVIS_HOWTOBEPEON(C_INFO) {
    NPC = 0xcdd3;
    NR = 10;
    CONDITION = DIA_DAVIS_HOWTOBEPEON_CONDITION;
    INFORMATION = DIA_DAVIS_HOWTOBEPEON_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "What are my responsibilities?";
}

func int DIA_DAVIS_HOWTOBEPEON_CONDITION() {
    if ((PEON_DAVIS) == (TRUE)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_HOWTOBEPEON_LOGENTRY() {
    LOG_CREATETOPIC(TOPIC_WORK_DAVIS, LOG_NOTE);
    AI_LOGENTRY(TOPIC_WORK_DAVIS, LOG_WORK_DAVIS_START);
}

func void DIA_DAVIS_HOWTOBEPEON_SIDEQUEST() {
    if ((PQ110_CANBESTARTED) == (FALSE)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_HowToBePeon_SideQuest_03_01");
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_HowToBePeon_SideQuest_03_02");
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_HowToBePeon_SideQuest_03_03");
        AI_RESETFACEANI(SELF);
        AI_OUTPUT(OTHER, SELF, "DIA_Davis_HowToBePeon_SideQuest_15_04");
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_HowToBePeon_SideQuest_03_05");
        DIA_DAVIS_HOWTOBEPEON_LOGENTRY();
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_HowToBePeon_SideQuest_03_06");
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_HowToBePeon_SideQuest_15_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_HowToBePeon_SideQuest_03_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_HowToBePeon_SideQuest_03_09");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_HowToBePeon_SideQuest_03_10");
    LOG_CREATETOPIC(TOPIC_PQ110, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_PQ110), TOPIC_PQ110, LOG_RUNNING);
    AI_LOGENTRY(TOPIC_PQ110, LOG_PQ110_START);
    WLD_SENDTRIGGER("PQ110_MOVER_BANDITSCRIPT");
}

func void DIA_DAVIS_HOWTOBEPEON_GUIDE() {
    if ((((KAPITEL) >= (3)) && ((PEON_SECONDTIME) == (FALSE))) && ((LOG_GETSTATUS(MIS_PQ110)) == (0))) {
        DIA_DAVIS_HOWTOBEPEON_SIDEQUEST();
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_HowToBePeon_03_02");
    if ((HERO.GUILD) == (GIL_MIL)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_HowToBePeonGuide_03_02");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_HowToBePeon_03_03");
    PQ110_CANBESTARTED = TRUE;
    DIA_DAVIS_HOWTOBEPEON_LOGENTRY();
}

func void DIA_DAVIS_HOWTOBEPEON_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_HowToBePeon_15_01");
    if ((HERO.GUILD) == (GIL_MIL)) {
        DAVIS_MIL_SURPRISED = TRUE;
        AI_STARTFACEANI(SELF, S_SURPRISE, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_HowToBePeon_03_04");
        DIA_DAVIS_HOWTOBEPEON_GUIDE();
    };
    if ((HERO.GUILD) == (GIL_SLD)) {
        DAVIS_SLD_SURPRISED = TRUE;
        AI_STARTFACEANI(SELF, S_SURPRISE, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_HowToBePeon_03_05");
        DIA_DAVIS_HOWTOBEPEON_GUIDE();
    };
    DIA_DAVIS_HOWTOBEPEON_GUIDE();
}

instance DIA_DAVIS_WHOAYOUMILITIA(C_INFO) {
    NPC = 0xcdd3;
    NR = 10;
    CONDITION = DIA_DAVIS_WHOAYOUMILITIA_CONDITION;
    INFORMATION = DIA_DAVIS_WHOAYOUMILITIA_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_DAVIS_WHOAYOUMILITIA_CONDITION() {
    if (((((PEON_DAVIS) == (TRUE)) && ((DAVIS_MIL_SURPRISED) == (FALSE))) && ((HERO.GUILD) == (GIL_MIL))) && (NPC_KNOWSINFO(OTHER, 0x11c2f))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_WHOAYOUMILITIA_INFO() {
    AI_STARTFACEANI(SELF, S_SURPRISE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_WhoaYouMilitia_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_WhoaYouMilitia_03_02");
    AI_RESETFACEANI(SELF);
    if ((((KAPITEL) >= (3)) && ((PEON_SECONDTIME) == (FALSE))) && ((LOG_GETSTATUS(MIS_PQ110)) == (0))) {
        PQ110_CANBESTARTED = TRUE;
        DIA_DAVIS_HOWTOBEPEON_SIDEQUEST();
        DAVIS_MIL_SURPRISED = TRUE;
    };
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_WhoaYouMilitia_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_WhoaYouMilitia_03_04");
    PQ110_CANBESTARTED = TRUE;
}

instance DIA_DAVIS_WHOAYOUARAXOS(C_INFO) {
    NPC = 0xcdd3;
    NR = 10;
    CONDITION = DIA_DAVIS_WHOAYOUARAXOS_CONDITION;
    INFORMATION = DIA_DAVIS_WHOAYOUARAXOS_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_DAVIS_WHOAYOUARAXOS_CONDITION() {
    if (((((PEON_DAVIS) == (TRUE)) && ((DAVIS_SLD_SURPRISED) == (FALSE))) && ((HERO.GUILD) == (GIL_SLD))) && (NPC_KNOWSINFO(OTHER, 0x11c2f))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_WHOAYOUARAXOS_INFO() {
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_WhoaYouAraxos_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_WhoaYouAraxos_03_02");
    AI_RESETFACEANI(SELF);
    if ((((KAPITEL) >= (3)) && ((PEON_SECONDTIME) == (FALSE))) && ((LOG_GETSTATUS(MIS_PQ110)) == (0))) {
        PQ110_CANBESTARTED = TRUE;
        DIA_DAVIS_HOWTOBEPEON_SIDEQUEST();
        DAVIS_SLD_SURPRISED = TRUE;
    };
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_WhoaYouMilitia_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_WhoaYouMilitia_03_04");
    PQ110_CANBESTARTED = TRUE;
}

instance DIA_DAVIS_PQ110_STARTING(C_INFO) {
    NPC = 0xcdd3;
    NR = 10;
    CONDITION = DIA_DAVIS_PQ110_STARTING_CONDITION;
    INFORMATION = DIA_DAVIS_PQ110_STARTING_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_DAVIS_PQ110_STARTING_CONDITION() {
    if ((((((PEON_DAVIS) == (TRUE)) && ((KAPITEL) >= (3))) && ((PQ110_CANBESTARTED) == (TRUE))) && ((PEON_SECONDTIME) == (FALSE))) && ((LOG_GETSTATUS(MIS_PQ110)) == (0))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_PQ110_STARTING_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_PQ110_Starting_03_01");
    DIA_DAVIS_HOWTOBEPEON_SIDEQUEST();
}

instance DIA_DAVIS_TEACH(C_INFO) {
    NPC = 0xcdd3;
    NR = 1;
    CONDITION = DIA_DAVIS_TEACH_CONDITION;
    INFORMATION = DIA_DAVIS_TEACH_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Can you teach me something?";
}

func int DIA_DAVIS_TEACH_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x11c2f)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_TEACH_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_TEACH_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_TEACH_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_TEACH_03_03");
    LOG_CREATETOPIC(TOPIC_WORK_DAVIS, LOG_NOTE);
    AI_LOGENTRY(TOPIC_WORK_DAVIS, LOG_CITYTEACHER_DAVIS);
}

instance DIA_DAVIS_TRAIN_PICKLOCK2(C_INFO) {
    NPC = 0xcdd3;
    NR = 7;
    CONDITION = DIA_DAVIS_TRAIN_PICKLOCK2_CONDITION;
    INFORMATION = DIA_DAVIS_TRAIN_PICKLOCK2_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = B_BUILDLEARNSTRING2(PRINT_LEARN_PICKLOCK2, 0, 0);
}

func int DIA_DAVIS_TRAIN_PICKLOCK2_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x11c3e)) && ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKLOCK)) == (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_TRAIN_PICKLOCK2_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_TRAIN_Picklock2_15_00");
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKLOCK)) >= (2)) {
        if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SNEAK)) == (0)) {
            PRINTSCREEN(PRINT_LEARNSNEAK, -(1), YPOS_LEVELUP, FONT_SCREEN, 2);
            AI_OUTPUT(SELF, OTHER, "DIA_Davis_TRAIN_Sneak_03_01");
            B_TEACHTHIEFTALENT(VLK_13406_DAVIS, HERO, NPC_TALENT_SNEAK, 1);
            AI_OUTPUT(SELF, OTHER, "DIA_Davis_TRAIN_Sneak_03_02");
        };
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_TRAIN_Picklock2_03_01");
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_TRAIN_Picklock2_03_02");
    };
    B_TEACHTHIEFTALENT(VLK_13406_DAVIS, HERO, NPC_TALENT_PICKLOCK, 2);
}

instance DIA_DAVIS_TRAIN_PICKLOCK3(C_INFO) {
    NPC = 0xcdd3;
    NR = 7;
    CONDITION = DIA_DAVIS_TRAIN_PICKLOCK3_CONDITION;
    INFORMATION = DIA_DAVIS_TRAIN_PICKLOCK3_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = B_BUILDLEARNSTRING2(PRINT_LEARN_PICKLOCK3, 0, 0);
}

func int DIA_DAVIS_TRAIN_PICKLOCK3_CONDITION() {
    if (((NPC_KNOWSINFO(OTHER, 0x11c3e)) && ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKLOCK)) == (2))) && ((DAVIS_CHESTTIER) == (5))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_TRAIN_PICKLOCK3_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_TRAIN_Picklock3_15_00");
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKLOCK)) == (3)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_TRAIN_Picklock3_03_01");
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_TRAIN_Picklock3_03_02");
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_TRAIN_Picklock3_03_03");
    };
    B_TEACHTHIEFTALENT(VLK_13406_DAVIS, HERO, NPC_TALENT_PICKLOCK, 3);
}

instance DIA_DAVIS_IHAVESOMETHING(C_INFO) {
    NPC = 0xcdd3;
    NR = 1;
    CONDITION = DIA_DAVIS_IHAVESOMETHING_CONDITION;
    INFORMATION = DIA_DAVIS_IHAVESOMETHING_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "I have something for sale.";
}

func int DIA_DAVIS_IHAVESOMETHING_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x11c2f)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

var int DAVIS_MARVINGOLD = 0;
var int DAVIS_ITEMINSTANCE = 0;
var int DAVIS_ITEMVALUE = 0;
var int DAVIS_COUNTGOLD = 0;
var int DAVIS_COUNTITEMS = 0;
func void DIA_DAVIS_IHAVESOMETHING_CHOICES() {
    RESERVED_VAR_INT_01 = -(1);
    RESERVED_VAR_INT_02 = 0;
    DAVIS_COUNTGOLD = 0;
    INFO_CLEARCHOICES(0x11c47);
    INFO_ADDCHOICE(0x11c47, DIALOG_BACK, 0x11c51);
    if ((NPC_HASITEMS(OTHER, 0x8c8d)) >= (1)) {
        INFO_ADDCHOICE(0x11c47, "(Sell the wood)", 0x11c55);
    };
    INFO_ADDCHOICE(0x11c47, "(Sell valuables)", 0x11c6e);
}

func void DIA_DAVIS_IHAVESOMETHING_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_IHaveSomething_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_IHaveSomething_03_02");
    DAVIS_MARVINGOLD = NPC_HASITEMS(HERO, 0x859b);
    DIA_DAVIS_IHAVESOMETHING_CHOICES();
}

func void DIA_DAVIS_NOTHINGCOMMENT() {
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_IHaveSomething_03_04");
}

func void DIA_DAVIS_IHAVESOMETHING_BACK() {
    if ((DAVIS_MARVINGOLD) < (NPC_HASITEMS(HERO, 0x859b))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_IHaveSomething_03_03");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_IHaveSomething_03_04");
    INFO_CLEARCHOICES(0x11c47);
}

func void DIA_DAVIS_IHAVESOMETHING_AMMOUNT() {
    INFO_CLEARCHOICES(0x11c47);
    MAX = NPC_HASITEMS(HERO, RESERVED_VAR_INT_01);
    ALL_STRING = CS4(DIALOG_ALL, " (", I2S(MAX), ")");
    INFO_ADDCHOICE(0x11c47, ALL_STRING, 0x11c7e);
    INFO_ADDCHOICE(0x11c47, CHOICE_NUMBER_25, 0x11c80);
    INFO_ADDCHOICE(0x11c47, CHOICE_NUMBER_10, 0x11c82);
    INFO_ADDCHOICE(0x11c47, CHOICE_NUMBER_5, 0x11c84);
    INFO_ADDCHOICE(0x11c47, CHOICE_NUMBER_1, 0x11c86);
    INFO_ADDCHOICE(0x11c47, DIALOG_BACK, 0x11c87);
}

var int DIA_DAVIS_IHAVESOMETHING_AMMOUNT.MAX = 0;
var string DIA_DAVIS_IHAVESOMETHING_AMMOUNT.ALL_STRING = "";
func void DIA_DAVIS_IHAVESOMETHING_WOOD() {
    RESERVED_VAR_INT_01 = 0x8c8d;
    RESERVED_VAR_INT_02 = VALUE_WOOD;
    DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
}

var int MAXGOLDRING = 0;
var int MAXGOLDNECKLACE = 0;
var int MAXGOLDCANDLEHOLDER = 0;
var int MAXGOLDPLATE = 0;
var int MAXGOLDCUP = 0;
var int MAXGOLDCHALICE = 0;
var int MAXSILVERRING = 0;
var int MAXSILVERNECKLACE = 0;
var int MAXSILVERCANDLEHOLDER = 0;
var int MAXSILVERPLATE = 0;
var int MAXSILVERCUP = 0;
var int MAXSILVERCHALICE = 0;
var int COINGOLDRING = 0;
var int COINGOLDNECKLACE = 0;
var int COINGOLDCANDLEHOLDER = 0;
var int COINGOLDPLATE = 0;
var int COINGOLDCUP = 0;
var int COINGOLDCHALICE = 0;
var int COINSILVERRING = 0;
var int COINSILVERNECKLACE = 0;
var int COINSILVERCANDLEHOLDER = 0;
var int COINSILVERPLATE = 0;
var int COINSILVERCUP = 0;
var int COINSILVERCHALICE = 0;
func void DIA_DAVIS_IHAVESOMETHING_VALUABLES() {
    MAXGOLDRING = NPC_HASITEMS(HERO, 0x85a4);
    MAXGOLDNECKLACE = NPC_HASITEMS(HERO, 0x859e);
    MAXGOLDCANDLEHOLDER = NPC_HASITEMS(HERO, 0x859d);
    MAXGOLDPLATE = NPC_HASITEMS(HERO, 0x85a2);
    MAXGOLDCUP = NPC_HASITEMS(HERO, 0x85a3);
    MAXGOLDCHALICE = NPC_HASITEMS(HERO, 0x85a7);
    MAXSILVERRING = NPC_HASITEMS(HERO, 0x859f);
    MAXSILVERNECKLACE = NPC_HASITEMS(HERO, 0x85ad);
    MAXSILVERCANDLEHOLDER = NPC_HASITEMS(HERO, 0x85ac);
    MAXSILVERPLATE = NPC_HASITEMS(HERO, 0x85a1);
    MAXSILVERCUP = NPC_HASITEMS(HERO, 0x85a0);
    MAXSILVERCHALICE = NPC_HASITEMS(HERO, 0x85a5);
    SEXWITHRAHELA = NPC_HASITEMS(HERO, 0x85a8);
    SEXWITHRAHELACHECK = NPC_HASITEMS(HERO, 0x85a6);
    COINGOLDRING = 0;
    COINGOLDNECKLACE = 0;
    COINGOLDCANDLEHOLDER = 0;
    COINGOLDPLATE = 0;
    COINGOLDCUP = 0;
    COINGOLDCHALICE = 0;
    COINSILVERRING = 0;
    COINSILVERNECKLACE = 0;
    COINSILVERCANDLEHOLDER = 0;
    COINSILVERPLATE = 0;
    COINSILVERCUP = 0;
    COINSILVERCHALICE = 0;
    ARAXOS_LOSTGUILDREPUTATION = 0;
    MILITIA_LOSTGUILDREPUTATION = 0;
    DAVIS_COUNTITEMS = (((((((((((((MAXGOLDRING) + (MAXGOLDNECKLACE)) + (MAXGOLDCANDLEHOLDER)) + (MAXGOLDPLATE)) + (MAXGOLDCUP)) + (MAXGOLDCHALICE)) + (MAXSILVERRING)) + (MAXSILVERNECKLACE)) + (MAXSILVERCANDLEHOLDER)) + (MAXSILVERPLATE)) + (MAXSILVERCUP)) + (MAXSILVERCHALICE)) + (SEXWITHRAHELA)) + (SEXWITHRAHELACHECK);
    RESERVED_VAR_INT_01 = -(1);
    RESERVED_VAR_INT_02 = 0;
    RESERVED_VAR_STRING_01 = CS4(DIALOG_ALL, RESERVED_CONST_STRING_19, I2S(SEXWITHRAHELA), RESERVED_CONST_STRING_20);
    RESERVED_VAR_STRING_02 = CS4(DIALOG_ALL, RESERVED_CONST_STRING_19, I2S(SEXWITHRAHELACHECK), RESERVED_CONST_STRING_20);
    INFO_CLEARCHOICES(0x11c47);
    if ((NPC_HASITEMS(OTHER, 0x85a4)) >= (1)) {
        INFO_ADDCHOICE(0x11c47, MISCNAME_GOLDRING, 0x11c72);
    };
    if ((NPC_HASITEMS(OTHER, 0x859e)) >= (1)) {
        INFO_ADDCHOICE(0x11c47, MISCNAME_GOLDNECKLACE, 0x11c73);
    };
    if ((NPC_HASITEMS(OTHER, 0x859d)) >= (1)) {
        INFO_ADDCHOICE(0x11c47, MISCNAME_GOLDCANDLEHOLDER, 0x11c74);
    };
    if ((NPC_HASITEMS(OTHER, 0x85a2)) >= (1)) {
        INFO_ADDCHOICE(0x11c47, MISCNAME_GOLDPLATE, 0x11c75);
    };
    if ((NPC_HASITEMS(OTHER, 0x85a3)) >= (1)) {
        INFO_ADDCHOICE(0x11c47, MISCNAME_GOLDCUP, 0x11c76);
    };
    if ((NPC_HASITEMS(OTHER, 0x85a7)) >= (1)) {
        INFO_ADDCHOICE(0x11c47, MISCNAME_GOLDCHALICE, 0x11c77);
    };
    if ((NPC_HASITEMS(OTHER, 0x85a8)) >= (1)) {
        INFO_ADDCHOICE(0x11c47, MISCNAME_GOLDCHEST, 0x975);
    };
    if ((NPC_HASITEMS(OTHER, 0x859f)) >= (1)) {
        INFO_ADDCHOICE(0x11c47, MISCNAME_SILVERRING, 0x11c78);
    };
    if ((NPC_HASITEMS(OTHER, 0x85ad)) >= (1)) {
        INFO_ADDCHOICE(0x11c47, MISCNAME_SILVERNECKLACE, 0x11c79);
    };
    if ((NPC_HASITEMS(OTHER, 0x85ac)) >= (1)) {
        INFO_ADDCHOICE(0x11c47, MISCNAME_SILVERCANDLEHOLDER, 0x11c7a);
    };
    if ((NPC_HASITEMS(OTHER, 0x85a1)) >= (1)) {
        INFO_ADDCHOICE(0x11c47, MISCNAME_SILVERPLATE, 0x11c7b);
    };
    if ((NPC_HASITEMS(OTHER, 0x85a0)) >= (1)) {
        INFO_ADDCHOICE(0x11c47, MISCNAME_SILVERCUP, 0x11c7c);
    };
    if ((NPC_HASITEMS(OTHER, 0x85a5)) >= (1)) {
        INFO_ADDCHOICE(0x11c47, MISCNAME_SILVERCHALICE, 0x11c7d);
    };
    if ((NPC_HASITEMS(OTHER, 0x85a6)) >= (1)) {
        INFO_ADDCHOICE(0x11c47, MISCNAME_JEWELERYCHEST, 0x976);
    };
    ALL_STRING_GOLD = CS4(DIALOG_ALL, " (", I2S(DAVIS_COUNTITEMS), ")");
    INFO_ADDCHOICE(0x11c47, ALL_STRING_GOLD, 0x11c70);
    INFO_ADDCHOICE(0x11c47, DIALOG_BACK, 0x11c4e);
}

var string DIA_DAVIS_IHAVESOMETHING_VALUABLES.ALL_STRING_GOLD = "";
func void DIA_DAVIS_IHAVESOMETHING_VALUABLES_EVERYTHING() {
    MAXGOLDRING = NPC_HASITEMS(HERO, 0x85a4);
    MAXGOLDNECKLACE = NPC_HASITEMS(HERO, 0x859e);
    MAXGOLDCANDLEHOLDER = NPC_HASITEMS(HERO, 0x859d);
    MAXGOLDPLATE = NPC_HASITEMS(HERO, 0x85a2);
    MAXGOLDCUP = NPC_HASITEMS(HERO, 0x85a3);
    MAXGOLDCHALICE = NPC_HASITEMS(HERO, 0x85a7);
    MAXSILVERRING = NPC_HASITEMS(HERO, 0x859f);
    MAXSILVERNECKLACE = NPC_HASITEMS(HERO, 0x85ad);
    MAXSILVERCANDLEHOLDER = NPC_HASITEMS(HERO, 0x85ac);
    MAXSILVERPLATE = NPC_HASITEMS(HERO, 0x85a1);
    MAXSILVERCUP = NPC_HASITEMS(HERO, 0x85a0);
    MAXSILVERCHALICE = NPC_HASITEMS(HERO, 0x85a5);
    SEXWITHRAHELA = NPC_HASITEMS(HERO, 0x85a8);
    SEXWITHRAHELACHECK = NPC_HASITEMS(HERO, 0x85a6);
    COINGOLDRING = (MAXGOLDRING) * (VALUE_GOLDRING);
    COINGOLDNECKLACE = (MAXGOLDNECKLACE) * (VALUE_GOLDNECKLACE);
    COINGOLDCANDLEHOLDER = (MAXGOLDCANDLEHOLDER) * (VALUE_GOLDCANDLEHOLDER);
    COINGOLDPLATE = (MAXGOLDPLATE) * (VALUE_GOLDPLATE);
    COINGOLDCUP = (MAXGOLDCUP) * (VALUE_GOLDCUP);
    COINGOLDCHALICE = (MAXGOLDCHALICE) * (VALUE_GOLDCHALICE);
    COINSILVERRING = (MAXSILVERRING) * (VALUE_SILVERRING);
    COINSILVERNECKLACE = (MAXSILVERNECKLACE) * (VALUE_SILVERNECKLACE);
    COINSILVERCANDLEHOLDER = (MAXSILVERCANDLEHOLDER) * (VALUE_SILVERCANDLEHOLDER);
    COINSILVERPLATE = (MAXSILVERPLATE) * (VALUE_SILVERPLATE);
    COINSILVERCUP = (MAXSILVERCUP) * (VALUE_SILVERCUP);
    COINSILVERCHALICE = (MAXSILVERCHALICE) * (VALUE_SILVERCHALICE);
    ARAXOS_LOSTGUILDREPUTATION = (SEXWITHRAHELA) * (VALUE_GOLDCHEST);
    MILITIA_LOSTGUILDREPUTATION = (SEXWITHRAHELACHECK) * (VALUE_JEWELERYCHEST);
    DAVIS_COUNTGOLD = (((((((((((((COINGOLDRING) + (COINGOLDNECKLACE)) + (COINGOLDCANDLEHOLDER)) + (COINGOLDPLATE)) + (COINGOLDCUP)) + (COINGOLDCHALICE)) + (COINSILVERRING)) + (COINSILVERNECKLACE)) + (COINSILVERCANDLEHOLDER)) + (COINSILVERPLATE)) + (COINSILVERCUP)) + (COINSILVERCHALICE)) + (ARAXOS_LOSTGUILDREPUTATION)) + (MILITIA_LOSTGUILDREPUTATION);
    DAVIS_COUNTGOLDFORFINALPRESENT = ((DAVIS_COUNTGOLDFORFINALPRESENT) + ((DAVIS_COUNTGOLD) / (2))) + ((DAVIS_COUNTGOLD) / (4));
    if ((NPC_HASITEMS(OTHER, 0x85a4)) >= (1)) {
        B_GIVEINVITEMS(OTHER, SELF, 0x85a4, MAXGOLDRING);
    };
    if ((NPC_HASITEMS(OTHER, 0x859e)) >= (1)) {
        B_GIVEINVITEMS(OTHER, SELF, 0x859e, MAXGOLDNECKLACE);
    };
    if ((NPC_HASITEMS(OTHER, 0x859d)) >= (1)) {
        B_GIVEINVITEMS(OTHER, SELF, 0x859d, MAXGOLDCANDLEHOLDER);
    };
    if ((NPC_HASITEMS(OTHER, 0x85a2)) >= (1)) {
        B_GIVEINVITEMS(OTHER, SELF, 0x85a2, MAXGOLDPLATE);
    };
    if ((NPC_HASITEMS(OTHER, 0x85a3)) >= (1)) {
        B_GIVEINVITEMS(OTHER, SELF, 0x85a3, MAXGOLDCUP);
    };
    if ((NPC_HASITEMS(OTHER, 0x85a7)) >= (1)) {
        B_GIVEINVITEMS(OTHER, SELF, 0x85a7, MAXGOLDCHALICE);
    };
    if ((NPC_HASITEMS(OTHER, 0x859f)) >= (1)) {
        B_GIVEINVITEMS(OTHER, SELF, 0x859f, MAXSILVERRING);
    };
    if ((NPC_HASITEMS(OTHER, 0x85ad)) >= (1)) {
        B_GIVEINVITEMS(OTHER, SELF, 0x85ad, MAXSILVERNECKLACE);
    };
    if ((NPC_HASITEMS(OTHER, 0x85ac)) >= (1)) {
        B_GIVEINVITEMS(OTHER, SELF, 0x85ac, MAXSILVERCANDLEHOLDER);
    };
    if ((NPC_HASITEMS(OTHER, 0x85a1)) >= (1)) {
        B_GIVEINVITEMS(OTHER, SELF, 0x85a1, MAXSILVERPLATE);
    };
    if ((NPC_HASITEMS(OTHER, 0x85a0)) >= (1)) {
        B_GIVEINVITEMS(OTHER, SELF, 0x85a0, MAXSILVERCUP);
    };
    if ((NPC_HASITEMS(OTHER, 0x85a5)) >= (1)) {
        B_GIVEINVITEMS(OTHER, SELF, 0x85a5, MAXSILVERCHALICE);
    };
    if ((NPC_HASITEMS(OTHER, 0x85a8)) >= (1)) {
        B_GIVEINVITEMS(OTHER, SELF, 0x85a8, SEXWITHRAHELA);
    };
    if ((NPC_HASITEMS(OTHER, 0x85a6)) >= (1)) {
        B_GIVEINVITEMS(OTHER, SELF, 0x85a6, SEXWITHRAHELACHECK);
    };
    AI_WAIT(SELF, 0x3f000000);
    AI_FUNCTION(SELF, 0x11c71);
    DIA_DAVIS_IHAVESOMETHING_VALUABLES();
}

func void DAVIS_SELLVALUABLES() {
    CREATEINVITEMS(VLK_13406_DAVIS, 0x859b, ((DAVIS_COUNTGOLD) / (2)) + ((DAVIS_COUNTGOLD) / (4)));
    B_GIVEINVITEMS(VLK_13406_DAVIS, HERO, 0x859b, ((DAVIS_COUNTGOLD) / (2)) + ((DAVIS_COUNTGOLD) / (4)));
}

func void DIA_DAVIS_IHAVESOMETHING_VALUABLES_GOLD_RINGS() {
    RESERVED_VAR_INT_01 = 0x85a4;
    RESERVED_VAR_INT_02 = VALUE_GOLDRING;
    DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
}

func void DIA_DAVIS_IHAVESOMETHING_VALUABLES_GOLD_AMULETS() {
    RESERVED_VAR_INT_01 = 0x859e;
    RESERVED_VAR_INT_02 = VALUE_GOLDNECKLACE;
    DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
}

func void DIA_DAVIS_IHAVESOMETHING_VALUABLES_GOLD_CANDLEHOLDER() {
    RESERVED_VAR_INT_01 = 0x859d;
    RESERVED_VAR_INT_02 = VALUE_GOLDCANDLEHOLDER;
    DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
}

func void DIA_DAVIS_IHAVESOMETHING_VALUABLES_GOLD_PLATE() {
    RESERVED_VAR_INT_01 = 0x85a2;
    RESERVED_VAR_INT_02 = VALUE_GOLDPLATE;
    DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
}

func void DIA_DAVIS_IHAVESOMETHING_VALUABLES_GOLD_CUP() {
    RESERVED_VAR_INT_01 = 0x85a3;
    RESERVED_VAR_INT_02 = VALUE_GOLDCUP;
    DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
}

func void DIA_DAVIS_IHAVESOMETHING_VALUABLES_GOLD_CHALICE() {
    RESERVED_VAR_INT_01 = 0x85a7;
    RESERVED_VAR_INT_02 = VALUE_GOLDCHALICE;
    DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
}

func void DIA_DAVIS_IHAVESOMETHING_VALUABLES_SILVER_RINGS() {
    RESERVED_VAR_INT_01 = 0x859f;
    RESERVED_VAR_INT_02 = VALUE_SILVERRING;
    DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
}

func void DIA_DAVIS_IHAVESOMETHING_VALUABLES_SILVER_AMULETS() {
    RESERVED_VAR_INT_01 = 0x85ad;
    RESERVED_VAR_INT_02 = VALUE_SILVERNECKLACE;
    DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
}

func void DIA_DAVIS_IHAVESOMETHING_VALUABLES_SILVER_CANDLEHOLDER() {
    RESERVED_VAR_INT_01 = 0x85ac;
    RESERVED_VAR_INT_02 = VALUE_SILVERCANDLEHOLDER;
    DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
}

func void DIA_DAVIS_IHAVESOMETHING_VALUABLES_SILVER_PLATE() {
    RESERVED_VAR_INT_01 = 0x85a1;
    RESERVED_VAR_INT_02 = VALUE_SILVERPLATE;
    DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
}

func void DIA_DAVIS_IHAVESOMETHING_VALUABLES_SILVER_CUP() {
    RESERVED_VAR_INT_01 = 0x85a0;
    RESERVED_VAR_INT_02 = VALUE_SILVERCUP;
    DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
}

func void DIA_DAVIS_IHAVESOMETHING_VALUABLES_SILVER_CHALICE() {
    RESERVED_VAR_INT_01 = 0x85a5;
    RESERVED_VAR_INT_02 = VALUE_SILVERCHALICE;
    DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
}

func void DIA_DAVIS_IHAVESOMETHING_ALL() {
    if ((NPC_HASITEMS(OTHER, RESERVED_VAR_INT_01)) >= (1)) {
        MAX = NPC_HASITEMS(HERO, RESERVED_VAR_INT_01);
        if (((((((((((((((RESERVED_VAR_INT_01) == (0x85a4)) || ((RESERVED_VAR_INT_01) == (0x859e))) || ((RESERVED_VAR_INT_01) == (0x859d))) || ((RESERVED_VAR_INT_01) == (0x85a2))) || ((RESERVED_VAR_INT_01) == (0x85a3))) || ((RESERVED_VAR_INT_01) == (0x85a7))) || ((RESERVED_VAR_INT_01) == (0x859f))) || ((RESERVED_VAR_INT_01) == (0x85ad))) || ((RESERVED_VAR_INT_01) == (0x85ac))) || ((RESERVED_VAR_INT_01) == (0x85a1))) || ((RESERVED_VAR_INT_01) == (0x85a0))) || ((RESERVED_VAR_INT_01) == (0x85a5))) || ((RESERVED_VAR_INT_01) == (0x85a8))) || ((RESERVED_VAR_INT_01) == (0x85a6))) {
            PRINTD("Kosztownoœci");
            CREATEINVITEMS(SELF, 0x859b, (((MAX) * (RESERVED_VAR_INT_02)) / (2)) + (((MAX) * (RESERVED_VAR_INT_02)) / (4)));
            B_GIVEINVITEMS(SELF, OTHER, 0x859b, (((MAX) * (RESERVED_VAR_INT_02)) / (2)) + (((MAX) * (RESERVED_VAR_INT_02)) / (4)));
            DAVIS_COUNTGOLDFORFINALPRESENT = ((DAVIS_COUNTGOLDFORFINALPRESENT) + (((MAX) * (RESERVED_VAR_INT_02)) / (2))) + (((MAX) * (RESERVED_VAR_INT_02)) / (4));
            DIA_DAVIS_IHAVESOMETHING_VALUABLES();
        } else {
            PRINTD("Drewno");
            CREATEINVITEMS(SELF, 0x859b, ((MAX) * (RESERVED_VAR_INT_02)) * (4));
            B_GIVEINVITEMS(SELF, OTHER, 0x859b, ((MAX) * (RESERVED_VAR_INT_02)) * (4));
            DAVIS_COUNTGOLDFORFINALPRESENT = (DAVIS_COUNTGOLDFORFINALPRESENT) + (((MAX) * (RESERVED_VAR_INT_02)) * (4));
            DIA_DAVIS_IHAVESOMETHING_CHOICES();
        } else {
            /* set_instance(0) */;
        };
    };
    DIA_DAVIS_NOTHINGCOMMENT();
    DIA_DAVIS_IHAVESOMETHING_CHOICES();
}

var int DIA_DAVIS_IHAVESOMETHING_ALL.MAX = 0;
func void DIA_DAVIS_IHAVESOMETHING_25() {
    if ((NPC_HASITEMS(OTHER, RESERVED_VAR_INT_01)) >= (25)) {
        if (((((((((((((((RESERVED_VAR_INT_01) == (0x85a4)) || ((RESERVED_VAR_INT_01) == (0x859e))) || ((RESERVED_VAR_INT_01) == (0x859d))) || ((RESERVED_VAR_INT_01) == (0x85a2))) || ((RESERVED_VAR_INT_01) == (0x85a3))) || ((RESERVED_VAR_INT_01) == (0x85a7))) || ((RESERVED_VAR_INT_01) == (0x859f))) || ((RESERVED_VAR_INT_01) == (0x85ad))) || ((RESERVED_VAR_INT_01) == (0x85ac))) || ((RESERVED_VAR_INT_01) == (0x85a1))) || ((RESERVED_VAR_INT_01) == (0x85a0))) || ((RESERVED_VAR_INT_01) == (0x85a5))) || ((RESERVED_VAR_INT_01) == (0x85a8))) || ((RESERVED_VAR_INT_01) == (0x85a6))) {
            PRINTD("Kosztownoœci");
            CREATEINVITEMS(SELF, 0x859b, (((25) * (RESERVED_VAR_INT_02)) / (2)) + (((25) * (RESERVED_VAR_INT_02)) / (4)));
            B_GIVEINVITEMS(SELF, OTHER, 0x859b, (((25) * (RESERVED_VAR_INT_02)) / (2)) + (((25) * (RESERVED_VAR_INT_02)) / (4)));
            DAVIS_COUNTGOLDFORFINALPRESENT = ((DAVIS_COUNTGOLDFORFINALPRESENT) + (((25) * (RESERVED_VAR_INT_02)) / (2))) + (((25) * (RESERVED_VAR_INT_02)) / (4));
        } else {
            PRINTD("Drewno");
            CREATEINVITEMS(SELF, 0x859b, ((25) * (RESERVED_VAR_INT_02)) * (4));
            B_GIVEINVITEMS(SELF, OTHER, 0x859b, ((25) * (RESERVED_VAR_INT_02)) * (4));
            DAVIS_COUNTGOLDFORFINALPRESENT = (DAVIS_COUNTGOLDFORFINALPRESENT) + (((25) * (RESERVED_VAR_INT_02)) * (4));
        } else {
            DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
        } else {
            /* set_instance(0) */;
        };
    };
    if (((NPC_HASITEMS(OTHER, RESERVED_VAR_INT_01)) >= (1)) && ((NPC_HASITEMS(OTHER, RESERVED_VAR_INT_01)) < (25))) {
        MAX = NPC_HASITEMS(HERO, RESERVED_VAR_INT_01);
        if (((((((((((((((RESERVED_VAR_INT_01) == (0x85a4)) || ((RESERVED_VAR_INT_01) == (0x859e))) || ((RESERVED_VAR_INT_01) == (0x859d))) || ((RESERVED_VAR_INT_01) == (0x85a2))) || ((RESERVED_VAR_INT_01) == (0x85a3))) || ((RESERVED_VAR_INT_01) == (0x85a7))) || ((RESERVED_VAR_INT_01) == (0x859f))) || ((RESERVED_VAR_INT_01) == (0x85ad))) || ((RESERVED_VAR_INT_01) == (0x85ac))) || ((RESERVED_VAR_INT_01) == (0x85a1))) || ((RESERVED_VAR_INT_01) == (0x85a0))) || ((RESERVED_VAR_INT_01) == (0x85a5))) || ((RESERVED_VAR_INT_01) == (0x85a8))) || ((RESERVED_VAR_INT_01) == (0x85a6))) {
            PRINTD("Kosztownoœci");
            CREATEINVITEMS(SELF, 0x859b, (((MAX) * (RESERVED_VAR_INT_02)) / (2)) + (((MAX) * (RESERVED_VAR_INT_02)) / (4)));
            B_GIVEINVITEMS(SELF, OTHER, 0x859b, (((MAX) * (RESERVED_VAR_INT_02)) / (2)) + (((MAX) * (RESERVED_VAR_INT_02)) / (4)));
            DAVIS_COUNTGOLDFORFINALPRESENT = ((DAVIS_COUNTGOLDFORFINALPRESENT) + (((MAX) * (RESERVED_VAR_INT_02)) / (2))) + (((MAX) * (RESERVED_VAR_INT_02)) / (4));
        } else {
            PRINTD("Drewno");
            CREATEINVITEMS(SELF, 0x859b, ((MAX) * (RESERVED_VAR_INT_02)) * (4));
            B_GIVEINVITEMS(SELF, OTHER, 0x859b, ((MAX) * (RESERVED_VAR_INT_02)) * (4));
            DAVIS_COUNTGOLDFORFINALPRESENT = (DAVIS_COUNTGOLDFORFINALPRESENT) + (((MAX) * (RESERVED_VAR_INT_02)) * (4));
        } else {
            DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
        } else {
            /* set_instance(0) */;
        };
    };
    if ((NPC_HASITEMS(OTHER, RESERVED_VAR_INT_01)) == (0)) {
        DIA_DAVIS_NOTHINGCOMMENT();
        DIA_DAVIS_IHAVESOMETHING_CHOICES();
    };
}

var int DIA_DAVIS_IHAVESOMETHING_25.MAX = 0;
func void DIA_DAVIS_IHAVESOMETHING_10() {
    if ((NPC_HASITEMS(OTHER, RESERVED_VAR_INT_01)) >= (10)) {
        if (((((((((((((((RESERVED_VAR_INT_01) == (0x85a4)) || ((RESERVED_VAR_INT_01) == (0x859e))) || ((RESERVED_VAR_INT_01) == (0x859d))) || ((RESERVED_VAR_INT_01) == (0x85a2))) || ((RESERVED_VAR_INT_01) == (0x85a3))) || ((RESERVED_VAR_INT_01) == (0x85a7))) || ((RESERVED_VAR_INT_01) == (0x859f))) || ((RESERVED_VAR_INT_01) == (0x85ad))) || ((RESERVED_VAR_INT_01) == (0x85ac))) || ((RESERVED_VAR_INT_01) == (0x85a1))) || ((RESERVED_VAR_INT_01) == (0x85a0))) || ((RESERVED_VAR_INT_01) == (0x85a5))) || ((RESERVED_VAR_INT_01) == (0x85a8))) || ((RESERVED_VAR_INT_01) == (0x85a6))) {
            PRINTD("Kosztownoœci");
            CREATEINVITEMS(SELF, 0x859b, (((10) * (RESERVED_VAR_INT_02)) / (2)) + (((10) * (RESERVED_VAR_INT_02)) / (4)));
            B_GIVEINVITEMS(SELF, OTHER, 0x859b, (((10) * (RESERVED_VAR_INT_02)) / (2)) + (((10) * (RESERVED_VAR_INT_02)) / (4)));
            DAVIS_COUNTGOLDFORFINALPRESENT = ((DAVIS_COUNTGOLDFORFINALPRESENT) + (((10) * (RESERVED_VAR_INT_02)) / (2))) + (((10) * (RESERVED_VAR_INT_02)) / (4));
        } else {
            PRINTD("Drewno");
            CREATEINVITEMS(SELF, 0x859b, ((10) * (RESERVED_VAR_INT_02)) * (4));
            B_GIVEINVITEMS(SELF, OTHER, 0x859b, ((10) * (RESERVED_VAR_INT_02)) * (4));
            DAVIS_COUNTGOLDFORFINALPRESENT = (DAVIS_COUNTGOLDFORFINALPRESENT) + (((10) * (RESERVED_VAR_INT_02)) * (4));
        } else {
            DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
        } else {
            /* set_instance(0) */;
        };
    };
    if (((NPC_HASITEMS(OTHER, RESERVED_VAR_INT_01)) >= (1)) && ((NPC_HASITEMS(OTHER, RESERVED_VAR_INT_01)) < (10))) {
        MAX = NPC_HASITEMS(HERO, RESERVED_VAR_INT_01);
        if (((((((((((((((RESERVED_VAR_INT_01) == (0x85a4)) || ((RESERVED_VAR_INT_01) == (0x859e))) || ((RESERVED_VAR_INT_01) == (0x859d))) || ((RESERVED_VAR_INT_01) == (0x85a2))) || ((RESERVED_VAR_INT_01) == (0x85a3))) || ((RESERVED_VAR_INT_01) == (0x85a7))) || ((RESERVED_VAR_INT_01) == (0x859f))) || ((RESERVED_VAR_INT_01) == (0x85ad))) || ((RESERVED_VAR_INT_01) == (0x85ac))) || ((RESERVED_VAR_INT_01) == (0x85a1))) || ((RESERVED_VAR_INT_01) == (0x85a0))) || ((RESERVED_VAR_INT_01) == (0x85a5))) || ((RESERVED_VAR_INT_01) == (0x85a8))) || ((RESERVED_VAR_INT_01) == (0x85a6))) {
            PRINTD("Kosztownoœci");
            CREATEINVITEMS(SELF, 0x859b, (((MAX) * (RESERVED_VAR_INT_02)) / (2)) + (((MAX) * (RESERVED_VAR_INT_02)) / (4)));
            B_GIVEINVITEMS(SELF, OTHER, 0x859b, (((MAX) * (RESERVED_VAR_INT_02)) / (2)) + (((MAX) * (RESERVED_VAR_INT_02)) / (4)));
            DAVIS_COUNTGOLDFORFINALPRESENT = ((DAVIS_COUNTGOLDFORFINALPRESENT) + (((MAX) * (RESERVED_VAR_INT_02)) / (2))) + (((MAX) * (RESERVED_VAR_INT_02)) / (4));
        } else {
            PRINTD("Drewno");
            CREATEINVITEMS(SELF, 0x859b, ((MAX) * (RESERVED_VAR_INT_02)) * (4));
            B_GIVEINVITEMS(SELF, OTHER, 0x859b, ((MAX) * (RESERVED_VAR_INT_02)) * (4));
            DAVIS_COUNTGOLDFORFINALPRESENT = (DAVIS_COUNTGOLDFORFINALPRESENT) + (((MAX) * (RESERVED_VAR_INT_02)) * (4));
        } else {
            DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
        } else {
            /* set_instance(0) */;
        };
    };
    if ((NPC_HASITEMS(OTHER, RESERVED_VAR_INT_01)) == (0)) {
        DIA_DAVIS_NOTHINGCOMMENT();
        DIA_DAVIS_IHAVESOMETHING_CHOICES();
    };
}

var int DIA_DAVIS_IHAVESOMETHING_10.MAX = 0;
func void DIA_DAVIS_IHAVESOMETHING_5() {
    if ((NPC_HASITEMS(OTHER, RESERVED_VAR_INT_01)) >= (5)) {
        if (((((((((((((((RESERVED_VAR_INT_01) == (0x85a4)) || ((RESERVED_VAR_INT_01) == (0x859e))) || ((RESERVED_VAR_INT_01) == (0x859d))) || ((RESERVED_VAR_INT_01) == (0x85a2))) || ((RESERVED_VAR_INT_01) == (0x85a3))) || ((RESERVED_VAR_INT_01) == (0x85a7))) || ((RESERVED_VAR_INT_01) == (0x859f))) || ((RESERVED_VAR_INT_01) == (0x85ad))) || ((RESERVED_VAR_INT_01) == (0x85ac))) || ((RESERVED_VAR_INT_01) == (0x85a1))) || ((RESERVED_VAR_INT_01) == (0x85a0))) || ((RESERVED_VAR_INT_01) == (0x85a5))) || ((RESERVED_VAR_INT_01) == (0x85a8))) || ((RESERVED_VAR_INT_01) == (0x85a6))) {
            PRINTD("Kosztownoœci");
            CREATEINVITEMS(SELF, 0x859b, (((5) * (RESERVED_VAR_INT_02)) / (2)) + (((5) * (RESERVED_VAR_INT_02)) / (4)));
            B_GIVEINVITEMS(SELF, OTHER, 0x859b, (((5) * (RESERVED_VAR_INT_02)) / (2)) + (((5) * (RESERVED_VAR_INT_02)) / (4)));
            DAVIS_COUNTGOLDFORFINALPRESENT = ((DAVIS_COUNTGOLDFORFINALPRESENT) + (((5) * (RESERVED_VAR_INT_02)) / (2))) + (((5) * (RESERVED_VAR_INT_02)) / (4));
        } else {
            PRINTD("Drewno");
            CREATEINVITEMS(SELF, 0x859b, ((5) * (RESERVED_VAR_INT_02)) * (4));
            B_GIVEINVITEMS(SELF, OTHER, 0x859b, ((5) * (RESERVED_VAR_INT_02)) * (4));
            DAVIS_COUNTGOLDFORFINALPRESENT = (DAVIS_COUNTGOLDFORFINALPRESENT) + (((5) * (RESERVED_VAR_INT_02)) * (4));
        } else {
            DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
        } else {
            /* set_instance(0) */;
        };
    };
    if (((NPC_HASITEMS(OTHER, RESERVED_VAR_INT_01)) >= (1)) && ((NPC_HASITEMS(OTHER, RESERVED_VAR_INT_01)) < (5))) {
        MAX = NPC_HASITEMS(HERO, RESERVED_VAR_INT_01);
        if (((((((((((((((RESERVED_VAR_INT_01) == (0x85a4)) || ((RESERVED_VAR_INT_01) == (0x859e))) || ((RESERVED_VAR_INT_01) == (0x859d))) || ((RESERVED_VAR_INT_01) == (0x85a2))) || ((RESERVED_VAR_INT_01) == (0x85a3))) || ((RESERVED_VAR_INT_01) == (0x85a7))) || ((RESERVED_VAR_INT_01) == (0x859f))) || ((RESERVED_VAR_INT_01) == (0x85ad))) || ((RESERVED_VAR_INT_01) == (0x85ac))) || ((RESERVED_VAR_INT_01) == (0x85a1))) || ((RESERVED_VAR_INT_01) == (0x85a0))) || ((RESERVED_VAR_INT_01) == (0x85a5))) || ((RESERVED_VAR_INT_01) == (0x85a8))) || ((RESERVED_VAR_INT_01) == (0x85a6))) {
            PRINTD("Kosztownoœci");
            CREATEINVITEMS(SELF, 0x859b, (((MAX) * (RESERVED_VAR_INT_02)) / (2)) + (((MAX) * (RESERVED_VAR_INT_02)) / (4)));
            B_GIVEINVITEMS(SELF, OTHER, 0x859b, (((MAX) * (RESERVED_VAR_INT_02)) / (2)) + (((MAX) * (RESERVED_VAR_INT_02)) / (4)));
            DAVIS_COUNTGOLDFORFINALPRESENT = ((DAVIS_COUNTGOLDFORFINALPRESENT) + (((MAX) * (RESERVED_VAR_INT_02)) / (2))) + (((MAX) * (RESERVED_VAR_INT_02)) / (4));
        } else {
            PRINTD("Drewno");
            CREATEINVITEMS(SELF, 0x859b, ((MAX) * (RESERVED_VAR_INT_02)) * (4));
            B_GIVEINVITEMS(SELF, OTHER, 0x859b, ((MAX) * (RESERVED_VAR_INT_02)) * (4));
            DAVIS_COUNTGOLDFORFINALPRESENT = (DAVIS_COUNTGOLDFORFINALPRESENT) + (((MAX) * (RESERVED_VAR_INT_02)) * (4));
        } else {
            DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
        } else {
            /* set_instance(0) */;
        };
    };
    if ((NPC_HASITEMS(OTHER, RESERVED_VAR_INT_01)) == (0)) {
        DIA_DAVIS_NOTHINGCOMMENT();
        DIA_DAVIS_IHAVESOMETHING_CHOICES();
    };
}

var int DIA_DAVIS_IHAVESOMETHING_5.MAX = 0;
func void DIA_DAVIS_IHAVESOMETHING_1() {
    if ((NPC_HASITEMS(OTHER, RESERVED_VAR_INT_01)) >= (1)) {
        if (((((((((((((((RESERVED_VAR_INT_01) == (0x85a4)) || ((RESERVED_VAR_INT_01) == (0x859e))) || ((RESERVED_VAR_INT_01) == (0x859d))) || ((RESERVED_VAR_INT_01) == (0x85a2))) || ((RESERVED_VAR_INT_01) == (0x85a3))) || ((RESERVED_VAR_INT_01) == (0x85a7))) || ((RESERVED_VAR_INT_01) == (0x859f))) || ((RESERVED_VAR_INT_01) == (0x85ad))) || ((RESERVED_VAR_INT_01) == (0x85ac))) || ((RESERVED_VAR_INT_01) == (0x85a1))) || ((RESERVED_VAR_INT_01) == (0x85a0))) || ((RESERVED_VAR_INT_01) == (0x85a5))) || ((RESERVED_VAR_INT_01) == (0x85a8))) || ((RESERVED_VAR_INT_01) == (0x85a6))) {
            PRINTD("Kosztownoœci");
            CREATEINVITEMS(SELF, 0x859b, ((RESERVED_VAR_INT_02) / (2)) + ((RESERVED_VAR_INT_02) / (4)));
            B_GIVEINVITEMS(SELF, OTHER, 0x859b, ((RESERVED_VAR_INT_02) / (2)) + ((RESERVED_VAR_INT_02) / (4)));
            DAVIS_COUNTGOLDFORFINALPRESENT = ((DAVIS_COUNTGOLDFORFINALPRESENT) + ((RESERVED_VAR_INT_02) / (2))) + ((RESERVED_VAR_INT_02) / (4));
        } else {
            PRINTD("Drewno");
            CREATEINVITEMS(SELF, 0x859b, (RESERVED_VAR_INT_02) * (4));
            B_GIVEINVITEMS(SELF, OTHER, 0x859b, (RESERVED_VAR_INT_02) * (4));
            DAVIS_COUNTGOLDFORFINALPRESENT = (DAVIS_COUNTGOLDFORFINALPRESENT) + ((RESERVED_VAR_INT_02) * (4));
        } else {
            DIA_DAVIS_IHAVESOMETHING_AMMOUNT();
        } else {
            /* set_instance(0) */;
        };
    };
    if ((NPC_HASITEMS(OTHER, RESERVED_VAR_INT_01)) == (0)) {
        DIA_DAVIS_NOTHINGCOMMENT();
        DIA_DAVIS_IHAVESOMETHING_CHOICES();
    };
}

func void DIA_DAVIS_IHAVESOMETHING_AMMOUNT_BACK() {
    if (((((((((((((((RESERVED_VAR_INT_01) == (0x85a4)) || ((RESERVED_VAR_INT_01) == (0x859e))) || ((RESERVED_VAR_INT_01) == (0x859d))) || ((RESERVED_VAR_INT_01) == (0x85a2))) || ((RESERVED_VAR_INT_01) == (0x85a3))) || ((RESERVED_VAR_INT_01) == (0x85a7))) || ((RESERVED_VAR_INT_01) == (0x859f))) || ((RESERVED_VAR_INT_01) == (0x85ad))) || ((RESERVED_VAR_INT_01) == (0x85ac))) || ((RESERVED_VAR_INT_01) == (0x85a1))) || ((RESERVED_VAR_INT_01) == (0x85a0))) || ((RESERVED_VAR_INT_01) == (0x85a5))) || ((RESERVED_VAR_INT_01) == (0x85a8))) || ((RESERVED_VAR_INT_01) == (0x85a6))) {
        DIA_DAVIS_IHAVESOMETHING_VALUABLES();
    };
    DIA_DAVIS_IHAVESOMETHING_CHOICES();
}

instance DIA_DAVIS_PQ110_FINISH(C_INFO) {
    NPC = 0xcdd3;
    NR = 1;
    CONDITION = DIA_DAVIS_PQ110_FINISH_CONDITION;
    INFORMATION = DIA_DAVIS_PQ110_FINISH_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I managed to stop the burglar.";
}

func int DIA_DAVIS_PQ110_FINISH_CONDITION() {
    if ((((PQ110_THIEFKILLEDROBBED) == (TRUE)) && ((NPC_HASITEMS(OTHER, 0x952a)) >= (1))) && ((LOG_GETSTATUS(MIS_PQ110)) == (LOG_RUNNING))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_PQ110_FINISH_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_PQ110_Finish_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_PQ110_Finish_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_PQ110_Finish_15_03");
    B_GIVEINVITEMS(OTHER, SELF, 0x952a, 1);
    B_USEFAKESCROLL();
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_PQ110_Finish_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_PQ110_Finish_03_05");
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, PQ110_REWARD);
    B_GIVEPLAYERXP(XP_PQ110_FINISH);
    LOG_SETSTATUS(_@(MIS_PQ110), TOPIC_PQ110, LOG_SUCCESS);
    AI_LOGENTRY(TOPIC_PQ110, LOG_PQ110_FINISH);
}

instance DIA_DAVIS_Q505_HELP(C_INFO) {
    NPC = 0xcdd3;
    NR = 1;
    CONDITION = DIA_DAVIS_Q505_HELP_CONDITION;
    INFORMATION = DIA_DAVIS_Q505_HELP_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I'm getting ready for a journey, there will probably be some chests there...";
}

func int DIA_DAVIS_Q505_HELP_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q505)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x13974))) {
        if ((PEON_DAVIS) == (TRUE)) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_Q505_HELP_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_Q505_Help_15_01");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_Q505_Help_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_Q505_Help_03_03");
    CREATEINVITEMS(SELF, 0x92d0, 1);
    B_GIVEINVITEMS(SELF, OTHER, 0x92d0, 1);
    AI_RESETFACEANI(SELF);
}

instance DIA_DAVIS_OPENCHEST_FIRST(C_INFO) {
    NPC = 0xcdd3;
    NR = 1;
    CONDITION = DIA_DAVIS_OPENCHEST_FIRST_CONDITION;
    INFORMATION = DIA_DAVIS_OPENCHEST_FIRST_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_DAVIS_OPENCHEST_FIRST_CONDITION() {
    if ((((PEON_DAVIS) == (TRUE)) && ((PEON_DAVIS_DAY) <= ((WLD_GETDAY()) - (1)))) && ((PEON_WHOFIRSTPEON) == (5))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_OPENCHEST_FIRST_INFO() {
    MOB_CREATEITEMS(RESERVED_CONST_STRING_42, 0x9312, 1);
    DAVISCHESTS_TIER1();
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_OpenChest_First_03_01");
    INFO_CLEARCHOICES(0x11c8e);
    INFO_ADDCHOICE(0x11c8e, "You want me to just open it?", 0x11c91);
}

func void DIA_DAVIS_OPENCHEST_FIRST_JUST() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Davis_OpenChest_First_Just_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_OpenChest_First_Just_03_02");
    INFO_CLEARCHOICES(0x11c8e);
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

instance DIA_DAVIS_AFTERCHEST_FIRST(C_INFO) {
    NPC = 0xcdd3;
    NR = 1;
    CONDITION = DIA_DAVIS_AFTERCHEST_FIRST_CONDITION;
    INFORMATION = DIA_DAVIS_AFTERCHEST_FIRST_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_DAVIS_AFTERCHEST_FIRST_CONDITION() {
    if (((((MOB_HASITEMS("DAVIS_CHEST_TIER1", 0x84ca)) == (0)) && ((MOB_HASITEMS("DAVIS_CHEST_TIER1", 0x8ba4)) == (0))) && ((MOB_HASITEMS("DAVIS_CHEST_TIER1", 0x87af)) == (0))) && ((MOB_HASITEMS(RESERVED_CONST_STRING_42, 0x9312)) == (0))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

var int DAVIS_FINISHEDFIRSTCHEST = 0;
var int DAVIS_ANOTHERCHEST_TRY = 0;
func void DIA_DAVIS_AFTERCHEST_FIRST_INFO() {
    DAVIS_FINISHEDFIRSTCHEST = TRUE;
    DAVIS_CHECKHERO();
    DAVISCHESTS_TIER1();
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_AfterChest_First_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_AfterChest_First_03_02");
    B_GIVEPLAYERXP(XP_DAVIS_OPENCHEST);
    AI_RESETFACEANI(SELF);
}

instance DIA_DAVIS_ANOTHERCHEST(C_INFO) {
    NPC = 0xcdd3;
    NR = 1;
    CONDITION = DIA_DAVIS_ANOTHERCHEST_CONDITION;
    INFORMATION = DIA_DAVIS_ANOTHERCHEST_INFO;
    PERMANENT = TRUE;
    IMPORTANT = TRUE;
}

func int DIA_DAVIS_ANOTHERCHEST_CONDITION() {
    if ((((DAVIS_FINISHEDFIRSTCHEST) == (TRUE)) && ((DAVIS_ANOTHERCHEST_TRY) == (FALSE))) && ((DAVIS_CHESTTIER) != (5))) {
        if (((HERO.LEVEL) > (DAVIS_HEROLEVEL)) && ((PEON_DAVIS_DAY) <= ((WLD_GETDAY()) - (1)))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_ANOTHERCHEST_INFO() {
    DAVIS_ANOTHERCHEST_TRY = TRUE;
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_AnotherChest_03_01");
    DAVISCHESTS_CHECKTIER();
    AI_RESETFACEANI(SELF);
}

instance DIA_DAVIS_ANOTHERCHEST_DONE(C_INFO) {
    NPC = 0xcdd3;
    NR = 1;
    CONDITION = DIA_DAVIS_ANOTHERCHEST_DONE_CONDITION;
    INFORMATION = DIA_DAVIS_ANOTHERCHEST_DONE_INFO;
    PERMANENT = TRUE;
    IMPORTANT = TRUE;
}

func int DIA_DAVIS_ANOTHERCHEST_DONE_CONDITION() {
    if (((DAVIS_FINISHEDFIRSTCHEST) == (TRUE)) && ((DAVIS_ANOTHERCHEST_TRY) == (TRUE))) {
        if ((DAVISCHESTS_ISWORKDONE()) == (TRUE)) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_ANOTHERCHEST_DONE_INFO() {
    DAVIS_ANOTHERCHEST_TRY = FALSE;
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_AnotherChest_Done_03_01");
    if ((DAVISCHESTS_ISWORKDONE()) == (TRUE)) {
        DAVISCHESTS_CHECKTIER();
        DAVIS_CHECKHERO();
    };
    B_GIVEPLAYERXP((XP_DAVIS_OPENCHEST) * (DAVIS_CHESTTIER));
    if ((DAVIS_CHESTTIER) == (5)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_AnotherChest_Done_03_02");
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_AnotherChest_Done_03_03");
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_AnotherChest_Done_03_04");
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_AnotherChest_Done_03_05");
    };
    AI_RESETFACEANI(SELF);
}

instance DIA_DAVIS_FINISHPEON(C_INFO) {
    NPC = 0xcdd3;
    NR = 1;
    CONDITION = DIA_DAVIS_FINISHPEON_CONDITION;
    INFORMATION = DIA_DAVIS_FINISHPEON_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_DAVIS_FINISHPEON_CONDITION() {
    if ((((KAPITEL) >= (4)) && ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKLOCK)) == (3))) && ((LOG_GETSTATUS(MIS_PQ110)) == (LOG_SUCCESS))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

var int DAVIS_FINISHPEON = 0;
var int DAVIS_FINISHPEON_DAY = 0;
func void DIA_DAVIS_FINISHPEON_INFO() {
    PEON_SECONDTIME = TRUE;
    DAVIS_FINISHPEON = TRUE;
    DAVIS_FINISHPEON_DAY = WLD_GETDAY();
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_FinishPeon_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_FinishPeon_03_02");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_FinishPeon_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_FinishPeon_03_04");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_FinishPeon_03_05");
    AI_RESETFACEANI(SELF);
    CREATEINVITEMS(SELF, 0x9bca, 1);
    B_GIVEINVITEMS(SELF, OTHER, 0x9bca, 1);
    LOG_CREATETOPIC(TOPIC_WORK_DAVIS, LOG_NOTE);
    AI_LOGENTRY(TOPIC_WORK_DAVIS, LOG_WORK_DAVIS_FINISH);
}

instance DIA_DAVIS_FINALPRESENT(C_INFO) {
    NPC = 0xcdd3;
    NR = 1;
    CONDITION = DIA_DAVIS_FINALPRESENT_CONDITION;
    INFORMATION = DIA_DAVIS_FINALPRESENT_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_DAVIS_FINALPRESENT_CONDITION() {
    if (((DAVIS_FINISHPEON) == (TRUE)) && ((DAVIS_FINISHPEON_DAY) <= ((WLD_GETDAY()) - (1)))) {
        if (((DAVIS_COUNTGOLDFORFINALPRESENT) >= (1000)) && ((PEON_WHOFIRSTPEON) == (5))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_FINALPRESENT_INFO() {
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_FinalPresent_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_FinalPresent_03_02");
    INFO_CLEARCHOICES(0x11ca2);
    INFO_ADDCHOICE(0x11ca2, "I'll take the scrolls.", 0x11ca7);
    INFO_ADDCHOICE(0x11ca2, "I'll take the rune.", 0x11ca8);
}

var int DAVIS_FINALPRESENT = 0;
func void DIA_DAVIS_FINALPRESENT_GIVE() {
    AI_OUTPUT(SELF, OTHER, "DIA_Davis_FinalPresent_03_03");
    if ((DAVIS_FINALPRESENT) == (1)) {
        CREATEINVITEMS(SELF, 0x952a, 7);
    };
    if ((DAVIS_FINALPRESENT) == (2)) {
        CREATEINVITEMS(SELF, 0x94ae, 1);
        B_GIVEINVITEMS(SELF, OTHER, 0x94ae, 1);
    };
    INFO_CLEARCHOICES(0x11ca2);
    AI_RESETFACEANI(SELF);
}

func void DIA_DAVIS_FINALPRESENT_SCROLLS() {
    DAVIS_FINALPRESENT = 1;
    DIA_DAVIS_FINALPRESENT_GIVE();
}

func void DIA_DAVIS_FINALPRESENT_RUNE() {
    DAVIS_FINALPRESENT = 2;
    DIA_DAVIS_FINALPRESENT_GIVE();
}

instance DIA_DAVIS_AMBIENT(C_INFO) {
    NPC = 0xcdd3;
    NR = 998;
    CONDITION = DIA_DAVIS_AMBIENT_CONDITION;
    INFORMATION = DIA_DAVIS_AMBIENT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "What's new?";
}

func int DIA_DAVIS_AMBIENT_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x11c0c)) || (NPC_KNOWSINFO(OTHER, 0x11c10))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_AMBIENT_INFO() {
    B_SAY(OTHER, SELF, "$MARVIN_WhatNew");
    if ((PEON_DAVIS) == (FALSE)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_Ambient_03_01");
    };
    if (((PEON_DAVIS) == (TRUE)) && (!(NPC_KNOWSINFO(OTHER, 0x11ca2)))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_Ambient_03_02");
    };
    if (((PEON_DAVIS) == (TRUE)) && (NPC_KNOWSINFO(OTHER, 0x11ca2))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Davis_Ambient_03_04");
    };
}

instance DIA_DAVIS_PICKPOCKET(C_INFO) {
    NPC = 0xcdd3;
    NR = 900;
    CONDITION = DIA_DAVIS_PICKPOCKET_CONDITION;
    INFORMATION = DIA_DAVIS_PICKPOCKET_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = PICKPOCKET_120;
}

func int DIA_DAVIS_PICKPOCKET_CONDITION() {
    if (((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (1)) && ((SELF.AIVAR[6]) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DAVIS_PICKPOCKET_INFO() {
    INFO_CLEARCHOICES(0x11cac);
    INFO_ADDCHOICE(0x11cac, DIALOG_BACK, 0x11cb0);
    INFO_ADDCHOICE(0x11cac, DIALOG_PICKPOCKET, 0x11caf);
}

func void DIA_DAVIS_PICKPOCKET_DOIT() {
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (3)) {
        CREATEINVITEMS(SELF, 0x84d0, 4);
        B_GIVEINVITEMS(SELF, OTHER, 0x84d0, 4);
        B_PICKPOCKET_AMBIENT_TIER_3();
        SELF.AIVAR[6] = TRUE;
        INFO_CLEARCHOICES(0x11cac);
    };
    AI_PLAYANI(HERO, T_CANNOTTAKE);
    PRINTSCREEN(PRINT_CANTPICKPOCKETTHISPERSON, -(1), -(1), FONT_SCREEN, 4);
    INFO_CLEARCHOICES(0x11cac);
}

func void DIA_DAVIS_PICKPOCKET_BACK() {
    INFO_CLEARCHOICES(0x11cac);
}

