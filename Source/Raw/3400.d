func void BOATREMOVEISLAND_S1() {
    HER = HLP_GETNPC(0xc3ab);
    if ((HLP_GETINSTANCEID(SELF)) == (HLP_GETINSTANCEID(HER))) {
        FADESCREENTOBLACKF(1, 0xee5f, 1000);
    };
}

instance BOATREMOVEISLAND_S1.HER(C_NPC)
func void BOATREMOVEISLAND_FADESCREEN_MOVER() {
    Q305_READYFORSAILCOUNT = (Q305_READYFORSAILCOUNT) + (1);
    Q305_BOATREMOVE = 2;
    WLD_SENDTRIGGER("Q305_MOVER_CORPSEBOAT_ALPHACRATES");
    FF_APPLYONCEEXTGT(0xee60, 0, -(1));
    B_PASSTIME(1);
    B_ENDPRODUCTIONDIALOG();
    HERO.AIVAR[4] = FALSE;
    FADESCREENFROMBLACK(2);
}

func void BOATREMOVEISLAND_COLLISIONCHANGE() {
    if ((CHANGEISLANDBOATCOLLISION) == (0)) {
        PRINTD("Rozpoczynam - BOATREMOVEISLAND_CollisionChange");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("KM_CORPSEBOAT_MOVER");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        MOVPTR2 = MEM_SEARCHVOBBYNAME("KM_ISLAND_READYSHIP_MOVER");
        MOVER2 = MEM_PTRTOINST(MOVPTR2);
        CHANGEVOBCOLLISION("KM_FRIENDISLAND_BOAT", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("KM_FRIENDISLAND_PIRATE", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("KM_FRIENDISLAND_CRATE", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("KM_ISLAND_SHIPREADY", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("KM_CORPSEBOAT_MOVER");
        WLD_SENDTRIGGER("KM_ISLAND_READYSHIP_MOVER");
        CHANGEISLANDBOATCOLLISION = 1;
    };
    if (((((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Skoñczy³em - BOATREMOVEISLAND_CollisionChange");
        CHANGEVOBCOLLISION("KM_FRIENDISLAND_BOAT", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("KM_FRIENDISLAND_PIRATE", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("KM_FRIENDISLAND_CRATE", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("KM_ISLAND_SHIPREADY", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xee60);
        CHANGEISLANDBOATCOLLISION = 0;
    };
}

instance BOATREMOVEISLAND_COLLISIONCHANGE.MOVER1(ZCMOVER)
instance BOATREMOVEISLAND_COLLISIONCHANGE.MOVER2(ZCMOVER)
var int BOATREMOVEISLAND_COLLISIONCHANGE.CHANGEISLANDBOATCOLLISION = 0;
var int BOATREMOVEISLAND_COLLISIONCHANGE.MOVPTR1 = 0;
var int BOATREMOVEISLAND_COLLISIONCHANGE.MOVPTR2 = 0;
