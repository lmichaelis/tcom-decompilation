func void FMQ001_HIDEEVENTS() {
    if (((NS02_SPAWNED) == (TRUE)) && (!(NPC_KNOWSINFO(HERO, 0x11969)))) {
        if (!(NPC_ISDEAD(VLK_11150_LUNATIC))) {
            TELEPORTNPCTOWP(0xcd86, TOT);
            NPC_EXCHANGEROUTINE(VLK_11150_LUNATIC, TOT);
            NS02_HIDDEN = TRUE;
        };
    };
    if (((TRAP_SPAWNGAMEMASTER) == (TRUE)) && ((NPC_KNOWSINFO(HERO, 0x109d5)) == (FALSE))) {
        if ((NPC_ISDEAD(NONE_11288_GAMEMASTER)) == (FALSE)) {
            TELEPORTNPCTOWP(0xcd6c, TOT);
            NPC_EXCHANGEROUTINE(NONE_11288_GAMEMASTER, TOT);
            TRAP_GAMEMASTER_HIDDEN = TRUE;
        };
    };
    if ((TRAP01_SPAWNED) == (TRUE)) {
        if (!(NPC_ISDEAD(NONE_11070_THUG))) {
            AI_TELEPORT(NONE_11070_THUG, TOT2);
            NPC_EXCHANGEROUTINE(NONE_11070_THUG, TOT);
        };
        if (!(NPC_ISDEAD(NONE_11071_THUG))) {
            AI_TELEPORT(NONE_11071_THUG, TOT2);
            NPC_EXCHANGEROUTINE(NONE_11071_THUG, TOT);
        };
        if (!(NPC_ISDEAD(NONE_11072_THUG))) {
            AI_TELEPORT(NONE_11072_THUG, TOT2);
            NPC_EXCHANGEROUTINE(NONE_11072_THUG, TOT);
        };
        TRAP01_HIDDEN = TRUE;
    };
}

func void FMQ001_BRINGBACKEVENTS() {
    if ((NS02_HIDDEN) == (TRUE)) {
        TELEPORTNPCTOWP(0xcd86, VLK_11150_LUNATIC.WP);
        NPC_EXCHANGEROUTINE(VLK_11150_LUNATIC, START);
        NS02_HIDDEN = FALSE;
    };
    if ((TRAP_GAMEMASTER_HIDDEN) == (TRUE)) {
        TELEPORTNPCTOWP(0xcd6c, NONE_11288_GAMEMASTER.WP);
        NPC_EXCHANGEROUTINE(NONE_11288_GAMEMASTER, START);
        TRAP_GAMEMASTER_HIDDEN = FALSE;
    };
    if ((TRAP01_HIDDEN) == (TRUE)) {
        if (!(NPC_ISDEAD(NONE_11070_THUG))) {
            NPC_EXCHANGEROUTINE(NONE_11070_THUG, START);
        };
        if (!(NPC_ISDEAD(NONE_11071_THUG))) {
            NPC_EXCHANGEROUTINE(NONE_11071_THUG, START);
        };
        if (!(NPC_ISDEAD(NONE_11072_THUG))) {
            NPC_EXCHANGEROUTINE(NONE_11072_THUG, START);
        };
    };
}

func void FMQ001_MEETUP() {
    B_STARTOTHERROUTINE(MIL_4041_RECRUIT, "Meeting");
    NPC_REFRESH(MIL_4041_RECRUIT);
    B_STARTOTHERROUTINE(MIL_4042_RECRUIT, "Meeting");
    NPC_REFRESH(MIL_4042_RECRUIT);
}

func void FMQ001_WINSTANGIVESWORD() {
    if ((HERO.HITCHANCE[1]) >= (HERO.HITCHANCE[2])) {
        CREATEINVITEMS(MIL_924_WINSTAN, 0x9a52, 1);
    };
    CREATEINVITEMS(MIL_924_WINSTAN, 0x9a55, 1);
    B_GIVEINVITEMS(MIL_924_WINSTAN, HERO, 0x9a55, 1);
}

var int MARVIN_FMQ001_CURRENTARROW = 0;
var int MARVIN_FMQ001_CURRENTBOLT = 0;
var int MARVIN_FMQ001_CURRENTMANA = 0;
var int MARVIN_FMQ001_CURRENTMAXMANA = 0;
func void FMQ001_REMOVEARROWS() {
    HERO.AIVAR[95] = TRUE;
    HERO.AIVAR[94] = TRUE;
    MIL_4040_RECRUIT.AIVAR[94] = TRUE;
    MIL_4041_RECRUIT.AIVAR[94] = TRUE;
    MIL_4042_RECRUIT.AIVAR[94] = TRUE;
    MIL_4040_RECRUIT.AIVAR[95] = TRUE;
    MIL_4041_RECRUIT.AIVAR[95] = TRUE;
    MIL_4042_RECRUIT.AIVAR[95] = TRUE;
    MARVIN_FMQ001_CURRENTARROW = NPC_HASITEMS(HERO, 0x864f);
    MARVIN_FMQ001_CURRENTBOLT = NPC_HASITEMS(HERO, 0x8650);
    MARVIN_FMQ001_CURRENTMANA = HERO.ATTRIBUTE[2];
    MARVIN_FMQ001_CURRENTMAXMANA = HERO.ATTRIBUTE[3];
    HERO.ATTRIBUTE[2] = 2;
    HERO.ATTRIBUTE[3] = 2;
    if ((NPC_HASITEMS(HERO, 0x864f)) >= (1)) {
        NPC_REMOVEINVITEMS(HERO, 0x864f, MARVIN_FMQ001_CURRENTARROW);
    };
    if ((NPC_HASITEMS(HERO, 0x8650)) >= (1)) {
        NPC_REMOVEINVITEMS(HERO, 0x8650, MARVIN_FMQ001_CURRENTBOLT);
    };
}

func void FMQ001_BRINGBACKARROWS() {
    HERO.AIVAR[95] = FALSE;
    HERO.AIVAR[94] = FALSE;
    MIL_4040_RECRUIT.AIVAR[94] = FALSE;
    MIL_4041_RECRUIT.AIVAR[94] = FALSE;
    MIL_4042_RECRUIT.AIVAR[94] = FALSE;
    MIL_4040_RECRUIT.AIVAR[95] = FALSE;
    MIL_4041_RECRUIT.AIVAR[95] = FALSE;
    MIL_4042_RECRUIT.AIVAR[95] = FALSE;
    HERO.ATTRIBUTE[2] = MARVIN_FMQ001_CURRENTMANA;
    HERO.ATTRIBUTE[3] = MARVIN_FMQ001_CURRENTMAXMANA;
    HERO.ATTRIBUTE[2] = HERO.ATTRIBUTE[3];
    if ((MARVIN_FMQ001_CURRENTARROW) >= (1)) {
        CREATEINVITEMS(HERO, 0x864f, MARVIN_FMQ001_CURRENTARROW);
    };
    if ((MARVIN_FMQ001_CURRENTBOLT) >= (1)) {
        CREATEINVITEMS(HERO, 0x8650, MARVIN_FMQ001_CURRENTBOLT);
    };
}

func void FMQ001_FAKEWALL() {
    FF_APPLYONCEEXTGT(0xf53a, 0, -(1));
}

func void FMQ001_FAKEWALL_APPLY() {
    if ((FMQ001_FAKEWALL_COUNT) == (0)) {
        PRINTD("Rozpoczynam - FMQ001_FakeWall_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("FMQ001_WALL");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        CHANGEVOBCOLLISION("FMQ001_VOB_WALL", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("FMQ001_WALL");
        FMQ001_FAKEWALL_COUNT = 1;
    };
    if (((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Skoñczy³em - FMQ001_FakeWall_Apply");
        CHANGEVOBCOLLISION("FMQ001_VOB_WALL", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xf53a);
        FMQ001_FAKEWALL_COUNT = 0;
    };
}

var int FMQ001_FAKEWALL_APPLY.FMQ001_FAKEWALL_COUNT = 0;
instance FMQ001_FAKEWALL_APPLY.MOVER1(ZCMOVER)
var int FMQ001_FAKEWALL_APPLY.MOVPTR1 = 0;
func void FMQ001_REMOVEPARTYMEMBER() {
    MIL_4040_RECRUIT.AIVAR[15] = FALSE;
    MIL_4041_RECRUIT.AIVAR[15] = FALSE;
    MIL_4042_RECRUIT.AIVAR[15] = FALSE;
    MIL_924_WINSTAN.AIVAR[15] = FALSE;
    MIL_4044_SALL.AIVAR[15] = FALSE;
    MIL_4017_ARWID.AIVAR[15] = FALSE;
    MIL_4001_OKTAV.AIVAR[15] = FALSE;
}

func void FMQ001_WINSTANCAMERA_ENABLE() {
    DIACAM_DISABLE();
    WLD_SENDTRIGGER("KM_NEWBIESTRAININGSTAR");
    TELEPORTNPCTOWP(0x71b, "PARTM3_HERO");
    TELEPORTNPCTOWP(0xccd7, "PARTM3_MEETING_01");
}

func void FMQ001_WINSTANCAMERA_DISABLE() {
    WLD_SENDUNTRIGGER("KM_NEWBIESTRAININGSTAR");
    DIACAM_ENABLE();
    if (NPC_ISDEAD(MIL_4040_RECRUIT)) {
        WLD_INSERTNPC(0xce96, MIL_4040_RECRUIT.WP);
    };
    B_STARTOTHERROUTINE(MIL_4040_RECRUIT, "FightClub");
    NPC_REFRESH(MIL_4040_RECRUIT);
    if (NPC_ISDEAD(MIL_4041_RECRUIT)) {
        WLD_INSERTNPC(0xceaf, MIL_4041_RECRUIT.WP);
    };
    B_STARTOTHERROUTINE(MIL_4041_RECRUIT, "FightClub");
    NPC_REFRESH(MIL_4041_RECRUIT);
    if (NPC_ISDEAD(MIL_4042_RECRUIT)) {
        WLD_INSERTNPC(0xcec5, MIL_4042_RECRUIT.WP);
    };
    B_STARTOTHERROUTINE(MIL_4042_RECRUIT, "FightClub");
    NPC_REFRESH(MIL_4042_RECRUIT);
}

func void FMQ001_SECONDFIGHT() {
    MIL_4040_RECRUIT.AIVAR[15] = TRUE;
    MIL_924_WINSTAN.AIVAR[15] = TRUE;
    MIL_4044_SALL.AIVAR[15] = TRUE;
    MIL_4017_ARWID.AIVAR[15] = TRUE;
    MIL_4001_OKTAV.AIVAR[15] = TRUE;
    HERO.AIVAR[95] = TRUE;
    HERO.AIVAR[94] = TRUE;
    MIL_4041_RECRUIT.AIVAR[94] = TRUE;
    MIL_4042_RECRUIT.AIVAR[94] = TRUE;
    MIL_4041_RECRUIT.AIVAR[96] = -(1);
    MIL_4042_RECRUIT.AIVAR[96] = -(1);
    B_IMMEDIATEATTACKPLAYER(MIL_4041_RECRUIT, AR_NONE);
    B_IMMEDIATEATTACKPLAYER(MIL_4042_RECRUIT, AR_NONE);
    if ((NPC_ISINSTATE(MIL_4041_RECRUIT, 0xf09f)) == (FALSE)) {
        NPC_CLEARAIQUEUE(MIL_4041_RECRUIT);
        AI_SETWALKMODE(MIL_4041_RECRUIT, NPC_RUN);
        AI_TURNTONPC(MIL_4041_RECRUIT, HERO);
        AI_GOTONPC(MIL_4041_RECRUIT, HERO);
    };
    if ((NPC_ISINSTATE(MIL_4042_RECRUIT, 0xf09f)) == (FALSE)) {
        NPC_CLEARAIQUEUE(MIL_4042_RECRUIT);
        AI_SETWALKMODE(MIL_4042_RECRUIT, NPC_RUN);
        AI_TURNTONPC(MIL_4042_RECRUIT, HERO);
        AI_GOTONPC(MIL_4042_RECRUIT, HERO);
    };
}

func void FMQ001_FINALFIGHT() {
    MIL_924_WINSTAN.AIVAR[15] = TRUE;
    MIL_4044_SALL.AIVAR[15] = TRUE;
    MIL_4017_ARWID.AIVAR[15] = TRUE;
    MIL_4001_OKTAV.AIVAR[15] = TRUE;
    HERO.AIVAR[95] = TRUE;
    HERO.AIVAR[94] = TRUE;
    MIL_4040_RECRUIT.AIVAR[94] = TRUE;
    MIL_4041_RECRUIT.AIVAR[94] = TRUE;
    MIL_4042_RECRUIT.AIVAR[94] = TRUE;
    MIL_4040_RECRUIT.AIVAR[96] = -(1);
    MIL_4041_RECRUIT.AIVAR[96] = -(1);
    MIL_4042_RECRUIT.AIVAR[96] = -(1);
    B_IMMEDIATEATTACKPLAYER(MIL_4040_RECRUIT, AR_NONE);
    B_IMMEDIATEATTACKPLAYER(MIL_4041_RECRUIT, AR_NONE);
    B_IMMEDIATEATTACKPLAYER(MIL_4042_RECRUIT, AR_NONE);
    if ((NPC_ISINSTATE(MIL_4040_RECRUIT, 0xf09f)) == (FALSE)) {
        NPC_CLEARAIQUEUE(MIL_4040_RECRUIT);
        AI_SETWALKMODE(MIL_4040_RECRUIT, NPC_RUN);
        AI_TURNTONPC(MIL_4040_RECRUIT, HERO);
        AI_GOTONPC(MIL_4040_RECRUIT, HERO);
    };
    if ((NPC_ISINSTATE(MIL_4041_RECRUIT, 0xf09f)) == (FALSE)) {
        NPC_CLEARAIQUEUE(MIL_4041_RECRUIT);
        AI_SETWALKMODE(MIL_4041_RECRUIT, NPC_RUN);
        AI_TURNTONPC(MIL_4041_RECRUIT, HERO);
        AI_GOTONPC(MIL_4041_RECRUIT, HERO);
    };
    if ((NPC_ISINSTATE(MIL_4042_RECRUIT, 0xf09f)) == (FALSE)) {
        NPC_CLEARAIQUEUE(MIL_4042_RECRUIT);
        AI_SETWALKMODE(MIL_4042_RECRUIT, NPC_RUN);
        AI_TURNTONPC(MIL_4042_RECRUIT, HERO);
        AI_GOTONPC(MIL_4042_RECRUIT, HERO);
    };
}

func void FMQ001_CHANGETRAININGGROUND() {
    FMQ001_INSTRUCTORRUN = 1;
    FMQ001_HIDEEVENTS();
    NPC_EXCHANGEROUTINE(MIL_924_WINSTAN, START);
    B_STARTOTHERROUTINE(MIL_4040_RECRUIT, "Instructor");
    NPC_REFRESH(MIL_4040_RECRUIT);
    B_STARTOTHERROUTINE(MIL_4041_RECRUIT, "Instructor");
    NPC_REFRESH(MIL_4041_RECRUIT);
    B_STARTOTHERROUTINE(MIL_4042_RECRUIT, "Instructor");
    NPC_REFRESH(MIL_4042_RECRUIT);
    WLD_INSERTNPC(0xcede, "PATH3_PATH_35");
}

func void FMQ001_CHECKRECRUITHP() {
    if ((MIL_4040_RECRUIT.ATTRIBUTE[0]) != (MIL_4040_RECRUIT.ATTRIBUTE[1])) {
        MIL_4040_RECRUIT.ATTRIBUTE[0] = MIL_4040_RECRUIT.ATTRIBUTE[1];
    };
    if ((MIL_4041_RECRUIT.ATTRIBUTE[0]) != (MIL_4041_RECRUIT.ATTRIBUTE[1])) {
        MIL_4041_RECRUIT.ATTRIBUTE[0] = MIL_4041_RECRUIT.ATTRIBUTE[1];
    };
    if ((MIL_4042_RECRUIT.ATTRIBUTE[0]) != (MIL_4042_RECRUIT.ATTRIBUTE[1])) {
        MIL_4042_RECRUIT.ATTRIBUTE[0] = MIL_4042_RECRUIT.ATTRIBUTE[1];
    };
    if ((HERO.ATTRIBUTE[0]) != (HERO.ATTRIBUTE[1])) {
        HERO.ATTRIBUTE[0] = HERO.ATTRIBUTE[1];
    };
}

func void FMQ001_RUNNINGINTHE90S() {
    B_STARTOTHERROUTINE(MIL_4040_RECRUIT, "Run");
    NPC_REFRESH(MIL_4040_RECRUIT);
    B_STARTOTHERROUTINE(MIL_4041_RECRUIT, "Run");
    NPC_REFRESH(MIL_4041_RECRUIT);
    B_STARTOTHERROUTINE(MIL_4042_RECRUIT, "Run");
    NPC_REFRESH(MIL_4042_RECRUIT);
    FMQ001_INSTRUCTORRUN = 2;
    FMQ001_RUNNINGTOTREE = TRUE;
}

func void FMQ001_TREECAMERA() {
    DIACAM_DISABLE();
    WLD_SENDTRIGGER("KM_TREE");
    WLD_SENDTRIGGER("MILITIA_TARGET");
}

func void FMQ001_TREESHOOT() {
    WLD_SENDUNTRIGGER("KM_TREE");
    DIACAM_ENABLE();
    CREATEINVITEMS(HERO, 0x9b26, 1);
    CREATEINVITEMS(HERO, 0x8650, 10);
    B_STARTOTHERROUTINE(MIL_4040_RECRUIT, "Shoot");
    NPC_REFRESH(MIL_4040_RECRUIT);
    B_STARTOTHERROUTINE(MIL_4041_RECRUIT, "Shoot");
    NPC_REFRESH(MIL_4041_RECRUIT);
    B_STARTOTHERROUTINE(MIL_4042_RECRUIT, "Shoot");
    NPC_REFRESH(MIL_4042_RECRUIT);
    NPC_EXCHANGEROUTINE(MIL_4043_INSTRUCTOR, "Shoot");
    CREATEINVITEMS(MIL_4040_RECRUIT, 0x9b26, 1);
    CREATEINVITEMS(MIL_4040_RECRUIT, 0x8650, 25);
    AI_EQUIPBESTRANGEDWEAPON(MIL_4040_RECRUIT);
    CREATEINVITEMS(MIL_4041_RECRUIT, 0x9b26, 1);
    CREATEINVITEMS(MIL_4041_RECRUIT, 0x8650, 25);
    AI_EQUIPBESTRANGEDWEAPON(MIL_4041_RECRUIT);
    CREATEINVITEMS(MIL_4042_RECRUIT, 0x9b26, 1);
    CREATEINVITEMS(MIL_4042_RECRUIT, 0x8650, 25);
    AI_EQUIPBESTRANGEDWEAPON(MIL_4042_RECRUIT);
}

func void FMQ001_STARTRACE() {
    FMQ001_RECRUIT01FMQ001_RACEDONE = FALSE;
    FMQ001_RECRUIT02FMQ001_RACEDONE = FALSE;
    FMQ001_RECRUIT03FMQ001_RACEDONE = FALSE;
    B_STARTOTHERROUTINE(MIL_4040_RECRUIT, "Race");
    NPC_REFRESH(MIL_4040_RECRUIT);
    B_STARTOTHERROUTINE(MIL_4041_RECRUIT, "Race");
    NPC_REFRESH(MIL_4041_RECRUIT);
    B_STARTOTHERROUTINE(MIL_4042_RECRUIT, "Race");
    NPC_REFRESH(MIL_4042_RECRUIT);
}

func void FMQ001_REFRESHRECRUITSAFTERSHOOTING() {
    B_STARTOTHERROUTINE(MIL_4040_RECRUIT, "AfterShoot");
    NPC_REFRESH(MIL_4040_RECRUIT);
    B_STARTOTHERROUTINE(MIL_4041_RECRUIT, "AfterShoot");
    NPC_REFRESH(MIL_4041_RECRUIT);
    B_STARTOTHERROUTINE(MIL_4042_RECRUIT, "AfterShoot");
    NPC_REFRESH(MIL_4042_RECRUIT);
}

func void FMQ001_TELEPORTWINSTAN() {
    if ((FMQ001_RACEDONE) == (0)) {
        if ((FMQ001_MARVINFINISHRACE) == (TRUE)) {
            FMQ001_RACEDONE = 2;
        } else {
            FMQ001_RACEDONE = 1;
        } else {
            B_STARTOTHERROUTINE(MIL_924_WINSTAN, "AfterRace");
        } else {
            NPC_REFRESH(MIL_924_WINSTAN);
        } else {
            TELEPORTNPCTOWP(0xccd7, MIL_924_WINSTAN.WP);
        } else {
            PRINTD("Winstan zmieni³ RTN!");
        };
    };
}

func void FMQ001_CHANGERECRUITSRTN() {
    if (HLP_ISVALIDNPC(MIL_4040_RECRUIT)) {
        B_STARTOTHERROUTINE(MIL_4040_RECRUIT, TOT);
        NPC_REFRESH(MIL_4040_RECRUIT);
        TELEPORTNPCTOWP(0xce96, MIL_4040_RECRUIT.WP);
    };
    if (HLP_ISVALIDNPC(MIL_4041_RECRUIT)) {
        B_STARTOTHERROUTINE(MIL_4041_RECRUIT, TOT);
        NPC_REFRESH(MIL_4041_RECRUIT);
        TELEPORTNPCTOWP(0xceaf, MIL_4041_RECRUIT.WP);
    };
    if (HLP_ISVALIDNPC(MIL_4042_RECRUIT)) {
        B_STARTOTHERROUTINE(MIL_4042_RECRUIT, TOT);
        NPC_REFRESH(MIL_4042_RECRUIT);
        TELEPORTNPCTOWP(0xcec5, MIL_4042_RECRUIT.WP);
    };
}

func void FMQ001_TELEPORTTORECRUITS() {
    FMQ001_INSTRUCTORRUN_TELEPORT = FALSE;
    if (HLP_ISVALIDNPC(MIL_4040_RECRUIT)) {
        TELEPORTNPCTOWP(0xce96, "PARTM3_FIGHTCLUB_RECRUIT1");
        AI_TELEPORTALWAYS(MIL_4040_RECRUIT, "PARTM3_FIGHTCLUB_RECRUIT1", TRUE);
        NPC_REFRESH(MIL_4040_RECRUIT);
    };
    if (HLP_ISVALIDNPC(MIL_4041_RECRUIT)) {
        TELEPORTNPCTOWP(0xceaf, "PARTM3_FIGHTCLUB_RECRUIT2");
        AI_TELEPORTALWAYS(MIL_4041_RECRUIT, "PARTM3_FIGHTCLUB_RECRUIT2", TRUE);
        NPC_REFRESH(MIL_4041_RECRUIT);
    };
    if (HLP_ISVALIDNPC(MIL_4042_RECRUIT)) {
        TELEPORTNPCTOWP(0xcec5, "PARTM3_FIGHTCLUB_RECRUIT3");
        AI_TELEPORTALWAYS(MIL_4042_RECRUIT, "PARTM3_FIGHTCLUB_RECRUIT3", TRUE);
        NPC_REFRESH(MIL_4042_RECRUIT);
    };
    TELEPORTNPCTOWP(0x71b, "PARTM3_FIGHTCLUB_02");
    FADESCREENFROMBLACK(1);
    HERO.AIVAR[4] = FALSE;
}

func void FMQ001_TELEPORTTOINSTRUCTOR() {
    FMQ001_INSTRUCTORRUN_TELEPORT = FALSE;
    if (HLP_ISVALIDNPC(MIL_4040_RECRUIT)) {
        TELEPORTNPCTOWP(0xce96, "PART3_RECRUIT_01");
        AI_TELEPORTALWAYS(MIL_4040_RECRUIT, "PART3_RECRUIT_01", TRUE);
        NPC_REFRESH(MIL_4040_RECRUIT);
    };
    if (HLP_ISVALIDNPC(MIL_4041_RECRUIT)) {
        TELEPORTNPCTOWP(0xceaf, "PART3_RECRUIT_02");
        AI_TELEPORTALWAYS(MIL_4041_RECRUIT, "PART3_RECRUIT_02", TRUE);
        NPC_REFRESH(MIL_4041_RECRUIT);
    };
    if (HLP_ISVALIDNPC(MIL_4042_RECRUIT)) {
        TELEPORTNPCTOWP(0xcec5, "PART3_RECRUIT_03");
        AI_TELEPORTALWAYS(MIL_4042_RECRUIT, "PART3_RECRUIT_03", TRUE);
        NPC_REFRESH(MIL_4042_RECRUIT);
    };
    if (HLP_ISVALIDNPC(MIL_4043_INSTRUCTOR)) {
        TELEPORTNPCTOWP(0xcede, "PATH3_PATH_40");
        AI_TELEPORTALWAYS(MIL_4043_INSTRUCTOR, "PATH3_PATH_40", TRUE);
        NPC_REFRESH(MIL_4043_INSTRUCTOR);
    };
    TELEPORTNPCTOWP(0x71b, "PATH3_PATH_41");
    FADESCREENFROMBLACK(1);
    HERO.AIVAR[4] = FALSE;
}

