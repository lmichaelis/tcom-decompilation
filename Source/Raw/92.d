const int _KMLIBHNDL = 0;
func int KMLIB_GETPROCADDRESS(var string LPPROCNAME) {
    ADR = GETPROCADDRESS(_KMLIBHNDL, LPPROCNAME);
    if ((ADR) == (0)) {
        LASTERRORCODE = INTTOSTRING(WIN_GETLASTERROR());
        MEM_FATAL(CS4(ERROR_KMLIB_GETPROCADDRESS, LASTERRORCODE, " func name: ", LPPROCNAME));
    };
    return ADR;
}

var int KMLIB_GETPROCADDRESS.ADR = 0;
var string KMLIB_GETPROCADDRESS.LASTERRORCODE = "";
func void INIT_KMLIB() {
    _KMLIBHNDL = LOADLIBRARY("KmLib.dll");
    if ((_KMLIBHNDL) == (0)) {
        LASTERRORCODE = WIN_GETLASTERROR();
        LASTERRORCODETEXT = INTTOSTRING(LASTERRORCODE);
        if ((LASTERRORCODE) == (2)) {
            MEM_FATAL(CS2(ERROR_KMLIB_2, LASTERRORCODETEXT));
        } else if ((LASTERRORCODE) == (126)) {
            MEM_FATAL(CS2(ERROR_KMLIB_126, LASTERRORCODETEXT));
        } else {
            MEM_FATAL(CS2(ERROR_KMLIB_OTHER, LASTERRORCODETEXT));
        };
    };
}

var int INIT_KMLIB.LASTERRORCODE = 0;
var string INIT_KMLIB.LASTERRORCODETEXT = "";
func void KMLIB_INITIALIZEMENU() {
    _KMLIB_INITIALIZEMENU_PTR = KMLIB_GETPROCADDRESS("InitializeMenu");
    CALL__CDECL(_KMLIB_INITIALIZEMENU_PTR);
}

const int KMLIB_INITIALIZEMENU._KMLIB_INITIALIZEMENU_PTR = 0;
func void KMLIB_INITIALIZEGAMESTART() {
    _KMLIB_INITIALIZEGAMESTART_PTR = KMLIB_GETPROCADDRESS("InitializeGamestart");
    CALL__CDECL(_KMLIB_INITIALIZEGAMESTART_PTR);
}

const int KMLIB_INITIALIZEGAMESTART._KMLIB_INITIALIZEGAMESTART_PTR = 0;
func void KMLIB_INITIALIZEALWAYS() {
    _KMLIB_INITIALIZEALWAYS_PTR = KMLIB_GETPROCADDRESS("InitializeAlways");
    CALL__CDECL(_KMLIB_INITIALIZEALWAYS_PTR);
}

const int KMLIB_INITIALIZEALWAYS._KMLIB_INITIALIZEALWAYS_PTR = 0;
