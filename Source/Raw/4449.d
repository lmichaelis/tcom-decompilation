func void EVT_Q503_TRYOPENDOOR() {
    HERO.AIVAR[4] = TRUE;
    WLD_SENDTRIGGER("Q503_MOVER_TRYOPENGATE");
    MOB_CHANGEFOCUSNAME("Q503_TRYOPENDOOR", "MOBNAME_NOTHING");
    AI_WAIT(HERO, 0x40bccccd);
    AI_USEMOB(HERO, NPC_GETDETECTEDMOB(HERO), -(1));
    AI_OUTPUT(HERO, HERO, "DIA_MARVIN_TRYOPENGATE_15_01");
    AI_FUNCTION(HERO, 0x166c7);
}

func void Q503_TRYOPENGATECUTSCENE_END() {
    Q503_GOTOVOLFZACKE = 7;
    B_LOGENTRY(TOPIC_Q503, LOG_Q503_FOUNDDOOR);
    HERO.AIVAR[4] = FALSE;
    WLD_SENDTRIGGER("VOLFZACKGATE");
    FF_APPLYONCEEXTGT(0xf7de, 0, -(1));
    B_STARTOTHERROUTINE(KDW_203_RIORDIAN, "Q503_WAITOUTSIDE");
    NPC_REFRESH(KDW_203_RIORDIAN);
    TELEPORTNPCTOWP(0xdd28, KDW_203_RIORDIAN.WP);
    B_STARTOTHERROUTINE(NONE_202_KESSEL, "Q503_WAITOUTSIDE");
    Q503_KESSEL_RTNCHECK = 8;
    NPC_REFRESH(NONE_202_KESSEL);
    TELEPORTNPCTOWP(0xdd70, NONE_202_KESSEL.WP);
}

