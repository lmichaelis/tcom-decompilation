var int PRAYDAYADANOS = 0;
func void PRAY_ADANOS_S1() {
    HER = HLP_GETNPC(0xc3ab);
    if ((HLP_GETINSTANCEID(SELF)) == (HLP_GETINSTANCEID(HER))) {
        SELF.AIVAR[4] = TRUE;
        PLAYER_MOBSI_PRODUCTION = MOBSI_PRAY_ADANOS;
        AI_PROCESSINFOS(HER);
        ACH_14_ADANOS = TRUE;
    };
}

instance PRAY_ADANOS_S1.HER(C_NPC)
instance PC_PRAY_ADANOS_END(C_INFO) {
    NPC = 0xc3ab;
    NR = 999;
    CONDITION = PC_PRAY_ADANOS_END_CONDITION;
    INFORMATION = PC_PRAY_ADANOS_END_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int PC_PRAY_ADANOS_END_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_PRAY_ADANOS)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_PRAY_ADANOS_END_INFO() {
    B_ENDPRODUCTIONDIALOG();
}

instance PC_PRAY_ADANOS_PRAY(C_INFO) {
    NPC = 0xc3ab;
    NR = 2;
    CONDITION = PC_PRAY_ADANOS_PRAY_CONDITION;
    INFORMATION = PC_PRAY_ADANOS_PRAY_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = NAME_ADDON_BETEN;
}

func int PC_PRAY_ADANOS_PRAY_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_PRAY_ADANOS)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

var int PRAY_ADANOS_COUNTDEF = 0;
const int PRAY_ADANOS_LIMIT = 25;
func void PC_PRAY_ADANOS_PRAY_INFO() {
    INFO_CLEARCHOICES(0xbb60);
    INFO_ADDCHOICE(0xbb60, DIALOG_BACK, 0xbb65);
    INFO_ADDCHOICE(0xbb60, "I want to pray.", 0xbb67);
    if ((PRAY_ADANOS_COUNTDEF) <= (PRAY_ADANOS_LIMIT)) {
        if (((PRAYDAYADANOS) != (WLD_GETDAY())) || ((KAPITEL) == (6))) {
            if ((HERO.LP) >= (5)) {
                INFO_ADDCHOICE(0xbb60, "I want to pray and offer my knowledge. (5 LP)", 0xbb68);
            };
            if ((HERO.LP) >= (10)) {
                INFO_ADDCHOICE(0xbb60, "I want to pray and offer my knowledge. (10 LP)", 0xbb6c);
            };
            if ((HERO.LP) >= (25)) {
                INFO_ADDCHOICE(0xbb60, "I want to pray and offer my knowledge. (25 LP)", 0xbb70);
            };
        };
    };
}

func void PC_PRAY_ADANOS_PRAY_BACK() {
    INFO_CLEARCHOICES(0xbb60);
}

func void PC_PRAY_ADANOS_HEALPLAYER() {
    if ((HERO.ATTRIBUTE[2]) != (HERO.ATTRIBUTE[3])) {
        HERO.ATTRIBUTE[2] = HERO.ATTRIBUTE[3];
    };
    PRINTSCREEN(PRINT_BLESSMANA_ADANOS, -(1), 53, FONT_SCREEN, 2);
}

func void PC_PRAY_ADANOS_PRAY_NOPAY() {
    PRINTSCREEN(PRINT_BLESSNONE_ADANOS, -(1), 48, FONT_SCREEN, 3);
    PC_PRAY_ADANOS_HEALPLAYER();
    PRAYDAYADANOS = WLD_GETDAY();
    INFO_CLEARCHOICES(0xbb60);
}

func void PC_PRAY_ADANOS_PRAY_SMALLPAY() {
    if ((PRAYDAYADANOS) == (WLD_GETDAY())) {
    };
    if ((PRAY_ADANOS_COUNTDEF) >= (PRAY_ADANOS_LIMIT)) {
    };
    HERO.LP = (HERO.LP) - (5);
    PRINT_PRAYADANOS_PERMVALUE = INTTOSTRING(PRAYADANOS_PERMVALUE);
    PRINT_ADANOSPRAYBONUS = CONCATSTRINGS(PRINT_PRAYADANOS_INFOBONUS, PRINT_PRAYADANOS_PERMVALUE);
    PRINTSCREEN(PRINT_ADANOSPRAYBONUS, -(1), 48, FONT_SCREEN, 3);
    SELF.PROTECTION[2] += PRAYADANOS_PERMVALUE;
    SELF.PROTECTION[1] += PRAYADANOS_PERMVALUE;
    SELF.PROTECTION[6] += PRAYADANOS_PERMVALUE;
    SELF.PROTECTION[5] += PRAYADANOS_PERMVALUE;
    SELF.PROTECTION[3] += PRAYADANOS_PERMVALUE;
    PRAY_ADANOS_COUNTDEF = (PRAY_ADANOS_COUNTDEF) + (1);
    PC_PRAY_ADANOS_HEALPLAYER();
    PRAYDAYADANOS = WLD_GETDAY();
    INFO_CLEARCHOICES(0xbb60);
}

const int PC_PRAY_ADANOS_PRAY_SMALLPAY.PRAYADANOS_PERMVALUE = 1;
var string PC_PRAY_ADANOS_PRAY_SMALLPAY.PRINT_PRAYADANOS_PERMVALUE = "";
var string PC_PRAY_ADANOS_PRAY_SMALLPAY.PRINT_ADANOSPRAYBONUS = "";
func void PC_PRAY_ADANOS_PRAY_MEDIUMPAY() {
    if ((PRAYDAYADANOS) == (WLD_GETDAY())) {
    };
    if ((PRAY_ADANOS_COUNTDEF) >= (PRAY_ADANOS_LIMIT)) {
    };
    HERO.LP = (HERO.LP) - (10);
    PRINT_PRAYADANOS_PERMVALUE = INTTOSTRING(PRAYADANOS_PERMVALUE);
    PRINT_ADANOSPRAYBONUS = CONCATSTRINGS(PRINT_PRAYADANOS_INFOBONUS, PRINT_PRAYADANOS_PERMVALUE);
    PRINTSCREEN(PRINT_ADANOSPRAYBONUS, -(1), 48, FONT_SCREEN, 3);
    SELF.PROTECTION[2] += PRAYADANOS_PERMVALUE;
    SELF.PROTECTION[1] += PRAYADANOS_PERMVALUE;
    SELF.PROTECTION[6] += PRAYADANOS_PERMVALUE;
    SELF.PROTECTION[5] += PRAYADANOS_PERMVALUE;
    SELF.PROTECTION[3] += PRAYADANOS_PERMVALUE;
    PRAY_ADANOS_COUNTDEF = (PRAY_ADANOS_COUNTDEF) + (2);
    PC_PRAY_ADANOS_HEALPLAYER();
    PRAYDAYADANOS = WLD_GETDAY();
    INFO_CLEARCHOICES(0xbb60);
}

const int PC_PRAY_ADANOS_PRAY_MEDIUMPAY.PRAYADANOS_PERMVALUE = 2;
var string PC_PRAY_ADANOS_PRAY_MEDIUMPAY.PRINT_PRAYADANOS_PERMVALUE = "";
var string PC_PRAY_ADANOS_PRAY_MEDIUMPAY.PRINT_ADANOSPRAYBONUS = "";
func void PC_PRAY_ADANOS_PRAY_BIGPAY() {
    if ((PRAYDAYADANOS) == (WLD_GETDAY())) {
    };
    if ((PRAY_ADANOS_COUNTDEF) >= (PRAY_ADANOS_LIMIT)) {
    };
    HERO.LP = (HERO.LP) - (25);
    PRINT_PRAYADANOS_PERMVALUE = INTTOSTRING(PRAYADANOS_PERMVALUE);
    PRINT_ADANOSPRAYBONUS = CONCATSTRINGS(PRINT_PRAYADANOS_INFOBONUS, PRINT_PRAYADANOS_PERMVALUE);
    PRINTSCREEN(PRINT_ADANOSPRAYBONUS, -(1), 48, FONT_SCREEN, 3);
    SELF.PROTECTION[2] += PRAYADANOS_PERMVALUE;
    SELF.PROTECTION[1] += PRAYADANOS_PERMVALUE;
    SELF.PROTECTION[6] += PRAYADANOS_PERMVALUE;
    SELF.PROTECTION[5] += PRAYADANOS_PERMVALUE;
    SELF.PROTECTION[3] += PRAYADANOS_PERMVALUE;
    PRAY_ADANOS_COUNTDEF = (PRAY_ADANOS_COUNTDEF) + (5);
    PC_PRAY_ADANOS_HEALPLAYER();
    PRAYDAYADANOS = WLD_GETDAY();
    INFO_CLEARCHOICES(0xbb60);
}

const int PC_PRAY_ADANOS_PRAY_BIGPAY.PRAYADANOS_PERMVALUE = 5;
var string PC_PRAY_ADANOS_PRAY_BIGPAY.PRINT_PRAYADANOS_PERMVALUE = "";
var string PC_PRAY_ADANOS_PRAY_BIGPAY.PRINT_ADANOSPRAYBONUS = "";
