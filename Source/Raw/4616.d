instance QM302_RENEGADES(CUTSCENE) {
    ONSTART = FUNCTION(0x16aa4);
}

func void QM302_RENEGADES_WAIT() {
    AI_WAITTILLEND(HERO, MIL_11272_LEADER);
    AI_WAITTILLEND(HERO, SLD_1018_DOCAN);
    AI_WAITTILLEND(SLD_1018_DOCAN, HERO);
    AI_WAITTILLEND(SLD_1018_DOCAN, MIL_11272_LEADER);
    AI_WAITTILLEND(MIL_11272_LEADER, HERO);
    AI_WAITTILLEND(MIL_11272_LEADER, SLD_1018_DOCAN);
}

func void QM302_RENEGADES_START() {
    DIACAM_DISABLE();
    WLD_SENDTRIGGER("QM302_RENEGADES_01");
    TELEPORTNPCTOWP(0x71b, "PART4_QM302_HERO_RENEGADES");
    TELEPORTNPCTOWP(0xcb52, SLD_1018_DOCAN.WP);
    TELEPORTNPCTOWP(0xdb9a, MIL_11272_LEADER.WP);
    if (HLP_ISVALIDNPC(MIL_6270_JERRAN)) {
        TELEPORTNPCTOWP(0xdbd1, MIL_6270_JERRAN.WP);
    };
    TELEPORTNPCTOWP(0xdb9c, MIL_11275_RENEGADE.WP);
    if (HLP_ISVALIDNPC(MIL_6271_RENEGADE)) {
        TELEPORTNPCTOWP(0xdba9, MIL_6271_RENEGADE.WP);
    };
    TELEPORTNPCTOWP(0xdb9e, MIL_11276_RENEGADE.WP);
    NPC_CLEARAIQUEUE(SLD_1018_DOCAN);
    NPC_CLEARAIQUEUE(MIL_11272_LEADER);
    SLD_1018_DOCAN.AIVAR[92] = TRUE;
    MIL_11272_LEADER.AIVAR[92] = TRUE;
    AI_TURNTONPC(SLD_1018_DOCAN, MIL_11272_LEADER);
    AI_TURNTONPC(MIL_11272_LEADER, SLD_1018_DOCAN);
    AI_TURNTONPC(HERO, MIL_11272_LEADER);
    QM302_RENEGADES_WAIT();
    AI_OUTPUT(MIL_11272_LEADER, HERO, "DIA_Leader_QM302_Trouble_03_01");
    QM302_RENEGADES_WAIT();
    AI_OUTPUT(MIL_11272_LEADER, HERO, "DIA_Leader_QM302_Trouble_03_03");
    QM302_RENEGADES_WAIT();
    AI_FUNCTION(SLD_1018_DOCAN, 0x16aa6);
    AI_TURNTONPC(SLD_1018_DOCAN, MIL_11272_LEADER);
    AI_OUTPUT(MIL_11272_LEADER, HERO, "DIA_Leader_QM302_Trouble_03_05");
    QM302_RENEGADES_WAIT();
    AI_FUNCTION(MIL_11272_LEADER, 0x16aa5);
}

func void QM302_RENEGADES_STARTDIALOGUE() {
    QM302_RENEGADESDIALOGUE = TRUE;
    MIL_11272_LEADER.AIVAR[92] = FALSE;
    SLD_1018_DOCAN.AIVAR[92] = FALSE;
    HERO.AIVAR[4] = FALSE;
    AI_STARTSTATE(MIL_11272_LEADER, 0xf09f, 1, "");
    AI_STARTSTATE(HERO, 0xf09f, 1, "");
}

func void QM302_RENEGADES_CAMERA_01() {
    WLD_SENDTRIGGER("QM302_RENEGADES_02");
    WLD_SENDUNTRIGGER("QM302_RENEGADES_01");
}

