const int SPL_COST_TRFMEATBUG = 5;
func int SPELL_LOGIC_TRFMEATBUG(var int MANAINVESTED) {
    if (((NPC_GETACTIVESPELLISSCROLL(SELF)) && ((SELF.ATTRIBUTE[2]) >= (SPL_COST_SCROLL))) || ((SELF.ATTRIBUTE[2]) >= (SPL_COST_TRFMEATBUG))) {
        SELF.ATTRIBUTE[2] = (SELF.ATTRIBUTE[2]) - (SPL_COST_TRFMEATBUG);
        NPC_SETACTIVESPELLINFO(SELF, 0xc5b2);
        return SPL_SENDCAST;
    };
    return SPL_SENDSTOP;
}

