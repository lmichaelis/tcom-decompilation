instance Q602_CARAMONCUTSCENE(CUTSCENE) {
    ONSTART = FUNCTION(0x16a39);
}

func void Q602_CARAMONCUTSCENE_WAIT() {
    AI_WAITTILLEND(SLD_1009_CARAMON_Q602, HERO);
    AI_WAITTILLEND(HERO, SLD_1009_CARAMON_Q602);
}

func void Q602_CARAMONCUTSCENE_START() {
    WLD_SENDTRIGGER("KM_Q602_CARAMON_01");
    DIACAM_DISABLE();
    TELEPORTNPCTOWP(0x71b, "PARTM1_GUILDHOUSE02_09");
    TELEPORTNPCTOWP(0xea62, "PARTE1_CARAMON");
    AI_WAIT(HERO, 0x40200000);
    AI_FUNCTION(HERO, 0x16a3a);
    AI_TURNTONPC(HERO, SLD_1009_CARAMON_Q602);
    AI_WAIT(HERO, 0x3f4ccccd);
    Q602_CARAMONCUTSCENE_WAIT();
    AI_FUNCTION(HERO, 0x16a3b);
}

func void Q602_CARAMONCUTSCENE_CHANGECAMERA01() {
    WLD_SENDTRIGGER("KM_Q602_CARAMON_02");
    WLD_SENDUNTRIGGER("KM_Q602_CARAMON_01");
    TELEPORTNPCTOWP(0x71b, "PARTE1_CARAMON_DEAD_HERO_01");
}

func void Q602_CARAMONCUTSCENE_STARTDIALOGUE() {
    Q602_CARAMONCUTSCENE_ENABLE = 2;
    SLD_1009_CARAMON_Q602.AIVAR[4] = FALSE;
    HERO.AIVAR[4] = FALSE;
    AI_STARTSTATE(SLD_1009_CARAMON_Q602, 0xf09f, 1, "");
    AI_STARTSTATE(HERO, 0xf09f, 1, "");
}

