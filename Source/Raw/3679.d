instance DIA_THUG_10034_EXIT(C_INFO) {
    NPC = 0xd285;
    NR = 999;
    CONDITION = DIA_THUG_10034_EXIT_CONDITION;
    INFORMATION = DIA_THUG_10034_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_THUG_10034_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_THUG_10034_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_THUG_10034_AFTER_SQ218(C_INFO) {
    NPC = 0xd285;
    NR = 1;
    CONDITION = DIA_THUG_10034_AFTER_SQ218_CONDITION;
    INFORMATION = DIA_THUG_10034_AFTER_SQ218_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_THUG_10034_AFTER_SQ218_CONDITION() {
    return TRUE;
}

func void DIA_THUG_10034_AFTER_SQ218_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Thug_10034_After_SQ218_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Thug_10034_After_SQ218_03_02");
    INFO_CLEARCHOICES(0x1084f);
    INFO_ADDCHOICE(0x1084f, "I'm not giving you anything!", 0x10852);
    INFO_ADDCHOICE(0x1084f, "I don't think I understand...", 0x10853);
    if ((NPC_HASITEMS(OTHER, 0x859b)) >= (SQ218_THUGMONEY)) {
        INFO_ADDCHOICE(0x1084f, "Hold it! (Pay 100 GP)", 0x10854);
    };
}

func void DIA_THUG_10034_AFTER_SQ218_YOUGETNOTHING() {
    AI_OUTPUT(OTHER, SELF, "DIA_Thug_10034_After_SQ218_YouGetNothing_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Thug_10034_After_SQ218_YouGetNothing_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Thug_10034_After_SQ218_YouGetNothing_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Thug_10034_After_SQ218_YouGetNothing_03_04");
    AI_STOPPROCESSINFOS(SELF);
    NONE_10034_THUG.FLAGS = 0;
    B_ATTACK(SELF, OTHER, AR_KILL, 1);
}

func void DIA_THUG_10034_AFTER_SQ218_DONTUNDERSTAND() {
    AI_OUTPUT(OTHER, SELF, "DIA_Thug_10034_After_SQ218_DontUnderstand_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Thug_10034_After_SQ218_DontUnderstand_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Thug_10034_After_SQ218_DontUnderstand_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Thug_10034_After_SQ218_DontUnderstand_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Thug_10034_After_SQ218_DontUnderstand_03_05");
}

func void DIA_THUG_10034_AFTER_SQ218_GOLD() {
    AI_OUTPUT(OTHER, SELF, "DIA_Thug_10034_SQ218_Gold_15_01");
    B_GIVEINVITEMS(OTHER, SELF, 0x859b, SQ218_THUGMONEY);
    AI_OUTPUT(SELF, OTHER, "DIA_Thug_10034_SQ218_Gold_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Thug_10034_SQ218_Gold_03_03");
    NPC_EXCHANGEROUTINE(SELF, "AWAY");
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_THUG_10034_AMBIENT(C_INFO) {
    NPC = 0xd285;
    NR = 2;
    CONDITION = DIA_THUG_10034_AMBIENT_CONDITION;
    INFORMATION = DIA_THUG_10034_AMBIENT_INFO;
    PERMANENT = TRUE;
    IMPORTANT = TRUE;
}

func int DIA_THUG_10034_AMBIENT_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x1084f)) {
        if (NPC_ISINSTATE(SELF, 0xf09f)) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_THUG_10034_AMBIENT_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Thug_10034_Ambient_03_01");
    AI_STOPPROCESSINFOS(SELF);
}

