instance Q514_VOLFZACKEGIANTSKELETONCUTSCENE(CUTSCENE) {
    ONSTART = FUNCTION(0x16a0e);
}

func void Q514_VOLFZACKEGIANTSKELETONCUTSCENE_START() {
    WLD_SENDTRIGGER("VZ_BOSSFIGHT_GATE");
    B_STARTOTHERROUTINE(SKELETON_VZ_BOSS, START);
    NPC_REFRESH(SKELETON_VZ_BOSS);
    TELEPORTNPCTOWP(0xe7bf, "VOLFZACK_CHESS_20");
    AI_TELEPORTALWAYS(SKELETON_VZ_BOSS, SKELETON_VZ_BOSS.WP, TRUE);
    AI_USEMOB(SKELETON_VZ_BOSS, "GSKELTHRONE", 1);
    CHANGEVOBCOLLISION("VZ_GIANTTHRONE_MOBINTER", FALSE, TRUE, FALSE, TRUE);
    CHANGEVOBCOLLISION("VZ_GIANTSKELETON", FALSE, FALSE, FALSE, FALSE);
    WLD_SENDTRIGGER("Q514_BOSSFIGHT_01");
    FF_APPLYONCEEXT(0x16a10, 1000, 12);
    WLD_PLAYEFFECT("FX_EarthQuake", HERO, HERO, 0, 0, 0, FALSE);
    SND_PLAY("MFX_EarthQuake");
    AI_WAIT(HERO, 0x3e4ccccd);
    AI_TURNTONPC(HERO, SKELETON_VZ_BOSS);
    AI_PLAYANI(HERO, T_SEARCH);
}

func void SKELETON_VZ_BOSS_CHANGERTN() {
    B_STARTOTHERROUTINE(SKELETON_VZ_BOSS, "FIGHT");
    NPC_REFRESH(SKELETON_VZ_BOSS);
}

func void Q514_VOLFZACKEGIANTSKELETONCUTSCENE_APPLY() {
    Q514_VOLFZACKEGIANTSKELETONCUTSCENE_APPLY_COUNT = (Q514_VOLFZACKEGIANTSKELETONCUTSCENE_APPLY_COUNT) + (1);
    if ((Q514_VOLFZACKEGIANTSKELETONCUTSCENE_APPLY_COUNT) == (4)) {
        WLD_SENDTRIGGER("Q514_BOSSFIGHT_02");
        WLD_SENDUNTRIGGER("Q514_BOSSFIGHT_01");
    };
    if ((Q514_VOLFZACKEGIANTSKELETONCUTSCENE_APPLY_COUNT) == (7)) {
        WLD_PLAYEFFECT("FX_EarthQuake", HERO, HERO, 0, 0, 0, FALSE);
        SND_PLAY("MFX_EarthQuake");
        AI_USEMOB(SKELETON_VZ_BOSS, "GSKELTHRONE", -(1));
        AI_FUNCTION(SKELETON_VZ_BOSS, 0x16a0f);
    };
    if ((Q514_VOLFZACKEGIANTSKELETONCUTSCENE_APPLY_COUNT) == (8)) {
        WLD_SENDTRIGGER("Q514_BOSSFIGHT_03");
        WLD_SENDUNTRIGGER("Q514_BOSSFIGHT_02");
    };
    if ((Q514_VOLFZACKEGIANTSKELETONCUTSCENE_APPLY_COUNT) == (12)) {
        AI_FUNCTION(HERO, 0x16a12);
    };
}

var int Q514_VOLFZACKEGIANTSKELETONCUTSCENE_APPLY.Q514_VOLFZACKEGIANTSKELETONCUTSCENE_APPLY_COUNT = 0;
func void Q514_VOLFZACKEGIANTSKELETONCUTSCENE_END() {
    WLD_SENDUNTRIGGER("Q514_BOSSFIGHT_01");
    WLD_SENDUNTRIGGER("Q514_BOSSFIGHT_02");
    WLD_SENDUNTRIGGER("Q514_BOSSFIGHT_03");
    MUSIC_OVERRIDETRACK(0x55bc);
    PRINTD("Walka z bossem hehe");
    if ((Q514_CANTKILLWARRIOS) == (1)) {
        Q514_VOLFZACKWARRIORS_BLOCKER();
    };
    AI_FUNCTION(HERO, 0x16fd8);
    Q514_UPDATEWARRIORSRTN();
    B_STARTOTHERROUTINE(SKELETON_VZ_BOSS, "FIGHT");
    NPC_REFRESH(SKELETON_VZ_BOSS);
    B_IMMEDIATEATTACKPLAYER(SKELETON_VZ_BOSS, AR_KILL);
    NPC_SETTRUEGUILD(SKELETON_VZ_BOSS, GIL_SKELETON);
    SKELETON_VZ_BOSS.GUILD = GIL_SKELETON;
    CHANGEVOBCOLLISION("VZ_CHESS_01", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_CHESS_02", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_CHESS_03", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_CHESS_04", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_CHESS_05", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_CHESS_06", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_CHESS_07", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_CHESS_08", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_01", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_02", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_03", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_04", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_05", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_06", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_07", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_08", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_09", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_10", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_11", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_12", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_13", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_14", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_15", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_16", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_17", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_18", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_19", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_20", FALSE, FALSE, FALSE, FALSE);
    CHANGEVOBCOLLISION("VZ_DISABLECHESS_21", FALSE, FALSE, FALSE, FALSE);
    HERO.AIVAR[4] = FALSE;
}

