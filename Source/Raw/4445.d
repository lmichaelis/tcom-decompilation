func void EVT_Q401_SPAWNBARREL() {
    AI_WAIT(HERO, 0x3fc00000);
    AI_FUNCTION(HERO, 0x166bc);
    AI_USEMOB(HERO, NPC_GETDETECTEDMOB(HERO), -(1));
}

func void Q401_MOVERTRAP() {
    if (HLP_STRCMP(NPC_GETNEARESTWP(HERO), "PART16_EXPLOSION_01")) {
        Q401_BARRELPOWDERMOVER = 1;
        WLD_SENDTRIGGER("KM_Q401_EXPLOSION_MOVER_01");
    };
    if (HLP_STRCMP(NPC_GETNEARESTWP(HERO), "PART16_EXPLOSION_02")) {
        Q401_BARRELPOWDERMOVER = 2;
        WLD_SENDTRIGGER("KM_Q401_EXPLOSION_MOVER_02");
    };
    MOB_CHANGEFOCUSNAME("Q401_PLUNDER_02", "MOBNAME_NOTHING");
    WLD_SENDTRIGGER("MOVER_Q401_PLUNDER");
    NPC_REMOVEINVITEMS(HERO, 0x91d6, 1);
    Q401_DUSTERBIZZAREADVENTURE = 3;
    MOB_CHANGEFOCUSNAME("Q401_PLUNDER_01", "MOBNAME_NOTHING");
}

