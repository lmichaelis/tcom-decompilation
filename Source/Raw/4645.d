instance SQ508_JUDGMENTCUTSCENE(CUTSCENE) {
    ONSTART = FUNCTION(0x16b5a);
}

func void SQ508_JUDGMENTCUTSCENE_WAIT() {
    AI_WAITTILLEND(PAL_100_CANDAC, HERO);
    AI_WAITTILLEND(HERO, PAL_100_CANDAC);
}

func void SQ508_JUDGMENTCUTSCENE_START() {
    DIACAM_DISABLE();
    WLD_SENDTRIGGER("SQ508_JUDGMENT_01");
    TELEPORTNPCTOWP(0xcaf2, "PART8_GRAVEYARD_INNOS_CASPAR");
    TELEPORTNPCTOWP(0xcafa, "PART8_SQ508_JUDGMENT_CANDAC_01");
    TELEPORTNPCTOWP(0x71b, "PART8_SQ508_JUDGMENT_HERO_01");
    NPC_CLEARAIQUEUE(NONE_6239_CASPAR);
    NPC_CLEARAIQUEUE(PAL_100_CANDAC);
    NONE_6239_CASPAR.AIVAR[92] = TRUE;
    B_TURNTONPC(HERO, PAL_100_CANDAC);
    B_TURNTONPC(PAL_100_CANDAC, HERO);
    AI_UNREADYSPELL(HERO);
    AI_REMOVEWEAPON(HERO);
    AI_REMOVEWEAPON(PAL_100_CANDAC);
    SQ508_JUDGMENTCUTSCENE_WAIT();
    AI_OUTPUT(PAL_100_CANDAC, HERO, "DIA_Candac_SQ508_Judgment_03_01");
    SQ508_JUDGMENTCUTSCENE_WAIT();
    AI_FUNCTION(PAL_100_CANDAC, 0x16b5b);
    AI_SETWALKMODE(PAL_100_CANDAC, NPC_RUN);
    AI_SETWALKMODE(HERO, NPC_RUN);
    AI_GOTOWP(PAL_100_CANDAC, "PART8_GRAVEYARD_INNOS_03");
    AI_USEMOB(PAL_100_CANDAC, "KICKOBJECT", -(1));
    AI_WAIT(PAL_100_CANDAC, 0x3e4ccccd);
    AI_USEMOB(PAL_100_CANDAC, "KICKOBJECT", 1);
    SQ508_JUDGMENTCUTSCENE_WAIT();
    AI_GOTOWP(PAL_100_CANDAC, "PART8_SQ508_JUDGMENT_CANDAC_02");
    AI_GOTOWP(HERO, "PART8_SQ508_JUDGMENT_HERO_02");
    AI_TURNTONPC(PAL_100_CANDAC, NONE_6239_CASPAR);
    AI_TURNTONPC(HERO, NONE_6239_CASPAR);
    SQ508_JUDGMENTCUTSCENE_WAIT();
    AI_FUNCTION(HERO, 0xf778);
}

func void SQ508_JUDGMENTCUTSCENE_CAMERA_01() {
    WLD_SENDTRIGGER("SQ508_JUDGMENT_02");
    WLD_SENDUNTRIGGER("SQ508_JUDGMENT_01");
}

