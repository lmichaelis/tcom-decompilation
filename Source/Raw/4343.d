instance DIA_RIORDIAN_Q602_EXIT(C_INFO) {
    NPC = 0xe901;
    NR = 999;
    CONDITION = DIA_RIORDIAN_Q602_EXIT_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_RIORDIAN_Q602_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_RIORDIAN_Q602_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_RIORDIAN_Q602_ALIVE(C_INFO) {
    NPC = 0xe901;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_ALIVE_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_ALIVE_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_ALIVE_CONDITION() {
    if ((LOG_GETSTATUS(MIS_Q602)) == (LOG_RUNNING)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_RIORDIAN_Q602_ALIVE_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_03_03");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    INFO_CLEARCHOICES(0x1606c);
    INFO_ADDCHOICE(0x1606c, "Unfortunately, no. He's still alive, but that will change soon.", 0x1606f);
}

func void DIA_RIORDIAN_Q602_ALIVE_NO() {
    AI_STARTFACEANI(OTHER, S_SERIOUS, 1, -(1));
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_No_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_No_03_02");
    INFO_CLEARCHOICES(0x1606c);
    INFO_ADDCHOICE(0x1606c, "Ulryk and the Usurer want to overthrow the Myrtanians.", 0x16075);
}

var int RIORDIAN_Q602_ALIVE_VOLFZACKE = 0;
var int RIORDIAN_Q602_ALIVE_MAGES = 0;
var int RIORDIAN_Q602_ALIVE_FINISHTALK = 0;
func void DIA_RIORDIAN_Q602_ALIVE_CHOICES() {
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    INFO_CLEARCHOICES(0x1606c);
    INFO_ADDCHOICE(0x1606c, "There's no time to waste.", 0x1607b);
    if ((RIORDIAN_Q602_ALIVE_MAGES) == (FALSE)) {
        INFO_ADDCHOICE(0x1606c, "Where are the other mages?", 0x16077);
    };
    if ((RIORDIAN_Q602_ALIVE_VOLFZACKE) == (FALSE)) {
        INFO_ADDCHOICE(0x1606c, "What happened at Vardhal?", 0x16076);
    };
}

func void DIA_RIORDIAN_Q602_ALIVE_FINISHCHOICE() {
    if ((RIORDIAN_Q602_ALIVE_FINISHTALK) == (1)) {
        AI_RESETFACEANI(SELF);
        AI_RESETFACEANI(OTHER);
    };
    DIA_RIORDIAN_Q602_ALIVE_CHOICES();
}

func void DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK() {
    AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Ulryk_15_01");
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Ulryk_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Ulryk_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Ulryk_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Ulryk_03_05");
    DIA_RIORDIAN_Q602_ALIVE_CHOICES();
}

func void DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_VOLFZACKE() {
    RIORDIAN_Q602_ALIVE_VOLFZACKE = TRUE;
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Volfzacke_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Volfzacke_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Volfzacke_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Volfzacke_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Volfzacke_03_05");
    DIA_RIORDIAN_Q602_ALIVE_FINISHCHOICE();
}

func void DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_MAGES() {
    RIORDIAN_Q602_ALIVE_MAGES = TRUE;
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Mages_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Mages_03_02");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Mages_15_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Mages_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Mages_03_05");
    INFO_CLEARCHOICES(0x1606c);
    INFO_ADDCHOICE(0x1606c, "I finally took matters into my own hands!", 0x1607a);
    INFO_ADDCHOICE(0x1606c, DIALOG_BESILENT, 0x16079);
    INFO_CLEARCHOICES(0x16083);
    INFO_ADDCHOICE(0x16083, "I finally took matters into my own hands!", 0x1607a);
    INFO_ADDCHOICE(0x16083, DIALOG_BESILENT, 0x16079);
}

func void DIA_RIORDIAN_Q602_ALIVE_NEXT() {
    INFO_CLEARCHOICES(0x1606c);
    INFO_CLEARCHOICES(0x16083);
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Next_03_01");
    DIA_RIORDIAN_Q602_ALIVE_FINISHCHOICE();
}

func void DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_MAGES_SILENCE() {
    DIA_RIORDIAN_Q602_ALIVE_NEXT();
}

func void DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_MAGES_YES() {
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Yes_15_01");
    DIA_RIORDIAN_Q602_ALIVE_NEXT();
}

func void DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_LEAVE() {
    AI_STARTFACEANI(SELF, S_TIRED, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Leave_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Leave_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Leave_03_03");
    INFO_CLEARCHOICES(0x1606c);
    INFO_ADDCHOICE(0x1606c, "I don't know.", 0x1607f);
    INFO_ADDCHOICE(0x1606c, "I'll get the Usurer if the whole city burns.", 0x1607e);
    INFO_ADDCHOICE(0x1606c, "Archolos is my home. I will not let it fall.", 0x1607d);
}

func void DIA_RIORDIAN_Q602_ALIVE_END() {
    RIORDIAN_Q602_ALIVE_FINISHTALK = 1;
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_End_03_01");
    INFO_CLEARCHOICES(0x1606c);
    AI_STOPPROCESSINFOS(SELF);
    SELF.AIVAR[15] = TRUE;
    NPC_EXCHANGEROUTINE(SELF, "Q602_FOLLOW");
}

func void DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_LEAVE_ARCHOLOS() {
    AI_STARTFACEANI(OTHER, S_SMILE, 1, -(1));
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Archolos_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Archolos_03_02");
    DIA_RIORDIAN_Q602_ALIVE_END();
}

func void DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_LEAVE_VOLKER() {
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Volker_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Volker_03_02");
    DIA_RIORDIAN_Q602_ALIVE_END();
}

func void DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_LEAVE_DUNNO() {
    AI_STARTFACEANI(OTHER, S_SAD, 1, -(1));
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Alive_Dunno_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Alive_Dunno_03_02");
    DIA_RIORDIAN_Q602_ALIVE_END();
}

instance DIA_RIORDIAN_Q602_VOLFZACKEQUESTION(C_INFO) {
    NPC = 0xe901;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_VOLFZACKEQUESTION_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_VOLFZACKEQUESTION_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "What happened at Vardhal?";
}

func int DIA_RIORDIAN_Q602_VOLFZACKEQUESTION_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_Q602)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x1606c))) && ((RIORDIAN_Q602_ALIVE_VOLFZACKE) == (0))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_RIORDIAN_Q602_VOLFZACKEQUESTION_INFO() {
    DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_VOLFZACKE();
}

instance DIA_RIORDIAN_Q602_MAGESQUESTION(C_INFO) {
    NPC = 0xe901;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_MAGESQUESTION_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_MAGESQUESTION_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Where are the other mages?";
}

func int DIA_RIORDIAN_Q602_MAGESQUESTION_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_Q602)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x1606c))) && ((RIORDIAN_Q602_ALIVE_MAGES) == (0))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_RIORDIAN_Q602_MAGESQUESTION_INFO() {
    DIA_RIORDIAN_Q602_ALIVE_NO_ULRYK_MAGES();
}

instance DIA_RIORDIAN_Q602_RAMSEY(C_INFO) {
    NPC = 0xe901;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_RAMSEY_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_RAMSEY_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_RAMSEY_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q602)) == (LOG_RUNNING)) && ((Q602_RAMSEY_STATUS) >= (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_RIORDIAN_Q602_RAMSEY_INFO() {
    if ((Q602_DOGISDEAD) >= (1)) {
        WLD_SENDTRIGGER("Q602_MOVER_WALL_DOGGO");
    };
    INFO_CLEARCHOICES(0x16086);
    if ((Q602_RAMSEY_STATUS) == (1)) {
        AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Ramsey_03_01");
        INFO_ADDCHOICE(0x16086, "Ramsey left me no choice.", 0x1608d);
        INFO_ADDCHOICE(0x16086, "A traitor.", 0x1608c);
    };
    if ((Q602_RAMSEY_STATUS) >= (2)) {
        AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Ramsey_03_02");
        INFO_ADDCHOICE(0x16086, "Let's just say this situation wasn't entirely his fault.", 0x1608f);
        INFO_ADDCHOICE(0x16086, "Silbach needs a ruler, even one like this.", 0x1608e);
    };
}

func void DIA_RIORDIAN_Q602_RAMSEY_END() {
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Ramsey_Next_03_02");
    INFO_CLEARCHOICES(0x16086);
    AI_STOPPROCESSINFOS(SELF);
}

func void DIA_RIORDIAN_Q602_RAMSEY_NEXT() {
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Ramsey_Next_03_01");
    DIA_RIORDIAN_Q602_RAMSEY_END();
}

func void DIA_RIORDIAN_Q602_RAMSEY_NEXT2() {
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Ramsey_Next2_03_01");
    DIA_RIORDIAN_Q602_RAMSEY_END();
}

func void DIA_RIORDIAN_Q602_RAMSEY_TRAITOR() {
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Ramsey_Traitor_15_01");
    DIA_RIORDIAN_Q602_RAMSEY_NEXT();
}

func void DIA_RIORDIAN_Q602_RAMSEY_NOCHOICE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Ramsey_NoChoice_15_01");
    DIA_RIORDIAN_Q602_RAMSEY_NEXT();
}

func void DIA_RIORDIAN_Q602_RAMSEY_SILBACH() {
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Ramsey_Silbach_15_01");
    DIA_RIORDIAN_Q602_RAMSEY_NEXT2();
}

func void DIA_RIORDIAN_Q602_RAMSEY_NOTGUILTY() {
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Ramsey_NotGuilty_15_01");
    DIA_RIORDIAN_Q602_RAMSEY_NEXT2();
}

instance DIA_RIORDIAN_Q602_LUDLOF(C_INFO) {
    NPC = 0xe901;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_LUDLOF_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_LUDLOF_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_LUDLOF_CONDITION() {
    if ((LOG_GETSTATUS(MIS_Q602)) == (LOG_RUNNING)) {
        if ((((Q602_LUDLOFSTATUS) == (1)) || ((Q602_LUDLOFSTATUS) == (2))) || ((Q602_LUDLOFSTATUS) == (4))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_RIORDIAN_Q602_LUDLOF_INFO() {
    if ((Q308_WHOWILLDIE) != (3)) {
        WLD_SENDTRIGGER("Q602_MOVER_WALL_LUDLOF");
    };
    AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Ludlof_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Ludlof_03_02");
    AI_RESETFACEANI(SELF);
}

instance DIA_RIORDIAN_Q602_BROTHERS(C_INFO) {
    NPC = 0xe901;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_BROTHERS_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_BROTHERS_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_BROTHERS_CONDITION() {
    if ((((((NPC_KNOWSINFO(OTHER, 0x16007)) && (NPC_ISDEAD(BAU_2245_HOLDWIG_Q602))) && (NPC_ISDEAD(NONE_50203_HOLDWIGGUARD_Q602))) && (NPC_ISDEAD(NONE_50204_HOLDWIGGUARD_Q602))) || ((((NPC_KNOWSINFO(OTHER, 0x16251)) && (NPC_ISDEAD(VLK_11181_ANDERAS_Q602))) && (NPC_ISDEAD(NONE_50205_ANDERASGUARD_Q602))) && (NPC_ISDEAD(NONE_50206_ANDERASGUARD_Q602)))) || ((Q602_VINEYARDFIGHT) == (3))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_RIORDIAN_Q602_BROTHERS_INFO() {
    if ((Q602_VINEYARDFIGHT) == (3)) {
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Brothers_03_02");
        AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Brothers_03_03");
        AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Brothers_03_04");
        AI_RESETFACEANI(SELF);
        AI_STOPPROCESSINFOS(SELF);
    };
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Brothers_03_01");
    INFO_CLEARCHOICES(0x16093);
    INFO_ADDCHOICE(0x16093, "I have no idea. Let's move on.", 0x16096);
    if (((LOG_GETSTATUS(MIS_SQ225)) == (LOG_SUCCESS)) || ((LOG_GETSTATUS(MIS_SQ116)) == (LOG_SUCCESS))) {
        INFO_ADDCHOICE(0x16093, "I made a mistake of meddling in the affairs of this vineyard...", 0x16097);
    };
}

func void DIA_RIORDIAN_Q602_BROTHERS_DONTKNOW() {
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Brothers_DontKnow_15_01");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Brothers_DontKnow_03_02");
    AI_RESETFACEANI(SELF);
    AI_STOPPROCESSINFOS(SELF);
}

func void DIA_RIORDIAN_Q602_BROTHERS_MISTAKE() {
    AI_STARTFACEANI(OTHER, S_TIRED, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Brothers_Mistake_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Brothers_Mistake_15_02");
    AI_STARTFACEANI(SELF, S_TIRED, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Brothers_Mistake_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Brothers_Mistake_03_04");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Brothers_Mistake_03_05");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_RIORDIAN_Q602_DOGGO(C_INFO) {
    NPC = 0xe901;
    NR = 2;
    CONDITION = DIA_RIORDIAN_Q602_DOGGO_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_DOGGO_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_DOGGO_CONDITION() {
    if ((Q602_DOGISDEAD) == (3)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_RIORDIAN_Q602_DOGGO_INFO() {
    AI_TURNTONPC(KDW_203_RIORDIAN_Q602, NONE_13336_DOGGO_Q602);
    AI_TURNTONPC(HERO, NONE_13336_DOGGO_Q602);
    AI_PLAYANI(HERO, "T_FACEPALM");
    AI_WAIT(KDW_203_RIORDIAN_Q602, 0x40000000);
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 0x1609b);
    AI_WAIT(KDW_203_RIORDIAN_Q602, 0x40000000);
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 0x1609c);
    AI_WAITTILLEND(HERO, KDW_203_RIORDIAN_Q602);
    AI_STARTFACEANI(KDW_203_RIORDIAN_Q602, S_ANGRY, 1, -(1));
    AI_WAIT(KDW_203_RIORDIAN_Q602, 0x3f000000);
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Doggo_03_01");
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 0x1609d);
    INFO_CLEARCHOICES(0x16098);
    INFO_ADDCHOICE(0x16098, "There's nothing more we can do here. Let's go to the City Hall.", 0x160a1);
    INFO_ADDCHOICE(0x16098, "They'll pay me for this...", 0x160a0);
    INFO_ADDCHOICE(0x16098, DIALOG_DONOTTALK, 0x1609f);
}

func void Q602_DOGGO_CAMERA_01() {
    WLD_SENDTRIGGER("Q602_DOGGO_03");
    WLD_SENDUNTRIGGER("Q602_DOGGO_01");
}

func void Q602_DOGGO_CAMERA_02() {
    WLD_SENDTRIGGER("Q602_DOGGO_04");
    WLD_SENDUNTRIGGER("Q602_DOGGO_03");
}

func void Q602_DOGGO_CAMERA_03() {
    TELEPORTNPCTOWP(0x71b, "PARTM5_DOGGO_HERO");
    WLD_SENDTRIGGER("Q602_DOGGO_02");
    WLD_SENDUNTRIGGER("Q602_DOGGO_04");
}

func void Q602_DOGGO_CAMERA_04() {
    WLD_SENDTRIGGER("Q602_DOGGO_05");
    WLD_SENDUNTRIGGER("Q602_DOGGO_02");
}

func void DIA_RIORDIAN_Q602_DOGGO_SILENCE() {
    AI_FUNCTION(SELF, 0x1609e);
    AI_WAIT(HERO, 0x3fc00000);
    AI_TURNAWAY(HERO, NONE_13336_DOGGO_Q602);
    AI_WAITTILLEND(SELF, OTHER);
    INFO_CLEARCHOICES(0x16098);
    AI_STOPPROCESSINFOS(SELF);
    AI_FUNCTION(SELF, 0x160a2);
}

func void DIA_RIORDIAN_Q602_DOGGO_PAY() {
    AI_FUNCTION(SELF, 0x1609e);
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Doggo_Pay_15_01");
    AI_TURNAWAY(HERO, NONE_13336_DOGGO_Q602);
    AI_WAITTILLEND(SELF, OTHER);
    INFO_CLEARCHOICES(0x16098);
    AI_STOPPROCESSINFOS(SELF);
    AI_FUNCTION(SELF, 0x160a2);
}

func void DIA_RIORDIAN_Q602_DOGGO_MOVE() {
    AI_FUNCTION(SELF, 0x1609e);
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_Doggo_Move_15_01");
    AI_TURNAWAY(HERO, NONE_13336_DOGGO_Q602);
    AI_WAITTILLEND(SELF, OTHER);
    INFO_CLEARCHOICES(0x16098);
    AI_STOPPROCESSINFOS(SELF);
    AI_FUNCTION(SELF, 0x160a2);
}

func void Q602_DOGGO_FINISH() {
    HERO.AIVAR[4] = TRUE;
    FF_APPLYONCEEXT(0x160a3, 75, 4);
}

func void Q602_DOGGO_FINISH_APPLY() {
    Q602_DOGGO_FINISH_COUNT = (Q602_DOGGO_FINISH_COUNT) + (1);
    if ((Q602_DOGGO_FINISH_COUNT) == (4)) {
        Q602_DOGGO_FINISH_COUNT = 0;
        WLD_SENDUNTRIGGER("Q602_DOGGO_01");
        WLD_SENDUNTRIGGER("Q602_DOGGO_02");
        WLD_SENDUNTRIGGER("Q602_DOGGO_03");
        WLD_SENDUNTRIGGER("Q602_DOGGO_04");
        WLD_SENDUNTRIGGER("Q602_DOGGO_05");
        DIACAM_ENABLE();
        HERO.AIVAR[4] = FALSE;
        AI_RESETFACEANI(HERO);
        AI_RESETFACEANI(KDW_203_RIORDIAN_Q602);
    };
}

var int Q602_DOGGO_FINISH_APPLY.Q602_DOGGO_FINISH_COUNT = 0;
instance DIA_RIORDIAN_Q602_FINALWAR(C_INFO) {
    NPC = 0xe901;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_FINALWAR_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_FINALWAR_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_FINALWAR_CONDITION() {
    if ((Q602_FIGHTCUTSCENE) == (2)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void Q602_FINALWAR_CAMERA_01() {
    TELEPORTNPCTOWP(0x71b, "PARTM5_FINALWAR_HERO");
    TELEPORTNPCTOWP(0xe901, "PARTM5_FINALWAR_RIORDIAN");
    WLD_SENDTRIGGER("Q602_FINALWAR_02");
    WLD_SENDUNTRIGGER("Q602_FINALWAR_01");
}

func void Q602_FINALWAR_CAMERA_02() {
    WLD_SENDTRIGGER("Q602_FINALWAR_03");
    WLD_SENDUNTRIGGER("Q602_FINALWAR_02");
}

func void DIA_RIORDIAN_Q602_FINALWAR_INFO() {
    AI_TURNTONPC(HERO, MIL_10179_MILITIA_Q602);
    AI_TURNTONPC(KDW_203_RIORDIAN_Q602, MIL_10179_MILITIA_Q602);
    AI_WAIT(KDW_203_RIORDIAN_Q602, 0x40a00000);
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 0x160a7);
    AI_STOPLOOKAT(KDW_203_RIORDIAN_Q602);
    AI_STOPLOOKAT(HERO);
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_FinalWar_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_FinalWar_03_02");
    INFO_CLEARCHOICES(0x160a5);
    INFO_ADDCHOICE(0x160a5, "We'll look for them once we've cleared the market.", 0x160ac);
    INFO_ADDCHOICE(0x160a5, "It doesn't matter, we have to help our own.", 0x160ab);
}

func void DIA_RIORDIAN_Q602_FINALWAR_NEXT() {
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_FinalWar_Next_03_01");
    INFO_CLEARCHOICES(0x160a5);
    AI_STOPPROCESSINFOS(SELF);
    AI_FUNCTION(SELF, 0xef19);
}

func void DIA_RIORDIAN_Q602_FINALWAR_HELP() {
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 0x160a8);
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_FinalWar_Help_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_FinalWar_Help_03_02");
    DIA_RIORDIAN_Q602_FINALWAR_NEXT();
}

func void DIA_RIORDIAN_Q602_FINALWAR_SEARCH() {
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 0x160a8);
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_FinalWar_Search_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_FinalWar_Search_03_02");
    DIA_RIORDIAN_Q602_FINALWAR_NEXT();
}

instance DIA_RIORDIAN_Q602_FIGHTULRYK(C_INFO) {
    NPC = 0xe901;
    NR = 2;
    CONDITION = DIA_RIORDIAN_Q602_FIGHTULRYK_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_FIGHTULRYK_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_FIGHTULRYK_CONDITION() {
    if ((Q602_FINISHFINALWARBATTLE) == (TRUE)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void Q602_FINALWAR_ULRYK_CAMERA_01() {
    TELEPORTNPCTOWP(0x71b, "PARTM5_CITYHALL_09");
    TELEPORTNPCTOWP(0xe901, "PARTM5_FINALWAR_RIORDIAN2");
    WLD_SENDTRIGGER("Q602_FINALWAR_ULRYK_02");
    WLD_SENDUNTRIGGER("Q602_FINALWAR_ULRYK_01");
}

func void Q602_FINALWAR_ULRYK_CAMERA_02() {
    TELEPORTNPCTOWP(0x71b, "PARTM5_FINALWAR_HERO2");
    WLD_SENDTRIGGER("Q602_FINALWAR_ULRYK_03");
    WLD_SENDUNTRIGGER("Q602_FINALWAR_ULRYK_02");
}

func void DIA_RIORDIAN_Q602_FIGHTULRYK_INFO() {
    AI_TURNTONPC(HERO, NONE_15_ULRYK_Q602);
    AI_TURNTONPC(KDW_203_RIORDIAN_Q602, NONE_15_ULRYK_Q602);
    AI_WAIT(KDW_203_RIORDIAN_Q602, 0x3f800000);
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 0x160af);
    AI_WAIT(KDW_203_RIORDIAN_Q602, 0x3f800000);
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 0xef20);
    AI_WAIT(KDW_203_RIORDIAN_Q602, 0x3fc00000);
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 0x160b0);
    AI_WAIT(KDW_203_RIORDIAN_Q602, 0x3f800000);
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_FightUlryk_03_01");
    AI_STOPPROCESSINFOS(SELF);
    NPC_EXCHANGEROUTINE(SELF, "Q602_OBSERVE");
    AI_FUNCTION(KDW_203_RIORDIAN_Q602, 0xef25);
}

instance DIA_RIORDIAN_Q602_AFTERULRYK(C_INFO) {
    NPC = 0xe901;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_AFTERULRYK_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_AFTERULRYK_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_AFTERULRYK_CONDITION() {
    if ((Q602_FINALBATTLE_STARTFIGHT) == (12)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_RIORDIAN_Q602_AFTERULRYK_INFO() {
    B_STARTOTHERROUTINE(NONE_14020_EFFECTHELPER, START);
    NPC_REFRESH(NONE_14020_EFFECTHELPER);
    TELEPORTNPCTOWP(0xea02, NONE_14020_EFFECTHELPER.WP);
    AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_AfterUlryk_03_01");
    INFO_CLEARCHOICES(0x160b2);
    INFO_ADDCHOICE(0x160b2, "We were trying to stop them the whole time.", 0x160b7);
    INFO_ADDCHOICE(0x160b2, "Maybe you're right...", 0x160b6);
}

func void DIA_RIORDIAN_Q602_AFTERULRYK_NEXT() {
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_AfterUlryk_Next_03_01");
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_AfterUlryk_Next_15_02");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_AfterUlryk_Next_03_03");
    INFO_CLEARCHOICES(0x160b2);
    AI_STOPPROCESSINFOS(SELF);
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

func void DIA_RIORDIAN_Q602_AFTERULRYK_YEAH() {
    AI_STARTFACEANI(OTHER, S_TIRED, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_AfterUlryk_Yeah_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_AfterUlryk_Yeah_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_AfterUlryk_Yeah_03_03");
    DIA_RIORDIAN_Q602_AFTERULRYK_NEXT();
}

func void DIA_RIORDIAN_Q602_AFTERULRYK_TRIED() {
    AI_STARTFACEANI(OTHER, S_SERIOUS, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Riordian_Q602_AfterUlryk_Tried_15_01");
    DIA_RIORDIAN_Q602_AFTERULRYK_NEXT();
}

instance DIA_RIORDIAN_Q602_GOODBYE(C_INFO) {
    NPC = 0xe901;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_GOODBYE_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_GOODBYE_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_GOODBYE_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x16101)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void RIORDIAN_Q602_CHANGERTN() {
    B_STARTOTHERROUTINE(MIL_10180_MILITIA_Q602, "Q602_SMALLTALK");
    NPC_REFRESH(MIL_10180_MILITIA_Q602);
    B_STARTOTHERROUTINE(KDW_216_INGOLF_Q602, "FOLLOW");
    NPC_REFRESH(KDW_216_INGOLF_Q602);
}

func void DIA_RIORDIAN_Q602_AMBIENT_COMMENT() {
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Goodbye_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Riordian_Q602_Goodbye_03_02");
    AI_STOPPROCESSINFOS(SELF);
    AI_RESETFACEANI(SELF);
}

func void DIA_RIORDIAN_Q602_GOODBYE_INFO() {
    DIA_RIORDIAN_Q602_AMBIENT_COMMENT();
    NPC_EXCHANGEROUTINE(SELF, "Q602_SMALLTALK");
    AI_FUNCTION(SELF, 0x160ba);
}

instance DIA_RIORDIAN_Q602_AMBIENT(C_INFO) {
    NPC = 0xe901;
    NR = 1;
    CONDITION = DIA_RIORDIAN_Q602_AMBIENT_CONDITION;
    INFORMATION = DIA_RIORDIAN_Q602_AMBIENT_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_RIORDIAN_Q602_AMBIENT_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x160b8)) && (NPC_ISINSTATE(SELF, 0xf09f))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_RIORDIAN_Q602_AMBIENT_INFO() {
    DIA_RIORDIAN_Q602_AMBIENT_COMMENT();
}

