func int ISRECIPEDOC(var C_ITEM ITM) {
    ITMTEXT0 = MEM_READSTRINGARRAY(_@S(ITM.TEXT[0]), 0);
    if ((((((((((HLP_STRCMP(ITMTEXT0, REQUIREDSMITHING_NOVICE)) || (HLP_STRCMP(ITMTEXT0, REQUIREDSMITHING_SOLID))) || (HLP_STRCMP(ITMTEXT0, REQUIREDSMITHING_MASTER))) || (HLP_STRCMP(ITMTEXT0, REQUIREDFLETCHERY_NOVICE))) || (HLP_STRCMP(ITMTEXT0, REQUIREDFLETCHERY_SOLID))) || (HLP_STRCMP(ITMTEXT0, REQUIREDFLETCHERY_MASTER))) || (HLP_STRCMP("KM_recipe_food_01.3DS", ITM.VISUAL))) || (HLP_STRCMP(ITMTEXT0, ITEMDESC_ITRE_PERM_HEALTH_1))) || (HLP_STRCMP(ITMTEXT0, ITEMDESC_ITRE_SPEED2_1))) || (HLP_STRCMP(ITMTEXT0, ITEMDESC_ITRE_POTIONMANA_BLUEPLANT_1))) {
        return TRUE;
    };
    return FALSE;
}

var string ISRECIPEDOC.ITMTEXT0 = "";
func void OCITEMCONTAINER__DRAWITEMINFO_HOOK() {
    if (!(ESP)) {
        return;
    };
    ITM = MEM_PTRTOINST(MEM_READINT((ESP) + (4)));
    if (ISRECIPEDOC(ITM)) {
        PTR = CREATE(ITM.HP);
        REC = MEM_PTRTOINST(PTR);
        RECITEM = MEM_PTRTOINST(ITM_GETPTR(REC.RECIPEITEM));
        TEXTARRAYPTR = _@S(ITM.TEXT[0]);
        COUNTARRAYPTR = _@(ITM.COUNT[0]);
        if (HLP_STRCMP("KM_recipe_food_01.3DS", ITM.VISUAL)) {
            if (MEM_READINTARRAY(_@(PLAYER_TALENT_COOKING[0]), REC.TALENTARRAYINDEX)) {
                ITM.DESCRIPTION = CS2(ITM.NAME, NAME_RECIPE_KNOWN_SUFFIX);
            };
            REPEAT(I, (ITM_TEXT_MAX) - (1));
            MEM_WRITESTRINGARRAY(TEXTARRAYPTR, I, MEM_READSTRINGARRAY(_@S(RECITEM.TEXT[0]), I));
            MEM_WRITEINTARRAY(COUNTARRAYPTR, I, MEM_READINTARRAY(_@(RECITEM.COUNT[0]), I));
        } else if (((HLP_STRCMP("KM_recipe_potion_01.3DS", ITM.VISUAL)) || (HLP_STRCMP("KM_recipe_potion_02.3DS", ITM.VISUAL))) || (HLP_STRCMP("KM_recipe_potion_03.3DS", ITM.VISUAL))) {
            if (MEM_READINTARRAY(_@(PLAYER_TALENT_ALCHEMY[0]), REC.TALENTARRAYINDEX)) {
                ITM.DESCRIPTION = CS2(ITM.NAME, NAME_RECIPE_KNOWN_SUFFIX);
            };
        } else if (MEM_READINTARRAY(_@(PLAYER_TALENT_SMITH[0]), REC.TALENTARRAYINDEX)) {
            ITM.DESCRIPTION = CS2(ITM.NAME, NAME_RECIPE_KNOWN_SUFFIX);
        };
        REPEAT(J, (ITM_TEXT_MAX) - (2));
        MEM_WRITESTRINGARRAY(TEXTARRAYPTR, (J) + (1), MEM_READSTRINGARRAY(_@S(RECITEM.TEXT[0]), (J) + (1)));
        MEM_WRITEINTARRAY(COUNTARRAYPTR, (J) + (1), MEM_READINTARRAY(_@(RECITEM.COUNT[0]), (J) + (1)));
        END;
    };
}

instance OCITEMCONTAINER__DRAWITEMINFO_HOOK.ITM(C_ITEM)
var int OCITEMCONTAINER__DRAWITEMINFO_HOOK.PTR = 0;
instance OCITEMCONTAINER__DRAWITEMINFO_HOOK.REC(C_RECIPE)
instance OCITEMCONTAINER__DRAWITEMINFO_HOOK.RECITEM(C_ITEM)
var int OCITEMCONTAINER__DRAWITEMINFO_HOOK.TEXTARRAYPTR = 0;
var int OCITEMCONTAINER__DRAWITEMINFO_HOOK.COUNTARRAYPTR = 0;
var int OCITEMCONTAINER__DRAWITEMINFO_HOOK.I = 0;
var int OCITEMCONTAINER__DRAWITEMINFO_HOOK.J = 0;
