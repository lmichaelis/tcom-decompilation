instance QA302_BANDITS(CUTSCENE) {
    ONSTART = FUNCTION(0x16a70);
}

func void QA302_BANDITS_WAIT() {
    AI_WAITTILLEND(NONE_13499_QA302_BANDIT, NONE_13496_QA302_BANDIT);
    AI_WAITTILLEND(NONE_13496_QA302_BANDIT, NONE_13499_QA302_BANDIT);
}

func void QA302_BANDITS_START() {
    WLD_SENDTRIGGER("QA302_BANDIT_01");
    NPC_CLEARAIQUEUE(NONE_13499_QA302_BANDIT);
    NPC_CLEARAIQUEUE(NONE_13496_QA302_BANDIT);
    NONE_13499_QA302_BANDIT.AIVAR[92] = TRUE;
    NONE_13496_QA302_BANDIT.AIVAR[92] = TRUE;
    TELEPORTNPCTOWP(0xd28f, NONE_13496_QA302_BANDIT.WP);
    TELEPORTNPCTOWP(0xd291, NONE_13497_QA302_BANDIT.WP);
    TELEPORTNPCTOWP(0xd293, NONE_13498_QA302_BANDIT.WP);
    TELEPORTNPCTOWP(0xd295, "HARBOUR_QA302_SPOT_05");
    TELEPORTNPCTOWP(0xd29c, NONE_13500_QA302_BANDIT.WP);
    TELEPORTNPCTOWP(0xcb1c, SLD_1009_CARAMON.WP);
    TELEPORTNPCTOWP(0x71b, "HARBOUR_PATH_256");
    B_TURNTONPC(NONE_13499_QA302_BANDIT, NONE_13496_QA302_BANDIT);
    B_TURNTONPC(NONE_13496_QA302_BANDIT, NONE_13499_QA302_BANDIT);
    AI_OUTPUT(NONE_13499_QA302_BANDIT, HERO, "DIA_Bandit_QA302_Cutscene_03_01");
    QA302_BANDITS_WAIT();
    AI_STARTFACEANI(NONE_13496_QA302_BANDIT, S_WHAT, 1, -(1));
    AI_OUTPUT(NONE_13496_QA302_BANDIT, HERO, "DIA_Leader_QA302_Cutscene_03_02");
    QA302_BANDITS_WAIT();
    AI_FUNCTION(NONE_13499_QA302_BANDIT, 0x16a72);
    AI_STARTFACEANI(NONE_13499_QA302_BANDIT, S_FRIGHTENED, 1, -(1));
    AI_OUTPUT(NONE_13499_QA302_BANDIT, HERO, "DIA_Bandit_QA302_Cutscene_03_03");
    if ((QA302_ARAXOSARMOREQUIPED) == (TRUE)) {
        AI_OUTPUT(NONE_13499_QA302_BANDIT, HERO, "DIA_Bandit_QA302_Cutscene_03_04");
    };
    AI_OUTPUT(NONE_13499_QA302_BANDIT, HERO, "DIA_Bandit_QA302_Cutscene_03_05");
    QA302_BANDITS_WAIT();
    AI_STARTFACEANI(NONE_13496_QA302_BANDIT, S_ANGRY, 1, -(1));
    AI_OUTPUT(NONE_13496_QA302_BANDIT, HERO, "DIA_Leader_QA302_Cutscene_03_06");
    QA302_BANDITS_WAIT();
    AI_FUNCTION(NONE_13499_QA302_BANDIT, 0x16a73);
    AI_OUTPUT(NONE_13499_QA302_BANDIT, HERO, "DIA_Bandit_QA302_Cutscene_03_07");
    QA302_BANDITS_WAIT();
    AI_STARTFACEANI(NONE_13496_QA302_BANDIT, S_THINK, 1, -(1));
    AI_OUTPUT(NONE_13496_QA302_BANDIT, HERO, "DIA_Leader_QA302_Cutscene_03_08");
    AI_RESETFACEANI(NONE_13496_QA302_BANDIT);
    AI_RESETFACEANI(NONE_13499_QA302_BANDIT);
    AI_FUNCTION(NONE_13496_QA302_BANDIT, 0x16a71);
}

func void QA302_BANDITS_END() {
    FF_APPLYONCEEXT(0xf007, 75, 4);
    TELEPORTNPCTOWP(0x71b, "HARBOUR_PATH_490");
}

func void QA302_BANDITS_CAMERA_01() {
    WLD_SENDTRIGGER("QA302_BANDIT_02");
    WLD_SENDUNTRIGGER("QA302_BANDIT_01");
    TELEPORTNPCTOWP(0x71b, "HARBOUR_PATH_258_LEAN");
}

func void QA302_BANDITS_CAMERA_02() {
    WLD_SENDTRIGGER("QA302_BANDIT_03");
    WLD_SENDUNTRIGGER("QA302_BANDIT_02");
    TELEPORTNPCTOWP(0x71b, "HARBOUR_PATH_256");
}

