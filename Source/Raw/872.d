const int GOLDMOB_ARAXOSMINE_NIKOLT_MAX = 7;
const int GOLDMOB_ARAXOSMINE_01_MAX = 5;
const int GOLDMOB_ARAXOSMINE_02_MAX = 5;
const int GOLDMOB_ARAXOSMINE_03_MAX = 5;
const int GOLDMOB_ARAXOSMINE_04_MAX = 5;
const int GOLDMOB_ARAXOSMINE_05_MAX = 5;
const int GOLDMOB_ARAXOSMINE_06_MAX = 5;
const int GOLDMOB_ARAXOSMINE_07_MAX = 5;
const int GOLDMOB_ARAXOSMINE_08_MAX = 5;
const int GOLDMOB_ARAXOSMINE_09_MAX = 5;
const int GOLDMOB_ARAXOSMINE_10_MAX = 5;
const int GOLDMOB_ARAXOSMINE_11_MAX = 5;
const int GOLDMOB_ARAXOSMINE_12_MAX = 5;
const int GOLDMOB_ARAXOSMINE_13_MAX = 5;
const int GOLDMOB_ARAXOSMINE_14_MAX = 5;
const int GOLDMOB_ARAXOSMINE_15_MAX = 5;
const int GOLDMOB_ARAXOSMINE_16_MAX = 5;
const int GOLDMOB_ARAXOSMINE_17_MAX = 5;
const int GOLDMOB_ARAXOSMINE_18_MAX = 5;
const int GOLDMOB_ARAXOSMINE_19_MAX = 5;
const int GOLDMOB_ARAXOSMINE_20_MAX = 5;
const int GOLDMOB_ARAXOSMINE_21_MAX = 5;
const int GOLDMOB_ARAXOSMINE_22_MAX = 5;
const int GOLDMOB_ARAXOSMINE_23_MAX = 5;
const int GOLDMOB_ARAXOSMINE_24_MAX = 5;
const int GOLDMOB_ARAXOSMINE_25_MAX = 5;
const int GOLDMOB_ARAXOSMINE_26_MAX = 5;
const int GOLDMOB_ARAXOSMINE_27_MAX = 5;
const int GOLDMOB_ARAXOSMINE_28_MAX = 5;
var int GOLDMOB_ARAXOSMINE_NIKOLT_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_01_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_02_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_03_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_04_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_05_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_06_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_07_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_08_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_09_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_10_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_11_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_12_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_13_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_14_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_15_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_16_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_17_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_18_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_19_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_20_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_21_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_22_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_23_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_24_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_25_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_26_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_27_AMOUNT = 0;
var int GOLDMOB_ARAXOSMINE_28_AMOUNT = 0;
var int GOLDCOUNTER_ARAXOSMINE = 0;
var int GOLDCOUNTER_PICKAXEBROKE = 0;
func int B_MINE_CHECKWP() {
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_NIKOLT")) && ((GOLDMOB_ARAXOSMINE_NIKOLT_MAX) > (GOLDMOB_ARAXOSMINE_NIKOLT_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_NIKOLT_AMOUNT = (GOLDMOB_ARAXOSMINE_NIKOLT_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_01")) && ((GOLDMOB_ARAXOSMINE_01_MAX) > (GOLDMOB_ARAXOSMINE_01_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_01_AMOUNT = (GOLDMOB_ARAXOSMINE_01_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_02")) && ((GOLDMOB_ARAXOSMINE_02_MAX) > (GOLDMOB_ARAXOSMINE_02_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_02_AMOUNT = (GOLDMOB_ARAXOSMINE_02_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_03")) && ((GOLDMOB_ARAXOSMINE_03_MAX) > (GOLDMOB_ARAXOSMINE_03_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_03_AMOUNT = (GOLDMOB_ARAXOSMINE_03_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_04")) && ((GOLDMOB_ARAXOSMINE_04_MAX) > (GOLDMOB_ARAXOSMINE_04_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_04_AMOUNT = (GOLDMOB_ARAXOSMINE_04_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_05")) && ((GOLDMOB_ARAXOSMINE_05_MAX) > (GOLDMOB_ARAXOSMINE_05_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_05_AMOUNT = (GOLDMOB_ARAXOSMINE_05_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_06")) && ((GOLDMOB_ARAXOSMINE_06_MAX) > (GOLDMOB_ARAXOSMINE_06_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_06_AMOUNT = (GOLDMOB_ARAXOSMINE_06_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_07")) && ((GOLDMOB_ARAXOSMINE_07_MAX) > (GOLDMOB_ARAXOSMINE_07_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_07_AMOUNT = (GOLDMOB_ARAXOSMINE_07_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_08")) && ((GOLDMOB_ARAXOSMINE_08_MAX) > (GOLDMOB_ARAXOSMINE_08_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_08_AMOUNT = (GOLDMOB_ARAXOSMINE_08_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_09")) && ((GOLDMOB_ARAXOSMINE_09_MAX) > (GOLDMOB_ARAXOSMINE_09_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_09_AMOUNT = (GOLDMOB_ARAXOSMINE_09_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_10")) && ((GOLDMOB_ARAXOSMINE_10_MAX) > (GOLDMOB_ARAXOSMINE_10_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_10_AMOUNT = (GOLDMOB_ARAXOSMINE_10_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_11")) && ((GOLDMOB_ARAXOSMINE_11_MAX) > (GOLDMOB_ARAXOSMINE_11_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_11_AMOUNT = (GOLDMOB_ARAXOSMINE_11_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_12")) && ((GOLDMOB_ARAXOSMINE_12_MAX) > (GOLDMOB_ARAXOSMINE_12_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_12_AMOUNT = (GOLDMOB_ARAXOSMINE_12_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_13")) && ((GOLDMOB_ARAXOSMINE_13_MAX) > (GOLDMOB_ARAXOSMINE_13_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_13_AMOUNT = (GOLDMOB_ARAXOSMINE_13_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_14")) && ((GOLDMOB_ARAXOSMINE_14_MAX) > (GOLDMOB_ARAXOSMINE_14_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_14_AMOUNT = (GOLDMOB_ARAXOSMINE_14_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_15")) && ((GOLDMOB_ARAXOSMINE_15_MAX) > (GOLDMOB_ARAXOSMINE_15_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_15_AMOUNT = (GOLDMOB_ARAXOSMINE_15_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_16")) && ((GOLDMOB_ARAXOSMINE_16_MAX) > (GOLDMOB_ARAXOSMINE_16_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_16_AMOUNT = (GOLDMOB_ARAXOSMINE_16_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_17")) && ((GOLDMOB_ARAXOSMINE_17_MAX) > (GOLDMOB_ARAXOSMINE_17_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_17_AMOUNT = (GOLDMOB_ARAXOSMINE_17_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_18")) && ((GOLDMOB_ARAXOSMINE_18_MAX) > (GOLDMOB_ARAXOSMINE_18_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_18_AMOUNT = (GOLDMOB_ARAXOSMINE_18_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_19")) && ((GOLDMOB_ARAXOSMINE_19_MAX) > (GOLDMOB_ARAXOSMINE_19_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_19_AMOUNT = (GOLDMOB_ARAXOSMINE_19_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_20")) && ((GOLDMOB_ARAXOSMINE_20_MAX) > (GOLDMOB_ARAXOSMINE_20_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_20_AMOUNT = (GOLDMOB_ARAXOSMINE_20_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_21")) && ((GOLDMOB_ARAXOSMINE_21_MAX) > (GOLDMOB_ARAXOSMINE_21_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_21_AMOUNT = (GOLDMOB_ARAXOSMINE_21_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_22")) && ((GOLDMOB_ARAXOSMINE_22_MAX) > (GOLDMOB_ARAXOSMINE_22_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_22_AMOUNT = (GOLDMOB_ARAXOSMINE_22_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_23")) && ((GOLDMOB_ARAXOSMINE_23_MAX) > (GOLDMOB_ARAXOSMINE_23_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_23_AMOUNT = (GOLDMOB_ARAXOSMINE_23_AMOUNT) + (1);
        return TRUE;
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_24")) && ((GOLDMOB_ARAXOSMINE_24_MAX) > (GOLDMOB_ARAXOSMINE_24_AMOUNT))) {
        GOLDMOB_ARAXOSMINE_24_AMOUNT = (GOLDMOB_ARAXOSMINE_24_AMOUNT) + (1);
        return TRUE;
    };
    return FALSE;
}

func void GOLDHACKEN_ARAXOSMINE_S1() {
    HER = HLP_GETNPC(0xc3ab);
    if ((HLP_GETINSTANCEID(SELF)) == (HLP_GETINSTANCEID(HER))) {
        if ((SELF.ATTRIBUTE[0]) <= (10)) {
            if ((SQ119_NEEDTOREST) == (FALSE)) {
                SQ119_NEEDTOREST = TRUE;
            };
            AI_USEMOB(HERO, NPC_GETDETECTEDMOB(HERO), -(1));
            AI_OUTPUT(HERO, HERO, "DIA_Marvin_Goldhacken_AraxosMine_Tired_15_01");
        };
        if ((SQ119_NEEDTOREST) == (FALSE)) {
            SELF.AIVAR[4] = TRUE;
            PLAYER_MOBSI_PRODUCTION = MOBSI_GOLDHACKEN_ARAXOSMINE;
            AI_PROCESSINFOS(HER);
        } else {
            AI_USEMOB(HERO, NPC_GETDETECTEDMOB(HERO), -(1));
        };
    };
}

instance GOLDHACKEN_ARAXOSMINE_S1.HER(C_NPC)
func void GOLDHACKEN_ARAXOSMINE_CHANGENAME() {
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_NIKOLT")) && ((GOLDMOB_ARAXOSMINE_NIKOLT_AMOUNT) == (GOLDMOB_ARAXOSMINE_NIKOLT_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_01")) && ((GOLDMOB_ARAXOSMINE_01_AMOUNT) == (GOLDMOB_ARAXOSMINE_01_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_02")) && ((GOLDMOB_ARAXOSMINE_02_AMOUNT) == (GOLDMOB_ARAXOSMINE_02_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_03")) && ((GOLDMOB_ARAXOSMINE_03_AMOUNT) == (GOLDMOB_ARAXOSMINE_03_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_04")) && ((GOLDMOB_ARAXOSMINE_04_AMOUNT) == (GOLDMOB_ARAXOSMINE_04_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_05")) && ((GOLDMOB_ARAXOSMINE_05_AMOUNT) == (GOLDMOB_ARAXOSMINE_05_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_06")) && ((GOLDMOB_ARAXOSMINE_06_AMOUNT) == (GOLDMOB_ARAXOSMINE_06_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_07")) && ((GOLDMOB_ARAXOSMINE_07_AMOUNT) == (GOLDMOB_ARAXOSMINE_07_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_08")) && ((GOLDMOB_ARAXOSMINE_08_AMOUNT) == (GOLDMOB_ARAXOSMINE_08_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_09")) && ((GOLDMOB_ARAXOSMINE_09_AMOUNT) == (GOLDMOB_ARAXOSMINE_09_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_10")) && ((GOLDMOB_ARAXOSMINE_10_AMOUNT) == (GOLDMOB_ARAXOSMINE_10_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_11")) && ((GOLDMOB_ARAXOSMINE_11_AMOUNT) == (GOLDMOB_ARAXOSMINE_11_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_12")) && ((GOLDMOB_ARAXOSMINE_12_AMOUNT) == (GOLDMOB_ARAXOSMINE_12_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_13")) && ((GOLDMOB_ARAXOSMINE_13_AMOUNT) == (GOLDMOB_ARAXOSMINE_13_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_14")) && ((GOLDMOB_ARAXOSMINE_14_AMOUNT) == (GOLDMOB_ARAXOSMINE_14_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_15")) && ((GOLDMOB_ARAXOSMINE_15_AMOUNT) == (GOLDMOB_ARAXOSMINE_15_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_16")) && ((GOLDMOB_ARAXOSMINE_16_AMOUNT) == (GOLDMOB_ARAXOSMINE_16_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_17")) && ((GOLDMOB_ARAXOSMINE_17_AMOUNT) == (GOLDMOB_ARAXOSMINE_17_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_18")) && ((GOLDMOB_ARAXOSMINE_18_AMOUNT) == (GOLDMOB_ARAXOSMINE_18_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_19")) && ((GOLDMOB_ARAXOSMINE_19_AMOUNT) == (GOLDMOB_ARAXOSMINE_19_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_20")) && ((GOLDMOB_ARAXOSMINE_20_AMOUNT) == (GOLDMOB_ARAXOSMINE_20_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_21")) && ((GOLDMOB_ARAXOSMINE_21_AMOUNT) == (GOLDMOB_ARAXOSMINE_21_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_22")) && ((GOLDMOB_ARAXOSMINE_22_AMOUNT) == (GOLDMOB_ARAXOSMINE_22_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_23")) && ((GOLDMOB_ARAXOSMINE_23_AMOUNT) == (GOLDMOB_ARAXOSMINE_23_MAX))) {
    };
    if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PART7_MINE_GOLDMOB_24")) && ((GOLDMOB_ARAXOSMINE_24_AMOUNT) == (GOLDMOB_ARAXOSMINE_24_MAX))) {
        MOB_CHANGEFOCUSNAME("GOLDMOB_ARAXOSMINE_24", "MOBNAME_GOLDMOB_EMPTY");
    };
}

instance PC_GOLDHACKEN_ARAXOSMINE_END(C_INFO) {
    NPC = 0xc3ab;
    NR = 999;
    CONDITION = PC_GOLDHACKEN_ARAXOSMINE_END_CONDITION;
    INFORMATION = PC_GOLDHACKEN_ARAXOSMINE_END_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int PC_GOLDHACKEN_ARAXOSMINE_END_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_GOLDHACKEN_ARAXOSMINE)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_GOLDHACKEN_ARAXOSMINE_END_INFO() {
    B_ENDPRODUCTIONDIALOG();
}

instance PC_GOLDHACKEN_ARAXOSMINE_ADDON_HOUR(C_INFO) {
    NPC = 0xc3ab;
    NR = 2;
    CONDITION = PC_GOLDHACKEN_ARAXOSMINE_ADDON_HOUR_CONDITION;
    INFORMATION = PC_GOLDHACKEN_ARAXOSMINE_ADDON_HOUR_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_DIGALITTLE;
}

var int GOLDCOUNTER_NEEDTOTAKEBREAK = 0;
func int PC_GOLDHACKEN_ARAXOSMINE_ADDON_HOUR_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_GOLDHACKEN_ARAXOSMINE)) {
        if ((SQ119_NEEDTOREST) == (FALSE)) {
            if ((HLP_STRCMP(NPC_GETNEARESTWP(HERO), "PART7_MINE_GOLDMOB_NIKOLT")) == (FALSE)) {
                return TRUE;
            };
            if ((SQ119_CANWORKWITHNIKOLTGOLDMOB) == (TRUE)) {
                return TRUE;
            };
        };
    };
    return 0 /* !broken stack! */;
}

var int ARAXOSMINE_COUNTPICKAXE = 0;
func void GOLDCOUNTER_PICKAXEBROKE_PREPARE() {
    ARAXOSMINE_COUNTPICKAXE = NPC_HASITEMS(HERO, 0x84df);
    FF_APPLYONCEEXT(0xb8e9, 30, 7);
    HERO.AIVAR[4] = FALSE;
    PLAYER_MOBSI_PRODUCTION = MOBSI_NONE;
    AI_STOPPROCESSINFOS(HERO);
}

func void GOLDCOUNTER_PICKAXEBROKE_APPLY() {
    GOLDCOUNTER_PICKAXEBROKE_COUNT = (GOLDCOUNTER_PICKAXEBROKE_COUNT) + (1);
    if ((GOLDCOUNTER_PICKAXEBROKE_COUNT) == (5)) {
        NPC_REMOVEINVITEMS(HERO, 0x84df, ARAXOSMINE_COUNTPICKAXE);
        PRINTD("Usuwam kilofy");
        if ((LOG_GETSTATUS(MIS_SQ119)) == (LOG_RUNNING)) {
            if ((SQ119_INFOABOUTPICKAXE_LOGENTRY) == (FALSE)) {
                SQ119_INFOABOUTPICKAXE_LOGENTRY = TRUE;
                if (NPC_KNOWSINFO(HERO, 0x133ac)) {
                    B_LOGENTRY(TOPIC_SQ119, LOG_SQ119_PICKAXEBROKEN_V1);
                    LOG_CREATETOPIC(TOPIC_GOLDMINE, LOG_NOTE);
                    B_LOGENTRY(TOPIC_GOLDMINE, LOG_SQ119_PICKAXEBROKEN_V1);
                } else {
                    B_LOGENTRY(TOPIC_SQ119, LOG_SQ119_PICKAXEBROKEN_V2);
                    LOG_CREATETOPIC(TOPIC_GOLDMINE, LOG_NOTE);
                    B_LOGENTRY(TOPIC_GOLDMINE, LOG_SQ119_PICKAXEBROKEN_V2);
                };
            };
        };
    };
    if ((GOLDCOUNTER_PICKAXEBROKE_COUNT) == (6)) {
        if ((ARAXOSMINE_COUNTPICKAXE) != (1)) {
            CREATEINVITEMS(HERO, 0x84df, (ARAXOSMINE_COUNTPICKAXE) - (1));
        };
        GOLDCOUNTER_PICKAXEBROKE = 0;
    };
    if ((GOLDCOUNTER_PICKAXEBROKE_COUNT) == (7)) {
        GOLDCOUNTER_PICKAXEBROKE_COUNT = 0;
        ARAXOSMINE_COUNTPICKAXE = 0;
    };
}

var int GOLDCOUNTER_PICKAXEBROKE_APPLY.GOLDCOUNTER_PICKAXEBROKE_COUNT = 0;
var int GOLDCOUNTER_PICKAXEBROKE_APPLY.SQ119_INFOABOUTPICKAXE_LOGENTRY = 0;
func void PC_GOLDHACKEN_ARAXOSMINE_ADDON_HOUR_INFO() {
    if ((GOLDCOUNTER_PICKAXEBROKE) == (25)) {
        SND_PLAY3D(SELF, "PickAxeBroke");
        B_SAY(HERO, HERO, "$PickBroke");
        AI_USEMOB(HERO, NPC_GETDETECTEDMOB(HERO), -(1));
        AI_FUNCTION(HERO, 0xb8e8);
    };
    GOLDCOUNTER_PICKAXEBROKE = (GOLDCOUNTER_PICKAXEBROKE) + (1);
    if ((GOLDCOUNTER_NEEDTOTAKEBREAK) == (50)) {
        GOLDCOUNTER_NEEDTOTAKEBREAK = 0;
        PRINTSCREEN(PRINT_ARAXOSMINE_TAKEABREAK, -(1), -(1), FONT_SCREEN, 6);
        SQ119_NEEDTOREST = TRUE;
        B_ENDPRODUCTIONDIALOG();
    };
    GOLDCOUNTER_NEEDTOTAKEBREAK = (GOLDCOUNTER_NEEDTOTAKEBREAK) + (1);
    if ((HERO.ATTRIBUTE[0]) > (((HERO.ATTRIBUTE[1]) / (70)) + (2))) {
        HERO.ATTRIBUTE[0] -= (HERO.ATTRIBUTE[1]) / (70);
    };
    HERO.ATTRIBUTE[0] = 2;
    CURRENTCHANCE = HLP_RANDOM(100);
    MULTINUGGET = HLP_RANDOM(10);
    if ((B_MINE_CHECKWP()) == (TRUE)) {
        if ((CURRENTCHANCE) <= (HERO_HACKCHANCE)) {
            if (((GOLDCOUNTER_ARAXOSMINE) >= (20)) && ((MULTINUGGET) >= (8))) {
                CREATEINVITEMS(HERO, 0x837c, 3);
                PRINTSCREENS(PRINT_GOLDDIGV3, -(1), -(1), FONT_SCREENSMALL, 2);
                GOLDCOUNTER_ARAXOSMINE = 0;
            } else if (((GOLDCOUNTER_ARAXOSMINE) >= (7)) && ((MULTINUGGET) >= (5))) {
                CREATEINVITEMS(HERO, 0x837c, 2);
                PRINTSCREENS(PRINT_GOLDDIGV2, -(1), -(1), FONT_SCREENSMALL, 2);
                GOLDCOUNTER_ARAXOSMINE = (GOLDCOUNTER_ARAXOSMINE) + (1);
            } else {
                CREATEINVITEMS(HERO, 0x837c, 1);
                PRINTSCREENS(PRINT_GOLDDIGV1, -(1), -(1), FONT_SCREENSMALL, 2);
                GOLDCOUNTER_ARAXOSMINE = (GOLDCOUNTER_ARAXOSMINE) + (1);
            } else {
                ACH_16_GOLD = TRUE;
            } else {
                /* set_instance(0) */;
            };
        };
        PRINTSCREENS(PRINT_GOLDDIGGING, -(1), -(1), FONT_SCREENSMALL, 2);
        B_TEACHEXTRACTION_MYSELF();
    };
    GOLDHACKEN_ARAXOSMINE_CHANGENAME();
    PRINTSCREENS(PRINT_NOTHINGLEFT, -(1), -(1), FONT_SCREENSMALL, 2);
    B_ENDPRODUCTIONDIALOG();
    if (HLP_STRCMP(NPC_GETNEARESTWP(HERO), "PART7_MINE_GOLDMOB_NIKOLT")) {
        if ((SQ119_SPAWNTOLLEK_CHECK) == (FALSE)) {
            SQ119_SPAWNTOLLEK_CHECK = TRUE;
            SQ119_TOLLEKSPAWN();
        };
    };
}

var int PC_GOLDHACKEN_ARAXOSMINE_ADDON_HOUR_INFO.CURRENTCHANCE = 0;
var int PC_GOLDHACKEN_ARAXOSMINE_ADDON_HOUR_INFO.MULTINUGGET = 0;
