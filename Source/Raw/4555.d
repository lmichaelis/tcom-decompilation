instance KQ407_GRAYSON(CUTSCENE) {
    ONSTART = FUNCTION(0x168ea);
}

func void KQ407_GRAYSON_START() {
    MUSIC_OVERRIDETRACK(0x559e);
    WLD_SENDTRIGGER("KQ407_GRAYSON_01");
    NPC_CLEARAIQUEUE(NONE_11068_GRAYSON);
    NPC_CLEARAIQUEUE(SLD_1000_ADELARD);
    NPC_CLEARAIQUEUE(MIL_4001_OKTAV);
    NONE_11068_GRAYSON.AIVAR[92] = TRUE;
    TELEPORTNPCTOWP(0xd1f0, NONE_11068_GRAYSON.WP);
    TELEPORTNPCTOWP(0xd1ca, MIL_13381_EURIC.WP);
    TELEPORTNPCTOWP(0xd1d7, MIL_13382_HUXLAY.WP);
    TELEPORTNPCTOWP(0xcb49, SLD_1017_GAROS.WP);
    TELEPORTNPCTOWP(0xcb0a, SLD_1000_ADELARD.WP);
    TELEPORTNPCTOWP(0xce55, MIL_4001_OKTAV.WP);
    TELEPORTNPCTOWP(0xce6f, MIL_4016_WEGAR.WP);
    TELEPORTNPCTOWP(0x71b, "HARBOUR_HOUSE01_KQ407_HERO");
    B_TURNTONPC(MIL_13381_EURIC, HERO);
    B_TURNTONPC(MIL_13382_HUXLAY, HERO);
    B_TURNTONPC(SLD_1017_GAROS, NONE_11068_GRAYSON);
    B_TURNTONPC(SLD_1000_ADELARD, NONE_11068_GRAYSON);
    B_TURNTONPC(MIL_4001_OKTAV, NONE_11068_GRAYSON);
    B_TURNTONPC(MIL_4016_WEGAR, NONE_11068_GRAYSON);
    B_TURNTONPC(NONE_11068_GRAYSON, HERO);
    B_TURNTONPC(HERO, NONE_11068_GRAYSON);
    AI_OUTPUT(NONE_11068_GRAYSON, HERO, "DIA_Grayson_KQ407_Cutscene_03_01");
    AI_FUNCTION(NONE_11068_GRAYSON, 0x168ec);
    AI_OUTPUT(NONE_11068_GRAYSON, HERO, "DIA_Grayson_KQ407_Cutscene_03_02");
    AI_OUTPUT(NONE_11068_GRAYSON, HERO, "DIA_Grayson_KQ407_Cutscene_03_03");
    AI_FUNCTION(NONE_11068_GRAYSON, 0x168ed);
    AI_OUTPUT(NONE_11068_GRAYSON, HERO, "DIA_Grayson_KQ407_Cutscene_03_04");
    AI_OUTPUT(NONE_11068_GRAYSON, HERO, "DIA_Grayson_KQ407_Cutscene_03_05");
    AI_FUNCTION(NONE_11068_GRAYSON, 0x168ee);
    AI_OUTPUT(NONE_11068_GRAYSON, HERO, "DIA_Grayson_KQ407_Cutscene_03_06");
    AI_OUTPUT(NONE_11068_GRAYSON, HERO, "DIA_Grayson_KQ407_Cutscene_03_07");
    AI_FUNCTION(NONE_11068_GRAYSON, 0x168ef);
    AI_OUTPUT(NONE_11068_GRAYSON, HERO, "DIA_Grayson_KQ407_Cutscene_03_08");
    AI_OUTPUT(NONE_11068_GRAYSON, HERO, "DIA_Grayson_KQ407_Cutscene_03_09");
    AI_FUNCTION(NONE_11068_GRAYSON, 0x168f0);
    AI_OUTPUT(NONE_11068_GRAYSON, HERO, "DIA_Grayson_KQ407_Cutscene_03_10");
    AI_FUNCTION(NONE_11068_GRAYSON, 0x168f1);
    AI_OUTPUT(NONE_11068_GRAYSON, HERO, "DIA_Grayson_KQ407_Cutscene_03_11");
    AI_FUNCTION(NONE_11068_GRAYSON, 0x168f2);
    AI_OUTPUT(NONE_11068_GRAYSON, HERO, "DIA_Grayson_KQ407_Cutscene_03_12");
    AI_FUNCTION(NONE_11068_GRAYSON, 0x168f3);
    AI_OUTPUT(NONE_11068_GRAYSON, HERO, "DIA_Grayson_KQ407_Cutscene_03_13");
    AI_FUNCTION(NONE_11068_GRAYSON, 0x168f4);
    AI_OUTPUT(NONE_11068_GRAYSON, HERO, "DIA_Grayson_KQ407_Cutscene_03_14");
    AI_FUNCTION(NONE_11068_GRAYSON, 0x168f5);
    AI_OUTPUT(NONE_11068_GRAYSON, HERO, "DIA_Grayson_KQ407_Cutscene_03_15");
    AI_OUTPUT(NONE_11068_GRAYSON, HERO, "DIA_Grayson_KQ407_Cutscene_03_16");
    AI_FUNCTION(NONE_11068_GRAYSON, 0x168f6);
    AI_OUTPUT(NONE_11068_GRAYSON, HERO, "DIA_Grayson_KQ407_Cutscene_03_17");
    AI_FUNCTION(NONE_11068_GRAYSON, 0x168f7);
    AI_OUTPUT(NONE_11068_GRAYSON, HERO, "DIA_Grayson_KQ407_Cutscene_03_18");
    AI_FUNCTION(NONE_11068_GRAYSON, 0x168eb);
}

func void KQ407_GRAYSON_END() {
    FF_APPLYONCEEXT(0xf156, 75, 4);
    HERO.AIVAR[4] = FALSE;
}

func void KQ407_GRAYSON_CAMERA_01() {
    WLD_SENDTRIGGER("KQ407_GRAYSON_02");
    WLD_SENDUNTRIGGER("KQ407_GRAYSON_01");
}

func void KQ407_GRAYSON_CAMERA_02() {
    WLD_SENDTRIGGER("KQ407_GRAYSON_03");
    WLD_SENDUNTRIGGER("KQ407_GRAYSON_02");
}

func void KQ407_GRAYSON_CAMERA_03() {
    WLD_SENDTRIGGER("KQ407_GRAYSON_04");
    WLD_SENDUNTRIGGER("KQ407_GRAYSON_03");
}

func void KQ407_GRAYSON_CAMERA_04() {
    WLD_SENDTRIGGER("KQ407_GRAYSON_05");
    WLD_SENDUNTRIGGER("KQ407_GRAYSON_04");
}

func void KQ407_GRAYSON_CAMERA_05() {
    WLD_SENDTRIGGER("KQ407_GRAYSON_06");
    WLD_SENDUNTRIGGER("KQ407_GRAYSON_05");
}

func void KQ407_GRAYSON_CAMERA_06() {
    WLD_SENDTRIGGER("KQ407_GRAYSON_07");
    WLD_SENDUNTRIGGER("KQ407_GRAYSON_06");
}

func void KQ407_GRAYSON_CAMERA_07() {
    WLD_SENDTRIGGER("KQ407_GRAYSON_08");
    WLD_SENDUNTRIGGER("KQ407_GRAYSON_07");
}

func void KQ407_GRAYSON_CAMERA_08() {
    WLD_SENDTRIGGER("KQ407_GRAYSON_09");
    WLD_SENDUNTRIGGER("KQ407_GRAYSON_08");
}

func void KQ407_GRAYSON_CAMERA_09() {
    WLD_SENDTRIGGER("KQ407_GRAYSON_10");
    WLD_SENDUNTRIGGER("KQ407_GRAYSON_09");
}

func void KQ407_GRAYSON_CAMERA_10() {
    WLD_SENDTRIGGER("KQ407_GRAYSON_11");
    WLD_SENDUNTRIGGER("KQ407_GRAYSON_10");
}

func void KQ407_GRAYSON_CAMERA_11() {
    WLD_SENDTRIGGER("KQ407_GRAYSON_12");
    WLD_SENDUNTRIGGER("KQ407_GRAYSON_11");
}

func void KQ407_GRAYSON_CAMERA_12() {
    WLD_SENDTRIGGER("KQ407_GRAYSON_13");
    WLD_SENDUNTRIGGER("KQ407_GRAYSON_12");
}

