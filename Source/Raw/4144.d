var int GQ001_MYRMIDON_CAVE = 0;
var int GQ001_MYRMIDON_WHO = 0;
var int GQ001_MYRMIDON_INFORMATION = 0;
var int GQ001_MYRMIDON_WHAT = 0;
var int GQ001_MYRMIDON_GONZALO = 0;
instance DIA_BDT_MYRMIDON_EXIT(C_INFO) {
    NPC = 0xe2b4;
    NR = 999;
    CONDITION = DIA_BDT_MYRMIDON_EXIT_CONDITION;
    INFORMATION = DIA_BDT_MYRMIDON_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_BDT_MYRMIDON_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_BDT_MYRMIDON_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_BDT_MYRMIDON_HELLO(C_INFO) {
    NPC = 0xe2b4;
    NR = 1;
    CONDITION = DIA_BDT_MYRMIDON_HELLO_CONDITION;
    INFORMATION = DIA_BDT_MYRMIDON_HELLO_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BDT_MYRMIDON_HELLO_CONDITION() {
    if (((NPC_KNOWSINFO(OTHER, 0x14a02)) && ((LOG_GETSTATUS(MIS_Q207)) == (LOG_SUCCESS))) && ((KAPITEL) == (3))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BDT_MYRMIDON_HELLO_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_03_01");
    INFO_CLEARCHOICES(0x14326);
    INFO_ADDCHOICE(0x14326, "I saw you in the cave.", 0x1432c);
}

var int MYRMIDON_HELLO_GONZALO = 0;
var int MYRMIDON_HELLO_BUISNESS = 0;
func void DIA_BDT_MYRMIDON_HELLO_CHOICES() {
    INFO_CLEARCHOICES(0x14326);
    if ((MYRMIDON_HELLO_GONZALO) == (FALSE)) {
        INFO_ADDCHOICE(0x14326, "Why did you kill Gonzalo?", 0x1432d);
    };
    if ((MYRMIDON_HELLO_BUISNESS) == (FALSE)) {
        INFO_ADDCHOICE(0x14326, "You guys said something about taking over the business.", 0x1432f);
    };
}

func void DIA_BDT_MYRMIDON_HELLO_CAVE() {
    AI_OUTPUT(OTHER, SELF, "DIA_BDT_Myrmidon_HELLO_Cave_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Cave_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Cave_03_03");
    DIA_BDT_MYRMIDON_HELLO_CHOICES();
}

func void DIA_BDT_MYRMIDON_HELLO_CAVE_GONZALO() {
    MYRMIDON_HELLO_GONZALO = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_BDT_Myrmidon_HELLO_Gonzalo_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Gonzalo_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Gonzalo_03_03");
    INFO_CLEARCHOICES(0x14326);
    INFO_ADDCHOICE(0x14326, "I ask seriously.", 0x1432e);
}

func void DIA_BDT_MYRMIDON_HELLO_CAVE_GONZALO_SERIOUS() {
    AI_OUTPUT(OTHER, SELF, "DIA_BDT_Myrmidon_HELLO_Serious_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Serious_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Serious_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Serious_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Serious_03_05");
    DIA_BDT_MYRMIDON_HELLO_CHOICES();
}

func void DIA_BDT_MYRMIDON_HELLO_CAVE_BUSINESS() {
    MYRMIDON_HELLO_BUISNESS = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_BDT_Myrmidon_HELLO_Business_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_BDT_Myrmidon_HELLO_Business_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Business_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Business_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Business_03_05");
    INFO_CLEARCHOICES(0x14326);
    INFO_ADDCHOICE(0x14326, "Do you know anything about the recent kidnapping in Silbach?", 0x14330);
}

func void DIA_BDT_MYRMIDON_HELLO_CAVE_BUSINESS_SILBACH() {
    AI_OUTPUT(OTHER, SELF, "DIA_BDT_Myrmidon_HELLO_Silbach_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Silbach_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Silbach_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Silbach_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Silbach_03_05");
    INFO_CLEARCHOICES(0x14326);
    INFO_ADDCHOICE(0x14326, "Someone trashed my uncle's hut to get my brother.", 0x14331);
    INFO_ADDCHOICE(0x14326, "You look like a professional.", 0x14332);
}

func void DIA_BDT_MYRMIDON_HELLO_CAVE_BUSINESS_SILBACH_BROTHER() {
    AI_OUTPUT(OTHER, SELF, "DIA_BDT_Myrmidon_HELLO_Brother_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_BDT_Myrmidon_HELLO_Brother_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Brother_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_BDT_Myrmidon_HELLO_Brother_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Brother_03_05");
}

func void DIA_BDT_MYRMIDON_HELLO_CAVE_BUSINESS_SILBACH_PROFESSIONAL() {
    AI_OUTPUT(OTHER, SELF, "DIA_BDT_Myrmidon_HELLO_Professional_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_BDT_Myrmidon_HELLO_Professional_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Professional_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_BDT_Myrmidon_HELLO_Professional_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Professional_03_05");
    INFO_CLEARCHOICES(0x14326);
    INFO_ADDCHOICE(0x14326, "Circumstantial evidence suggests that there were two kidnappers.", 0x14333);
}

func void DIA_BDT_MYRMIDON_HELLO_CAVE_BUSINESS_SILBACH_PROFESSIONAL_TRACE() {
    AI_OUTPUT(OTHER, SELF, "DIA_BDT_Myrmidon_HELLO_Trace_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_BDT_Myrmidon_HELLO_Trace_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Trace_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Trace_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Trace_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Trace_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Trace_03_07");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Trace_03_08");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Trace_03_09");
    AI_FUNCTION(SELF, 0xfa6b);
    AI_STANDUPQUICK(SELF);
    AI_TURNTONPC(SELF, PIR_1303_CORTEZ);
    AI_WAIT(SELF, 0x40000000);
    AI_TURNTONPC(SELF, OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Trace_03_10");
    AI_LOGENTRY(TOPIC_Q301, LOG_GQ001_MYRMIDON);
    INFO_CLEARCHOICES(0x14326);
    Q301_MYRMIDON_FINISHTALK = TRUE;
    AI_STOPPROCESSINFOS(SELF);
}

func void DIA_BDT_MYRMIDON_HELLO_INFORMATION() {
    GQ001_MYRMIDON_INFORMATION = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_BDT_Myrmidon_HELLO_Information_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Information_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Information_03_03");
}

func void DIA_BDT_MYRMIDON_HELLO_WHO() {
    GQ001_MYRMIDON_WHO = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_BDT_Myrmidon_HELLO_Who_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Who_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_Who_03_03");
}

func void DIA_BDT_MYRMIDON_HELLO_WHAT() {
    GQ001_MYRMIDON_WHAT = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_BDT_Myrmidon_HELLO_What_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_BDT_Myrmidon_HELLO_What_03_02");
}

instance DIA_BDT_MYRMIDON_WHO(C_INFO) {
    NPC = 0xe2b4;
    NR = 1;
    CONDITION = DIA_BDT_MYRMIDON_WHO_CONDITION;
    INFORMATION = DIA_BDT_MYRMIDON_WHO_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Who are you?";
}

func int DIA_BDT_MYRMIDON_WHO_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x14326)) && ((GQ001_MYRMIDON_WHO) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BDT_MYRMIDON_WHO_INFO() {
    DIA_BDT_MYRMIDON_HELLO_WHO();
}

instance DIA_BDT_MYRMIDON_WHAT(C_INFO) {
    NPC = 0xe2b4;
    NR = 1;
    CONDITION = DIA_BDT_MYRMIDON_WHAT_CONDITION;
    INFORMATION = DIA_BDT_MYRMIDON_WHAT_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "What are you doing here?";
}

func int DIA_BDT_MYRMIDON_WHAT_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x14326)) && ((GQ001_MYRMIDON_WHAT) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BDT_MYRMIDON_WHAT_INFO() {
    DIA_BDT_MYRMIDON_HELLO_WHAT();
}

instance DIA_BDT_MYRMIDON_INFORMATION(C_INFO) {
    NPC = 0xe2b4;
    NR = 1;
    CONDITION = DIA_BDT_MYRMIDON_INFORMATION_CONDITION;
    INFORMATION = DIA_BDT_MYRMIDON_INFORMATION_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I need information.";
}

func int DIA_BDT_MYRMIDON_INFORMATION_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x14326)) && ((GQ001_MYRMIDON_INFORMATION) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BDT_MYRMIDON_INFORMATION_INFO() {
    DIA_BDT_MYRMIDON_HELLO_INFORMATION();
}

instance DIA_BDT_MYRMIDON_GONZALO(C_INFO) {
    NPC = 0xe2b4;
    NR = 1;
    CONDITION = DIA_BDT_MYRMIDON_GONZALO_CONDITION;
    INFORMATION = DIA_BDT_MYRMIDON_GONZALO_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Why did you kill Gonzalo?";
}

func int DIA_BDT_MYRMIDON_GONZALO_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x14326)) && ((GQ001_MYRMIDON_GONZALO) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BDT_MYRMIDON_GONZALO_INFO() {
    DIA_BDT_MYRMIDON_HELLO_CAVE_GONZALO();
}

instance DIA_MYRMIDON_AMBIENT(C_INFO) {
    NPC = 0xe2b4;
    NR = 990;
    CONDITION = DIA_MYRMIDON_AMBIENT_CONDITION;
    INFORMATION = DIA_MYRMIDON_AMBIENT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "How is it?";
}

func int DIA_MYRMIDON_AMBIENT_CONDITION() {
    if ((((((GQ001_MYRMIDON_GONZALO) == (TRUE)) && ((GQ001_MYRMIDON_INFORMATION) == (TRUE))) && ((GQ001_MYRMIDON_WHAT) == (TRUE))) && ((GQ001_MYRMIDON_WHO) == (TRUE))) && ((KAPITEL) != (4))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_MYRMIDON_AMBIENT_INFO() {
    B_SAY(OTHER, SELF, "$MARVIN_Aaand");
    if (((Q306_TOURNAMENTSTATUS) != (1)) && ((Q306_TOURNAMENTSTATUS) != (2))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Myrmidon_Ambient_03_01");
    };
    if ((Q306_TOURNAMENTSTATUS) == (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Myrmidon_Ambient_03_02");
    };
    if ((Q306_TOURNAMENTSTATUS) == (2)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Myrmidon_Ambient_03_03");
    };
}

instance DIA_MYRMIDON_KQ405_HARRY(C_INFO) {
    NPC = 0xe2b4;
    NR = 1;
    CONDITION = DIA_MYRMIDON_KQ405_HARRY_CONDITION;
    INFORMATION = DIA_MYRMIDON_KQ405_HARRY_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_MYRMIDON_KQ405_HARRY_CONDITION() {
    if (((LOG_GETSTATUS(MIS_KQ405)) == (LOG_RUNNING)) && ((KQ405_HUNTERSEVENT) == (2))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_MYRMIDON_KQ405_HARRY_INFO() {
    TRIA_INVITE(BDT_6289_VILLAN);
    TRIA_INVITE(BDT_6290_BANDIT);
    TRIA_START();
    AI_OUTPUT(OTHER, SELF, "DIA_Myrmidon_KQ405_Harry_15_01");
    AI_WAITTILLEND(SELF, OTHER);
    AI_PLAYANI(SELF, "T_SEARCH");
    AI_WAITTILLEND(OTHER, SELF);
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Myrmidon_KQ405_Harry_15_02");
    AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Myrmidon_KQ405_Harry_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Myrmidon_KQ405_Harry_03_04");
    AI_RESETFACEANI(OTHER);
    INFO_CLEARCHOICES(0x14346);
    if (((MARVIN_LOSTGUILDMILITA) == (TRUE)) || ((HERO.GUILD) == (GIL_MIL))) {
        INFO_ADDCHOICE(0x14346, "Wait, I know you! You killed Gonzalo!", 0x1434d);
    };
    INFO_ADDCHOICE(0x14346, "I am sent by the Royal Envoy.", 0x1434c);
    INFO_ADDCHOICE(0x14346, "I have a case for him.", 0x1434b);
}

func void DIA_MYRMIDON_KQ405_HARRY_RUINS() {
    AI_OUTPUT(SELF, OTHER, "DIA_Myrmidon_KQ405_Harry_NeedTalk_03_04");
}

func void DIA_MYRMIDON_KQ405_HARRY_GRAYSON_NEXT() {
    AI_OUTPUT(SELF, OTHER, "DIA_Myrmidon_KQ405_Harry_Next_03_01");
    INFO_CLEARCHOICES(0x14346);
    AI_LOGENTRY(TOPIC_KQ405, LOG_KQ405_HARRY_MYRMIDON);
    AI_STOPPROCESSINFOS(SELF);
    TRIA_FINISH();
    AI_STOPLOOKAT(SELF);
    AI_STOPLOOKAT(OTHER);
    AI_FUNCTION(SELF, 0xef3e);
}

func void DIA_MYRMIDON_KQ405_HARRY_NEEDTALK() {
    AI_OUTPUT(OTHER, SELF, "DIA_Myrmidon_KQ405_Harry_NeedTalk_15_01");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Myrmidon_KQ405_Harry_NeedTalk_03_02");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Myrmidon_KQ405_Harry_NeedTalk_03_03");
    DIA_MYRMIDON_KQ405_HARRY_RUINS();
    INFO_CLEARCHOICES(0x14346);
    if ((NPC_HASITEMS(OTHER, 0x859b)) >= (KQ405_HUNTERSPRICE)) {
        INFO_ADDCHOICE(0x14346, "(Offer 200 GP)", 0x1434e);
    };
    INFO_ADDCHOICE(0x14346, "I don't carry that much gold.", 0x1434f);
}

func void DIA_MYRMIDON_KQ405_HARRY_GRAYSON() {
    AI_OUTPUT(OTHER, SELF, "DIA_Myrmidon_KQ405_Harry_Grayson_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Myrmidon_KQ405_Harry_Grayson_03_02");
    DIA_MYRMIDON_KQ405_HARRY_RUINS();
    DIA_MYRMIDON_KQ405_HARRY_GRAYSON_NEXT();
}

func void DIA_MYRMIDON_KQ405_HARRY_WAITASEC() {
    KQ405_OLDFRIENDS = TRUE;
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Myrmidon_KQ405_Harry_WaitASec_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Myrmidon_KQ405_Harry_WaitASec_03_02");
    INFO_CLEARCHOICES(0x14346);
    AI_STOPPROCESSINFOS(SELF);
    TRIA_FINISH();
    AI_STOPLOOKAT(SELF);
    AI_STOPLOOKAT(OTHER);
    AI_FUNCTION(SELF, 0xef40);
}

func void DIA_MYRMIDON_KQ405_HARRY_NEEDTALK_200() {
    AI_STARTFACEANI(OTHER, S_SMUG, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Roy_Q208_Militia_50_15_01");
    B_MARVIN_USEFAKEBAG_THROW();
    B_GIVEINVITEMS(OTHER, SELF, 0x859b, KQ405_HUNTERSPRICE);
    DIA_MYRMIDON_KQ405_HARRY_GRAYSON_NEXT();
}

func void DIA_MYRMIDON_KQ405_HARRY_NEEDTALK_NOGOLD() {
    AI_OUTPUT(OTHER, SELF, "DIA_Myrmidon_KQ405_Harry_NoGold_15_01");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Myrmidon_KQ405_Harry_NoGold_03_02");
    MARVINCURRENTGOLD = NPC_HASITEMS(OTHER, 0x859b);
    B_GIVEINVITEMS(OTHER, SELF, 0x859b, MARVINCURRENTGOLD);
    DIA_MYRMIDON_KQ405_HARRY_GRAYSON_NEXT();
}

var int DIA_MYRMIDON_KQ405_HARRY_NEEDTALK_NOGOLD.MARVINCURRENTGOLD = 0;
instance DIA_MYRMIDON_KQ405_LETSFIGHT(C_INFO) {
    NPC = 0xe2b4;
    NR = 1;
    CONDITION = DIA_MYRMIDON_KQ405_LETSFIGHT_CONDITION;
    INFORMATION = DIA_MYRMIDON_KQ405_LETSFIGHT_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_MYRMIDON_KQ405_LETSFIGHT_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_KQ405)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x14346))) && ((NPC_GETDISTTOWP(SELF, "PART13_KQ405_HUNTERGUIDE_01")) <= (500))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_MYRMIDON_KQ405_LETSFIGHT_INFO() {
    TRIA_INVITE(BDT_6289_VILLAN);
    TRIA_INVITE(BDT_6290_BANDIT);
    TRIA_START();
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Myrmidon_KQ405_LetsFight_03_01");
    AI_STOPPROCESSINFOS(SELF);
    TRIA_FINISH();
    AI_STOPLOOKAT(SELF);
    AI_STOPLOOKAT(OTHER);
    AI_FUNCTION(SELF, 0xef40);
}

