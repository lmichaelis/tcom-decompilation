instance DIA_NOTGER_EXIT(C_INFO) {
    NPC = 0xdd5d;
    NR = 999;
    CONDITION = DIA_NOTGER_EXIT_CONDITION;
    INFORMATION = DIA_NOTGER_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_NOTGER_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_NOTGER_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

var int NOTGER_LASTPETZCOUNTER = 0;
var int NOTGER_LASTPETZCRIME = 0;
instance DIA_NOTGER_PMDEBTS(C_INFO) {
    NPC = 0xdd5d;
    NR = 1;
    CONDITION = DIA_NOTGER_PMDEBTS_CONDITION;
    INFORMATION = DIA_NOTGER_PMDEBTS_INFO;
    PERMANENT = TRUE;
    IMPORTANT = TRUE;
}

func int DIA_NOTGER_PMDEBTS_CONDITION() {
    if ((LOG_GETSTATUS(MIS_Q514)) != (LOG_SUCCESS)) {
        if (((NPC_ISINSTATE(SELF, 0xf09f)) && ((NOTGER_DEBTS) > (0))) && ((B_GETGREATESTPETZCRIME(SELF)) <= (NOTGER_LASTPETZCRIME))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_NOTGER_PMDEBTS_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_PMDebts_05_00");
    if ((B_GETTOTALPETZCOUNTER(SELF)) > (NOTGER_LASTPETZCOUNTER)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Notger_PMDebts_05_01");
        if ((NOTGER_DEBTS) < (1000)) {
            AI_OUTPUT(SELF, OTHER, "DIA_Notger_PMDebts_05_02");
            AI_OUTPUT(OTHER, SELF, "DIA_Notger_PMAdd_15_00");
            DIFF = (B_GETTOTALPETZCOUNTER(SELF)) - (NOTGER_LASTPETZCOUNTER);
            if ((DIFF) > (0)) {
                NOTGER_DEBTS = (NOTGER_DEBTS) + ((DIFF) * (50));
            };
            if ((NOTGER_DEBTS) > (1000)) {
                NOTGER_DEBTS = 1000;
            };
            B_SAY_GOLD(SELF, OTHER, NOTGER_DEBTS);
        } else {
            AI_OUTPUT(SELF, OTHER, "DIA_Notger_PMDebts_05_03");
        } else {
            /* set_instance(0) */;
        };
    };
    if ((B_GETGREATESTPETZCRIME(SELF)) < (NOTGER_LASTPETZCRIME)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Notger_PMDebts_05_04");
        if ((NOTGER_LASTPETZCRIME) == (CRIME_MURDER)) {
            AI_OUTPUT(SELF, OTHER, "DIA_Notger_PMDebts_05_05");
        };
        if (((NOTGER_LASTPETZCRIME) == (CRIME_THEFT)) || (((NOTGER_LASTPETZCRIME) > (CRIME_THEFT)) && ((B_GETGREATESTPETZCRIME(SELF)) < (CRIME_THEFT)))) {
            AI_OUTPUT(SELF, OTHER, "DIA_Notger_PMDebts_05_06");
        };
        if (((NOTGER_LASTPETZCRIME) == (CRIME_ATTACK)) || (((NOTGER_LASTPETZCRIME) > (CRIME_ATTACK)) && ((B_GETGREATESTPETZCRIME(SELF)) < (CRIME_ATTACK)))) {
            AI_OUTPUT(SELF, OTHER, "DIA_Notger_PMDebts_05_07");
        };
        if ((B_GETGREATESTPETZCRIME(SELF)) == (CRIME_NONE)) {
            AI_OUTPUT(SELF, OTHER, "DIA_Notger_PMDebts_05_08");
        };
        AI_OUTPUT(SELF, OTHER, "DIA_Notger_PMDebts_05_09");
        if ((B_GETGREATESTPETZCRIME(SELF)) == (CRIME_NONE)) {
            AI_OUTPUT(SELF, OTHER, "DIA_Notger_PMDebts_05_10");
            AI_OUTPUT(SELF, OTHER, "DIA_Notger_PMDebts_05_11");
            NOTGER_DEBTS = 0;
            NOTGER_LASTPETZCOUNTER = 0;
            NOTGER_LASTPETZCRIME = CRIME_NONE;
        } else {
            AI_OUTPUT(SELF, OTHER, "DIA_Notger_PMDebts_05_12");
            B_SAY_GOLD(SELF, OTHER, NOTGER_DEBTS);
            AI_OUTPUT(SELF, OTHER, "DIA_Notger_PMDebts_05_13");
        };
    };
    if ((B_GETGREATESTPETZCRIME(SELF)) != (CRIME_NONE)) {
        INFO_CLEARCHOICES(0x1381c);
        INFO_CLEARCHOICES(0x13821);
        INFO_ADDCHOICE(0x1381c, "I don't have that much gold!", 0x13825);
        INFO_ADDCHOICE(0x1381c, "How much was it supposed to be?", 0x13820);
        if ((NPC_HASITEMS(OTHER, 0x859b)) >= (NOTGER_DEBTS)) {
            INFO_ADDCHOICE(0x1381c, "I want to pay the fine!", 0x13824);
        };
    };
}

var int DIA_NOTGER_PMDEBTS_INFO.DIFF = 0;
func void DIA_NOTGER_PMDEBTS_HOWMUCHAGAIN() {
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_PMDebts_HowMuchAgain_15_00");
    B_SAY_GOLD(SELF, OTHER, NOTGER_DEBTS);
    INFO_CLEARCHOICES(0x1381c);
    INFO_CLEARCHOICES(0x13821);
    INFO_ADDCHOICE(0x1381c, "I don't have that much gold!", 0x13825);
    INFO_ADDCHOICE(0x1381c, "How much was it supposed to be?", 0x13820);
    if ((NPC_HASITEMS(OTHER, 0x859b)) >= (NOTGER_DEBTS)) {
        INFO_ADDCHOICE(0x1381c, "I want to pay the fine!", 0x13824);
    };
}

instance DIA_NOTGER_PETZMASTER(C_INFO) {
    NPC = 0xdd5d;
    NR = 1;
    CONDITION = DIA_NOTGER_PETZMASTER_CONDITION;
    INFORMATION = DIA_NOTGER_PETZMASTER_INFO;
    PERMANENT = TRUE;
    IMPORTANT = TRUE;
}

func int DIA_NOTGER_PETZMASTER_CONDITION() {
    if ((LOG_GETSTATUS(MIS_Q514)) != (LOG_SUCCESS)) {
        if ((B_GETGREATESTPETZCRIME(SELF)) > (NOTGER_LASTPETZCRIME)) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_NOTGER_PETZMASTER_INFO() {
    NOTGER_DEBTS = 0;
    if ((SELF.AIVAR[5]) == (FALSE)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Notger_PETZMASTER_05_00");
    };
    if ((B_GETGREATESTPETZCRIME(SELF)) == (CRIME_MURDER)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Notger_PETZMASTER_05_01");
        NOTGER_DEBTS = (B_GETTOTALPETZCOUNTER(SELF)) * (50);
        NOTGER_DEBTS = (NOTGER_DEBTS) + (500);
        if ((((PETZCOUNTER_MONASTERY_THEFT) + (PETZCOUNTER_MONASTERY_ATTACK)) + (PETZCOUNTER_MONASTERY_SHEEPKILLER)) > (0)) {
            AI_OUTPUT(SELF, OTHER, "DIA_Notger_PETZMASTER_05_02");
        };
        AI_OUTPUT(SELF, OTHER, "DIA_Notger_PETZMASTER_05_03");
        AI_OUTPUT(SELF, OTHER, "DIA_Notger_PETZMASTER_05_04");
    };
    if ((B_GETGREATESTPETZCRIME(SELF)) == (CRIME_THEFT)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Notger_PETZMASTER_05_05");
        if (((PETZCOUNTER_MONASTERY_ATTACK) + (PETZCOUNTER_MONASTERY_SHEEPKILLER)) > (0)) {
            AI_OUTPUT(SELF, OTHER, "DIA_Notger_PETZMASTER_05_06");
        };
        AI_OUTPUT(SELF, OTHER, "DIA_Notger_PETZMASTER_05_07");
        AI_OUTPUT(SELF, OTHER, "DIA_Notger_PETZMASTER_05_08");
        NOTGER_DEBTS = (B_GETTOTALPETZCOUNTER(SELF)) * (50);
    };
    if ((B_GETGREATESTPETZCRIME(SELF)) == (CRIME_ATTACK)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Notger_PETZMASTER_05_09");
        if ((PETZCOUNTER_MONASTERY_SHEEPKILLER) > (0)) {
            AI_OUTPUT(SELF, OTHER, "DIA_Notger_PETZMASTER_05_10");
        };
        AI_OUTPUT(SELF, OTHER, "DIA_Notger_PETZMASTER_05_11");
        AI_OUTPUT(SELF, OTHER, "DIA_Notger_PETZMASTER_05_12");
        NOTGER_DEBTS = (B_GETTOTALPETZCOUNTER(SELF)) * (50);
    };
    if ((B_GETGREATESTPETZCRIME(SELF)) == (CRIME_SHEEPKILLER)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Notger_PETZMASTER_05_13");
        NOTGER_DEBTS = 100;
    };
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_PETZMASTER_15_14");
    if ((NOTGER_DEBTS) > (1000)) {
        NOTGER_DEBTS = 1000;
    };
    B_SAY_GOLD(SELF, OTHER, NOTGER_DEBTS);
    INFO_CLEARCHOICES(0x1381c);
    INFO_CLEARCHOICES(0x13821);
    INFO_ADDCHOICE(0x13821, "I don't have that much gold!", 0x13825);
    if ((NPC_HASITEMS(OTHER, 0x859b)) >= (NOTGER_DEBTS)) {
        INFO_ADDCHOICE(0x13821, "I want to pay the fine!", 0x13824);
    };
}

func void DIA_NOTGER_PETZMASTER_PAYNOW() {
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_PETZMASTER_PayNow_15_00");
    B_GIVEINVITEMS(OTHER, SELF, 0x859b, NOTGER_DEBTS);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_PETZMASTER_PayNow_05_01");
    B_GRANTABSOLUTION(LOC_MONASTERY);
    NOTGER_DEBTS = 0;
    NOTGER_LASTPETZCOUNTER = 0;
    NOTGER_LASTPETZCRIME = CRIME_NONE;
    INFO_CLEARCHOICES(0x1381c);
    INFO_CLEARCHOICES(0x13821);
}

func void DIA_NOTGER_PETZMASTER_PAYLATER() {
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_PETZMASTER_PayLater_15_00");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_PETZMASTER_PayLater_05_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_PETZMASTER_PayLater_05_02");
    NOTGER_LASTPETZCOUNTER = B_GETTOTALPETZCOUNTER(SELF);
    NOTGER_LASTPETZCRIME = B_GETGREATESTPETZCRIME(SELF);
    INFO_CLEARCHOICES(0x1381c);
    INFO_CLEARCHOICES(0x13821);
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_NOTGER_Q601_HELLO(C_INFO) {
    NPC = 0xdd5d;
    NR = 1;
    CONDITION = DIA_NOTGER_Q601_HELLO_CONDITION;
    INFORMATION = DIA_NOTGER_Q601_HELLO_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_NOTGER_Q601_HELLO_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q515)) == (LOG_SUCCESS)) && ((NPC_HASITEMS(OTHER, 0x92f7)) >= (1))) {
        if (((NPC_GETDISTTOWP(KDW_215_NOTGER, "PART8_CHURCH_06")) <= (300)) && ((NPC_GETDISTTOWP(KDW_216_INGOLF, "PART8_CHURCH_07")) <= (300))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_NOTGER_Q601_HELLO_INFO() {
    WLD_SENDTRIGGER("Q601_MOVER_ALPHA");
    TRIA_INVITE(KDW_216_INGOLF);
    TRIA_START();
    AI_LOOKATNPC(OTHER, SELF);
    AI_LOOKATNPC(SELF, OTHER);
    TRIA_WAIT();
    TRIA_NEXT(KDW_215_NOTGER);
    CREATEINVITEMS(SELF, 0x8732, 1);
    B_READYSPELL(SELF, SPL_ICECUBE, SPL_COST_ICECUBE);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_03_01");
    AI_PLAYANI(OTHER, T_SEARCH);
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_03_03");
    AI_UNREADYSPELL(SELF);
    INFO_CLEARCHOICES(0x13826);
    INFO_ADDCHOICE(0x13826, "Only a handful of us escaped with our lives.", 0x13829);
}

func void DIA_NOTGER_Q601_HELLO_FEW() {
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_Few_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Few_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Few_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_Few_15_04");
    INFO_CLEARCHOICES(0x13826);
    INFO_ADDCHOICE(0x13826, "We managed to find the chapel behind the vault in the ruins.", 0x1382d);
}

var int NOTGER_Q601_HELLO_KESSEL = 0;
var int NOTGER_Q601_HELLO_RIORDIAN = 0;
func void DIA_NOTGER_Q601_HELLO_CHOICES() {
    INFO_CLEARCHOICES(0x13826);
    if (((NOTGER_Q601_HELLO_KESSEL) == (TRUE)) && ((NOTGER_Q601_HELLO_RIORDIAN) == (TRUE))) {
        INFO_ADDCHOICE(0x13826, "Where is the Prior?", 0x13830);
    };
    if ((NOTGER_Q601_HELLO_KESSEL) == (FALSE)) {
        INFO_ADDCHOICE(0x13826, "Kessel, after finding the Peacemaker, tried to wield it.", 0x1382e);
    };
    if ((NOTGER_Q601_HELLO_RIORDIAN) == (FALSE)) {
        INFO_ADDCHOICE(0x13826, "It was Riordian who saved me.", 0x1382f);
    };
}

func void DIA_NOTGER_Q601_HELLO_FEW_FOUND() {
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_Found_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_Found_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Found_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Found_03_04");
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_Found_15_05");
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_Found_15_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Found_03_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Found_03_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Found_03_09");
    DIA_NOTGER_Q601_HELLO_CHOICES();
}

func void DIA_NOTGER_Q601_HELLO_FEW_FOUND_KESSEL() {
    NOTGER_Q601_HELLO_KESSEL = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_Kessel_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_Kessel_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Kessel_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_Kessel_15_04");
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_Kessel_15_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Kessel_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Kessel_03_07");
    DIA_NOTGER_Q601_HELLO_CHOICES();
}

func void DIA_NOTGER_Q601_HELLO_FEW_FOUND_RIORDIAN() {
    NOTGER_Q601_HELLO_RIORDIAN = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_Riordian_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_Riordian_15_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_Riordian_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Riordian_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Riordian_03_05");
    DIA_NOTGER_Q601_HELLO_CHOICES();
}

func void DIA_NOTGER_Q601_HELLO_FEW_FOUND_PRIOR() {
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_Prior_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_Prior_15_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_Prior_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Prior_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Prior_03_05");
    INFO_CLEARCHOICES(0x13826);
    INFO_ADDCHOICE(0x13826, "Why don't you give him the potion he seized from me and Riordian?", 0x13831);
}

func void DIA_NOTGER_Q601_HELLO_FEW_FOUND_PRIOR_POTION() {
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_Potion_15_01");
    TRIA_WAIT();
    TRIA_NEXT(KDW_216_INGOLF);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Potion_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Potion_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Potion_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Potion_03_05");
    INFO_CLEARCHOICES(0x13826);
    INFO_ADDCHOICE(0x13826, "What does it matter now?", 0x13832);
    INFO_ADDCHOICE(0x13826, "(Show Old Scales)", 0x13833);
}

func void DIA_NOTGER_Q601_HELLO_FEW_FOUND_PRIOR_POTION_WHY() {
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_HELLO_Why_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Why_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Why_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Why_03_04");
    TRIA_WAIT();
    TRIA_NEXT(KDW_215_NOTGER);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Why_03_05");
    TRIA_WAIT();
    TRIA_NEXT(KDW_216_INGOLF);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Why_03_06");
}

func void DIA_NOTGER_Q601_HELLO_FEW_FOUND_PRIOR_POTION_SHOW() {
    TRIA_WAIT();
    TRIA_NEXT(KDW_216_INGOLF);
    AI_STOPLOOKAT(SELF);
    B_GIVEINVITEMS(OTHER, SELF, 0x92f7, 1);
    CREATEINVITEMS(SELF, 0x8cf3, 1);
    AI_USEITEMTOSTATE(SELF, 0x8cf3, 1);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Show_03_01");
    AI_USEITEMTOSTATE(SELF, 0x8cf3, -(1));
    TRIA_WAIT();
    TRIA_NEXT(KDW_215_NOTGER);
    TRIA_NEXT(KDW_215_NOTGER);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Show_03_02");
    TRIA_WAIT();
    TRIA_NEXT(KDW_216_INGOLF);
    TRIA_NEXT(KDW_216_INGOLF);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_HELLO_Show_03_03");
    TRIA_FINISH();
    AI_STOPLOOKAT(SELF);
    AI_STOPLOOKAT(OTHER);
    INFO_CLEARCHOICES(0x13826);
    AI_STOPPROCESSINFOS(SELF);
    LOG_CREATETOPIC(TOPIC_Q601, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q601), TOPIC_Q601, LOG_RUNNING);
    AI_LOGENTRY(TOPIC_Q601, LOG_Q601_START);
    AI_FUNCTION(SELF, 0x13834);
}

func void NOTGER_Q601_CHANGERTN() {
    NPC_EXCHANGEROUTINE(KDW_216_INGOLF, "Q601_GUIDE");
    B_CHAPTERCHANGE(6, ARCHOLOS_ZEN, TRUE);
}

instance DIA_NOTGER_Q601_WHATHAPPEND(C_INFO) {
    NPC = 0xdd5d;
    NR = 1;
    CONDITION = DIA_NOTGER_Q601_WHATHAPPEND_CONDITION;
    INFORMATION = DIA_NOTGER_Q601_WHATHAPPEND_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_NOTGER_Q601_WHATHAPPEND_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q601)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x13851))) {
        if ((((NPC_GETDISTTOWP(KDW_215_NOTGER, "PART8_MONASTERY_MAGEROOM2_02")) <= (300)) && ((NPC_GETDISTTOWP(KDW_216_INGOLF, "PART8_MONASTERY_MAGEROOM2_RUNE")) <= (300))) && ((NPC_GETDISTTOWP(NOV_203_NOVIZE, "PART8_MONASTERY_113")) <= (300))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_NOTGER_Q601_WHATHAPPEND_INFO() {
    TRIA_INVITE(KDW_216_INGOLF);
    TRIA_INVITE(NOV_203_NOVIZE);
    TRIA_START();
    TELEPORTNPCTOWP(0x71b, "PART8_MONASTERY_Q601_HERO");
    TELEPORTNPCTOWP(0xdd5d, "PART8_MONASTERY_MAGEROOM2_02");
    TELEPORTNPCTOWP(0xdd64, "PART8_MONASTERY_MAGEROOM2_RUNE");
    TELEPORTNPCTOWP(0xdda8, "PART8_MONASTERY_113");
    DIACAM_DISABLE();
    WLD_SENDTRIGGER("KM_Q601_TRIA_01");
    AI_LOOKATNPC(OTHER, SELF);
    AI_LOOKATNPC(SELF, OTHER);
    TRIA_WAIT();
    TRIA_NEXT(KDW_215_NOTGER);
    AI_TURNTONPC(SELF, KDW_216_INGOLF);
    AI_TURNTONPC(KDW_216_INGOLF, SELF);
    AI_TURNTONPC(HERO, SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_03_01");
    TRIA_WAIT();
    TRIA_NEXT(KDW_216_INGOLF);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_03_03_A");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_03_03_B");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_03_07_A");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_03_07_B");
    AI_LOGENTRY(TOPIC_Q601, LOG_Q601_NOTASWORD);
    INFO_CLEARCHOICES(0x13835);
    INFO_ADDCHOICE(0x13835, "'Quench the fighting spirit' may refer to the ice coming out of the blade.", 0x13844);
    INFO_ADDCHOICE(0x13835, "How would the scale bring justice?", 0x13845);
    INFO_ADDCHOICE(0x13835, DIALOG_BESILENT, 0x1383f);
}

func void NOTGER_Q601_ENABLECAMERA() {
    WLD_SENDUNTRIGGER("KM_Q601_TRIA_01");
    DIACAM_ENABLE();
}

func void NOTGER_Q601_ENABLECAMERA_V2() {
    WLD_SENDUNTRIGGER("KM_Q601_TRIA_02");
    DIACAM_ENABLE();
}

func void NOTGER_Q601_CHANGECAMERA() {
    DIACAM_DISABLE();
    WLD_SENDTRIGGER("KM_Q601_TRIA_02");
}

func void DIA_NOTGER_Q601_WHATHAPPEND_NEXT() {
    TRIA_WAIT();
    TRIA_NEXT(KDW_216_INGOLF);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_03_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_03_09");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_03_10");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_03_11");
    INFO_CLEARCHOICES(0x13835);
    INFO_ADDCHOICE(0x13835, "Eh, okay, take it.", 0x1383d);
    INFO_ADDCHOICE(0x13835, DIALOG_BESILENT, 0x1383e);
}

func void DIA_NOTGER_Q601_WHATHAPPEND_ALARM() {
    TRIA_WAIT();
    AI_WAITTILLEND(NOV_203_NOVIZE, KDW_216_INGOLF);
    AI_WAITTILLEND(NOV_203_NOVIZE, KDW_215_NOTGER);
    AI_WAITTILLEND(NOV_203_NOVIZE, HERO);
    AI_FUNCTION(NOV_203_NOVIZE, 0x1383a);
    AI_SETWALKMODE(NOV_203_NOVIZE, NPC_RUN);
    AI_GOTOWP(NOV_203_NOVIZE, "PART8_MONASTERY_Q601_NOV");
    AI_TURNTONPC(NOV_203_NOVIZE, SELF);
    AI_WAITTILLEND(SELF, NOV_203_NOVIZE);
    TRIA_WAIT();
    TRIA_NEXT(NOV_203_NOVIZE);
    TRIA_NEXT(NOV_203_NOVIZE);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Next_03_01");
    TRIA_WAIT();
    TRIA_NEXT(KDW_215_NOTGER);
    TRIA_NEXT(KDW_215_NOTGER);
    AI_TURNTONPC(SELF, NOV_203_NOVIZE);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Next_03_02");
    TRIA_WAIT();
    TRIA_NEXT(NOV_203_NOVIZE);
    TRIA_NEXT(NOV_203_NOVIZE);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Next_03_03");
    AI_FUNCTION(SELF, 0x13839);
    TRIA_WAIT();
    TRIA_NEXT(KDW_215_NOTGER);
    TRIA_NEXT(KDW_215_NOTGER);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Next_03_04");
    TRIA_WAIT();
    TRIA_NEXT(KDW_216_INGOLF);
    TRIA_NEXT(KDW_216_INGOLF);
    AI_TURNTONPC(SELF, KDW_216_INGOLF);
    AI_TURNTONPC(KDW_216_INGOLF, SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Next_03_05");
    TRIA_WAIT();
    TRIA_NEXT(KDW_215_NOTGER);
    TRIA_NEXT(KDW_215_NOTGER);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Next_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Next_03_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Next_03_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Next_03_09");
    INFO_CLEARCHOICES(0x13835);
    INFO_ADDCHOICE(0x13835, "Are you finally going to intervene in the outside world?", 0x13841);
}

func void DIA_NOTGER_Q601_WHATHAPPEND_NEXT_TAKE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_Hello_WhyYouWantGold_Pay_15_01");
    DIA_NOTGER_Q601_WHATHAPPEND_ALARM();
}

func void DIA_NOTGER_Q601_WHATHAPPEND_NEXT_SILENCE() {
    AI_WAIT(OTHER, 0x3f000000);
    DIA_NOTGER_Q601_WHATHAPPEND_ALARM();
}

func void DIA_NOTGER_Q601_WHATHAPPEND_SILENCE() {
    DIA_NOTGER_Q601_WHATHAPPEND_NEXT();
}

func void Q601_GIVEPOTIONS() {
    CREATEINVITEMS(KDW_216_INGOLF, 0x8630, 4);
    B_GIVEINVITEMS(KDW_216_INGOLF, HERO, 0x8630, 4);
    CREATEINVITEMS(KDW_216_INGOLF, 0x8632, 2);
    B_GIVEINVITEMS(KDW_216_INGOLF, HERO, 0x8632, 2);
    CREATEINVITEMS(KDW_216_INGOLF, 0x8635, 1);
    B_GIVEINVITEMS(KDW_216_INGOLF, HERO, 0x8635, 1);
    CREATEINVITEMS(KDW_216_INGOLF, 0x838e, 1);
    B_GIVEINVITEMS(KDW_216_INGOLF, HERO, 0x838e, 1);
    CREATEINVITEMS(KDW_216_INGOLF, 0x8390, 1);
    B_GIVEINVITEMS(KDW_216_INGOLF, HERO, 0x8390, 1);
}

func void DIA_NOTGER_Q601_WHATHAPPEND_HOW_NEXT_FINALLY() {
    TRIA_WAIT();
    TRIA_NEXT(KDW_215_NOTGER);
    AI_TURNTONPC(SELF, HERO);
    AI_TURNTONPC(HERO, SELF);
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_WhatHappend_Finally_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Finally_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Finally_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_WhatHappend_Finally_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Finally_03_05");
    TRIA_WAIT();
    TRIA_NEXT(KDW_216_INGOLF);
    AI_TURNTONPC(SELF, KDW_216_INGOLF);
    AI_TURNTONPC(KDW_216_INGOLF, SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Next_03_10");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Next_03_11");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Next_03_12");
    TRIA_WAIT();
    AI_TURNTONPC(SELF, HERO);
    AI_TURNTONPC(HERO, SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Next_03_13");
    AI_FUNCTION(SELF, 0x13840);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Next_03_14");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Next_03_15");
    AI_LOGENTRY(TOPIC_Q601, LOG_Q601_LETSGO);
    TRIA_FINISH();
    AI_STOPLOOKAT(SELF);
    AI_STOPLOOKAT(OTHER);
    INFO_CLEARCHOICES(0x13835);
    AI_STOPPROCESSINFOS(SELF);
}

func void DIA_NOTGER_Q601_WHATHAPPEND_COUNT() {
    NOTGER_Q601_WHATHAPPEND_COUNT = (NOTGER_Q601_WHATHAPPEND_COUNT) + (1);
    if ((NOTGER_Q601_WHATHAPPEND_COUNT) == (2)) {
        DIA_NOTGER_Q601_WHATHAPPEND_NEXT();
    };
}

var int DIA_NOTGER_Q601_WHATHAPPEND_COUNT.NOTGER_Q601_WHATHAPPEND_COUNT = 0;
func void DIA_NOTGER_Q601_WHATHAPPEND_FIGHT() {
    AI_FUNCTION(SELF, 0x13838);
    TRIA_WAIT();
    TRIA_NEXT(KDW_216_INGOLF);
    AI_TURNTONPC(HERO, SELF);
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_WhatHappend_Fight_15_01");
    AI_TURNTONPC(SELF, HERO);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_Fight_03_02");
    DIA_NOTGER_Q601_WHATHAPPEND_COUNT();
}

func void DIA_NOTGER_Q601_WHATHAPPEND_HOW() {
    AI_FUNCTION(SELF, 0x13838);
    TRIA_WAIT();
    TRIA_NEXT(KDW_216_INGOLF);
    AI_TURNTONPC(HERO, SELF);
    AI_OUTPUT(OTHER, SELF, "DIA_Notger_Q601_WhatHappend_How_15_01");
    AI_TURNTONPC(SELF, HERO);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_How_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_How_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_How_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_How_03_05_A");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_How_03_05_B");
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_How_03_06");
    TRIA_WAIT();
    TRIA_NEXT(KDW_215_NOTGER);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_How_03_07");
    TRIA_WAIT();
    TRIA_NEXT(KDW_216_INGOLF);
    AI_TURNTONPC(SELF, KDW_216_INGOLF);
    AI_OUTPUT(SELF, OTHER, "DIA_Notger_Q601_WhatHappend_How_03_08");
    DIA_NOTGER_Q601_WHATHAPPEND_COUNT();
}

instance DIA_NOTGER_PICKPOCKET(C_INFO) {
    NPC = 0xdd5d;
    NR = 900;
    CONDITION = DIA_NOTGER_PICKPOCKET_CONDITION;
    INFORMATION = DIA_NOTGER_PICKPOCKET_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = PICKPOCKET_120;
}

func int DIA_NOTGER_PICKPOCKET_CONDITION() {
    if (((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (1)) && ((SELF.AIVAR[6]) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_NOTGER_PICKPOCKET_INFO() {
    INFO_CLEARCHOICES(0x13846);
    INFO_ADDCHOICE(0x13846, DIALOG_BACK, 0x1384a);
    INFO_ADDCHOICE(0x13846, DIALOG_PICKPOCKET, 0x13849);
}

func void DIA_NOTGER_PICKPOCKET_DOIT() {
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (3)) {
        CREATEINVITEMS(SELF, 0x8795, 1);
        B_GIVEINVITEMS(SELF, OTHER, 0x8795, 1);
        B_PICKPOCKET_AMBIENT_TIER_3();
        SELF.AIVAR[6] = TRUE;
        INFO_CLEARCHOICES(0x13846);
    };
    AI_PLAYANI(HERO, T_CANNOTTAKE);
    PRINTSCREEN(PRINT_CANTPICKPOCKETTHISPERSON, -(1), -(1), FONT_SCREEN, 4);
    INFO_CLEARCHOICES(0x13846);
}

func void DIA_NOTGER_PICKPOCKET_BACK() {
    INFO_CLEARCHOICES(0x13846);
}

