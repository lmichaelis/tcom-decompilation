var int ODGAR_MAKE2HSWORD_CHECK = 0;
var int ODGAR_MAKE2HSWORD_DAY = 0;
var int ODGAR_SWORD1HREMEMBER = 0;
var int ODGAR_BRING1HSWORD = 0;
instance DIA_ODGAR_EXIT(C_INFO) {
    NPC = 0xcf17;
    NR = 999;
    CONDITION = DIA_ODGAR_EXIT_CONDITION;
    INFORMATION = DIA_ODGAR_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_ODGAR_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_ODGAR_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_ODGAR_AMBIENT(C_INFO) {
    NPC = 0xcf17;
    NR = 990;
    CONDITION = DIA_ODGAR_AMBIENT_CONDITION;
    INFORMATION = DIA_ODGAR_AMBIENT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "How are you doing?";
}

func int DIA_ODGAR_AMBIENT_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x10f19)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_AMBIENT_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_Ambient_15_00");
    NPC_INITAMBIENTS(SELF, 3);
    if ((NPC_GETLASTAMBIENT(SELF)) == (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Ambient_13_01");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Ambient_13_02");
    };
    if ((NPC_GETLASTAMBIENT(SELF)) == (2)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Ambient_13_03");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Ambient_13_04");
    };
    if ((NPC_GETLASTAMBIENT(SELF)) == (3)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Ambient_13_05");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Ambient_13_06");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Ambient_13_07");
    };
}

instance DIA_ODGAR_CANYOUTRAINME(C_INFO) {
    NPC = 0xcf17;
    NR = 1;
    CONDITION = DIA_ODGAR_CANYOUTRAINME_CONDITION;
    INFORMATION = DIA_ODGAR_CANYOUTRAINME_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Can you teach me anything else?";
}

func int DIA_ODGAR_CANYOUTRAINME_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x10f1c)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_CANYOUTRAINME_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_Canyoutrainme_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Canyoutrainme_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Canyoutrainme_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Canyoutrainme_03_04");
    TEACHER_LOGENTRY_ODGAR();
    LOG_CREATETOPIC(TOPIC_CITYTEACHER, LOG_NOTE);
    AI_LOGENTRY(TOPIC_CITYTEACHER, LOG_TEACHER_CITY_ODGAR_SMITH);
}

var int ODGAR_CURRENTSTR = 0;
var int ODGAR_CANTRAIN = 0;
var string ODGAR_PRINTS = "";
instance DIA_ODGAR_TRAIN(C_INFO) {
    NPC = 0xcf17;
    NR = 1;
    CONDITION = DIA_ODGAR_TRAIN_CONDITION;
    INFORMATION = DIA_ODGAR_TRAIN_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Let's start training.";
}

func int DIA_ODGAR_TRAIN_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x10f0a)) && ((ODGAR_CANTRAIN) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_TRAIN_CHOICES() {
    ODGAR_GOLDCOST = 10;
    ODGAR_MIL_GOLDCOST = 5;
    ODGAR_CURRENTSTR = OTHER.AIVAR[81];
    INFO_CLEARCHOICES(0x10f10);
    INFO_ADDCHOICE(0x10f10, DIALOG_BACK, 0x10f16);
    if ((OTHER.GUILD) == (GIL_MIL)) {
        INFO_ADDCHOICE(0x10f10, B_BUILDLEARNSTRING2(PRINT_LEARNSTR1, B_GETLEARNCOSTATTRIBUTE(OTHER, ATR_STRENGTH, 1), ODGAR_MIL_GOLDCOST), 0x10f17);
        INFO_ADDCHOICE(0x10f10, B_BUILDLEARNSTRING2(PRINT_LEARNSTR5, B_GETLEARNCOSTATTRIBUTE(OTHER, ATR_STRENGTH, 5), (ODGAR_MIL_GOLDCOST) * (5)), 0x10f18);
    };
    INFO_ADDCHOICE(0x10f10, B_BUILDLEARNSTRING2(PRINT_LEARNSTR1, B_GETLEARNCOSTATTRIBUTE(OTHER, ATR_STRENGTH, 1), ODGAR_GOLDCOST), 0x10f17);
    INFO_ADDCHOICE(0x10f10, B_BUILDLEARNSTRING2(PRINT_LEARNSTR5, B_GETLEARNCOSTATTRIBUTE(OTHER, ATR_STRENGTH, 5), (ODGAR_GOLDCOST) * (5)), 0x10f18);
}

var int DIA_ODGAR_TRAIN_CHOICES.ODGAR_GOLDCOST = 0;
var int DIA_ODGAR_TRAIN_CHOICES.ODGAR_MIL_GOLDCOST = 0;
func void DIA_ODGAR_TRAIN_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_Train_15_01");
    if ((OTHER.AIVAR[81]) < (80)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_train_03_02");
        DIA_ODGAR_TRAIN_CHOICES();
    };
    if ((OTHER.AIVAR[81]) >= (80)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_train_03_03");
        ODGAR_CANTRAIN = TRUE;
    };
}

func void DIA_ODGAR_TRAIN_BACK() {
    if ((OTHER.AIVAR[81]) >= (60)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_train_03_04");
    };
    INFO_CLEARCHOICES(0x10f10);
}

func void DIA_ODGAR_TRAIN1() {
    if (((NPC_HASITEMS(OTHER, 0x859b)) >= (ODGAR_PAYMENT1)) && ((OTHER.GUILD) != (GIL_MIL))) {
        if ((ODGAR_CURRENTSTR) < (OTHER.AIVAR[81])) {
            SND_PLAY(GELDBEUTEL);
            B_GIVEINVITEMS(OTHER, SELF, 0x859b, ODGAR_PAYMENT1);
            NPC_REMOVEINVITEMS(SELF, 0x859b, ODGAR_PAYMENT1);
        };
        B_TEACHATTRIBUTEPOINTS(SELF, OTHER, ATR_STRENGTH, 1, 80);
        DIA_ODGAR_TRAIN_CHOICES();
    };
    if (((NPC_HASITEMS(OTHER, 0x859b)) < (ODGAR_PAYMENT1)) && ((OTHER.GUILD) != (GIL_MIL))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_train_03_05");
        ODGAR_PRINTS = CONCATSTRINGS(PRINT_RGOLD, INTTOSTRING(ODGAR_PAYMENT1));
        PRINTSCREEN(ODGAR_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_ODGAR_TRAIN_CHOICES();
    };
    if (((NPC_HASITEMS(OTHER, 0x859b)) >= (ODGAR_MILPAYMENT1)) && ((OTHER.GUILD) == (GIL_MIL))) {
        if ((ODGAR_CURRENTSTR) < (OTHER.AIVAR[81])) {
            SND_PLAY(GELDBEUTEL);
            B_GIVEINVITEMS(OTHER, SELF, 0x859b, ODGAR_MILPAYMENT1);
            NPC_REMOVEINVITEMS(SELF, 0x859b, ODGAR_MILPAYMENT1);
        };
        B_TEACHATTRIBUTEPOINTS(SELF, OTHER, ATR_STRENGTH, 1, 80);
        DIA_ODGAR_TRAIN_CHOICES();
    };
    if (((NPC_HASITEMS(OTHER, 0x859b)) < (ODGAR_MILPAYMENT1)) && ((OTHER.GUILD) == (GIL_MIL))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_train_03_06");
        ODGAR_PRINTS = CONCATSTRINGS(PRINT_RGOLD, INTTOSTRING(ODGAR_MILPAYMENT1));
        PRINTSCREEN(ODGAR_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_ODGAR_TRAIN_CHOICES();
    };
}

func void DIA_ODGAR_TRAIN5() {
    if (((NPC_HASITEMS(OTHER, 0x859b)) >= (ODGAR_PAYMENT5)) && ((OTHER.GUILD) != (GIL_MIL))) {
        if ((ODGAR_CURRENTSTR) < (OTHER.AIVAR[81])) {
            SND_PLAY(GELDBEUTEL);
            B_GIVEINVITEMS(OTHER, SELF, 0x859b, ODGAR_PAYMENT5);
            NPC_REMOVEINVITEMS(SELF, 0x859b, ODGAR_PAYMENT5);
        };
        B_TEACHATTRIBUTEPOINTS(SELF, OTHER, ATR_STRENGTH, 5, 80);
        DIA_ODGAR_TRAIN_CHOICES();
    };
    if (((NPC_HASITEMS(OTHER, 0x859b)) < (ODGAR_PAYMENT5)) && ((OTHER.GUILD) != (GIL_MIL))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_train_03_07");
        ODGAR_PRINTS = CONCATSTRINGS(PRINT_RGOLD, INTTOSTRING(ODGAR_PAYMENT5));
        PRINTSCREEN(ODGAR_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_ODGAR_TRAIN_CHOICES();
    };
    if (((NPC_HASITEMS(OTHER, 0x859b)) >= (ODGAR_MILPAYMENT5)) && ((OTHER.GUILD) == (GIL_MIL))) {
        if ((ODGAR_CURRENTSTR) < (OTHER.AIVAR[81])) {
            SND_PLAY(GELDBEUTEL);
            B_GIVEINVITEMS(OTHER, SELF, 0x859b, ODGAR_MILPAYMENT5);
            NPC_REMOVEINVITEMS(SELF, 0x859b, ODGAR_MILPAYMENT5);
        };
        B_TEACHATTRIBUTEPOINTS(SELF, OTHER, ATR_STRENGTH, 5, 80);
        DIA_ODGAR_TRAIN_CHOICES();
    };
    if (((NPC_HASITEMS(OTHER, 0x859b)) < (ODGAR_MILPAYMENT5)) && ((OTHER.GUILD) == (GIL_MIL))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_train_03_08");
        ODGAR_PRINTS = CONCATSTRINGS(PRINT_RGOLD, INTTOSTRING(ODGAR_MILPAYMENT5));
        PRINTSCREEN(ODGAR_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_ODGAR_TRAIN_CHOICES();
    };
}

instance DIA_ODGAR_HELLO(C_INFO) {
    NPC = 0xcf17;
    NR = 1;
    CONDITION = DIA_ODGAR_HELLO_CONDITION;
    INFORMATION = DIA_ODGAR_HELLO_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_ODGAR_HELLO_CONDITION() {
    if (NPC_ISINSTATE(SELF, 0xf09f)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_HELLO_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_HELLO_03_01");
}

instance DIA_ODGAR_WEAPON(C_INFO) {
    NPC = 0xcf17;
    NR = 10;
    CONDITION = DIA_ODGAR_WEAPON_CONDITION;
    INFORMATION = DIA_ODGAR_WEAPON_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "What makes your weapons so good?";
}

func int DIA_ODGAR_WEAPON_CONDITION() {
    return TRUE;
}

func void DIA_ODGAR_WEAPON_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_Weapon_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Weapon_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Weapon_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Weapon_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Weapon_03_05");
    INFO_CLEARCHOICES(0x10f1c);
    INFO_ADDCHOICE(0x10f1c, "Could you explain to me what exactly these methods consist of?", 0x10f1f);
}

func void DIA_ODGAR_WEAPON_TEACH() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_Weapon_Teach_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_Weapon_Teach_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Weapon_Teach_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Weapon_Teach_03_04");
    if ((STONE_NEWTEACHER) == (0)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Weapon_Teach_03_05");
    };
    if ((STONE_NEWTEACHER) == (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Weapon_Teach_03_06");
    };
    INFO_CLEARCHOICES(0x10f1c);
}

instance DIA_ODGAR_TRADE(C_INFO) {
    NPC = 0xcf17;
    NR = 950;
    CONDITION = DIA_ODGAR_TRADE_CONDITION;
    INFORMATION = DIA_ODGAR_TRADE_INFO;
    PERMANENT = TRUE;
    TRADE = TRUE;
    DESCRIPTION = "What do you have for sale?";
}

func int DIA_ODGAR_TRADE_CONDITION() {
    return TRUE;
}

func void DIA_ODGAR_TRADE_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_TRADE_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_TRADE_03_02");
    TRADER_LOGENTRY_ODGAR();
    B_GIVETRADEINV(SELF);
}

instance DIA_ODGAR_FMQ002(C_INFO) {
    NPC = 0xcf17;
    NR = 1;
    CONDITION = DIA_ODGAR_FMQ002_CONDITION;
    INFORMATION = DIA_ODGAR_FMQ002_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I'd like to join the city guard...";
}

func int DIA_ODGAR_FMQ002_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x101e7)) {
        if ((FMQ002_LETSFIGHT) == (0)) {
            if (((FMQ002_ARWIDADDITIONALSTATUS) == (0)) || ((FMQ002_ARWIDADDITIONALSTATUS) == (2))) {
                if ((FMQ002_GOTSWORD) == (0)) {
                    return TRUE;
                };
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_FMQ002_INFO() {
    FMQ002_KNOWSODGAR = 1;
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_FMQ002_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FMQ002_07_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_FMQ002_15_03");
    if ((PEON_ODGAR) == (FALSE)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FMQ002_07_04");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FMQ002_07_05");
        if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) > (0)) {
            AI_OUTPUT(OTHER, SELF, "DIA_Odgar_FMQ002_KnowSmithing_15_00");
            AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FMQ002_KnowSmithing_07_01");
            AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FMQ002_KnowSmithing_07_02");
            AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FMQ002_KnowSmithing_07_03");
            INFO_CLEARCHOICES(0x10f23);
            INFO_ADDCHOICE(0x10f23, "I need to think about this some more.", 0x10f26);
            if ((NPC_HASITEMS(OTHER, 0x859b)) >= (FMQ002_GOLDFORODGAR)) {
                INFO_ADDCHOICE(0x10f23, DIALOG_GIVE25G, 0x10f27);
            };
        } else {
            AI_OUTPUT(OTHER, SELF, "DIA_Odgar_FMQ002_15_06");
            AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FMQ002_07_07");
            AI_OUTPUT(OTHER, SELF, "DIA_Odgar_FMQ002_15_08");
            AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FMQ002_07_09");
            B_GIVEINVITEMS(SELF, OTHER, 0x9b95, 1);
            FMQ002_KNOWSSCHEME2 = 1;
            AI_LOGENTRY(TOPIC_FMQ002, LOG_FMQ002_ODGARWILLHELP);
            AI_STOPPROCESSINFOS(SELF);
        } else {
            /* set_instance(0) */;
        };
    };
    AI_STARTFACEANI(SELF, "S_ANGRY", 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FMQ002_07_10");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FMQ002_07_11");
    AI_RESETFACEANI(SELF);
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) >= (2)) {
        CREATEINVITEMS(SELF, 0x9399, 1);
    };
    CREATEINVITEMS(SELF, 0x938f, 1);
    B_GIVEINVITEMS(SELF, OTHER, 0x938f, 1);
    AI_LOGENTRY(TOPIC_FMQ002, LOG_FMQ002_ODGARPEON_NOHELP);
}

func void DIA_ODGAR_SWORDSCHEME_NO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_SwordScheme_No_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_SwordScheme_No_10_02");
    INFO_CLEARCHOICES(0x10f23);
    FMQ002_BUYINGSCHEME = TRUE;
    AI_STOPPROCESSINFOS(SELF);
}

func void DIA_ODGAR_SWORDSCHEME_YES() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_SwordScheme_Yes_15_01");
    NPC_REMOVEINVITEMS(SELF, 0x859b, FMQ002_GOLDFORODGAR);
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_SwordScheme_Yes_10_02");
    B_GIVEINVITEMS(OTHER, SELF, 0x859b, FMQ002_GOLDFORODGAR);
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_SwordScheme_Yes_10_03");
    CREATEINVITEMS(SELF, 0x938b, 1);
    B_GIVEINVITEMS(SELF, OTHER, 0x938b, 1);
    AI_LOGENTRY(TOPIC_FMQ002, LOG_FMQ002_ODGARPROJECT);
    FMQ002_KNOWSSCHEME2 = 1;
    INFO_CLEARCHOICES(0x10f23);
}

instance DIA_ODGAR_FMQ002_ACTUALLYYES(C_INFO) {
    NPC = 0xcf17;
    NR = 1;
    CONDITION = DIA_ODGAR_FMQ002_ACTUALLYYES_CONDITION;
    INFORMATION = DIA_ODGAR_FMQ002_ACTUALLYYES_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I want to buy this blueprint.";
}

func int DIA_ODGAR_FMQ002_ACTUALLYYES_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x10f23)) {
        if ((FMQ002_BUYINGSCHEME) == (TRUE)) {
            if ((FMQ002_GOTSWORD) == (0)) {
                return TRUE;
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_FMQ002_ACTUALLYYES_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_FMQ002_ActuallyYes_15_01");
    B_GIVEINVITEMS(OTHER, SELF, 0x859b, FMQ002_GOLDFORODGAR);
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FMQ002_ActuallyYes_10_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FMQ002_ActuallyYes_10_03");
    B_GIVEINVITEMS(SELF, OTHER, 0x938b, 1);
    FMQ002_KNOWSSCHEME2 = 1;
    AI_LOGENTRY(TOPIC_FMQ002, LOG_FMQ002_ODGARPROJECT);
    INFO_CLEARCHOICES(0x10f23);
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_ODGAR_FMQ002_SMITHING(C_INFO) {
    NPC = 0xcf17;
    NR = 1;
    CONDITION = DIA_ODGAR_FMQ002_SMITHING_CONDITION;
    INFORMATION = DIA_ODGAR_FMQ002_SMITHING_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I already have all the materials I need.";
}

func int DIA_ODGAR_FMQ002_SMITHING_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x10f23)) {
        if ((FMQ002_KNOWSSCHEME2) == (1)) {
            if (((NPC_HASITEMS(OTHER, 0x8c8c)) >= (2)) && ((NPC_HASITEMS(OTHER, 0x8437)) >= (2))) {
                if ((FMQ002_GOTSWORD) == (0)) {
                    return TRUE;
                };
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void MARVINKINDLE() {
    AI_SETWALKMODE(SELF, NPC_WALK);
    AI_SETWALKMODE(OTHER, NPC_WALK);
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FMQ002_SmithingTogether_10_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FMQ002_SmithingTogether_10_03");
    NPC_REMOVEINVITEMS(OTHER, 0x8437, 2);
    CREATEINVITEMS(HERO, 0x8586, 1);
    NPC_REMOVEINVITEMS(OTHER, 0x8c8c, 2);
    AI_WAITTILLEND(SELF, OTHER);
    AI_WAITTILLEND(OTHER, SELF);
    AI_LOOKATNPC(OTHER, SELF);
    AI_STOPLOOKAT(SELF);
    AI_STOPLOOKAT(OTHER);
    AI_GOTOWP(HERO, "PARTM3_SMITH1_FIRE");
    AI_GOTOWP(SELF, "PARTM3_SMITH1_04");
    AI_TURNTONPC(SELF, OTHER);
    AI_WAIT(HERO, 0x3dcccccd);
    AI_WAITTILLEND(SELF, OTHER);
    AI_WAITTILLEND(OTHER, SELF);
    AI_FUNCTION(HERO, 0x10f3a);
    AI_USEMOB(HERO, "KMFIRE", 1);
    AI_WAIT(HERO, 0x40333333);
    NPC_EXCHANGEROUTINE(NONE_881_ODGAR, "BEER");
}

func void ODGARATWORK() {
    AI_SETWALKMODE(SELF, NPC_WALK);
    AI_SETWALKMODE(OTHER, NPC_WALK);
    GIVERECIPEITEMS(OTHER, SELF, 0x938a);
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FMQ002_Smithing_Yes_10_02");
    AI_LOOKATNPC(OTHER, SELF);
    AI_STOPLOOKAT(SELF);
    AI_USEMOB(SELF, "BSANVIL", 1);
    AI_TURNTONPC(OTHER, SELF);
    AI_FUNCTION(HERO, 0x10f3b);
    AI_WAIT(SELF, 0x40333333);
    NPC_EXCHANGEROUTINE(NONE_881_ODGAR, "HARDWORKING");
}

func void DIA_ODGAR_FMQ002_SMITHING_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_FMQ002_Smithing_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FMQ002_Smithing_10_02");
    INFO_CLEARCHOICES(0x10f2b);
    INFO_ADDCHOICE(0x10f2b, "I'll bring it later.", 0x10f30);
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) == (0)) {
        if (((NPC_HASITEMS(OTHER, 0x859b)) >= (FMQ002_GOLDFORODGAR2)) && (C_GOTANYKINDOFBEER(HERO))) {
            INFO_ADDCHOICE(0x10f2b, "Here. (Give materials, 50 GP and a beer)", 0x10f32);
        };
    };
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) > (0)) {
        if (C_GOTANYKINDOFBEER(HERO)) {
            INFO_ADDCHOICE(0x10f2b, "Here. (Give beer)", 0x10f33);
        };
    };
}

func void DIA_ODGAR_FMQ002_SMITHING_NO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_FMQ002_Smithing_No_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FMQ002_Smithing_No_10_02");
    FMQ002_KNOWODGARGOLD = TRUE;
    AI_STOPPROCESSINFOS(SELF);
}

func void DIA_ODGAR_FMQ002_SMITHING_YES_ALLBEER() {
    FMQ002_SMITHIGSTARTED = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_FMQ002_Smithing_Yes_15_01");
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) == (0)) {
        ODGARATWORK();
    };
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) > (0)) {
        MARVINKINDLE();
    };
}

func void DIA_ODGAR_FMQ002_SMITHING_YES_V1() {
    NPC_REMOVEINVITEMS(SELF, 0x859b, FMQ002_GOLDFORODGAR2);
    B_GIVEANYBEER();
    B_GIVEINVITEMS(OTHER, SELF, 0x859b, FMQ002_GOLDFORODGAR2);
    DIA_ODGAR_FMQ002_SMITHING_YES_ALLBEER();
}

func void DIA_ODGAR_FMQ002_SMITHING_YES_V2() {
    B_GIVEANYBEER();
    DIA_ODGAR_FMQ002_SMITHING_YES_ALLBEER();
}

instance DIA_ODGAR_FMQ002_SMITHING_GOTGOLD(C_INFO) {
    NPC = 0xcf17;
    NR = 1;
    CONDITION = DIA_ODGAR_FMQ002_SMITHING_GOTGOLD_CONDITION;
    INFORMATION = DIA_ODGAR_FMQ002_SMITHING_GOTGOLD_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "I already have gold and beer.";
}

func int DIA_ODGAR_FMQ002_SMITHING_GOTGOLD_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x10f2b)) {
        if ((FMQ002_KNOWSSCHEME2) == (1)) {
            if (((NPC_HASITEMS(OTHER, 0x8c8c)) >= (2)) && ((NPC_HASITEMS(OTHER, 0x8437)) >= (2))) {
                if ((FMQ002_GOTSWORD) == (0)) {
                    if ((FMQ002_KNOWODGARGOLD) == (TRUE)) {
                        return TRUE;
                    };
                };
            };
        };
    };
    return 0 /* !broken stack! */;
}

func int DIA_ODGAR_FMQ002_SMITHING_GOTGOLD_INFO() {
    INFO_CLEARCHOICES(0x10f34);
    INFO_ADDCHOICE(0x10f34, "I'll bring it later.", 0x10f30);
    if (((NPC_HASITEMS(OTHER, 0x859b)) >= (FMQ002_GOLDFORODGAR2)) && (C_GOTANYKINDOFBEER(HERO))) {
        INFO_ADDCHOICE(0x10f34, "Here. (Give 50 GP and a beer)", 0x10f31);
    };
    return 0 /* !broken stack! */;
}

instance DIA_ODGAR_FMQ002_AFTERSMITHING(C_INFO) {
    NPC = 0xcf17;
    NR = 1;
    CONDITION = DIA_ODGAR_FMQ002_AFTERSMITHING_CONDITION;
    INFORMATION = DIA_ODGAR_FMQ002_AFTERSMITHING_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_ODGAR_FMQ002_AFTERSMITHING_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x10f2b)) {
        if ((FMQ002_KNOWSSCHEME2) == (1)) {
            if ((FMQ002_SMITHIGSTARTED) == (TRUE)) {
                if ((FMQ002_GOTSWORD) == (0)) {
                    return TRUE;
                };
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_FMQ002_AFTERSMITHING_INFO() {
    FMQ002_GOTSWORD = 1;
    FMQ002_SWDTIER2 = TRUE;
    FMQ002_KNOWSODGARSCHEME = 1;
    B_USEANYBEER();
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_AfterSmithingTogether_GreatBeer_10_01");
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) > (0)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_AfterSmithingTogether_10_04");
    };
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) == (0)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_AfterSmithingTogether_10_08");
    };
    AI_STOPLOOKAT(SELF);
    CREATEINVITEM(SELF, 0x8cc0);
    AI_USEITEMTOSTATE(SELF, 0x8cc0, 1);
    AI_WAIT(SELF, 0x40800000);
    AI_USEITEMTOSTATE(SELF, 0x8cc0, -(1));
    AI_WAITTILLEND(OTHER, SELF);
    AI_WAITTILLEND(SELF, OTHER);
    AI_LOOKATNPC(OTHER, SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_AfterSmithingTogether_10_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_AfterSmithingTogether_10_06");
    if ((!(C_BODYSTATECONTAINS(SELF, BS_MOBINTERACT_INTERRUPT))) && (WLD_ISMOBAVAILABLE(SELF, "BSSHARP"))) {
        AI_LOOKATNPC(OTHER, SELF);
        AI_USEMOB(SELF, "BSSHARP", 1);
        AI_WAITTILLEND(OTHER, SELF);
        AI_TURNTONPC(OTHER, SELF);
        AI_WAIT(SELF, 0x40a00000);
        AI_USEMOB(SELF, "BSSHARP", -(1));
    };
    if (((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) > (0)) && ((PLAYER_TALENT_SMITH[8]) == (TRUE))) {
        LEARNWEAPONRECIPE(0x938e);
    };
    AI_TURNTONPC(SELF, OTHER);
    AI_LOOKATNPC(SELF, OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_AfterSmithingTogether_10_07");
    B_GIVEINVITEMS(SELF, OTHER, 0x9a4b, 1);
    AI_STOPLOOKAT(OTHER);
    AI_STOPLOOKAT(SELF);
    AI_LOGENTRY(TOPIC_FMQ002, LOG_FMQ002_SWORDBYMARVIN);
    NPC_EXCHANGEROUTINE(NONE_881_ODGAR, START);
    AI_STOPPROCESSINFOS(SELF);
}

func void ODGARWORKFADESCREEN1() {
    FADESCREENTOBLACKF(2, 0x10f3d, 1000);
    AI_USEMOB(HERO, "KMFIRE", -(1));
    AI_STOPPROCESSINFOS(HERO);
}

func void ODGARWORKFADESCREEN2() {
    FADESCREENTOBLACKF(2, 0x10f3c, 1000);
    AI_USEMOB(NONE_881_ODGAR, "BSANVIL", -(1));
    AI_STOPPROCESSINFOS(HERO);
}

func void ODGARMAKINGSWORD_FADESCREEN1() {
    B_PASSTIME(1);
    HERO.AIVAR[4] = FALSE;
    FADESCREENFROMBLACK(3);
}

func void ODGARMAKINGSWORD_FADESCREEN2() {
    B_PASSTIME(1);
    HERO.AIVAR[4] = FALSE;
    FADESCREENFROMBLACK(3);
}

instance DIA_ODGAR_AFTERPARTY(C_INFO) {
    NPC = 0xcf17;
    NR = 1;
    CONDITION = DIA_ODGAR_AFTERPARTY_CONDITION;
    INFORMATION = DIA_ODGAR_AFTERPARTY_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I would like to reforge my sword into a two handed one.";
}

func int DIA_ODGAR_AFTERPARTY_CONDITION() {
    if ((OKTAV_CHANGE1HSWORDQUESTION) == (TRUE)) {
        if ((ODGAR_BRING1HSWORD) == (FALSE)) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_GIVESWORD() {
    if ((NPC_HASEQUIPPEDMELEEWEAPON(HERO)) == (TRUE)) {
        ITM = NPC_GETEQUIPPEDMELEEWEAPON(HERO);
        if (((((HLP_ISITEM(ITM, 0x9a4a)) == (TRUE)) || ((HLP_ISITEM(ITM, 0x9a4b)) == (TRUE))) || ((HLP_ISITEM(ITM, 0x9a4c)) == (TRUE))) || ((HLP_ISITEM(ITM, 0x9a4d)) == (TRUE))) {
            AI_REMOVEWEAPON(HERO);
            AI_UNEQUIPWEAPONS(HERO);
            ODGAR_GIVESWORD = 1;
        } else {
            ODGAR_GIVESWORD = 1;
        } else {
            /* set_instance(0) */;
        };
    };
    ODGAR_GIVESWORD = 1;
    if ((ODGAR_GIVESWORD) == (1)) {
        if ((NPC_HASITEMS(HERO, 0x9a4a)) >= (1)) {
            NPC_REMOVEINVITEMS(HERO, 0x9a4a, 1);
            ODGAR_SWORD1HREMEMBER = 1;
        } else if ((NPC_HASITEMS(HERO, 0x9a4b)) >= (1)) {
            NPC_REMOVEINVITEMS(HERO, 0x9a4b, 1);
            ODGAR_SWORD1HREMEMBER = 2;
        } else if ((NPC_HASITEMS(HERO, 0x9a4c)) >= (1)) {
            NPC_REMOVEINVITEMS(HERO, 0x9a4c, 1);
            ODGAR_SWORD1HREMEMBER = 2;
        } else if ((NPC_HASITEMS(HERO, 0x9a4d)) >= (1)) {
            NPC_REMOVEINVITEMS(HERO, 0x9a4d, 1);
            ODGAR_SWORD1HREMEMBER = 3;
        };
        ODGAR_GIVESWORD = 2;
    };
}

var int DIA_ODGAR_GIVESWORD.ODGAR_GIVESWORD = 0;
instance DIA_ODGAR_GIVESWORD.ITM(C_ITEM)
func void DIA_ODGAR_AFTERPARTY_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_AFTERPARTY_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_AFTERPARTY_03_02");
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) > (0)) {
        BECOMEAGUARD_MAKE2HSWORDMYSELF = TRUE;
        ODGAR_BRING1HSWORD = TRUE;
        AI_OUTPUT(OTHER, SELF, "DIA_Odgar_AFTERPARTY_15_03");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_AFTERPARTY_03_04");
    };
    ODGAR_MAKE2HSWORD_CHECK = TRUE;
    ODGAR_MAKE2HSWORD_DAY = WLD_GETDAY();
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_AFTERPARTY_15_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_AFTERPARTY_03_06");
    if (((((NPC_HASITEMS(HERO, 0x9a4a)) >= (1)) || ((NPC_HASITEMS(HERO, 0x9a4b)) >= (1))) || ((NPC_HASITEMS(HERO, 0x9a4c)) >= (1))) || ((NPC_HASITEMS(HERO, 0x9a4d)) >= (1))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_AFTERPARTY_03_07");
        AI_FUNCTION(SELF, 0x10f40);
        ODGAR_BRING1HSWORD = TRUE;
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_AFTERPARTY_03_08");
}

instance DIA_ODGAR_SWORDREADY(C_INFO) {
    NPC = 0xcf17;
    NR = 1;
    CONDITION = DIA_ODGAR_SWORDREADY_CONDITION;
    INFORMATION = DIA_ODGAR_SWORDREADY_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "My sword ready?";
}

func int DIA_ODGAR_SWORDREADY_CONDITION() {
    if (((ODGAR_MAKE2HSWORD_CHECK) == (TRUE)) && (NPC_KNOWSINFO(OTHER, 0x10f3e))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_GIVESWORD_2H() {
    if ((ODGAR_SWORD1HREMEMBER) == (1)) {
        CREATEINVITEMS(NONE_881_ODGAR, 0x9a4e, 1);
    };
    if ((ODGAR_SWORD1HREMEMBER) == (2)) {
        CREATEINVITEMS(NONE_881_ODGAR, 0x9a4f, 1);
    };
    if ((ODGAR_SWORD1HREMEMBER) == (3)) {
        CREATEINVITEMS(NONE_881_ODGAR, 0x9a50, 1);
        B_GIVEINVITEMS(NONE_881_ODGAR, HERO, 0x9a50, 1);
    };
}

func void DIA_ODGAR_SWORDREADY_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_SwordReady_15_01");
    if ((ODGAR_MAKE2HSWORD_DAY) <= ((WLD_GETDAY()) - (1))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_SwordReady_03_02");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_SwordReady_03_03");
        ODGAR_MAKE2HSWORD_CHECK = FALSE;
        AI_FUNCTION(SELF, 0x10f46);
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_SwordReady_03_04");
}

instance DIA_ODGAR_NICE2HSWORD(C_INFO) {
    NPC = 0xcf17;
    NR = 1;
    CONDITION = DIA_ODGAR_NICE2HSWORD_CONDITION;
    INFORMATION = DIA_ODGAR_NICE2HSWORD_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_ODGAR_NICE2HSWORD_CONDITION() {
    if (((BECOMEAGUARD_MAKE2HSWORDMYSELF) == (2)) && (!(NPC_KNOWSINFO(OTHER, 0x10221)))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_NICE2HSWORD_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Nice2HSword_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Nice2HSword_03_02");
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_ODGAR_BOLT(C_INFO) {
    NPC = 0xcf17;
    NR = 1;
    CONDITION = DIA_ODGAR_BOLT_CONDITION;
    INFORMATION = DIA_ODGAR_BOLT_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I need your opinion on a certain bolt head.";
}

func int DIA_ODGAR_BOLT_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q309)) == (LOG_RUNNING)) && ((NPC_HASITEMS(OTHER, 0x91ad)) >= (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_BOLT_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_Bolt_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Bolt_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Bolt_03_03");
    if ((NPC_HASITEMS(SELF, 0x8ce3)) == (0)) {
        AI_STOPLOOKAT(SELF);
        CREATEINVITEM(SELF, 0x8ce3);
        AI_USEITEMTOSTATE(SELF, 0x8ce3, 1);
        AI_WAIT(SELF, 0x40400000);
        AI_USEITEMTOSTATE(SELF, 0x8ce3, -(1));
        AI_LOOKATNPC(SELF, OTHER);
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Bolt_03_04");
    INFO_CLEARCHOICES(0x10f4b);
    INFO_ADDCHOICE(0x10f4b, "In that case, who made it?", 0x10f4e);
}

func void DIA_ODGAR_BOLT_WHO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_Bolt_Who_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Bolt_Who_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Bolt_Who_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Bolt_Who_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Bolt_Who_03_05");
    if (NPC_HASGUILDARMOREQUIPPED(OTHER, GIL_SLD)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Bolt_Who_03_06");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Bolt_Who_03_07");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Bolt_Who_03_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Bolt_Who_03_09");
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_Bolt_Who_15_10");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Bolt_Who_03_11");
    AI_LOGENTRY(TOPIC_Q309, LOG_Q309_ODGAR_BOLT);
    INFO_CLEARCHOICES(0x10f4b);
}

instance DIA_ODGAR_KQ402_GRAYSON(C_INFO) {
    NPC = 0xcf17;
    NR = 1;
    CONDITION = DIA_ODGAR_KQ402_GRAYSON_CONDITION;
    INFORMATION = DIA_ODGAR_KQ402_GRAYSON_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Grayson sent me.";
}

func int DIA_ODGAR_KQ402_GRAYSON_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_KQ402)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x108e2))) && ((NPC_HASITEMS(OTHER, 0x91cc)) >= (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_KQ402_GRAYSON_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_KQ402_Grayson_15_01");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_KQ402_Grayson_03_02");
    AI_WAITTILLEND(OTHER, SELF);
    KQ402_UGLYARMOR_SHOW();
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_KQ402_Grayson_15_03");
    AI_STARTFACEANI(SELF, S_THINK, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_KQ402_Grayson_03_04");
    KQ402_UGLYARMOR_HIDE();
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_KQ402_Grayson_15_05");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_KQ402_Grayson_03_06");
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_KQ402_Grayson_15_07");
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_KQ402_Grayson_15_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_KQ402_Grayson_03_09");
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_KQ402_Grayson_15_10");
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_KQ402_Grayson_15_11");
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_KQ402_Grayson_15_12");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_KQ402_Grayson_03_13");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_KQ402_Grayson_03_14");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_KQ402_Grayson_03_15");
    AI_RESETFACEANI(SELF);
    INFO_CLEARCHOICES(0x10f4f);
    INFO_ADDCHOICE(0x10f4f, "(Go to Grayson)", 0x10f52);
    INFO_ADDCHOICE(0x10f4f, "(Take care of other matters)", 0x10f53);
}

func void DIA_ODGAR_KQ402_GRAYSON_TELEPORT() {
    AI_STOPPROCESSINFOS(SELF);
    AI_FUNCTION(SELF, 0xf149);
}

func void DIA_ODGAR_KQ402_GRAYSON_NORMAL() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_ODGAR_PEON(C_INFO) {
    NPC = 0xcf17;
    NR = 10;
    CONDITION = DIA_ODGAR_PEON_CONDITION;
    INFORMATION = DIA_ODGAR_PEON_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I want to work for you.";
}

func int DIA_ODGAR_PEON_CONDITION() {
    if ((WHONEEDPEON) == (TRUE)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_PEON_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_Peon_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Peon_03_02");
    if (((IAM_PEON) == (FALSE)) || ((PEON_SECONDTIME) == (TRUE))) {
        AI_OUTPUT(OTHER, SELF, "DIA_Odgar_Peon_15_03");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Peon_03_04");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Peon_03_05");
        AI_OUTPUT(OTHER, SELF, "DIA_Odgar_Peon_15_06");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Peon_03_07");
        AI_OUTPUT(OTHER, SELF, "DIA_Odgar_Peon_15_08");
        LOG_CREATETOPIC(TOPIC_PQ102, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_PQ102), TOPIC_PQ102, LOG_RUNNING);
        AI_LOGENTRY(TOPIC_PQ102, LOG_PQ102_START);
    };
    if ((IAM_PEON) == (TRUE)) {
        AI_OUTPUT(OTHER, SELF, "DIA_Odgar_Peon_15_09");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Peon_03_10");
        AI_OUTPUT(OTHER, SELF, "DIA_Odgar_Peon_15_11");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Peon_03_12");
        AI_OUTPUT(OTHER, SELF, "DIA_Odgar_Peon_15_13");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Peon_03_14");
        LOG_CREATETOPIC(TOPIC_PQ102, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_PQ102), TOPIC_PQ102, LOG_RUNNING);
        AI_LOGENTRY(TOPIC_PQ102, LOG_PQ102_WHAT);
    };
}

var int PQ102_ENOUGH = 0;
var int PQ102_IRONGIVEN = 0;
var int PQ102_NUGGETGIVEN = 0;
var int PQ102_COALGIVEN = 0;
var int PQ102_IAMSMITHER = 0;
var int PQ102_FINISHSWORD = 0;
var int PQ102_BEPEON = 0;
instance DIA_ODGAR_PQ102(C_INFO) {
    NPC = 0xcf17;
    NR = 10;
    CONDITION = DIA_ODGAR_PQ102_CONDITION;
    INFORMATION = DIA_ODGAR_PQ102_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "I have an idea...";
}

func int DIA_ODGAR_PQ102_CONDITION() {
    if (((NPC_KNOWSINFO(OTHER, 0x10f54)) && ((PQ102_BEPEON) == (FALSE))) && ((LOG_GETSTATUS(MIS_PQ102)) == (LOG_RUNNING))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_PQ102_FINISH_NOJOB() {
    PQ102_BEPEON = TRUE;
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_EnoughWork_03_01");
    CREATEINVITEMS(SELF, 0x859b, PQ102_REWARD);
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, PQ102_REWARD);
    INFO_CLEARCHOICES(0x10f5e);
    LOG_SETSTATUS(_@(MIS_PQ102), TOPIC_PQ102, LOG_SUCCESS);
    AI_LOGENTRY(TOPIC_PQ102, LOG_PQ102_FINISH_V1);
    B_GIVEPLAYERXP(XP_PQ102_FINISH);
}

func void DIA_ODGAR_PQ102_FINISH_JOB() {
    PQ102_BEPEON = TRUE;
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_BePeon_03_01");
    INFO_CLEARCHOICES(0x10f5e);
    LOG_SETSTATUS(_@(MIS_PQ102), TOPIC_PQ102, LOG_SUCCESS);
    AI_LOGENTRY(TOPIC_PQ102, LOG_PQ102_FINISH_V2);
    B_GIVEPLAYERXP(XP_PQ102_FINISH);
}

func void DIA_ODGAR_PQ102_CHOICES() {
    INFO_CLEARCHOICES(0x10f5e);
    INFO_ADDCHOICE(0x10f5e, DIALOG_BACK, 0x10f65);
    if ((PQ102_IRONGIVEN) == (FALSE)) {
        if ((NPC_HASITEMS(OTHER, 0x8c8c)) >= (1)) {
            INFO_ADDCHOICE(0x10f5e, "I have some unprocessed iron here.", 0x10f66);
        };
    };
    if ((PQ102_NUGGETGIVEN) == (FALSE)) {
        if ((NPC_HASITEMS(OTHER, 0x859a)) >= (1)) {
            INFO_ADDCHOICE(0x10f5e, "I have a nugget of magic ore here.", 0x10f67);
        };
    };
    if ((PQ102_COALGIVEN) == (FALSE)) {
        if ((NPC_HASITEMS(OTHER, 0x85b4)) >= (10)) {
            INFO_ADDCHOICE(0x10f5e, "I got some coal for you.", 0x10f68);
        };
    };
    if ((PQ102_IAMSMITHER) == (FALSE)) {
        if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) >= (1)) {
            INFO_ADDCHOICE(0x10f5e, "I know blacksmithing, isn't that enough?", 0x10f69);
        };
    };
    if ((PQ102_IAMSMITHER) == (TRUE)) {
        if (((NPC_HASITEMS(OTHER, 0x9a7b)) >= (1)) && ((PQ102_FINISHSWORD) == (FALSE))) {
            INFO_ADDCHOICE(0x10f5e, "I have this sword.", 0x10f6a);
        };
    };
}

func void DIA_ODGAR_PQ102_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_PQ102_15_01");
    DIA_ODGAR_PQ102_CHOICES();
}

func void DIA_ODGAR_PQ102_CHECKFINISH() {
    if (((PQ102_ENOUGH) == (TRUE)) || ((PQ102_FINISHSWORD) == (TRUE))) {
        if (((IAM_PEON) == (TRUE)) && (((PEON_SECONDTIME) == (0)) || ((PEON_SECONDTIME) == (2)))) {
            DIA_ODGAR_PQ102_FINISH_NOJOB();
        } else if (((IAM_PEON) == (FALSE)) || ((PEON_SECONDTIME) == (TRUE))) {
            DIA_ODGAR_PQ102_FINISH_JOB();
        };
    };
    DIA_ODGAR_PQ102_CHOICES();
}

func void DIA_ODGAR_PQ102_BACK() {
    INFO_CLEARCHOICES(0x10f5e);
}

func void DIA_ODGAR_PQ102_IRON() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_PQ102_Iron_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_PQ102_Iron_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_PQ102_Iron_15_03");
    PQ102_IRONGIVEN = TRUE;
    if (((IAM_PEON) == (TRUE)) && (((PEON_SECONDTIME) == (0)) || ((PEON_SECONDTIME) == (2)))) {
        AI_LOGENTRY(TOPIC_PQ102, LOG_PQ102_IRON);
    };
    AI_LOGENTRY(TOPIC_PQ102, LOG_PQ102_IRONV2);
    DIA_ODGAR_PQ102_CHECKFINISH();
}

func void DIA_ODGAR_PQ102_NUGGET() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_PQ102_Nugget_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_PQ102_Nugget_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_PQ102_Nugget_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_PQ102_Nugget_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_PQ102_Nugget_03_05");
    NPC_REMOVEINVITEM(SELF, 0x859a);
    PQ102_NUGGETGIVEN = TRUE;
    B_GIVEINVITEMS(OTHER, SELF, 0x859a, 1);
    PQ102_ENOUGH = TRUE;
    if (((IAM_PEON) == (TRUE)) && (((PEON_SECONDTIME) == (0)) || ((PEON_SECONDTIME) == (2)))) {
        CREATEINVITEMS(SELF, 0x859b, ODGAR_NUGGET);
        B_GIVEINVITEMS(SELF, OTHER, 0x859b, ODGAR_NUGGET);
        AI_LOGENTRY(TOPIC_PQ102, LOG_PQ102_NUGGET);
    };
    AI_LOGENTRY(TOPIC_PQ102, LOG_PQ102_NUGGETV2);
    DIA_ODGAR_PQ102_CHECKFINISH();
}

func void DIA_ODGAR_PQ102_COAL() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_PQ102_Coal_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_PQ102_Coal_03_02");
    PQ102_COALGIVEN = TRUE;
    if (((IAM_PEON) == (TRUE)) && (((PEON_SECONDTIME) == (0)) || ((PEON_SECONDTIME) == (2)))) {
        AI_LOGENTRY(TOPIC_PQ102, LOG_PQ102_COAL);
    };
    AI_LOGENTRY(TOPIC_PQ102, LOG_PQ102_COALV2);
    DIA_ODGAR_PQ102_CHECKFINISH();
}

func void DIA_ODGAR_PQ102_SMITHER() {
    PQ102_IAMSMITHER = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_PQ102_Smither_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_PQ102_Smither_03_02");
    if (((IAM_PEON) == (TRUE)) && (((PEON_SECONDTIME) == (0)) || ((PEON_SECONDTIME) == (2)))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_PQ102_Smither_03_03");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_PQ102_Smither_03_04");
    CREATEINVITEMS(SELF, 0x9391, 1);
    if (((IAM_PEON) == (TRUE)) && (((PEON_SECONDTIME) == (0)) || ((PEON_SECONDTIME) == (2)))) {
        AI_LOGENTRY(TOPIC_PQ102, LOG_PQ102_SWORD);
    };
    B_GIVEINVITEMS(SELF, OTHER, 0x9391, 1);
    AI_LOGENTRY(TOPIC_PQ102, LOG_PQ102_SWORDV2);
    DIA_ODGAR_PQ102_CHECKFINISH();
}

func void DIA_ODGAR_PQ102_GOTSWORD() {
    PQ102_FINISHSWORD = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_PQ102_GotSword_15_01");
    NPC_REMOVEINVITEM(SELF, 0x9a7b);
    B_USEFAKECHECKSWORD_ITMW_1H_SWORD_07();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a7b, 1);
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_IHaveWeapon_03_03");
    DIA_ODGAR_PQ102_CHECKFINISH();
}

instance DIA_ODGAR_IWANTTOBEPEON(C_INFO) {
    NPC = 0xcf17;
    NR = 10;
    CONDITION = DIA_ODGAR_IWANTTOBEPEON_CONDITION;
    INFORMATION = DIA_ODGAR_IWANTTOBEPEON_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "I want to be your apprentice.";
}

func int DIA_ODGAR_IWANTTOBEPEON_CONDITION() {
    if (((PQ102_BEPEON) == (TRUE)) && ((PEON_ODGAR) == (FALSE))) {
        if (((IAM_PEON) == (FALSE)) || ((PEON_SECONDTIME) == (TRUE))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_IWANTTOBEPEON_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_IwanttobePeon_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_IwanttobePeon_03_02");
    INFO_CLEARCHOICES(0x10f6b);
    INFO_ADDCHOICE(0x10f6b, "I'll think about it some more.", 0x10f6e);
    INFO_ADDCHOICE(0x10f6b, "Yes, I'm sure.", 0x10f6f);
}

func void DIA_ODGAR_IWANTTOBEPEON_NOTSURE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_IwanttobePeonNotSure_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_IwanttobePeonNotSure_03_02");
    INFO_CLEARCHOICES(0x10f6b);
}

func void DIA_ODGAR_IWANTTOBEPEON_YES() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_IwanttobePeonYes_15_01");
    if ((B_GETGREATESTPETZCRIME(SELF)) > (CRIME_NONE)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_IwanttobePeonYes_03_05");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_IwanttobePeonYes_03_06");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_IwanttobePeonYes_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_IwanttobePeonYes_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_IwanttobePeonYes_03_04");
    B_GIVEPLAYERXP(XP_PEON_FINISH);
    IAM_PEON = TRUE;
    PEON_ODGAR = TRUE;
    if ((PEON_WHOFIRSTPEON) == (0)) {
        PEON_WHOFIRSTPEON = 2;
    };
    PEON_SECONDTIME = 2;
    INFO_CLEARCHOICES(0x10f6b);
}

var int ODGAR_MIL_SURPRISED = 0;
var int ODGAR_SLD_SURPRISED = 0;
var int PQ108_CANBESTARTED = 0;
instance DIA_ODGAR_HOWTOBEPEON(C_INFO) {
    NPC = 0xcf17;
    NR = 10;
    CONDITION = DIA_ODGAR_HOWTOBEPEON_CONDITION;
    INFORMATION = DIA_ODGAR_HOWTOBEPEON_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "What are my responsibilities?";
}

func int DIA_ODGAR_HOWTOBEPEON_CONDITION() {
    if ((PEON_ODGAR) == (TRUE)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_HOWTOBEPEON_WHATDO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_HowToBePeon_SideQuest_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_HowToBePeon_SideQuest_03_02");
    LOG_CREATETOPIC(TOPIC_WORK_ODGAR, LOG_NOTE);
    AI_LOGENTRY(TOPIC_WORK_ODGAR, LOG_WORK_ODGAR_START);
}

func void DIA_ODGAR_HOWTOBEPEON_SIDEQUEST() {
    if ((PQ108_CANBESTARTED) == (FALSE)) {
        DIA_ODGAR_HOWTOBEPEON_WHATDO();
        AI_RESETFACEANI(SELF);
        AI_OUTPUT(OTHER, SELF, "DIA_Odgar_HowToBePeon_SideQuest_15_03");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_HowToBePeon_SideQuest_03_04");
    };
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_HowToBePeon_SideQuest_15_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_HowToBePeon_SideQuest_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_HowToBePeon_SideQuest_03_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_HowToBePeon_SideQuest_03_08");
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_HowToBePeon_SideQuest_15_09");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_HowToBePeon_SideQuest_03_10");
    PQ108_PREPARECORPSE();
    if ((OTHER.HITCHANCE[1]) >= (OTHER.HITCHANCE[2])) {
        MOB_CREATEITEMS("PQ108_CORPSE", 0x93c1, 1);
    };
    MOB_CREATEITEMS("PQ108_CORPSE", 0x93fb, 1);
    LOG_CREATETOPIC(TOPIC_PQ108, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_PQ108), TOPIC_PQ108, LOG_RUNNING);
    AI_LOGENTRY(TOPIC_PQ108, LOG_PQ108_START);
    if (NPC_ISDEAD(KM_YTROLL_PART1_01)) {
        WLD_INSERTNPC(0xc74c, "PART1_PATH_65");
    };
    if (NPC_ISDEAD(KM_YTROLL_PART1_02)) {
        WLD_INSERTNPC(0xc74c, "PART1_MOB_01");
    };
    if (NPC_ISDEAD(TROLL_PART1_01)) {
        WLD_INSERTNPC(0xc74a, "PART1_MOB_57");
    };
}

func void DIA_ODGAR_HOWTOBEPEON_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_HowToBePeon_15_01");
    if ((HERO.GUILD) == (GIL_MIL)) {
        ODGAR_MIL_SURPRISED = TRUE;
        AI_STARTFACEANI(SELF, S_SURPRISE, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_HowToBePeon_03_04");
    };
    if ((HERO.GUILD) == (GIL_SLD)) {
        ODGAR_SLD_SURPRISED = TRUE;
        AI_STARTFACEANI(SELF, S_SURPRISE, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_HowToBePeon_03_05");
    };
    if ((((KAPITEL) >= (3)) && ((PEON_SECONDTIME) == (FALSE))) && ((LOG_GETSTATUS(MIS_PQ108)) == (0))) {
        DIA_ODGAR_HOWTOBEPEON_SIDEQUEST();
    };
    DIA_ODGAR_HOWTOBEPEON_WHATDO();
    PQ108_CANBESTARTED = TRUE;
}

instance DIA_ODGAR_WHOAYOUMILITIA(C_INFO) {
    NPC = 0xcf17;
    NR = 10;
    CONDITION = DIA_ODGAR_WHOAYOUMILITIA_CONDITION;
    INFORMATION = DIA_ODGAR_WHOAYOUMILITIA_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_ODGAR_WHOAYOUMILITIA_CONDITION() {
    if (((((PEON_ODGAR) == (TRUE)) && ((ODGAR_MIL_SURPRISED) == (FALSE))) && ((HERO.GUILD) == (GIL_MIL))) && (NPC_KNOWSINFO(OTHER, 0x10f73))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_WHOAYOUMILITIA_INFO() {
    ODGAR_MIL_SURPRISED = TRUE;
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_WhoaYouMilitia_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_WhoaYouMilitia_03_02");
    AI_RESETFACEANI(SELF);
    if ((((KAPITEL) >= (3)) && ((PEON_SECONDTIME) == (FALSE))) && ((LOG_GETSTATUS(MIS_PQ108)) == (0))) {
        DIA_ODGAR_HOWTOBEPEON_SIDEQUEST();
    };
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_WhoaYouMilitia_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_WhoaYouMilitia_03_04");
    PQ108_CANBESTARTED = TRUE;
}

instance DIA_ODGAR_WHOAYOUARAXOS(C_INFO) {
    NPC = 0xcf17;
    NR = 10;
    CONDITION = DIA_ODGAR_WHOAYOUARAXOS_CONDITION;
    INFORMATION = DIA_ODGAR_WHOAYOUARAXOS_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_ODGAR_WHOAYOUARAXOS_CONDITION() {
    if (((((PEON_ODGAR) == (TRUE)) && ((ODGAR_SLD_SURPRISED) == (FALSE))) && ((HERO.GUILD) == (GIL_SLD))) && (NPC_KNOWSINFO(OTHER, 0x10f73))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_WHOAYOUARAXOS_INFO() {
    ODGAR_SLD_SURPRISED = TRUE;
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_WhoaYouAraxos_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_WhoaYouAraxos_03_02");
    AI_RESETFACEANI(SELF);
    if ((((KAPITEL) >= (3)) && ((PEON_SECONDTIME) == (FALSE))) && ((LOG_GETSTATUS(MIS_PQ108)) == (0))) {
        DIA_ODGAR_HOWTOBEPEON_SIDEQUEST();
    };
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_WhoaYouAraxos_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_WhoaYouAraxos_03_04");
    PQ108_CANBESTARTED = TRUE;
}

instance DIA_ODGAR_PQ108_STARTQUEST(C_INFO) {
    NPC = 0xcf17;
    NR = 1;
    CONDITION = DIA_ODGAR_PQ108_STARTQUEST_CONDITION;
    INFORMATION = DIA_ODGAR_PQ108_STARTQUEST_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_ODGAR_PQ108_STARTQUEST_CONDITION() {
    if (((((((PEON_ODGAR) == (TRUE)) && ((PQ108_CANBESTARTED) == (TRUE))) && ((KAPITEL) >= (3))) && (NPC_ISINSTATE(SELF, 0xf09f))) && ((LOG_GETSTATUS(MIS_PQ108)) == (0))) && ((PEON_SECONDTIME) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_PQ108_STARTQUEST_INFO() {
    B_SAY(SELF, OTHER, "$GREETINGS_FromFriend");
    AI_OUTPUT(OTHER, SELF, "DIA_Medikamenten_QM203_NeedHelp_15_01");
    B_SAY(SELF, OTHER, "$SURE_V3");
    DIA_ODGAR_HOWTOBEPEON_SIDEQUEST();
}

instance DIA_ODGAR_PQ108_FINISH(C_INFO) {
    NPC = 0xcf17;
    NR = 10;
    CONDITION = DIA_ODGAR_PQ108_FINISH_CONDITION;
    INFORMATION = DIA_ODGAR_PQ108_FINISH_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I found the traveler.";
}

func int DIA_ODGAR_PQ108_FINISH_CONDITION() {
    if ((LOG_GETSTATUS(MIS_PQ108)) == (LOG_RUNNING)) {
        if (((NPC_HASITEMS(OTHER, 0x93c1)) >= (1)) || ((NPC_HASITEMS(OTHER, 0x93fb)) >= (1))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_PQ108_FINISH_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_PQ108_Finish_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_PQ108_Finish_03_02");
    PQ108_PREPARECORPSE();
    INFO_CLEARCHOICES(0x10f81);
    INFO_ADDCHOICE(0x10f81, "Nothing, the guy was dead.", 0x10f87);
    INFO_ADDCHOICE(0x10f81, "Exactly 1,000 gold pieces.", 0x10f88);
}

var int PQ108_FINISHQUEST = 0;
var int PQ108_FINISHQUEST_DAY = 0;
func void DIA_ODGAR_PQ108_FINISHQUEST() {
    PQ108_FINISHQUEST = TRUE;
    PQ108_FINISHQUEST_DAY = WLD_GETDAY();
    LOG_SETSTATUS(_@(MIS_PQ108), TOPIC_PQ108, LOG_SUCCESS);
    B_GIVEPLAYERXP(XP_PQ108_FINISH);
    INFO_CLEARCHOICES(0x10f81);
}

func void DIA_ODGAR_PQ108_FINISH_DEAD() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_PQ108_Finish_Dead_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_PQ108_Finish_Dead_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_PQ108_Finish_Dead_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_PQ108_Finish_Dead_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_PQ108_Finish_Dead_03_05");
    B_GIVEINVITEMS(SELF, OTHER, 0x85b4, 10);
    AI_LOGENTRY(TOPIC_PQ108, LOG_PQ108_FINISH_V1);
    B_GIVEINVITEMS(SELF, OTHER, 0x8c8c, 20);
    DIA_ODGAR_PQ108_FINISHQUEST();
}

func void DIA_ODGAR_PQ108_FINISH_GOLD() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_PQ108_Finish_Gold_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_PQ108_Finish_Gold_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_PQ108_Finish_Gold_15_03");
    if ((NPC_HASITEMS(OTHER, 0x93c1)) >= (1)) {
        B_GIVEINVITEMS(OTHER, SELF, 0x93c1, 1);
    };
    if ((NPC_HASITEMS(OTHER, 0x93fb)) >= (1)) {
        B_GIVEINVITEMS(OTHER, SELF, 0x93fb, 1);
    };
    CREATEINVITEMS(SELF, 0x859b, PQ108_REWARD);
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, PQ108_REWARD);
    AI_LOGENTRY(TOPIC_PQ108, LOG_PQ108_FINISH_V2);
    DIA_ODGAR_PQ108_FINISHQUEST();
}

instance DIA_ODGAR_IHAVEWEAPON(C_INFO) {
    NPC = 0xcf17;
    NR = 970;
    CONDITION = DIA_ODGAR_IHAVEWEAPON_CONDITION;
    INFORMATION = DIA_ODGAR_IHAVEWEAPON_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "I have a weapon for sale.";
}

func int DIA_ODGAR_IHAVEWEAPON_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x10f73)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_IHAVEWEAPON_CHOICES() {
    AI_UNEQUIPWEAPONS(OTHER);
    INFO_CLEARCHOICES(0x10f89);
    INFO_ADDCHOICE(0x10f89, DIALOG_BACK, 0x10f8d);
    INFO_ADDCHOICE(0x10f89, "Basic weapons", 0x10fa1);
    INFO_ADDCHOICE(0x10f89, "Solid weapons", 0x10fcb);
    INFO_ADDCHOICE(0x10f89, "Masterful weapons", 0x10ffd);
}

func void DIA_ODGAR_IHAVEWEAPON_INFO() {
    B_SAY(OTHER, SELF, "$MARVIN_SellWeapon");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_IHaveWeapon_03_02");
    DIA_ODGAR_IHAVEWEAPON_CHOICES();
}

func void DIA_ODGAR_IHAVEWEAPON_BACK() {
    INFO_CLEARCHOICES(0x10f89);
}

var int IHAVEWEAPON_BASIC_COUNT = 0;
var int IHAVEWEAPON_BASIC_ITMW_1H_KITCHEN_KNIFE_02 = 0;
var int IHAVEWEAPON_BASIC_ITMW_SHORTSWORD1 = 0;
var int IHAVEWEAPON_BASIC_ITMW_SHORTSWORD4 = 0;
var int IHAVEWEAPON_BASIC_ITMW_SHORTSWORD5 = 0;
var int IHAVEWEAPON_BASIC_ITMW_1H_KITCHEN_KNIFE_03 = 0;
var int IHAVEWEAPON_BASIC_ITMW_1H_COMMON_01 = 0;
var int IHAVEWEAPON_BASIC_ITMW_1H_VLK2_SWORD = 0;
var int IHAVEWEAPON_BASIC_ITMW_1H_MACE_02 = 0;
var int IHAVEWEAPON_BASIC_ITMW_1H_SWORD_07 = 0;
var int IHAVEWEAPON_BASIC_ITMW_ADDON_KEULE_1H_01 = 0;
var int IHAVEWEAPON_BASIC_ITMW_2H_BAU_SCYTHE = 0;
var int IHAVEWEAPON_BASIC_ITMW_2H_SLD_SWORD = 0;
var int IHAVEWEAPON_BASIC_ITMW_NONE_2H_SWORD = 0;
var int IHAVEWEAPON_BASIC_ITMW_RICHTSTAB = 0;
var int IHAVEWEAPON_BASIC_ITMW_HELLEBARDE = 0;
var int IHAVEWEAPON_BASIC_ITMW_NONE_2H_SWORD3 = 0;
var int IHAVEWEAPON_BASIC_ITMW_2H_SPEAR_08 = 0;
var int IHAVEWEAPON_BASIC_ITMW_2H_SWORD_02 = 0;
func void DIA_ODGAR_IHAVEWEAPON_BASIC() {
    INFO_CLEARCHOICES(0x10f89);
    if (((NPC_HASITEMS(OTHER, 0x9abe)) >= (1)) && ((IHAVEWEAPON_BASIC_ITMW_1H_KITCHEN_KNIFE_02) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_1H_KITCHEN_KNIFE_02, 0x10fa3);
    };
    if (((NPC_HASITEMS(OTHER, 0x84d4)) >= (1)) && ((IHAVEWEAPON_BASIC_ITMW_SHORTSWORD1) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_SHORTSWORD1, 0x10fa4);
    };
    if (((NPC_HASITEMS(OTHER, 0x84f6)) >= (1)) && ((IHAVEWEAPON_BASIC_ITMW_SHORTSWORD4) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_SHORTSWORD4, 0x10fa5);
    };
    if (((NPC_HASITEMS(OTHER, 0x84fa)) >= (1)) && ((IHAVEWEAPON_BASIC_ITMW_SHORTSWORD5) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_SHORTSWORD5, 0x10fa6);
    };
    if (((NPC_HASITEMS(OTHER, 0x9abf)) >= (1)) && ((IHAVEWEAPON_BASIC_ITMW_1H_KITCHEN_KNIFE_03) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_1H_KITCHEN_KNIFE_03, 0x10fa7);
    };
    if (((NPC_HASITEMS(OTHER, 0x8504)) >= (1)) && ((IHAVEWEAPON_BASIC_ITMW_1H_COMMON_01) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_1H_COMMON, 0x10fa8);
    };
    if (((NPC_HASITEMS(OTHER, 0x9ae4)) >= (1)) && ((IHAVEWEAPON_BASIC_ITMW_1H_VLK2_SWORD) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_1H_VLK2_SWORD, 0x10fa9);
    };
    if (((NPC_HASITEMS(OTHER, 0x9aa4)) >= (1)) && ((IHAVEWEAPON_BASIC_ITMW_1H_MACE_02) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_1H_MACE_02, 0x10faa);
    };
    if ((((NPC_HASITEMS(OTHER, 0x9a7b)) >= (1)) && ((PQ102_FINISHSWORD) == (FALSE))) && ((IHAVEWEAPON_BASIC_ITMW_1H_SWORD_07) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_1H_SWORD_07, 0x10fab);
    };
    if (((NPC_HASITEMS(OTHER, 0x83c6)) >= (1)) && ((IHAVEWEAPON_BASIC_ITMW_ADDON_KEULE_1H_01) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_ADDON_KEULE_1H_01, 0x10fac);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a8d)) >= (1)) && ((IHAVEWEAPON_BASIC_ITMW_2H_BAU_SCYTHE) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_BAU_SCYTHE, 0x10fad);
    };
    if (((NPC_HASITEMS(OTHER, 0x84e9)) >= (1)) && ((IHAVEWEAPON_BASIC_ITMW_2H_SLD_SWORD) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_SLD_SWORD, 0x10fae);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a3b)) >= (1)) && ((IHAVEWEAPON_BASIC_ITMW_NONE_2H_SWORD) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_NONE_2H_SWORD, 0x10faf);
    };
    if (((NPC_HASITEMS(OTHER, 0x84f8)) >= (1)) && ((IHAVEWEAPON_BASIC_ITMW_RICHTSTAB) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_RICHTSTAB, 0x10fb0);
    };
    if (((NPC_HASITEMS(OTHER, 0x84fc)) >= (1)) && ((IHAVEWEAPON_BASIC_ITMW_HELLEBARDE) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_G1_HELLEBARDE, 0x10fb1);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a3f)) >= (1)) && ((IHAVEWEAPON_BASIC_ITMW_NONE_2H_SWORD3) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_NONE_2H_SWORD3, 0x10fb2);
    };
    if (((NPC_HASITEMS(OTHER, 0x9ad5)) >= (1)) && ((IHAVEWEAPON_BASIC_ITMW_2H_SPEAR_08) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_SPEAR_08, 0x10fb3);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a5b)) >= (1)) && ((IHAVEWEAPON_BASIC_ITMW_2H_SWORD_02) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_SWORD_02, 0x10fb4);
    };
    INFO_ADDCHOICE(0x10f89, DIALOG_BACK, 0x10f8b);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT() {
    IHAVEWEAPON_BASIC_COUNT = (IHAVEWEAPON_BASIC_COUNT) + (1);
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_IHaveWeapon_03_03");
    AI_RESETFACEANI(SELF);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_ITMW_1H_KITCHEN_KNIFE_02() {
    DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT();
    IHAVEWEAPON_BASIC_ITMW_1H_KITCHEN_KNIFE_02 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9abe);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_KITCHEN_KNIFE_02) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_KITCHEN_KNIFE_02) / (2));
    DIA_ODGAR_IHAVEWEAPON_BASIC();
    B_GIVEINVITEMS(OTHER, SELF, 0x9abe, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_ITMW_SHORTSWORD1() {
    DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT();
    IHAVEWEAPON_BASIC_ITMW_SHORTSWORD1 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x84d4);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_SHORTSWORD1) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_SHORTSWORD1) / (2));
    DIA_ODGAR_IHAVEWEAPON_BASIC();
    B_GIVEINVITEMS(OTHER, SELF, 0x84d4, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_ITMW_SHORTSWORD4() {
    DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT();
    IHAVEWEAPON_BASIC_ITMW_SHORTSWORD4 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x84f6);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_SHORTSWORD4) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_SHORTSWORD4) / (2));
    DIA_ODGAR_IHAVEWEAPON_BASIC();
    B_GIVEINVITEMS(OTHER, SELF, 0x84f6, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_ITMW_SHORTSWORD5() {
    DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT();
    IHAVEWEAPON_BASIC_ITMW_SHORTSWORD5 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x84fa);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_SHORTSWORD5) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_SHORTSWORD5) / (2));
    DIA_ODGAR_IHAVEWEAPON_BASIC();
    B_GIVEINVITEMS(OTHER, SELF, 0x84fa, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_ITMW_1H_KITCHEN_KNIFE_03() {
    DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT();
    IHAVEWEAPON_BASIC_ITMW_1H_KITCHEN_KNIFE_03 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9abf);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_KITCHEN_KNIFE_03) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_KITCHEN_KNIFE_03) / (2));
    DIA_ODGAR_IHAVEWEAPON_BASIC();
    B_GIVEINVITEMS(OTHER, SELF, 0x9abf, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_ITMW_1H_COMMON_01() {
    DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT();
    IHAVEWEAPON_BASIC_ITMW_1H_COMMON_01 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x8504);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_COMMON1) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_COMMON1) / (2));
    DIA_ODGAR_IHAVEWEAPON_BASIC();
    B_GIVEINVITEMS(OTHER, SELF, 0x8504, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_ITMW_1H_VLK2_SWORD() {
    DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT();
    IHAVEWEAPON_BASIC_ITMW_1H_VLK2_SWORD = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9ae4);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_VLK2SCHWERT) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_VLK2SCHWERT) / (2));
    DIA_ODGAR_IHAVEWEAPON_BASIC();
    B_GIVEINVITEMS(OTHER, SELF, 0x9ae4, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_ITMW_1H_MACE_02() {
    DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT();
    IHAVEWEAPON_BASIC_ITMW_1H_MACE_02 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9aa4);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_MACE_02) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_MACE_02) / (2));
    DIA_ODGAR_IHAVEWEAPON_BASIC();
    B_GIVEINVITEMS(OTHER, SELF, 0x9aa4, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_ITMW_1H_SWORD_07() {
    DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT();
    IHAVEWEAPON_BASIC_ITMW_1H_SWORD_07 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a7b);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_1HSWORD09) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_1HSWORD09) / (2));
    DIA_ODGAR_IHAVEWEAPON_BASIC();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a7b, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_ITMW_ADDON_KEULE_1H_01() {
    DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT();
    IHAVEWEAPON_BASIC_ITMW_ADDON_KEULE_1H_01 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x83c6);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_WINDKNECHT) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_WINDKNECHT) / (2));
    DIA_ODGAR_IHAVEWEAPON_BASIC();
    B_GIVEINVITEMS(OTHER, SELF, 0x83c6, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_ITMW_2H_BAU_SCYTHE() {
    DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT();
    IHAVEWEAPON_BASIC_ITMW_2H_BAU_SCYTHE = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a8d);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_SCYTHE) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_SCYTHE) / (2));
    DIA_ODGAR_IHAVEWEAPON_BASIC();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a8d, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_ITMW_2H_SLD_SWORD() {
    DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT();
    IHAVEWEAPON_BASIC_ITMW_2H_SLD_SWORD = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x84e9);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_SLD2HSCHWERT) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_SLD2HSCHWERT) / (2));
    DIA_ODGAR_IHAVEWEAPON_BASIC();
    B_GIVEINVITEMS(OTHER, SELF, 0x84e9, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_ITMW_NONE_2H_SWORD() {
    DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT();
    IHAVEWEAPON_BASIC_ITMW_NONE_2H_SWORD = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a3b);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_2HSWORD08) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_2HSWORD08) / (2));
    DIA_ODGAR_IHAVEWEAPON_BASIC();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a3b, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_ITMW_RICHTSTAB() {
    DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT();
    IHAVEWEAPON_BASIC_ITMW_RICHTSTAB = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x84f8);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_RICHTSTAB) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_RICHTSTAB) / (2));
    DIA_ODGAR_IHAVEWEAPON_BASIC();
    B_GIVEINVITEMS(OTHER, SELF, 0x84f8, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_ITMW_HELLEBARDE() {
    DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT();
    IHAVEWEAPON_BASIC_ITMW_HELLEBARDE = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x84fc);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_HELLEBARDE) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_HELLEBARDE) / (2));
    DIA_ODGAR_IHAVEWEAPON_BASIC();
    B_GIVEINVITEMS(OTHER, SELF, 0x84fc, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_ITMW_NONE_2H_SWORD3() {
    DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT();
    IHAVEWEAPON_BASIC_ITMW_NONE_2H_SWORD3 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a3f);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_2HSWORD10) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_2HSWORD10) / (2));
    DIA_ODGAR_IHAVEWEAPON_BASIC();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a3f, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_ITMW_2H_SPEAR_08() {
    DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT();
    IHAVEWEAPON_BASIC_ITMW_2H_SPEAR_08 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9ad5);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_2H_SPEAR_08) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_2H_SPEAR_08) / (2));
    DIA_ODGAR_IHAVEWEAPON_BASIC();
    B_GIVEINVITEMS(OTHER, SELF, 0x9ad5, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_BASIC_ITMW_2H_SWORD_02() {
    DIA_ODGAR_IHAVEWEAPON_BASIC_COMMENT();
    IHAVEWEAPON_BASIC_ITMW_2H_SWORD_02 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a5b);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_2HSWORD02) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_2HSWORD02) / (2));
    DIA_ODGAR_IHAVEWEAPON_BASIC();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a5b, 1);
}

var int IHAVEWEAPON_SOLID_COUNT = 0;
var int IHAVEWEAPON_SOLID_ITMW_1H_DAGGER_02 = 0;
var int IHAVEWEAPON_SOLID_ITMW_1H_SWORD_02 = 0;
var int IHAVEWEAPON_SOLID_ITMW_1H_SWORD_05 = 0;
var int IHAVEWEAPON_SOLID_ITMW_1H_SWORD_01 = 0;
var int IHAVEWEAPON_SOLID_ITMW_SPICKER = 0;
var int IHAVEWEAPON_SOLID_ITMW_1H_AXE_01 = 0;
var int IHAVEWEAPON_SOLID_ITMW_1H_SWORD_04 = 0;
var int IHAVEWEAPON_SOLID_ITMW_SCHWERT4 = 0;
var int IHAVEWEAPON_SOLID_ITMW_1H_SWORD_08 = 0;
var int IHAVEWEAPON_SOLID_ITMW_1H_MACE_01 = 0;
var int IHAVEWEAPON_SOLID_ITMW_BARTAXT = 0;
var int IHAVEWEAPON_SOLID_ITMW_NONE_1H_SWORD = 0;
var int IHAVEWEAPON_SOLID_ITMW_MORGENSTERN = 0;
var int IHAVEWEAPON_SOLID_ITMW_1H_AXE_02 = 0;
var int IHAVEWEAPON_SOLID_ITMW_2H_SPEAR_02 = 0;
var int IHAVEWEAPON_SOLID_ITMW_2H_SPEAR_05 = 0;
var int IHAVEWEAPON_SOLID_ITMW_STABKEULE = 0;
var int IHAVEWEAPON_SOLID_ITMW_2H_MACE_01 = 0;
var int IHAVEWEAPON_SOLID_ITMW_2H_SWORD_05 = 0;
var int IHAVEWEAPON_SOLID_ITMW_2H_NONE_AXE_02 = 0;
var int IHAVEWEAPON_SOLID_ITMW_2H_MACE_02 = 0;
func void DIA_ODGAR_IHAVEWEAPON_SOLID() {
    INFO_CLEARCHOICES(0x10f89);
    if (((NPC_HASITEMS(OTHER, 0x9ac3)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_1H_DAGGER_02) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_1H_DAGGER_02, 0x10fcd);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a67)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_1H_SWORD_02) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_1H_SWORD_02, 0x10fce);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a76)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_1H_SWORD_05) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_1H_SWORD_05, 0x10fcf);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a65)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_1H_SWORD_01) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_1H_SWORD_01, 0x10fd0);
    };
    if (((NPC_HASITEMS(OTHER, 0x850c)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_SPICKER) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_SPICKER, 0x10fd1);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a95)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_1H_AXE_01) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_1H_AXE_01, 0x10fd2);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a73)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_1H_SWORD_04) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_1H_SWORD_04, 0x10fd3);
    };
    if (((NPC_HASITEMS(OTHER, 0x851b)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_SCHWERT4) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_SCHWERT4, 0x10fd4);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a7e)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_1H_SWORD_08) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_1H_SWORD_08, 0x10fd5);
    };
    if (((NPC_HASITEMS(OTHER, 0x9aa2)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_1H_MACE_01) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_1H_MACE_01, 0x10fd6);
    };
    if (((NPC_HASITEMS(OTHER, 0x8515)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_BARTAXT) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_BARTAXT, 0x10fd7);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a42)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_NONE_1H_SWORD) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_NONE_1H_SWORD, 0x10fd8);
    };
    if (((NPC_HASITEMS(OTHER, 0x8518)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_MORGENSTERN) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_MORGENSTERN, 0x10fd9);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a98)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_1H_AXE_02) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_1H_AXE_02, 0x10fda);
    };
    if (((NPC_HASITEMS(OTHER, 0x9aca)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_2H_SPEAR_02) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_SPEAR_02, 0x10fdb);
    };
    if (((NPC_HASITEMS(OTHER, 0x9ad0)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_2H_SPEAR_05) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_SPEAR_05, 0x10fdc);
    };
    if (((NPC_HASITEMS(OTHER, 0x8505)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_STABKEULE) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_STABKEULE, 0x10fdd);
    };
    if (((NPC_HASITEMS(OTHER, 0x9aa9)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_2H_MACE_01) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_MACE_01, 0x10fde);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a60)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_2H_SWORD_05) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_SWORD_05, 0x10fdf);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a91)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_2H_NONE_AXE_02) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_NONE_AXE_02, 0x10fe0);
    };
    if (((NPC_HASITEMS(OTHER, 0x9aac)) >= (1)) && ((IHAVEWEAPON_SOLID_ITMW_2H_MACE_02) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_MACE_02, 0x10fe1);
    };
    INFO_ADDCHOICE(0x10f89, DIALOG_BACK, 0x10f8b);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT() {
    IHAVEWEAPON_SOLID_COUNT = (IHAVEWEAPON_SOLID_COUNT) + (1);
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_IHaveWeapon_03_04");
    AI_RESETFACEANI(SELF);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_1H_DAGGER_02() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_1H_DAGGER_02 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9ac3);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_DAGGER_02) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_DAGGER_02) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x9ac3, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_1H_SWORD_02() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_1H_SWORD_02 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a67);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_1HSWORD02) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_1HSWORD02) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a67, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_1H_SWORD_05() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_1H_SWORD_05 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a76);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_1HSWORD07) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_1HSWORD07) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a76, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_1H_SWORD_01() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_1H_SWORD_01 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a65);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_1HSWORD01) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_1HSWORD01) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a65, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_SPICKER() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_SPICKER = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x850c);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_SPICKER) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_SPICKER) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x850c, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_1H_AXE_01() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_1H_AXE_01 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a95);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_AXE_05) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_AXE_05) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a95, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_1H_SWORD_04() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_1H_SWORD_04 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a73);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_1HSWORD06) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_1HSWORD06) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a73, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_SCHWERT4() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_SCHWERT4 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x851b);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_SCHWERT4) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_SCHWERT4) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x851b, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_1H_SWORD_08() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_1H_SWORD_08 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a7e);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_1HSWORD06) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_1HSWORD06) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a7e, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_1H_MACE_01() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_1H_MACE_01 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9aa2);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_MACE_01) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_MACE_01) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x9aa2, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_BARTAXT() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_BARTAXT = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x8515);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_BARTAXT) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_BARTAXT) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x8515, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_NONE_1H_SWORD() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_NONE_1H_SWORD = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a42);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_1HSWORD03) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_1HSWORD03) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a42, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_MORGENSTERN() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_MORGENSTERN = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x8518);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_MORGENSTERN) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_MORGENSTERN) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x8518, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_1H_AXE_02() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_1H_AXE_02 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a98);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_AXE_04) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_AXE_04) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a98, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_2H_SPEAR_02() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_2H_SPEAR_02 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9aca);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_2H_SPEAR_02) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_2H_SPEAR_02) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x9aca, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_2H_SPEAR_05() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_2H_SPEAR_05 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9ad0);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_2H_SPEAR_05) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_2H_SPEAR_05) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x9ad0, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_STABKEULE() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_STABKEULE = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x8505);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_STABKEULE) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_STABKEULE) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x8505, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_2H_MACE_01() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_2H_MACE_01 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9aa9);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_MACE_05) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_MACE_05) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x9aa9, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_2H_SWORD_05() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_2H_SWORD_05 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a60);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_2HSWORD05) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_2HSWORD05) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a60, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_2H_NONE_AXE_02() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_2H_NONE_AXE_02 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a91);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_AXE_02) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_AXE_02) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a91, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_SOLID_ITMW_2H_MACE_02() {
    DIA_ODGAR_IHAVEWEAPON_SOLID_COMMENT();
    IHAVEWEAPON_SOLID_ITMW_2H_MACE_02 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9aac);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_MACE_06) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_MACE_06) / (2));
    DIA_ODGAR_IHAVEWEAPON_SOLID();
    B_GIVEINVITEMS(OTHER, SELF, 0x9aac, 1);
}

var int IHAVEWEAPON_MASTER_COUNT = 0;
var int IHAVEWEAPON_MASTER_ITMW_1H_SWORD_06 = 0;
var int IHAVEWEAPON_MASTER_ITMW_1H_SPECIAL_01 = 0;
var int IHAVEWEAPON_MASTER_ITMW_MEISTERDEGEN = 0;
var int IHAVEWEAPON_MASTER_ITMW_1H_BLESSED_01 = 0;
var int IHAVEWEAPON_MASTER_ITMW_ADDON_BETTY = 0;
var int IHAVEWEAPON_MASTER_ITMW_SCHWERT5 = 0;
var int IHAVEWEAPON_MASTER_NONE_1H_SWORD2 = 0;
var int IHAVEWEAPON_MASTER_ITMW_INQUISITOR = 0;
var int IHAVEWEAPON_MASTER_ITMW_KRIEGSHAMMER2 = 0;
var int IHAVEWEAPON_MASTER_ITMW_NONE_1H_SWORD3 = 0;
var int IHAVEWEAPON_MASTER_ITMW_1H_SPECIAL_03 = 0;
var int IHAVEWEAPON_MASTER_ITMW_1H_SPECIAL_02 = 0;
var int IHAVEWEAPON_MASTER_ITMW_2H_SPECIAL_01 = 0;
var int IHAVEWEAPON_MASTER_ITMW_2H_NONE_AXE_01 = 0;
var int IHAVEWEAPON_MASTER_ITMW_2H_SPECIAL_02 = 0;
var int IHAVEWEAPON_MASTER_ITMW_ADDON_HACKER_2H_02 = 0;
var int IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_01 = 0;
var int IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_03 = 0;
var int IHAVEWEAPON_MASTER_ITMW_2H_SWORD_07 = 0;
var int IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_05 = 0;
var int IHAVEWEAPON_MASTER_ITMW_2H_WS_SWORD_ULRYK = 0;
var int IHAVEWEAPON_MASTER_ITMW_2H_SPEAR_01 = 0;
var int IHAVEWEAPON_MASTER_ITMW_2H_BLESSED_01 = 0;
var int IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_06 = 0;
var int IHAVEWEAPON_MASTER_ITMW_2H_SPEAR_13 = 0;
var int IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_04 = 0;
func void DIA_ODGAR_IHAVEWEAPON_MASTER() {
    INFO_CLEARCHOICES(0x10f89);
    if (((NPC_HASITEMS(OTHER, 0x9a79)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_1H_SWORD_06) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_1H_SWORD_06, 0x10fff);
    };
    if (((NPC_HASITEMS(OTHER, 0x851c)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_1H_SPECIAL_01) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAME_ITMW_1H_SPECIAL_01, 0x11000);
    };
    if (((NPC_HASITEMS(OTHER, 0x852e)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_MEISTERDEGEN) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_MEISTERDEGEN, 0x11001);
    };
    if (((NPC_HASITEMS(OTHER, 0x853c)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_1H_BLESSED_01) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_1H_BLESSED_01, 0x11002);
    };
    if (((NPC_HASITEMS(OTHER, 0x83cf)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_ADDON_BETTY) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_ADDON_BETTY, 0x11003);
    };
    if (((NPC_HASITEMS(OTHER, 0x8526)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_SCHWERT5) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_SCHWERT5, 0x11004);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a45)) >= (1)) && ((IHAVEWEAPON_MASTER_NONE_1H_SWORD2) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_NONE_1H_SWORD2, 0x11005);
    };
    if (((NPC_HASITEMS(OTHER, 0x8527)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_INQUISITOR) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_INQUISITOR, 0x11006);
    };
    if (((NPC_HASITEMS(OTHER, 0x852d)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_KRIEGSHAMMER2) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_KRIEGSHAMMER2, 0x11007);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a47)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_NONE_1H_SWORD3) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_NONE_1H_SWORD3, 0x11008);
    };
    if (((NPC_HASITEMS(OTHER, 0x8536)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_1H_SPECIAL_03) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAME_ITMW_1H_SPECIAL_03, 0x11009);
    };
    if (((NPC_HASITEMS(OTHER, 0x852a)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_1H_SPECIAL_02) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAME_ITMW_1H_SPECIAL_02, 0x1100a);
    };
    if (((NPC_HASITEMS(OTHER, 0x851d)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_2H_SPECIAL_01) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAME_ITMW_2H_SPECIAL_01, 0x1100b);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a90)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_2H_NONE_AXE_01) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_NONE_AXE_01, 0x1100c);
    };
    if (((NPC_HASITEMS(OTHER, 0x852b)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_2H_SPECIAL_02) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAME_ITMW_2H_SPECIAL_02, 0x1100d);
    };
    if (((NPC_HASITEMS(OTHER, 0x83c5)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_ADDON_HACKER_2H_02) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_ADDON_HACKER_2H_02, 0x1100e);
    };
    if (((NPC_HASITEMS(OTHER, 0x9ab0)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_01) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_HAMMER_01, 0x1100f);
    };
    if (((NPC_HASITEMS(OTHER, 0x9ab4)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_03) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_HAMMER_03, 0x11010);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a63)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_2H_SWORD_07) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_SWORD_07, 0x11011);
    };
    if (((NPC_HASITEMS(OTHER, 0x9ab7)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_05) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_HAMMER_05, 0x11012);
    };
    if (((NPC_HASITEMS(OTHER, 0x9a6f)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_2H_WS_SWORD_ULRYK) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_WS_SWORD_ULRYK, 0x11013);
    };
    if (((NPC_HASITEMS(OTHER, 0x9ac6)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_2H_SPEAR_01) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_SPEAR_01, 0x11014);
    };
    if (((NPC_HASITEMS(OTHER, 0x8540)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_2H_BLESSED_01) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_BLESSED_01, 0x11015);
    };
    if (((NPC_HASITEMS(OTHER, 0x9ab8)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_06) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_HAMMER_06, 0x11016);
    };
    if (((NPC_HASITEMS(OTHER, 0x9ae0)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_2H_SPEAR_13) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_SPEAR_13, 0x11017);
    };
    if (((NPC_HASITEMS(OTHER, 0x9ab5)) >= (1)) && ((IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_04) == (FALSE))) {
        INFO_ADDCHOICE(0x10f89, NAMEWEAPON_2H_HAMMER_04, 0x11018);
    };
    INFO_ADDCHOICE(0x10f89, DIALOG_BACK, 0x10f8b);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT() {
    IHAVEWEAPON_MASTER_COUNT = (IHAVEWEAPON_MASTER_COUNT) + (1);
    AI_STARTFACEANI(SELF, "S_SURPRISE", 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_IHaveWeapon_03_05");
    AI_RESETFACEANI(SELF);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_1H_SWORD_06() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_1H_SWORD_06 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a79);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_1HSWORD08) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_1HSWORD08) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a79, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_1H_SPECIAL_01() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_1H_SPECIAL_01 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x851c);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_SPECIAL_1H_1) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_SPECIAL_1H_1) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x851c, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_MEISTERDEGEN() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_MEISTERDEGEN = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x852e);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_MEISTERDEGEN) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_MEISTERDEGEN) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x852e, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_1H_BLESSED_01() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_1H_BLESSED_01 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x853c);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_BLESSED_1H_1) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_BLESSED_1H_1) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x853c, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_ADDON_BETTY() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_ADDON_BETTY = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x83cf);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_BETTY) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_BETTY) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x83cf, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_SCHWERT5() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_SCHWERT5 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x8526);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_SCHWERT5) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_SCHWERT5) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x8526, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_NONE_1H_SWORD2() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_NONE_1H_SWORD2 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a45);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_1HSWORD04) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_1HSWORD04) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a45, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_INQUISITOR() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_INQUISITOR = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x8527);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_INQUISITOR) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_INQUISITOR) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x8527, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_KRIEGSHAMMER2() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_KRIEGSHAMMER2 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x852d);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_KRIEGSHAMMER2) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_KRIEGSHAMMER2) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x852d, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_NONE_1H_SWORD3() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_NONE_1H_SWORD3 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a47);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_1HSWORD05) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_1HSWORD05) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a47, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_1H_SPECIAL_03() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_1H_SPECIAL_03 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x8536);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_SPECIAL_1H_3) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_SPECIAL_1H_3) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x8536, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_1H_SPECIAL_02() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_1H_SPECIAL_02 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x852a);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_SPECIAL_1H_2) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_SPECIAL_1H_2) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x852a, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_2H_SPECIAL_01() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_2H_SPECIAL_01 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x851d);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_SPECIAL_2H_1) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_SPECIAL_2H_1) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x851d, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_2H_NONE_AXE_01() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_2H_NONE_AXE_01 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a90);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_AXE_01) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_AXE_01) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a90, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_2H_SPECIAL_02() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_2H_SPECIAL_02 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x852b);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_SPECIAL_2H_2) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_SPECIAL_2H_2) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x852b, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_ADDON_HACKER_2H_02() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_ADDON_HACKER_2H_02 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x83c5);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_ALTHACKER) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_ALTHACKER) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x83c5, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_01() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_01 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9ab0);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_HAMMER_01) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_HAMMER_01) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x9ab0, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_03() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_03 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9ab4);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_HAMMER_03) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_HAMMER_03) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x9ab4, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_2H_SWORD_07() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_2H_SWORD_07 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a63);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_2HSWORD07) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_2HSWORD07) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a63, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_05() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_05 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9ab7);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_HAMMER_05) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_HAMMER_05) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x9ab7, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_2H_WS_SWORD_ULRYK() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_2H_WS_SWORD_ULRYK = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9a6f);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_2H_WS_SWORD_ULRYK) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_2H_WS_SWORD_ULRYK) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x9a6f, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_2H_SPEAR_01() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_2H_SPEAR_01 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9ac6);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_2H_SPEAR_01) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_2H_SPEAR_01) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x9ac6, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_2H_BLESSED_01() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_2H_BLESSED_01 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x8540);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_BLESSED_2H_1) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_BLESSED_2H_1) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x8540, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_06() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_06 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9ab8);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_HAMMER_06) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_HAMMER_06) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x9ab8, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_2H_SPEAR_13() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_2H_SPEAR_13 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9ae0);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_2H_SPEAR_13) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_2H_SPEAR_13) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x9ae0, 1);
}

func void DIA_ODGAR_IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_04() {
    DIA_ODGAR_IHAVEWEAPON_MASTER_COMMENT();
    IHAVEWEAPON_MASTER_ITMW_2H_HAMMER_04 = TRUE;
    NPC_REMOVEINVITEM(SELF, 0x9ab5);
    CREATEINVITEMS(SELF, 0x859b, (VALUE_HAMMER_04) / (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (VALUE_HAMMER_04) / (2));
    DIA_ODGAR_IHAVEWEAPON_MASTER();
    B_GIVEINVITEMS(OTHER, SELF, 0x9ab5, 1);
}

instance DIA_ODGAR_TRAIN_SMITH(C_INFO) {
    NPC = 0xcf17;
    NR = 7;
    CONDITION = DIA_ODGAR_TRAIN_SMITH_CONDITION;
    INFORMATION = DIA_ODGAR_TRAIN_SMITH_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = B_BUILDLEARNSTRING2(PRINT_LEARN_SMITH1, B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_SMITH, 1), 0);
}

func int DIA_ODGAR_TRAIN_SMITH_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x10f73)) && ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) == (0))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_TRAIN_SMITH_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_TRAIN_Smith_15_00");
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) == (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_TRAIN_Smith_03_01");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_TRAIN_Smith_03_02");
    };
    B_TEACHPLAYERTALENTSMITH(SELF, OTHER, 1);
}

instance DIA_ODGAR_TRAIN_SMITH2(C_INFO) {
    NPC = 0xcf17;
    NR = 7;
    CONDITION = DIA_ODGAR_TRAIN_SMITH2_CONDITION;
    INFORMATION = DIA_ODGAR_TRAIN_SMITH2_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = B_BUILDLEARNSTRING2(PRINT_LEARN_SMITH2, B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_SMITH, 2), 0);
}

func int DIA_ODGAR_TRAIN_SMITH2_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x10f73)) && ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) == (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_TRAIN_SMITH2_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_TRAIN_Smith2_15_00");
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) == (2)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_TRAIN_Smith2_03_01");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_TRAIN_Smith2_03_02");
    };
    B_TEACHPLAYERTALENTSMITH(SELF, OTHER, 2);
}

instance DIA_ODGAR_TRAIN_SMITH3(C_INFO) {
    NPC = 0xcf17;
    NR = 7;
    CONDITION = DIA_ODGAR_TRAIN_SMITH3_CONDITION;
    INFORMATION = DIA_ODGAR_TRAIN_SMITH3_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = B_BUILDLEARNSTRING2(PRINT_LEARN_SMITH3, B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_SMITH, 3), 0);
}

func int DIA_ODGAR_TRAIN_SMITH3_CONDITION() {
    if ((((NPC_KNOWSINFO(OTHER, 0x10f73)) && (NPC_KNOWSINFO(OTHER, 0x11025))) && ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) == (2))) && ((LOG_GETSTATUS(MIS_PQ108)) == (LOG_SUCCESS))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_TRAIN_SMITH3_INFO() {
    SMITH_FINISHTRAIN = TRUE;
    SMITH_FINISHTRAIN_DAY = WLD_GETDAY();
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_TRAIN_Smith3_15_00");
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) == (3)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_TRAIN_Smith3_03_01");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_TRAIN_Smith3_03_02");
        AI_OUTPUT(SELF, OTHER, "DIA_Odgar_TRAIN_Smith3_03_03");
    };
    B_TEACHPLAYERTALENTSMITH(SELF, OTHER, 3);
}

instance DIA_ODGAR_Q505_HELP(C_INFO) {
    NPC = 0xcf17;
    NR = 1;
    CONDITION = DIA_ODGAR_Q505_HELP_CONDITION;
    INFORMATION = DIA_ODGAR_Q505_HELP_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Do you have some raw material to spare?";
}

func int DIA_ODGAR_Q505_HELP_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q505)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x13974))) {
        if ((PEON_ODGAR) == (TRUE)) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_Q505_HELP_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Odgar_Q505_Help_15_01");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Q505_Help_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_Q505_Help_03_03");
    CREATEINVITEMS(SELF, 0x92cd, 1);
    B_GIVEINVITEMS(SELF, OTHER, 0x92cd, 1);
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

instance DIA_ODGAR_CANTEACHBESTTIER(C_INFO) {
    NPC = 0xcf17;
    NR = 1;
    CONDITION = DIA_ODGAR_CANTEACHBESTTIER_CONDITION;
    INFORMATION = DIA_ODGAR_CANTEACHBESTTIER_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_ODGAR_CANTEACHBESTTIER_CONDITION() {
    if ((((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) == (2)) && ((LOG_GETSTATUS(MIS_PQ108)) == (LOG_SUCCESS))) && ((PQ108_FINISHQUEST) == (TRUE))) {
        if ((PQ108_FINISHQUEST_DAY) <= ((WLD_GETDAY()) - (1))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_CANTEACHBESTTIER_INFO() {
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_CanTeachBestTier_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_CanTeachBestTier_03_02");
    AI_RESETFACEANI(SELF);
}

instance DIA_ODGAR_FINISHPEON(C_INFO) {
    NPC = 0xcf17;
    NR = 1;
    CONDITION = DIA_ODGAR_FINISHPEON_CONDITION;
    INFORMATION = DIA_ODGAR_FINISHPEON_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_ODGAR_FINISHPEON_CONDITION() {
    if (((((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_SMITH)) == (3)) && ((LOG_GETSTATUS(MIS_PQ108)) == (LOG_SUCCESS))) && ((SMITH_FINISHTRAIN) == (TRUE))) && ((KAPITEL) >= (4))) {
        if ((SMITH_FINISHTRAIN_DAY) <= ((WLD_GETDAY()) - (1))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

var int ODGAR_FINISHPEON = 0;
var int ODGAR_FINISHPEON_DAY = 0;
func void DIA_ODGAR_FINISHPEON_INFO() {
    PEON_SECONDTIME = TRUE;
    ODGAR_FINISHPEON = TRUE;
    ODGAR_FINISHPEON_DAY = WLD_GETDAY();
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FinishPeon_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FinishPeon_03_02");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FinishPeon_03_03");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FinishPeon_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FinishPeon_03_05");
    AI_RESETFACEANI(SELF);
    CREATEINVITEMS(SELF, 0x9bcd, 1);
    B_GIVEINVITEMS(SELF, OTHER, 0x9bcd, 1);
    LOG_CREATETOPIC(TOPIC_WORK_ODGAR, LOG_NOTE);
    AI_LOGENTRY(TOPIC_WORK_ODGAR, LOG_WORK_ODGAR_FINISH);
}

instance DIA_ODGAR_FINALPRESENT(C_INFO) {
    NPC = 0xcf17;
    NR = 1;
    CONDITION = DIA_ODGAR_FINALPRESENT_CONDITION;
    INFORMATION = DIA_ODGAR_FINALPRESENT_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_ODGAR_FINALPRESENT_CONDITION() {
    if ((((KAPITEL) >= (5)) && ((ODGAR_FINISHPEON) == (TRUE))) && ((PEON_WHOFIRSTPEON) == (2))) {
        if ((((IHAVEWEAPON_MASTER_COUNT) >= (2)) && ((IHAVEWEAPON_SOLID_COUNT) >= (2))) && ((IHAVEWEAPON_BASIC_COUNT) >= (2))) {
            if ((ODGAR_FINISHPEON_DAY) <= ((WLD_GETDAY()) - (1))) {
                return TRUE;
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_FINALPRESENT_INFO() {
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FinalPresent_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FinalPresent_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FinalPresent_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Odgar_FinalPresent_03_04");
    AI_RESETFACEANI(SELF);
    AI_FUNCTION(SELF, 0xf134);
}

instance DIA_ODGAR_PICKPOCKET(C_INFO) {
    NPC = 0xcf17;
    NR = 900;
    CONDITION = DIA_ODGAR_PICKPOCKET_CONDITION;
    INFORMATION = DIA_ODGAR_PICKPOCKET_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = PICKPOCKET_80;
}

func int DIA_ODGAR_PICKPOCKET_CONDITION() {
    if (((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (1)) && ((SELF.AIVAR[6]) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ODGAR_PICKPOCKET_INFO() {
    INFO_CLEARCHOICES(0x11030);
    INFO_ADDCHOICE(0x11030, DIALOG_BACK, 0x11034);
    INFO_ADDCHOICE(0x11030, DIALOG_PICKPOCKET, 0x11033);
}

func void DIA_ODGAR_PICKPOCKET_DOIT() {
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (2)) {
        CREATEINVITEMS(SELF, 0x8c8c, 3);
        B_GIVEINVITEMS(SELF, OTHER, 0x8c8c, 3);
        B_PICKPOCKET_AMBIENT_TIER_2();
        SELF.AIVAR[6] = TRUE;
        INFO_CLEARCHOICES(0x11030);
    };
    AI_PLAYANI(HERO, T_CANNOTTAKE);
    PRINTSCREEN(PRINT_CANTPICKPOCKETTHISPERSON, -(1), -(1), FONT_SCREEN, 4);
    INFO_CLEARCHOICES(0x11030);
}

func void DIA_ODGAR_PICKPOCKET_BACK() {
    INFO_CLEARCHOICES(0x11030);
}

instance DIA_ODGAR_SELLSILVER(C_INFO) {
    NPC = 0xcf17;
    NR = 770;
    CONDITION = DIA_ODGAR_SELLSILVER_CONDITION;
    INFORMATION = DIA_ODGAR_SELLSILVER_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "I have everything you need. (Sell silver)";
}

var int ODGARNEEDSILVER_ENOUGH = 0;
var int ODGARNEEDSILVER_COUNT = 0;
func int DIA_ODGAR_SELLSILVER_CONDITION() {
    if (((SHOWNEWS_SELL_SILVER) == (TRUE)) && ((ODGARNEEDSILVER_ENOUGH) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

var int ODGAR_SILVERINSTANCE = 0;
var int ODGAR_SILVERVALUE = 0;
func void DIA_ODGAR_SELLSILVER_CHOICES() {
    ODGAR_SILVERINSTANCE = 0x904b;
    ODGAR_SILVERVALUE = VALUE_SILVER;
    INFO_CLEARCHOICES(0x11035);
    MAX = NPC_HASITEMS(HERO, ODGAR_SILVERINSTANCE);
    ALL_STRING = CS4(DIALOG_ALL, " (", I2S(MAX), ")");
    INFO_ADDCHOICE(0x11035, ALL_STRING, 0x11040);
    INFO_ADDCHOICE(0x11035, CHOICE_NUMBER_5, 0x11042);
    INFO_ADDCHOICE(0x11035, CHOICE_NUMBER_1, 0x11044);
    INFO_ADDCHOICE(0x11035, DIALOG_BACK, 0x1103f);
}

var int DIA_ODGAR_SELLSILVER_CHOICES.MAX = 0;
var string DIA_ODGAR_SELLSILVER_CHOICES.ALL_STRING = "";
func void DIA_ODGAR_SELLSILVER_INFO() {
    B_SAY(OTHER, SELF, "$MARVIN_GiveItem3");
    DIA_ODGAR_SELLSILVER_CHOICES();
}

func void DIA_ODGAR_SELLSILVER_BACK() {
    ODGAR_SILVERINSTANCE = -(1);
    ODGAR_SILVERVALUE = 0;
    INFO_CLEARCHOICES(0x11035);
}

func void DIA_ODGAR_SELLSILVER_ALL() {
    if ((NPC_HASITEMS(OTHER, ODGAR_SILVERINSTANCE)) >= (1)) {
        MAX = NPC_HASITEMS(HERO, ODGAR_SILVERINSTANCE);
        B_GIVEINVITEMS(OTHER, SELF, ODGAR_SILVERINSTANCE, MAX);
        CREATEINVITEMS(SELF, 0x859b, (MAX) * (ODGAR_SILVERVALUE));
        B_GIVEINVITEMS(SELF, OTHER, 0x859b, (MAX) * (ODGAR_SILVERVALUE));
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        B_SAY(SELF, OTHER, "$REWARD_CALM");
        AI_RESETFACEANI(SELF);
        if ((ODGAR_SILVERINSTANCE) == (0x904b)) {
            ODGARNEEDSILVER_COUNT = (ODGARNEEDSILVER_COUNT) + (MAX);
            if ((ODGARNEEDSILVER_COUNT) >= (50)) {
                ODGARNEEDSILVER_ENOUGH = TRUE;
                if ((ODGARNEEDSILVER_COUNT) > (50)) {
                    AI_FUNCTION(SELF, 0x11045);
                };
            };
        };
        if (((ODGAR_SILVERINSTANCE) == (0x904b)) && ((ODGARNEEDSILVER_ENOUGH) == (FALSE))) {
            DIA_ODGAR_SELLSILVER_CHOICES();
        } else {
            DIA_ODGAR_SELLSILVER_BACK();
        } else {
            /* set_instance(0) */;
        };
    };
    DIA_ODGAR_SELLSILVER_BACK();
    B_SAY(SELF, OTHER, "$NOITEMS");
}

var int DIA_ODGAR_SELLSILVER_ALL.MAX = 0;
func void DIA_ODGAR_SELLSILVER_5() {
    if ((NPC_HASITEMS(OTHER, ODGAR_SILVERINSTANCE)) >= (5)) {
        B_GIVEINVITEMS(OTHER, SELF, ODGAR_SILVERINSTANCE, 5);
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        B_SAY(SELF, OTHER, "$REWARD_CALM");
        AI_RESETFACEANI(SELF);
        CREATEINVITEMS(SELF, 0x859b, (5) * (ODGAR_SILVERVALUE));
        if ((ODGAR_SILVERINSTANCE) == (0x904b)) {
            ODGARNEEDSILVER_COUNT = (ODGARNEEDSILVER_COUNT) + (5);
            if ((ODGARNEEDSILVER_COUNT) >= (50)) {
                ODGARNEEDSILVER_ENOUGH = TRUE;
                if ((ODGARNEEDSILVER_COUNT) > (50)) {
                    AI_FUNCTION(SELF, 0x11045);
                };
            };
        };
        if (((ODGAR_SILVERINSTANCE) == (0x904b)) && ((ODGARNEEDSILVER_ENOUGH) == (FALSE))) {
            DIA_ODGAR_SELLSILVER_CHOICES();
        } else {
            DIA_ODGAR_SELLSILVER_BACK();
        } else {
            /* set_instance(0) */;
        };
    };
    if (((NPC_HASITEMS(OTHER, ODGAR_SILVERINSTANCE)) >= (1)) && ((NPC_HASITEMS(OTHER, ODGAR_SILVERINSTANCE)) < (5))) {
        MAX = NPC_HASITEMS(HERO, ODGAR_SILVERINSTANCE);
        B_GIVEINVITEMS(OTHER, SELF, ODGAR_SILVERINSTANCE, MAX);
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        B_SAY(SELF, OTHER, "$REWARD_CALM");
        AI_RESETFACEANI(SELF);
        CREATEINVITEMS(SELF, 0x859b, (MAX) * (ODGAR_SILVERVALUE));
        if ((ODGAR_SILVERINSTANCE) == (0x904b)) {
            ODGARNEEDSILVER_COUNT = (ODGARNEEDSILVER_COUNT) + (MAX);
            if ((ODGARNEEDSILVER_COUNT) >= (50)) {
                ODGARNEEDSILVER_ENOUGH = TRUE;
                if ((ODGARNEEDSILVER_COUNT) > (50)) {
                    AI_FUNCTION(SELF, 0x11045);
                };
            };
        };
        if (((ODGAR_SILVERINSTANCE) == (0x904b)) && ((ODGARNEEDSILVER_ENOUGH) == (FALSE))) {
            DIA_ODGAR_SELLSILVER_CHOICES();
        } else {
            DIA_ODGAR_SELLSILVER_BACK();
        } else {
            /* set_instance(0) */;
        };
    };
    if ((NPC_HASITEMS(OTHER, ODGAR_SILVERINSTANCE)) == (0)) {
        DIA_ODGAR_SELLSILVER_BACK();
        B_SAY(SELF, OTHER, "$NOITEMS");
    };
}

var int DIA_ODGAR_SELLSILVER_5.MAX = 0;
func void DIA_ODGAR_SELLSILVER_1() {
    if ((NPC_HASITEMS(OTHER, ODGAR_SILVERINSTANCE)) >= (1)) {
        B_GIVEINVITEMS(OTHER, SELF, ODGAR_SILVERINSTANCE, 1);
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        B_SAY(SELF, OTHER, "$REWARD_CALM");
        AI_RESETFACEANI(SELF);
        CREATEINVITEMS(SELF, 0x859b, ODGAR_SILVERVALUE);
        if ((ODGAR_SILVERINSTANCE) == (0x904b)) {
            ODGARNEEDSILVER_COUNT = (ODGARNEEDSILVER_COUNT) + (1);
            if ((ODGARNEEDSILVER_COUNT) >= (50)) {
                ODGARNEEDSILVER_ENOUGH = TRUE;
                if ((ODGARNEEDSILVER_COUNT) > (50)) {
                    AI_FUNCTION(SELF, 0x11045);
                };
            };
        };
        if (((ODGAR_SILVERINSTANCE) == (0x904b)) && ((ODGARNEEDSILVER_ENOUGH) == (FALSE))) {
            DIA_ODGAR_SELLSILVER_CHOICES();
        } else {
            DIA_ODGAR_SELLSILVER_BACK();
        } else {
            /* set_instance(0) */;
        };
    };
    if ((NPC_HASITEMS(OTHER, ODGAR_SILVERINSTANCE)) == (0)) {
        DIA_ODGAR_SELLSILVER_BACK();
        B_SAY(SELF, OTHER, "$NOITEMS");
    };
}

func void ODGAR_GIVEBACKSTUFF_SILVER() {
    NPC_REMOVEINVITEMS(NONE_881_ODGAR, 0x859b, (VALUE_SILVER) * ((ODGARNEEDSILVER_COUNT) - (50)));
    PRINTSCREENS(PRINT_ODGARSILVER, -(1), -(1), FONT_SCREENSMALL, 4);
    B_GIVEINVITEMS(HERO, NONE_881_ODGAR, 0x859b, (VALUE_SILVER) * ((ODGARNEEDSILVER_COUNT) - (50)));
}

