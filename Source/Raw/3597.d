func void NEWSBOARD_CITY_S1() {
    HER = HLP_GETNPC(0xc3ab);
    if ((HLP_GETINSTANCEID(SELF)) == (HLP_GETINSTANCEID(HER))) {
        if (((SILBACHSLEEP) != (2)) || ((KAPITEL) == (6))) {
            B_SAY(HERO, HERO, "$MARVIN_QuestRefused2");
        } else {
            SELF.AIVAR[4] = TRUE;
            PLAYER_MOBSI_PRODUCTION = MOBSI_NEWSBOARD_CITY;
            AI_PROCESSINFOS(HER);
        };
    };
}

instance NEWSBOARD_CITY_S1.HER(C_NPC)
instance PC_SQ411_POSTER(C_INFO) {
    NPC = 0xc3ab;
    NR = 1;
    CONDITION = PC_SQ411_POSTER_CONDITION;
    INFORMATION = PC_SQ411_POSTER_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_LEFTHOMEINFO;
}

var int SQ411_PARTM2_POSTER = 0;
var int SQ411_PARTM3_POSTER = 0;
var int SQ411_PARTM5_A_POSTER = 0;
var int SQ411_PARTM5_B_POSTER = 0;
var int SQ411_PARTM6_POSTER = 0;
func int PC_SQ411_POSTER_CONDITION() {
    if (((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_CITY)) && ((LOG_GETSTATUS(MIS_SQ411)) == (LOG_RUNNING))) {
        if (((NPC_HASITEMS(SELF, 0x91f9)) >= (1)) || ((NPC_HASITEMS(SELF, 0x91fa)) >= (1))) {
            if ((((((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM2_NEWSBOARD")) && ((SQ411_PARTM2_POSTER) == (FALSE))) || ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM3_NEWSBOARD")) && ((SQ411_PARTM3_POSTER) == (FALSE)))) || ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM5_A_NEWSBOARD")) && ((SQ411_PARTM5_A_POSTER) == (FALSE)))) || ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM5_B_NEWSBOARD")) && ((SQ411_PARTM5_B_POSTER) == (FALSE)))) || ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM6_NEWSBOARD")) && ((SQ411_PARTM6_POSTER) == (FALSE)))) {
                return TRUE;
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void PC_SQ411_POSTER_INFO() {
    if ((SQ411_VENZELMISTAKE) == (FALSE)) {
        SQ411_VENZELMISTAKE = TRUE;
        AI_OUTPUT(HERO, HERO, "DIA_Marvin_SQ411_Poster_15_01");
        AI_LOGENTRY(TOPIC_SQ411, LOG_SQ411_NEWSBOARD_IDEA);
    };
    INFO_CLEARCHOICES(0xfb21);
    INFO_ADDCHOICE(0xfb21, DIALOG_BACK, 0xfb2a);
    if ((NPC_HASITEMS(SELF, 0x91f9)) >= (1)) {
        INFO_ADDCHOICE(0xfb21, "(Leave a notice)", 0xfb2c);
    };
}

var int PC_SQ411_POSTER_INFO.SQ411_VENZELMISTAKE = 0;
func void PC_SQ411_POSTER_BACK() {
    INFO_CLEARCHOICES(0xfb21);
}

func void PC_SQ411_POSTER_NEXT() {
    if (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM2_NEWSBOARD")) {
        if ((SQ411_PARTM2_POSTER) == (FALSE)) {
            SQ411_PARTM2_POSTER = TRUE;
            B_LOGENTRY(TOPIC_SQ411, LOG_SQ411_POSTER_MARKETPLACE);
        };
    };
    if (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM3_NEWSBOARD")) {
        if ((SQ411_PARTM3_POSTER) == (FALSE)) {
            SQ411_PARTM3_POSTER = TRUE;
            B_LOGENTRY(TOPIC_SQ411, LOG_SQ411_POSTER_CRAFTSMAN);
        };
    };
    if (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM5_A_NEWSBOARD")) {
        if ((SQ411_PARTM5_A_POSTER) == (FALSE)) {
            SQ411_PARTM5_A_POSTER = TRUE;
            B_LOGENTRY(TOPIC_SQ411, LOG_SQ411_POSTER_ERNESTO);
        };
    };
    if (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM5_B_NEWSBOARD")) {
        if ((SQ411_PARTM5_B_POSTER) == (FALSE)) {
            SQ411_PARTM5_B_POSTER = TRUE;
            B_LOGENTRY(TOPIC_SQ411, LOG_SQ411_POSTER_OLDCITY);
        };
    };
    if (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM6_NEWSBOARD")) {
        if ((SQ411_PARTM6_POSTER) == (FALSE)) {
            SQ411_PARTM6_POSTER = TRUE;
            B_LOGENTRY(TOPIC_SQ411, LOG_SQ411_POSTER_FISH);
            WLD_INSERTNPC(0xc8df, HARBOUR_PATH_19);
        };
    };
    if ((((((SQ411_PARTM2_POSTER) == (TRUE)) && ((SQ411_PARTM3_POSTER) == (TRUE))) && ((SQ411_PARTM5_A_POSTER) == (TRUE))) && ((SQ411_PARTM5_B_POSTER) == (TRUE))) && ((SQ411_PARTM6_POSTER) == (TRUE))) {
        if ((SQ411_ALLPOSTERSDONE) == (FALSE)) {
            if ((SQ411_POSTERS_GOOD) > (SQ411_POSTERS_FAKE)) {
                SQ411_ALLPOSTERSDONE = 1;
                B_LOGENTRY(TOPIC_SQ411, LOG_SQ411_ALLPOSTERSDONE_GOOD);
                if ((SQ411_KAZEEMWILLHELP) == (1)) {
                    NPC_CLEARAIQUEUE(NONE_100012_KAZEEM_CHAPTER4);
                    B_STARTOTHERROUTINE(NONE_100012_KAZEEM_CHAPTER4, "SQ411_FISH");
                    TELEPORTNPCTOWP(0xc8df, NONE_100012_KAZEEM_CHAPTER4.WP);
                };
            } else {
                SQ411_ALLPOSTERSDONE = 2;
                B_LOGENTRY(TOPIC_SQ411, LOG_SQ411_ALLPOSTERSDONE_BAD);
            };
        };
    };
    PC_SQ411_POSTER_BACK();
}

func void PC_SQ411_POSTER_REAL() {
    NPC_REMOVEINVITEM(SELF, 0x91f9);
    SQ411_POSTERS_FAKE = (SQ411_POSTERS_FAKE) + (1);
    PC_SQ411_POSTER_NEXT();
}

func void PC_SQ411_POSTER_FAKE() {
    NPC_REMOVEINVITEM(SELF, 0x91fa);
    SQ411_POSTERS_FAKE = (SQ411_POSTERS_FAKE) + (1);
    PC_SQ411_POSTER_NEXT();
}

instance PC_SQ411_ENDE(C_INFO) {
    NPC = 0xc3ab;
    NR = 999;
    CONDITION = PC_SQ411_ENDE_CONDITION;
    INFORMATION = PC_SQ411_ENDE_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int PC_SQ411_ENDE_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_CITY)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_SQ411_ENDE_INFO() {
    SPRITEMAP_DESTROY();
    AI_STOPPROCESSINFOS(SELF);
    SELF.AIVAR[4] = FALSE;
    PLAYER_MOBSI_PRODUCTION = MOBSI_NONE;
}

instance PC_SQ411_SHOWMAP(C_INFO) {
    NPC = 0xc3ab;
    NR = 998;
    CONDITION = PC_SQ411_SHOWMAP_CONDITION;
    INFORMATION = PC_SQ411_SHOWMAP_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_SHOWMAP;
}

func int PC_SQ411_SHOWMAP_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_CITY)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_SQ411_SHOWMAP_INFO() {
    if (NPC_ISPLAYER(SELF)) {
        B_SETPLAYERMAP(0x9b8a);
    };
    SPRITEMAP_INIT(-(0x1e8c4), -(0x16042), -(0x1506c), -(0x1f89a), "MAP_CITY.tga", TRUE, CURRENTLEVEL, ARCHOLOS_ZEN);
}

instance PC_SQ411_SHOWNEWS(C_INFO) {
    NPC = 0xc3ab;
    NR = 995;
    CONDITION = PC_SQ411_SHOWNEWS_CONDITION;
    INFORMATION = PC_SQ411_SHOWNEWS_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_SHOWNEWS;
}

func int PC_SQ411_SHOWNEWS_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_CITY)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

var int SHOWNEWS_HOUSE_01 = 0;
var int SHOWNEWS_SALTMINE = 0;
var int SHOWNEWS_RUNES = 0;
var int SHOWNEWS_LONDRAM = 0;
var int SHOWNEWS_VALLEY = 0;
var int SHOWNEWS_SEWERS = 0;
var int SHOWNEWS_NEWREFUGEE = 0;
var int SHOWNEWS_KING = 0;
var int SHOWNEWS_VOLKER = 0;
var int SHOWNEWS_WOLFSDEN = 0;
var int SHOWNEWS_DANGER = 0;
var int SHOWNEWS_MUSEUM = 0;
var int SHOWNEWS_SELL_IRON = 0;
var int SHOWNEWS_SELL_ORE = 0;
var int SHOWNEWS_SELL_SILVER = 0;
func void PC_SQ411_SHOWNEWS_BACK() {
    INFO_CLEARCHOICES(0xfb34);
}

func void PC_SQ411_SHOWNEWS_INFO() {
    INFO_CLEARCHOICES(0xfb34);
    INFO_ADDCHOICE(0xfb34, DIALOG_BACK, 0xfb45);
    if (((SHOWNEWS_SELL_SILVER) == (FALSE)) && ((KAPITEL) >= (5))) {
        INFO_ADDCHOICE(0xfb34, NAME_NEWSBOARD_CITY_NEWS_SELLSILVER, 0xfb57);
    };
    if ((SHOWNEWS_RUNES) == (FALSE)) {
        INFO_ADDCHOICE(0xfb34, NAME_NEWSBOARD_SILBACH_RUNES, 0xfb4b);
    };
    if (((SHOWNEWS_LONDRAM) == (FALSE)) && ((LOG_GETSTATUS(MIS_Q312)) >= (1))) {
        INFO_ADDCHOICE(0xfb34, NAME_NEWSBOARD_CITY_NEWS_LONDRAM, 0xfb4c);
    };
    if (((SHOWNEWS_VOLKER) == (FALSE)) && ((LOG_GETSTATUS(MIS_Q312)) >= (1))) {
        INFO_ADDCHOICE(0xfb34, NAME_NEWSBOARD_CITY_NEWS_VOLKER, 0xfb50);
    };
    if ((SHOWNEWS_VALLEY) == (FALSE)) {
        INFO_ADDCHOICE(0xfb34, NAME_NEWSBOARD_CITY_NEWS_VALLEY, 0xfb4d);
    };
    if ((SHOWNEWS_SEWERS) == (FALSE)) {
        INFO_ADDCHOICE(0xfb34, NAME_NEWSBOARD_CITY_NEWS_SEWERS, 0xfb4e);
    };
    if (((SHOWNEWS_NEWREFUGEE) == (FALSE)) && ((KAPITEL) == (4))) {
        INFO_ADDCHOICE(0xfb34, NAME_NEWSBOARD_CITY_NEWS_NEWREFUGEE, 0xfb4f);
    };
    if (((SHOWNEWS_KING) == (FALSE)) && ((Q404_REMOVEKURT) == (TRUE))) {
        INFO_ADDCHOICE(0xfb34, NAME_NEWSBOARD_CITY_NEWS_KING, 0xfb51);
    };
    if ((SHOWNEWS_WOLFSDEN) == (FALSE)) {
        INFO_ADDCHOICE(0xfb34, NAME_NEWSBOARD_CITY_NEWS_WOLFSDEN, 0xfb52);
    };
    if ((SHOWNEWS_DANGER) == (FALSE)) {
        INFO_ADDCHOICE(0xfb34, NAME_NEWSBOARD_CITY_NEWS_DANGER, 0xfb53);
    };
    if ((SHOWNEWS_MUSEUM) == (FALSE)) {
        INFO_ADDCHOICE(0xfb34, NAME_NEWSBOARD_CITY_NEWS_MUSEUM, 0xfb54);
    };
    if (((SHOWNEWS_SELL_IRON) == (FALSE)) && ((KAPITEL) >= (3))) {
        INFO_ADDCHOICE(0xfb34, NAME_NEWSBOARD_CITY_NEWS_SELLIRON, 0xfb55);
    };
    if (((SHOWNEWS_SELL_ORE) == (FALSE)) && ((KAPITEL) >= (3))) {
        INFO_ADDCHOICE(0xfb34, NAME_NEWSBOARD_CITY_NEWS_SELLORE, 0xfb56);
    };
    if ((SILBACH_NEWS_GOLDMINE) == (FALSE)) {
        INFO_ADDCHOICE(0xfb34, NAME_NEWSBOARD_SILBACH_GOLDMINE, 0xfb49);
    };
    if ((SILBACH_NEWS_FRIDA) == (FALSE)) {
        INFO_ADDCHOICE(0xfb34, NAME_NEWSBOARD_SILBACH_FRIDA, 0xfb48);
    };
    if (((SHOWNEWS_HOUSE_01) == (FALSE)) && ((LOG_GETSTATUS(MIS_SQ411)) == (0))) {
        INFO_ADDCHOICE(0xfb34, NAME_NEWSBOARD_CITY_NEWS_HOUSE_01, 0xfb47);
    };
    if ((((SHOWNEWS_SALTMINE) == (FALSE)) && ((KAPITEL) == (3))) && ((LOG_GETSTATUS(MIS_SQ312)) == (0))) {
        INFO_ADDCHOICE(0xfb34, NAME_NEWSBOARD_CITY_NEWS_SALTMINE, 0xfb4a);
    };
}

func void PC_SQ411_SHOWNEWS_HOUSE_01() {
    SHOWNEWS_HOUSE_01 = TRUE;
    B_PLAYERFINDITEM(0xa0b2, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_FRIDA() {
    SILBACH_NEWS_FRIDA = TRUE;
    B_PLAYERFINDITEM(0xa0ef, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_GOLDMINE() {
    SILBACH_NEWS_GOLDMINE = TRUE;
    B_PLAYERFINDITEM(0xa0f5, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_SALTMINE() {
    SHOWNEWS_SALTMINE = TRUE;
    B_PLAYERFINDITEM(0xa0b5, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_RUNES() {
    SHOWNEWS_RUNES = TRUE;
    B_PLAYERFINDITEM(0xa109, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_LONDRAM() {
    SHOWNEWS_LONDRAM = TRUE;
    B_PLAYERFINDITEM(0xa0b9, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_VALLEY() {
    SHOWNEWS_VALLEY = TRUE;
    B_PLAYERFINDITEM(0xa0bc, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_SEWERS() {
    SHOWNEWS_SEWERS = TRUE;
    B_PLAYERFINDITEM(0xa0bf, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_NEWREFUGEE() {
    SHOWNEWS_NEWREFUGEE = TRUE;
    B_PLAYERFINDITEM(0xa0c2, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_VOLKER() {
    SHOWNEWS_VOLKER = TRUE;
    B_PLAYERFINDITEM(0xa0c5, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_KING() {
    SHOWNEWS_KING = TRUE;
    B_PLAYERFINDITEM(0xa0c8, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_WOLFSDEN() {
    SHOWNEWS_WOLFSDEN = TRUE;
    B_PLAYERFINDITEM(0xa0cb, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_DANGER() {
    SHOWNEWS_DANGER = TRUE;
    B_PLAYERFINDITEM(0xa0ce, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_MUSEUM() {
    SHOWNEWS_MUSEUM = TRUE;
    B_PLAYERFINDITEM(0xa0d1, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_SELLIRON() {
    SHOWNEWS_SELL_IRON = TRUE;
    B_PLAYERFINDITEM(0xa0d4, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_SELLORE() {
    SHOWNEWS_SELL_ORE = TRUE;
    B_PLAYERFINDITEM(0xa0d7, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_SELLSILVER() {
    SHOWNEWS_SELL_SILVER = TRUE;
    B_PLAYERFINDITEM(0xa0da, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

instance PC_SQ411_SHOWTRADETRAIN_CITY(C_INFO) {
    NPC = 0xc3ab;
    NR = 996;
    CONDITION = PC_SQ411_SHOWTRADETRAIN_CITY_CONDITION;
    INFORMATION = PC_SQ411_SHOWTRADETRAIN_CITY_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_SHOWOFFERS;
}

var int CITY_TRAINING_MILITIA = 0;
var int CITY_TRAINING_ARAXOS = 0;
var int CITY_TRAINING_NORMAN = 0;
var int CITY_TRAINING_ODGAR = 0;
var int CITY_TRAINING_NIRKA = 0;
var int CITY_TRAINING_ALLAN = 0;
var int CITY_TRAINING_DACK = 0;
var int CITY_TRADE = 0;
var int HARBOUR_TRADE = 0;
func int PC_SQ411_SHOWTRADETRAIN_CITY_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_CITY)) {
        if ((((((((((CITY_TRAINING_MILITIA) == (FALSE)) || ((CITY_TRAINING_ARAXOS) == (FALSE))) || ((CITY_TRAINING_NORMAN) == (FALSE))) || ((CITY_TRAINING_ODGAR) == (FALSE))) || ((CITY_TRADE) == (FALSE))) || ((CITY_TRAINING_NIRKA) == (FALSE))) || ((CITY_TRAINING_ALLAN) == (FALSE))) || ((CITY_TRAINING_DACK) == (FALSE))) || ((HARBOUR_TRADE) == (FALSE))) {
            if (((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM2_NEWSBOARD")) || (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM3_NEWSBOARD"))) || (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM6_NEWSBOARD"))) {
                return TRUE;
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void PC_SQ411_SHOWTRADETRAIN_CITY_BACK() {
    INFO_CLEARCHOICES(0xfb58);
}

func void PC_SQ411_SHOWTRADETRAIN_CITY_INFO() {
    INFO_CLEARCHOICES(0xfb58);
    INFO_ADDCHOICE(0xfb58, DIALOG_BACK, 0xfb63);
    if ((CITY_TRAINING_MILITIA) == (FALSE)) {
        INFO_ADDCHOICE(0xfb58, NAME_NEWSBOARD_CITY_TRAINING_MILITIA, 0xfb65);
    };
    if ((CITY_TRAINING_ARAXOS) == (FALSE)) {
        INFO_ADDCHOICE(0xfb58, NAME_NEWSBOARD_CITY_TRAINING_ARAXOS, 0xfb66);
    };
    if ((CITY_TRAINING_NORMAN) == (FALSE)) {
        INFO_ADDCHOICE(0xfb58, NAME_NEWSBOARD_CITY_TRAINING_NORMAN, 0xfb67);
    };
    if ((CITY_TRAINING_ODGAR) == (FALSE)) {
        INFO_ADDCHOICE(0xfb58, NAME_NEWSBOARD_CITY_TRAINING_ODGAR, 0xfb68);
    };
    if ((CITY_TRAINING_ALLAN) == (FALSE)) {
        INFO_ADDCHOICE(0xfb58, NAME_NEWSBOARD_CITY_TRAINING_ALLAN, 0xfb6a);
    };
    if ((CITY_TRAINING_NIRKA) == (FALSE)) {
        INFO_ADDCHOICE(0xfb58, NAME_NEWSBOARD_CITY_TRAINING_NIRKA, 0xfb6b);
    };
    if ((CITY_TRAINING_DACK) == (FALSE)) {
        INFO_ADDCHOICE(0xfb58, NAME_NEWSBOARD_CITY_TRAINING_DACK, 0xfb6c);
    };
    if ((CITY_TRADE) == (FALSE)) {
        INFO_ADDCHOICE(0xfb58, NAME_NEWSBOARD_CITY_TRADE, 0xfb69);
    };
    if ((HARBOUR_TRADE) == (FALSE)) {
        INFO_ADDCHOICE(0xfb58, NAME_NEWSBOARD_HARBOUR_TRADE, 0xfb6d);
    };
}

func void PC_SQ411_CITY_TRAINING_MILITIA() {
    CITY_TRAINING_MILITIA = TRUE;
    B_PLAYERFINDITEM(0xa091, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_CITY_TRAINING_ARAXOS() {
    CITY_TRAINING_ARAXOS = TRUE;
    B_PLAYERFINDITEM(0xa094, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_CITY_TRAINING_NORMAN() {
    CITY_TRAINING_NORMAN = TRUE;
    B_PLAYERFINDITEM(0xa097, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_CITY_TRAINING_ODGAR() {
    CITY_TRAINING_ODGAR = TRUE;
    B_PLAYERFINDITEM(0xa09a, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_CITY_TRADE() {
    CITY_TRADE = TRUE;
    B_PLAYERFINDITEM(0xa0a9, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_CITY_TRAINING_ALLAN() {
    CITY_TRAINING_ALLAN = TRUE;
    B_PLAYERFINDITEM(0xa09d, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_CITY_TRAINING_NIRKA() {
    CITY_TRAINING_NIRKA = TRUE;
    B_PLAYERFINDITEM(0xa0a0, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_CITY_TRAINING_DACK() {
    CITY_TRAINING_DACK = TRUE;
    B_PLAYERFINDITEM(0xa0a3, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_CITY_TRADE_HARBOUR() {
    HARBOUR_TRADE = TRUE;
    B_PLAYERFINDITEM(0xa0ac, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

instance PC_SQ411_SHOWTRADETRAIN_OLDCITY(C_INFO) {
    NPC = 0xc3ab;
    NR = 996;
    CONDITION = PC_SQ411_SHOWTRADETRAIN_OLDCITY_CONDITION;
    INFORMATION = PC_SQ411_SHOWTRADETRAIN_OLDCITY_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_SHOWOFFERS;
}

var int OLDCITY_TRADE = 0;
func int PC_SQ411_SHOWTRADETRAIN_OLDCITY_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_CITY)) {
        if ((OLDCITY_TRADE) == (FALSE)) {
            if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM5_A_NEWSBOARD")) || (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM5_B_NEWSBOARD"))) {
                return TRUE;
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void PC_SQ411_SHOWTRADETRAIN_OLDCITY_BACK() {
    INFO_CLEARCHOICES(0xfb6e);
}

func void PC_SQ411_SHOWTRADETRAIN_OLDCITY_INFO() {
    INFO_CLEARCHOICES(0xfb6e);
    INFO_ADDCHOICE(0xfb6e, DIALOG_BACK, 0xfb71);
    if ((OLDCITY_TRADE) == (FALSE)) {
        INFO_ADDCHOICE(0xfb6e, NAME_NEWSBOARD_OLDCITY_TRADE, 0xfb73);
    };
}

func void PC_SQ411_CITY_TRADE_OLDCITY() {
    OLDCITY_TRADE = TRUE;
    B_PLAYERFINDITEM(0xa0af, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

instance PC_SQ411_SHOWBOUNTY(C_INFO) {
    NPC = 0xc3ab;
    NR = 997;
    CONDITION = PC_SQ411_SHOWBOUNTY_CONDITION;
    INFORMATION = PC_SQ411_SHOWBOUNTY_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_SHOWWANTEDPOSTERS;
}

func int PC_SQ411_SHOWBOUNTY_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_CITY)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_SQ411_SHOWBOUNTY_BACK() {
    INFO_CLEARCHOICES(0xfb74);
}

var int SHOWBOUNTY_SLIPPY = 0;
var int SHOWBOUNTY_LURKER = 0;
var int SHOWBOUNTY_MADCUTTER = 0;
var int SHOWBOUNTY_COLLECTOR = 0;
var int SHOWBOUNTY_SEWERS = 0;
var int SHOWBOUNTY_NOVIZE = 0;
var int SHOWBOUNTY_FROST = 0;
var int SHOWBOUNTY_HYENA = 0;
var int SHOWBOUNTY_WIDOW = 0;
var int SHOWBOUNTY_PUMA = 0;
var int SHOWBOUNTY_PROPHET = 0;
var int SHOWBOUNTY_HAVDAN = 0;
var int SHOWBOUNTY_BOAR = 0;
var int SHOWBOUNTY_SCAVENGER = 0;
var int SHOWBOUNTY_MOLERAT = 0;
var int SHOWBOUNTY_CRAB = 0;
var int SHOWBOUNTY_BAT = 0;
var int SHOWBOUNTY_ICEWOLF = 0;
var int SHOWBOUNTY_WHITEBEAR = 0;
var int SHOWBOUNTY_SHADOWBEAST = 0;
var int SHOWBOUNTY_RAT = 0;
var int SHOWBOUNTY_GOLEM = 0;
var int SHOWBOUNTY_TROLL = 0;
var int SHOWBOUNTY_FIREWARAN = 0;
func void PC_SQ411_SHOWBOUNTY_INFO() {
    INFO_CLEARCHOICES(0xfb74);
    INFO_ADDCHOICE(0xfb74, DIALOG_BACK, 0xfb76);
    if ((KAPITEL) >= (2)) {
        if ((SHOWBOUNTY_SLIPPY) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_SLIPPY, 0xfb90);
        };
        if ((SHOWBOUNTY_LURKER) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_LURKER, 0xfb91);
        };
        if ((SHOWBOUNTY_MADCUTTER) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_MADCUTTER, 0xfb92);
        };
        if ((SHOWBOUNTY_BOAR) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_BOAR, 0xfb9c);
        };
        if ((SHOWBOUNTY_SCAVENGER) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_SCAVENGER, 0xfb9d);
        };
        if ((SHOWBOUNTY_MOLERAT) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_MOLERAT, 0xfb9e);
        };
    };
    if ((KAPITEL) >= (3)) {
        if ((SHOWBOUNTY_COLLECTOR) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_COLLECTOR, 0xfb93);
        };
        if ((SHOWBOUNTY_SEWERS) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_SEWERBOY_MANY, 0xfb94);
        };
        if ((SHOWBOUNTY_NOVIZE) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_NOVIZE, 0xfb95);
        };
        if ((SHOWBOUNTY_CRAB) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_CRAB, 0xfb9f);
        };
        if ((SHOWBOUNTY_BAT) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_BAT, 0xfba0);
        };
        if ((SHOWBOUNTY_ICEWOLF) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_ICEWOLF_MANY, 0xfba1);
        };
    };
    if ((KAPITEL) >= (4)) {
        if ((SHOWBOUNTY_FROST) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_FROST, 0xfb96);
        };
        if ((SHOWBOUNTY_HYENA) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_HYENA, 0xfb97);
        };
        if ((SHOWBOUNTY_WIDOW) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_WIDOW, 0xfb98);
        };
        if ((SHOWBOUNTY_WHITEBEAR) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_WHITEBEAR, 0xfba2);
        };
        if ((SHOWBOUNTY_SHADOWBEAST) == (FALSE)) {
            if ((LOG_GETSTATUS(MIS_Q400)) == (LOG_SUCCESS)) {
                INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_SHADOWBEAST, 0xfba3);
            };
        };
        if ((SHOWBOUNTY_RAT) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_RAT_MANY, 0xfba4);
        };
    };
    if ((KAPITEL) >= (5)) {
        if ((SHOWBOUNTY_PUMA) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_PUMA, 0xfb99);
        };
        if ((SHOWBOUNTY_PROPHET) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_PROPHET, 0xfb9a);
        };
        if ((SHOWBOUNTY_HAVDAN) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NPCNAME_HAVDAN, 0xfb9b);
        };
        if ((SHOWBOUNTY_GOLEM) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_GOLEM, 0xfba5);
        };
        if ((SHOWBOUNTY_TROLL) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_TROLL_MANY, 0xfba6);
        };
        if ((SHOWBOUNTY_FIREWARAN) == (FALSE)) {
            INFO_ADDCHOICE(0xfb74, NAME_WANTEDPOSTER_FIREWARAN_MANY, 0xfba7);
        };
    };
}

func void PC_SQ411_SHOWBOUNTY_SLIPPY() {
    SHOWBOUNTY_SLIPPY = TRUE;
    B_PLAYERFINDITEM(0x9f0c, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_LURKER() {
    SHOWBOUNTY_LURKER = TRUE;
    B_PLAYERFINDITEM(0x9f0f, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_MADCUTTER() {
    SHOWBOUNTY_MADCUTTER = TRUE;
    B_PLAYERFINDITEM(0x9f12, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_COLLECTOR() {
    SHOWBOUNTY_COLLECTOR = TRUE;
    B_PLAYERFINDITEM(0x9f15, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_SEWERS() {
    SHOWBOUNTY_SEWERS = TRUE;
    B_PLAYERFINDITEM(0x9f18, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_NOVIZE() {
    SHOWBOUNTY_NOVIZE = TRUE;
    B_PLAYERFINDITEM(0x9f1b, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_FROST() {
    SHOWBOUNTY_FROST = TRUE;
    B_PLAYERFINDITEM(0x9f1e, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_HYENA() {
    SHOWBOUNTY_HYENA = TRUE;
    B_PLAYERFINDITEM(0x9f21, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_WIDOW() {
    SHOWBOUNTY_WIDOW = TRUE;
    B_PLAYERFINDITEM(0x9f24, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_PUMA() {
    SHOWBOUNTY_PUMA = TRUE;
    B_PLAYERFINDITEM(0x9f27, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_PROPHET() {
    SHOWBOUNTY_PROPHET = TRUE;
    B_PLAYERFINDITEM(0x9f2a, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_HAVDAN() {
    SHOWBOUNTY_HAVDAN = TRUE;
    B_PLAYERFINDITEM(0x9f2d, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_BOAR() {
    SHOWBOUNTY_BOAR = TRUE;
    B_PLAYERFINDITEM(0x9f30, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_SCAVENGER() {
    SHOWBOUNTY_SCAVENGER = TRUE;
    B_PLAYERFINDITEM(0x9f33, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_MOLERAT() {
    SHOWBOUNTY_MOLERAT = TRUE;
    B_PLAYERFINDITEM(0x9f36, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_CRAB() {
    SHOWBOUNTY_CRAB = TRUE;
    B_PLAYERFINDITEM(0x9f39, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_BAT() {
    SHOWBOUNTY_BAT = TRUE;
    B_PLAYERFINDITEM(0x9f3c, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_ICEWOLF() {
    SHOWBOUNTY_ICEWOLF = TRUE;
    B_PLAYERFINDITEM(0x9f3f, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_WHITEBEAR() {
    SHOWBOUNTY_WHITEBEAR = TRUE;
    B_PLAYERFINDITEM(0x9f42, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_SHADOWBEAST() {
    SHOWBOUNTY_SHADOWBEAST = TRUE;
    B_PLAYERFINDITEM(0x9f45, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_RAT() {
    SHOWBOUNTY_RAT = TRUE;
    B_PLAYERFINDITEM(0x9f48, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_GOLEM() {
    SHOWBOUNTY_GOLEM = TRUE;
    B_PLAYERFINDITEM(0x9f4b, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_TROLL() {
    SHOWBOUNTY_TROLL = TRUE;
    B_PLAYERFINDITEM(0x9f53, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_FIREWARAN() {
    SHOWBOUNTY_FIREWARAN = TRUE;
    B_PLAYERFINDITEM(0x9f56, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

