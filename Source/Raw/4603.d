instance Q602_FINALWAR(CUTSCENE) {
    ONSTART = FUNCTION(0x16a48);
}

func void Q602_FINALWAR_START() {
    HERO.AIVAR[4] = TRUE;
    TELEPORTNPCTOWP(0x71b, "PARTM5_FINALWAR_HERO");
    TELEPORTNPCTOWP(0xe901, "PARTM5_FINALWAR_RIORDIAN");
    AI_TELEPORTALWAYS(KDW_203_RIORDIAN_Q602, "PARTM5_FINALWAR_RIORDIAN", FALSE);
    NPC_CLEARAIQUEUE(KDW_203_RIORDIAN_Q602);
    DIACAM_DISABLE();
    WLD_SENDTRIGGER("Q602_FINALWAR_01");
    Q602_FIGHTCUTSCENE = 2;
    HERO.AIVAR[4] = FALSE;
    AI_STARTSTATE(KDW_203_RIORDIAN_Q602, 0xf09f, 1, "");
    AI_STARTSTATE(HERO, 0xf09f, 1, "");
}

func void Q602_FINALWAR_STARTDIALOGUE() {
    Q602_FIGHTCUTSCENE = 2;
    HERO.AIVAR[4] = FALSE;
    AI_STARTSTATE(KDW_203_RIORDIAN_Q602, 0xf09f, 1, "");
    AI_STARTSTATE(HERO, 0xf09f, 1, "");
}

