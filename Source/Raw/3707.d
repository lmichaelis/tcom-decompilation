instance DIA_VOLKERGUARD_SQ505_02_EXIT(C_INFO) {
    NPC = 0xd86f;
    NR = 999;
    CONDITION = DIA_VOLKERGUARD_SQ505_02_EXIT_CONDITION;
    INFORMATION = DIA_VOLKERGUARD_SQ505_02_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_VOLKERGUARD_SQ505_02_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_VOLKERGUARD_SQ505_02_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_VOLKERGUARD_SQ505_02_WHY(C_INFO) {
    NPC = 0xd86f;
    NR = 1;
    CONDITION = DIA_VOLKERGUARD_SQ505_02_WHY_CONDITION;
    INFORMATION = DIA_VOLKERGUARD_SQ505_02_WHY_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Why are you cheating these people? The Usurer is a criminal!";
}

func int DIA_VOLKERGUARD_SQ505_02_WHY_CONDITION() {
    if ((LOG_GETSTATUS(MIS_SQ505)) == (LOG_RUNNING)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_VOLKERGUARD_SQ505_02_WHY_INFO() {
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_VolkerGuard_SQ505_02_Why_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_VolkerGuard_SQ505_02_Why_03_02");
    AI_LOGENTRY(TOPIC_SQ505, LOG_SQ505_VOLKERGUARD_HARBOUR_IDEA);
    AI_STOPPROCESSINFOS(SELF);
    AI_RESETFACEANI(OTHER);
    AI_RESETFACEANI(SELF);
}

instance DIA_VOLKERGUARD_SQ505_02_LIES(C_INFO) {
    NPC = 0xd86f;
    NR = 1;
    CONDITION = DIA_VOLKERGUARD_SQ505_02_LIES_CONDITION;
    INFORMATION = DIA_VOLKERGUARD_SQ505_02_LIES_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Is he paying you a lot for these lies?";
}

func int DIA_VOLKERGUARD_SQ505_02_LIES_CONDITION() {
    if (((LOG_GETSTATUS(MIS_SQ505)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x10a73))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void SQ505_FIGHTWITHVOLKERGUARD_START() {
    SQ505_FIGHTWITHVOLKERGUARDS = 1;
    B_IMMEDIATEATTACKPLAYER(NONE_13391_VOLKERGUARD, AR_KILL);
    B_ATTACK(NONE_13391_VOLKERGUARD, HERO, AR_KILL, 1);
    NONE_13391_VOLKERGUARD.FLAGS = 0;
}

func void DIA_VOLKERGUARD_SQ505_02_FIGHT() {
    SQ505_COUNTVOLKERGUARDDIALOGUE = (SQ505_COUNTVOLKERGUARDDIALOGUE) + (1);
    if ((SQ505_COUNTVOLKERGUARDDIALOGUE) == (3)) {
        AI_OUTPUT(SELF, OTHER, "DIA_VolkerGuard_SQ505_02_Fight_03_01");
        AI_STOPPROCESSINFOS(SELF);
        AI_FUNCTION(SELF, 0x10a78);
    };
    AI_RESETFACEANI(OTHER);
    AI_RESETFACEANI(SELF);
}

var int DIA_VOLKERGUARD_SQ505_02_FIGHT.SQ505_COUNTVOLKERGUARDDIALOGUE = 0;
func void DIA_VOLKERGUARD_SQ505_02_LIES_INFO() {
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_VolkerGuard_SQ505_02_Lies_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_VolkerGuard_SQ505_02_Lies_03_02");
    DIA_VOLKERGUARD_SQ505_02_FIGHT();
}

instance DIA_VOLKERGUARD_SQ505_02_TRUTH(C_INFO) {
    NPC = 0xd86f;
    NR = 2;
    CONDITION = DIA_VOLKERGUARD_SQ505_02_TRUTH_CONDITION;
    INFORMATION = DIA_VOLKERGUARD_SQ505_02_TRUTH_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Did you tell them that the Usurer kidnaps and murders people?";
}

func int DIA_VOLKERGUARD_SQ505_02_TRUTH_CONDITION() {
    if (((LOG_GETSTATUS(MIS_SQ505)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x10a73))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_VOLKERGUARD_SQ505_02_TRUTH_INFO() {
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_VolkerGuard_SQ505_02_Truth_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_VolkerGuard_SQ505_02_Truth_03_02");
    DIA_VOLKERGUARD_SQ505_02_FIGHT();
}

instance DIA_VOLKERGUARD_SQ505_02_KINGDOM(C_INFO) {
    NPC = 0xd86f;
    NR = 1;
    CONDITION = DIA_VOLKERGUARD_SQ505_02_KINGDOM_CONDITION;
    INFORMATION = DIA_VOLKERGUARD_SQ505_02_KINGDOM_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "You mentioned corruption against the Kingdom of Myrtana?";
}

func int DIA_VOLKERGUARD_SQ505_02_KINGDOM_CONDITION() {
    if (((LOG_GETSTATUS(MIS_SQ505)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x10a73))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_VOLKERGUARD_SQ505_02_KINGDOM_INFO() {
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_VolkerGuard_SQ505_02_Kingdom_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_VolkerGuard_SQ505_02_Kingdom_03_02");
    DIA_VOLKERGUARD_SQ505_02_FIGHT();
}

