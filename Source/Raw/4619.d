instance QM402_WEIGARSLUMSCUTSCENE(CUTSCENE) {
    ONSTART = FUNCTION(0x16ab5);
}

func void QM402_WEIGARSLUMSCUTSCENE_WAIT() {
    AI_WAITTILLEND(HERO, MIL_4016_WEGAR);
    AI_WAITTILLEND(MIL_4016_WEGAR, HERO);
}

func void QM402_WEIGARSLUMSCUTSCENE_START() {
    if (TORCH_HEROHOLDINGTORCH()) {
        TORCH_UNEQUIP();
    };
    QM402_GOONPATORL = 3;
    WLD_SENDTRIGGER("QM402_WEGAR_01");
    TELEPORTNPCTOWP(0x71b, "SLUMS_HERO_STAND_QM402");
    TELEPORTNPCTOWP(0xce6f, "SLUMS_WEGAR_STAND");
    TELEPORTNPCTOWP(0xd7ee, "SLUMS_BRAZIER_QM402_STAND");
    NPC_CLEARAIQUEUE(MIL_4016_WEGAR);
    NPC_CLEARAIQUEUE(NONE_13597_HOBO);
    B_TURNTONPC(MIL_4016_WEGAR, NONE_13597_HOBO);
    B_TURNTONPC(HERO, NONE_13597_HOBO);
    AI_PLAYANI(HERO, "T_STAND_2_LGUARD_HERO");
    AI_USEMOB(MIL_4016_WEGAR, "OCEAN", 1);
    MIL_4016_WEGAR.AIVAR[92] = TRUE;
    QM402_WEIGARSLUMSCUTSCENE_WAIT();
    FF_APPLYONCEEXT(0x16ab7, 1000, 3);
    AI_WAIT(MIL_4016_WEGAR, 0x40466666);
    AI_WAIT(HERO, 0x40466666);
    AI_OUTPUT(MIL_4016_WEGAR, HERO, "DIA_Wegar_QM402_SlumsCutscene_03_01");
    QM402_WEIGARSLUMSCUTSCENE_WAIT();
    AI_OUTPUT(HERO, MIL_4016_WEGAR, "DIA_Wegar_QM402_SlumsCutscene_15_02");
    QM402_WEIGARSLUMSCUTSCENE_WAIT();
    AI_OUTPUT(MIL_4016_WEGAR, HERO, "DIA_Wegar_QM402_SlumsCutscene_03_03");
    QM402_WEIGARSLUMSCUTSCENE_WAIT();
    AI_FUNCTION(MIL_4016_WEGAR, 0x16ab9);
    AI_OUTPUT(HERO, MIL_4016_WEGAR, "DIA_Wegar_QM402_SlumsCutscene_15_04");
    QM402_WEIGARSLUMSCUTSCENE_WAIT();
    AI_OUTPUT(MIL_4016_WEGAR, HERO, "DIA_Wegar_QM402_SlumsCutscene_03_05");
    AI_USEMOB(MIL_4016_WEGAR, "OCEAN", -(1));
    AI_OUTPUT(MIL_4016_WEGAR, HERO, "DIA_Wegar_QM402_SlumsCutscene_03_06");
    QM402_WEIGARSLUMSCUTSCENE_WAIT();
    AI_PLAYANI(HERO, "T_REMOVE_LGUARD");
    QM402_WEIGARSLUMSCUTSCENE_WAIT();
    AI_FUNCTION(HERO, 0x16ab6);
}

func void QM402_WEIGARSLUMSCUTSCENE_END() {
    FF_APPLYONCEEXT(0xf591, 75, 4);
}

func void QM402_WEIGARSLUMSCUTSCENE_CAMERAAPPLY() {
    QM402_WEIGARSLUMSCUTSCENE_CAMERACOUNT = (QM402_WEIGARSLUMSCUTSCENE_CAMERACOUNT) + (1);
    if ((QM402_WEIGARSLUMSCUTSCENE_CAMERACOUNT) == (3)) {
        WLD_SENDTRIGGER("QM402_WEGAR_02");
        WLD_SENDUNTRIGGER("QM402_WEGAR_01");
    };
}

var int QM402_WEIGARSLUMSCUTSCENE_CAMERAAPPLY.QM402_WEIGARSLUMSCUTSCENE_CAMERACOUNT = 0;
func void QM402_WEIGARSLUMSCUTSCENE_CAMERA_01() {
    WLD_SENDTRIGGER("QM402_WEGAR_03");
    WLD_SENDUNTRIGGER("QM402_WEGAR_02");
}

