instance DIA_BAES_EXIT(C_INFO) {
    NPC = 0xe3b2;
    NR = 999;
    CONDITION = DIA_BAES_EXIT_CONDITION;
    INFORMATION = DIA_BAES_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_BAES_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_BAES_EXIT_INFO() {
    if ((LOG_GETSTATUS(MIS_SQ403)) == (LOG_RUNNING)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_EXIT_Info_03_01");
    };
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_BAES_VARHALSEARCH(C_INFO) {
    NPC = 0xe3b2;
    NR = 1;
    CONDITION = DIA_BAES_VARHALSEARCH_CONDITION;
    INFORMATION = DIA_BAES_VARHALSEARCH_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I'm looking for Henk.";
}

func int DIA_BAES_VARHALSEARCH_CONDITION() {
    if (((((LOG_GETSTATUS(MIS_Q402)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 0x13e78))) && (NPC_KNOWSINFO(OTHER, 0x13d80))) && ((Q402_FOUNDVARHALANDLEGRIF) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_VARHALSEARCH_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_VarhalSearch_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_VarhalSearch_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_VarhalSearch_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_VarhalSearch_03_04");
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_VarhalSearch_15_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_VarhalSearch_03_06");
    AI_LOGENTRY(TOPIC_Q402, LOG_Q402_BAESVARHALINFO);
}

instance DIA_BAES_Q403_AFTERCRAWLERS(C_INFO) {
    NPC = 0xe3b2;
    NR = 1;
    CONDITION = DIA_BAES_Q403_AFTERCRAWLERS_CONDITION;
    INFORMATION = DIA_BAES_Q403_AFTERCRAWLERS_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BAES_Q403_AFTERCRAWLERS_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q403)) == (LOG_RUNNING)) && ((Q403_CRAWLERSDONE) == (TRUE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_Q403_AFTERCRAWLERS_INFO() {
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_03_01");
    INFO_CLEARCHOICES(0x14033);
    INFO_ADDCHOICE(0x14033, DIALOG_BESILENT, 0x14038);
    INFO_ADDCHOICE(0x14033, "Ulryk thought I couldn't handle it?", 0x14037);
}

func void DIA_BAES_Q403_AFTERCRAWLERS_NEXT() {
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_Next_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_Next_03_02");
    AI_LOGENTRY(TOPIC_Q403, LOG_Q403_BAES_ULRYK);
    INFO_CLEARCHOICES(0x14033);
    INFO_ADDCHOICE(0x14033, "Let's not waste time, let's go slaughter these beasts!", 0x1403a);
    INFO_ADDCHOICE(0x14033, "Orcs? Here?", 0x1403b);
}

func void DIA_BAES_Q403_AFTERCRAWLERS_ULRYK() {
    AI_STARTFACEANI(OTHER, S_SURPRISE, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Q403_AfterCrawlers_Ulryk_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_Ulryk_03_02");
    DIA_BAES_Q403_AFTERCRAWLERS_NEXT();
}

func void DIA_BAES_Q403_AFTERCRAWLERS_SILENCE() {
    AI_WAIT(OTHER, 0x3f000000);
    AI_WAITTILLEND(SELF, OTHER);
    DIA_BAES_Q403_AFTERCRAWLERS_NEXT();
}

func void DIA_BAES_Q403_AFTERCRAWLERS_FINISH() {
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_Finish_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_Finish_03_02");
    AI_TURNTONPC(SELF, DJG_13717_WOLFSON);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_Finish_03_03");
    AI_TURNTONPC(SELF, OTHER);
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    AI_LOGENTRY(TOPIC_Q403, LOG_Q403_BAES_FOLLOW);
    INFO_CLEARCHOICES(0x14033);
    AI_STOPPROCESSINFOS(SELF);
    AI_FUNCTION(SELF, 0xf8ea);
}

func void DIA_BAES_Q403_AFTERCRAWLERS_ULRYK_NEXT_GO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Q403_AfterCrawlers_Go_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_Go_03_02");
    B_GIVEPLAYERXP(XP_Q403_BAESHAPPY);
    DIA_BAES_Q403_AFTERCRAWLERS_FINISH();
}

func void DIA_BAES_Q403_AFTERCRAWLERS_ULRYK_NEXT_ORCS() {
    AI_STARTFACEANI(OTHER, S_SURPRISE, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Q403_AfterCrawlers_Orcs_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_Orcs_03_02");
    AI_RESETFACEANI(OTHER);
    if (!(NPC_KNOWSINFO(OTHER, 0x14e3b))) {
        INFO_ADDCHOICE(0x14033, "I just didn't know they were already on the island!", 0x1403c);
    };
    DIA_BAES_Q403_AFTERCRAWLERS_ULRYK_NEXT_GO();
}

func void DIA_BAES_Q403_AFTERCRAWLERS_ULRYK_NEXT_ORCS_DONTKNOW() {
    AI_STARTFACEANI(OTHER, S_NOPE, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Q403_AfterCrawlers_DontKnow_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_DontKnow_03_02");
    DIA_BAES_Q403_AFTERCRAWLERS_FINISH();
}

instance DIA_BAES_Q403_ORCS(C_INFO) {
    NPC = 0xe3b2;
    NR = 1;
    CONDITION = DIA_BAES_Q403_ORCS_CONDITION;
    INFORMATION = DIA_BAES_Q403_ORCS_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BAES_Q403_ORCS_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_Q403)) == (LOG_RUNNING)) && ((Q403_ORCSATTACK) != (2))) && ((NPC_GETDISTTOWP(SELF, "PART16_PATH_176")) <= (500))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_Q403_ORCS_INFO() {
    Q403_BAESGUIDEUS = 1;
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_Orcs_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_Orcs_03_02");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_TURNTONPC(SELF, DJG_13717_WOLFSON);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_Orcs_03_03");
    AI_FUNCTION(SELF, 0xf8eb);
    AI_TURNTONPC(SELF, OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_Orcs_03_04");
    AI_STOPPROCESSINFOS(SELF);
    AI_LOGENTRY(TOPIC_Q403, LOG_Q403_BAES_GUIDERIVER);
    NPC_EXCHANGEROUTINE(SELF, "Q403_GUIDE_RIVER_01");
}

instance DIA_BAES_Q403_GETREADY(C_INFO) {
    NPC = 0xe3b2;
    NR = 1;
    CONDITION = DIA_BAES_Q403_GETREADY_CONDITION;
    INFORMATION = DIA_BAES_Q403_GETREADY_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BAES_Q403_GETREADY_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_Q403)) == (LOG_RUNNING)) && ((NPC_GETDISTTOWP(SELF, "PART15_PATH_313")) <= (500))) && ((Q403_BAESGUIDEUS) >= (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_Q403_GETREADY_INFO() {
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_GetReady_03_01");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_GetReady_03_02");
    AI_FUNCTION(SELF, 0xf8ed);
    AI_STOPPROCESSINFOS(SELF);
    AI_LOGENTRY(TOPIC_Q403, LOG_Q403_BAES_ATTACK);
}

instance DIA_BAES_Q403_AFTERFIGHT(C_INFO) {
    NPC = 0xe3b2;
    NR = 1;
    CONDITION = DIA_BAES_Q403_AFTERFIGHT_CONDITION;
    INFORMATION = DIA_BAES_Q403_AFTERFIGHT_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BAES_Q403_AFTERFIGHT_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q403)) == (LOG_RUNNING)) && ((Q403_ORCSATTACK) == (2))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_Q403_AFTERFIGHT_INFO() {
    DJG_13717_WOLFSON.AIVAR[15] = FALSE;
    DJG_13718_WOLFSON.AIVAR[15] = FALSE;
    DJG_10015_BAES.AIVAR[15] = FALSE;
    if (NPC_KNOWSINFO(OTHER, 0x14040)) {
        B_GIVEPLAYERXP(XP_Q403_BAESORCATTACK);
        AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_01");
        AI_TURNTONPC(SELF, DJG_13717_WOLFSON);
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_02");
        AI_FUNCTION(SELF, 0xf8ee);
        AI_TURNTONPC(SELF, OTHER);
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_03");
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_04");
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_05");
        AI_LOGENTRY(TOPIC_Q403, LOG_Q403_BAES_RESULT_V1);
    };
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_07");
    AI_STARTFACEANI(SELF, S_THINK, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_08");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_09");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_10");
    AI_LOGENTRY(TOPIC_Q403, LOG_Q403_BAES_RESULT_V2);
    NPC_EXCHANGEROUTINE(SELF, "Q403_ORCPLUNDER");
    AI_RESETFACEANI(SELF);
}

instance DIA_BAES_SQ403(C_INFO) {
    NPC = 0xe3b2;
    NR = 1;
    CONDITION = DIA_BAES_SQ403_CONDITION;
    INFORMATION = DIA_BAES_SQ403_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BAES_SQ403_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q403)) == (LOG_SUCCESS)) && ((SQ417_FIGHTWITHBAES) != (2))) {
        if (((Q403_ORCSATTACK) == (2)) && (NPC_KNOWSINFO(OTHER, 0x14040))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_SQ403_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ403_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ403_03_02");
    INFO_CLEARCHOICES(0x14046);
    INFO_ADDCHOICE(0x14046, "Why do you ask this question?", 0x1404a);
    INFO_ADDCHOICE(0x14046, "I've been here and there.", 0x1404b);
}

func void DIA_BAES_SQ403_NEXT() {
    INFO_CLEARCHOICES(0x14046);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WhatIsGoingOn_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WhatIsGoingOn_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WhatIsGoingOn_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WhatIsGoingOn_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WhatIsGoingOn_03_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WhatIsGoingOn_03_08");
    INFO_ADDCHOICE(0x14046, "I'll look for those skins for you.", 0x1404c);
}

func void DIA_BAES_GOTNOTIME() {
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_GotNoTime_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_GotNoTime_03_02");
    DIA_BAES_SQ403_NEXT();
}

func void DIA_BAES_WHATISGOINGON() {
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_WhatIsGoingOn_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WhatIsGoingOn_03_02");
    DIA_BAES_SQ403_NEXT();
}

func void DIA_BAES_OKEY() {
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Okey_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Okey_03_02");
    LOG_CREATETOPIC(TOPIC_SQ403, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ403), TOPIC_SQ403, LOG_RUNNING);
    AI_LOGENTRY(TOPIC_SQ403, LOG_SQ403_YESWEGOTWOLF);
    AI_STOPPROCESSINFOS(SELF);
}

func void DIA_BAES_SQ403_ITISALL() {
    if ((SQ403_FURCOUNT) >= (6)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ403_ItIsAll_03_01");
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ403_ItIsAll_03_02");
        CREATEINVITEMS(SELF, 0x948b, 1);
        B_GIVEINVITEMS(SELF, OTHER, 0x948b, 1);
        LOG_SETSTATUS(_@(MIS_SQ403), TOPIC_SQ403, LOG_SUCCESS);
        AI_LOGENTRY(TOPIC_SQ403, LOG_SQ403_ALLFUR);
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ403_ItIsAll_03_03");
        AI_STOPPROCESSINFOS(SELF);
    };
}

instance DIA_BAES_GIVEFUR(C_INFO) {
    NPC = 0xe3b2;
    NR = 1;
    CONDITION = DIA_BAES_GIVEFUR_CONDITION;
    INFORMATION = DIA_BAES_GIVEFUR_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_GIVEFURS;
}

func int DIA_BAES_GIVEFUR_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x14046)) && ((LOG_GETSTATUS(MIS_SQ403)) == (LOG_RUNNING))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

var int BAES_FUR_WOLF = 0;
var int BAES_FUR_WARG = 0;
var int BAES_FUR_ICEWOLF = 0;
var int BAES_FUR_DESSERTWOLF = 0;
var int BAES_FUR_ORCDOG = 0;
var int BAES_FUR_BLACKWOLF = 0;
var int BAES_FUR_DOG = 0;
func void DIA_BAES_GIVEFUR_INFO() {
    INFO_CLEARCHOICES(0x1404e);
    INFO_ADDCHOICE(0x1404e, DIALOG_BACK, 0x14058);
    if (((NPC_HASITEMS(OTHER, 0x8438)) >= (1)) && ((BAES_FUR_WOLF) == (FALSE))) {
        INFO_ADDCHOICE(0x1404e, "(Give the wolf skin)", 0x14059);
    };
    if (((NPC_HASITEMS(OTHER, 0x8a16)) >= (1)) && ((BAES_FUR_BLACKWOLF) == (FALSE))) {
        INFO_ADDCHOICE(0x1404e, "(Give the black wolf skin)", 0x1405b);
    };
    if (((NPC_HASITEMS(OTHER, 0x8443)) >= (1)) && ((BAES_FUR_WARG) == (FALSE))) {
        INFO_ADDCHOICE(0x1404e, "(Give the warg skin)", 0x1405c);
    };
    if (((NPC_HASITEMS(OTHER, 0x8a15)) >= (1)) && ((BAES_FUR_ORCDOG) == (FALSE))) {
        INFO_ADDCHOICE(0x1404e, "(Give the orc dog skin)", 0x1405d);
    };
    if (((NPC_HASITEMS(OTHER, 0x8a13)) >= (1)) && ((BAES_FUR_ICEWOLF) == (FALSE))) {
        INFO_ADDCHOICE(0x1404e, "(Give the ice wolf skin)", 0x1405e);
    };
    if (((NPC_HASITEMS(OTHER, 0x8a14)) >= (1)) && ((BAES_FUR_DESSERTWOLF) == (FALSE))) {
        INFO_ADDCHOICE(0x1404e, "(Give the desert wolf skin)", 0x1405f);
    };
    if (((NPC_HASITEMS(OTHER, 0x8a17)) >= (1)) && ((BAES_FUR_DOG) == (FALSE))) {
        INFO_ADDCHOICE(0x1404e, "(Give the dog skin)", 0x1405a);
    };
}

func void DIA_BAES_GIVEFUR_BACK() {
    INFO_CLEARCHOICES(0x1404e);
}

func void DIA_BAES_WOLFFUR() {
    BAES_FUR_WOLF = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_WolfFur_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WolfFur_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_WolfFur_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WolfFur_03_04");
    B_GIVEINVITEMS(OTHER, SELF, 0x8438, 1);
    AI_LOGENTRY(TOPIC_SQ403, LOG_SQ403_WOLFFUR);
    B_GIVEPLAYERXP(XP_SQ403_BRINGFUR);
    CREATEINVITEMS(SELF, 0x859b, SQ403_GOLDFORFUR);
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, SQ403_GOLDFORFUR);
    SQ403_FURCOUNT = (SQ403_FURCOUNT) + (1);
    DIA_BAES_SQ403_ITISALL();
}

func void DIA_BAES_DOGFUR() {
    BAES_FUR_DOG = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_DogFur_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_DogFur_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_DogFur_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_DogFur_03_04");
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_DogFur_15_05");
    AI_LOGENTRY(TOPIC_SQ403, LOG_SQ403_DOGFUR);
    DIA_BAES_SQ403_ITISALL();
}

func void DIA_BAES_BLACKWOLFFUR() {
    BAES_FUR_BLACKWOLF = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_BlackWolffur_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_BlackWolffur_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_BlackWolffur_03_03");
    B_GIVEINVITEMS(OTHER, SELF, 0x8a16, 1);
    AI_LOGENTRY(TOPIC_SQ403, LOG_SQ403_BOSSWOLFFUR);
    B_GIVEPLAYERXP((XP_SQ403_BRINGFUR) * (2));
    CREATEINVITEMS(SELF, 0x859b, (SQ403_GOLDFORFUR) * (2));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (SQ403_GOLDFORFUR) * (2));
    SQ403_FURCOUNT = (SQ403_FURCOUNT) + (1);
    DIA_BAES_SQ403_ITISALL();
}

func void DIA_BAES_WARGFUR() {
    BAES_FUR_WARG = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_WargFur_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WargFur_03_02");
    B_GIVEINVITEMS(OTHER, SELF, 0x8443, 1);
    AI_LOGENTRY(TOPIC_SQ403, LOG_SQ403_WARGFUR);
    B_GIVEPLAYERXP((XP_SQ403_BRINGFUR) * (3));
    CREATEINVITEMS(SELF, 0x859b, (SQ403_GOLDFORFUR) * (3));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (SQ403_GOLDFORFUR) * (3));
    SQ403_FURCOUNT = (SQ403_FURCOUNT) + (1);
    DIA_BAES_SQ403_ITISALL();
}

func void DIA_BAES_ORCDOGFUR() {
    BAES_FUR_ORCDOG = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_OrcDogFur_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_OrcDogFur_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_OrcDogFur_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_OrcDogFur_03_05");
    B_GIVEINVITEMS(OTHER, SELF, 0x8a15, 1);
    AI_LOGENTRY(TOPIC_SQ403, LOG_SQ403_ORCDOGFUR);
    B_GIVEPLAYERXP((XP_SQ403_BRINGFUR) * (3));
    CREATEINVITEMS(SELF, 0x859b, (SQ403_GOLDFORFUR) * (3));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (SQ403_GOLDFORFUR) * (3));
    SQ403_FURCOUNT = (SQ403_FURCOUNT) + (1);
    DIA_BAES_SQ403_ITISALL();
}

func void DIA_BAES_ICEFUR() {
    BAES_FUR_ICEWOLF = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_IceFur_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_IceFur_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_IceFur_03_03");
    B_GIVEINVITEMS(OTHER, SELF, 0x8a13, 1);
    AI_LOGENTRY(TOPIC_SQ403, LOG_SQ403_ICEFUR);
    CREATEINVITEMS(SELF, 0x859b, (SQ403_GOLDFORFUR) * (12));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (SQ403_GOLDFORFUR) * (12));
    B_GIVEPLAYERXP((XP_SQ403_BRINGFUR) * (12));
    SQ403_FURCOUNT = (SQ403_FURCOUNT) + (1);
    DIA_BAES_SQ403_ITISALL();
}

func void DIA_BAES_DESERTFUR() {
    BAES_FUR_DESSERTWOLF = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_DesertFur_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_DesertFur_03_02");
    B_GIVEINVITEMS(OTHER, SELF, 0x8a14, 1);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_DesertFur_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_DesertFur_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_DesertFur_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_DesertFur_03_06");
    AI_LOGENTRY(TOPIC_SQ403, LOG_SQ403_DESERTFUR);
    CREATEINVITEMS(SELF, 0x859b, (SQ403_GOLDFORFUR) * (6));
    B_GIVEINVITEMS(SELF, OTHER, 0x859b, (SQ403_GOLDFORFUR) * (6));
    B_GIVEPLAYERXP((XP_SQ403_BRINGFUR) * (4));
    SQ403_FURCOUNT = (SQ403_FURCOUNT) + (1);
    DIA_BAES_SQ403_ITISALL();
}

instance DIA_BAES_SQ417_STOP(C_INFO) {
    NPC = 0xe3b2;
    NR = 1;
    CONDITION = DIA_BAES_SQ417_STOP_CONDITION;
    INFORMATION = DIA_BAES_SQ417_STOP_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BAES_SQ417_STOP_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_SQ417)) == (LOG_RUNNING)) && ((NPC_GETDISTTONPC(SELF, OTHER)) <= (300))) && ((SQ417_ARETHEPLAN_EVENTS) >= (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_SQ417_STOP_CHOICES() {
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    INFO_CLEARCHOICES(0x14060);
    INFO_ADDCHOICE(0x14060, "You can't hide a bear!", 0x1406a);
    INFO_ADDCHOICE(0x14060, "No one will know anything.", 0x14069);
}

func void DIA_BAES_SQ417_STOP_INFO() {
    NPC_EXCHANGEROUTINE(SELF, "SQ417_CHECKBEAR");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_03_01");
    INFO_CLEARCHOICES(0x14060);
    INFO_ADDCHOICE(0x14060, "There's a bear in the basement!", 0x14064);
    INFO_ADDCHOICE(0x14060, "Arethe told me to check out the strange noises.", 0x14065);
    AI_FUNCTION(SELF, 0xf88f);
}

func void DIA_BAES_SQ417_STOP_BASTMENT() {
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_SQ417_Stop_Bastment_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Bastment_03_02");
    INFO_ADDCHOICE(0x14060, "Is that your bear?", 0x14066);
}

func void DIA_BAES_SQ417_STOP_ARETHE() {
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_SQ417_Stop_Arethe_15_01");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Arethe_03_02");
    DIA_BAES_SQ417_STOP_CHOICES();
}

func void DIA_BAES_SQ417_STOP_BASTMENT_BEAR() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_SQ417_Stop_Bear_15_01");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Bear_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Bear_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Bear_03_04");
    AI_LOGENTRY(TOPIC_SQ417, LOG_SQ417_BAES_BEAR);
    INFO_CLEARCHOICES(0x14060);
    INFO_ADDCHOICE(0x14060, "Your pet is ravaging warehouses and vandalizing huts!", 0x14067);
}

func void DIA_BAES_SQ417_STOP_BASTMENT_BEAR_PROBLEM() {
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_SQ417_Stop_Problem_15_01");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Problem_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Problem_03_03");
    INFO_CLEARCHOICES(0x14060);
    INFO_ADDCHOICE(0x14060, "Nobody noticed anything?", 0x14068);
}

func void DIA_BAES_SQ417_STOP_BASTMENT_BEAR_PROBLEM_NOONE() {
    AI_STARTFACEANI(OTHER, S_SURPRISE, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_SQ417_Stop_Noone_15_01");
    AI_RESETFACEANI(OTHER);
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Noone_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Noone_03_03");
    DIA_BAES_SQ417_STOP_CHOICES();
}

func void DIA_BAES_SQ417_STOP_YES() {
    SQ417_DECISION = 2;
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_SQ417_Stop_Yes_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Yes_03_02");
    CREATEINVITEMS(SELF, 0x8b9f, 1);
    B_GIVEINVITEMS(SELF, OTHER, 0x8b9f, 1);
    CREATEINVITEMS(SELF, 0x9023, 1);
    B_GIVEINVITEMS(SELF, OTHER, 0x9023, 1);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Yes_03_03");
    AI_LOGENTRY(TOPIC_SQ417, LOG_SQ417_BAES_DECISION_V1);
    INFO_CLEARCHOICES(0x14060);
}

func void DIA_BAES_SQ417_STOP_NO() {
    SQ417_FIGHTWITHBAES = 1;
    SQ417_DECISION = 1;
    SELF.AIVAR[96] = -(1);
    SELF.AIVAR[45] = AF_RUNNING;
    CREATEINVITEMS(SELF, 0x9023, 1);
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_SQ417_Stop_No_15_01");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_No_03_02");
    AI_RESETFACEANI(OTHER);
    INFO_CLEARCHOICES(0x14060);
    AI_STOPPROCESSINFOS(SELF);
    B_ATTACK(SELF, OTHER, AR_KILL, 1);
}

instance DIA_BAES_CANYOUTRAIN(C_INFO) {
    NPC = 0xe3b2;
    NR = 1;
    CONDITION = DIA_BAES_CANYOUTRAIN_CONDITION;
    INFORMATION = DIA_BAES_CANYOUTRAIN_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Could you train me?";
}

func int DIA_BAES_CANYOUTRAIN_CONDITION() {
    if ((LOG_GETSTATUS(MIS_SQ403)) == (LOG_SUCCESS)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_CANYOUTRAIN_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Canyoutrain_15_00");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Canyoutrain_03_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Canyoutrain_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Canyoutrain_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Canyoutrain_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Canyoutrain_03_05");
    LOG_CREATETOPIC(TOPIC_WOLFSDENTEACHER, LOG_NOTE);
    AI_LOGENTRY(TOPIC_WOLFSDENTEACHER, LOG_WOLFSDENTEACHER_BAES);
}

var int BAES_CURRENT1HLEVEL = 0;
var int BAES_CURRENT2HLEVEL = 0;
var int BAES_CURRENTSTRLEVEL = 0;
var int BAES_NOMORE = 0;
var string BAES_PRINTS = "";
const int BAES_RLEVEL = 60;
instance DIA_BAES_TRAIN(C_INFO) {
    NPC = 0xe3b2;
    NR = 7;
    CONDITION = DIA_BAES_TRAIN_CONDITION;
    INFORMATION = DIA_BAES_TRAIN_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Let's start the training.";
}

func int DIA_BAES_TRAIN_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x1406b)) && ((BAES_NOMORE) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_TRAIN_CHOICES() {
    BAES_GOLDCOST = 25;
    BAES_CURRENT1HLEVEL = OTHER.AIVAR[84];
    BAES_CURRENT2HLEVEL = OTHER.AIVAR[85];
    BAES_CURRENTSTRLEVEL = OTHER.AIVAR[81];
    INFO_CLEARCHOICES(0x14074);
    INFO_ADDCHOICE(0x14074, DIALOG_BACK, 0x14079);
    INFO_ADDCHOICE(0x14074, B_BUILDLEARNSTRING2(PRINT_LEARN1H1, B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_1H, 1), BAES_GOLDCOST), 0x1407a);
    INFO_ADDCHOICE(0x14074, B_BUILDLEARNSTRING2(PRINT_LEARN1H5, (B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_1H, 1)) * (5), (BAES_GOLDCOST) * (5)), 0x1407b);
    INFO_ADDCHOICE(0x14074, B_BUILDLEARNSTRING2(PRINT_LEARN2H1, B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_2H, 1), BAES_GOLDCOST), 0x1407c);
    INFO_ADDCHOICE(0x14074, B_BUILDLEARNSTRING2(PRINT_LEARN2H5, (B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_2H, 1)) * (5), (BAES_GOLDCOST) * (5)), 0x1407d);
    INFO_ADDCHOICE(0x14074, B_BUILDLEARNSTRING2(PRINT_LEARNSTR1, B_GETLEARNCOSTATTRIBUTE(OTHER, ATR_STRENGTH, 1), BAES_GOLDCOST), 0x1407e);
    INFO_ADDCHOICE(0x14074, B_BUILDLEARNSTRING2(PRINT_LEARNSTR5, B_GETLEARNCOSTATTRIBUTE(OTHER, ATR_STRENGTH, 5), (BAES_GOLDCOST) * (5)), 0x1407f);
}

var int DIA_BAES_TRAIN_CHOICES.BAES_GOLDCOST = 0;
func void DIA_BAES_TRAIN_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Train_15_00");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_03_01");
    DIA_BAES_TRAIN_CHOICES();
}

func void DIA_BAES_TRAIN_BACK() {
    if (((((OTHER.AIVAR[84]) < (100)) && ((OTHER.AIVAR[84]) >= (60))) || (((OTHER.AIVAR[85]) < (100)) && ((OTHER.AIVAR[85]) >= (60)))) || (((OTHER.AIVAR[81]) < (150)) && ((OTHER.AIVAR[81]) >= (60)))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_Back_03_00");
    };
    if ((((OTHER.AIVAR[84]) >= (100)) && ((OTHER.AIVAR[85]) >= (100))) && ((OTHER.AIVAR[81]) >= (150))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_Back_03_01");
        BAES_NOMORE = TRUE;
    };
    INFO_CLEARCHOICES(0x14074);
}

func void DIA_BAES_TRAIN_1H_1() {
    if (((NPC_HASITEMS(OTHER, 0x859b)) >= (BAES_PAYMENT1)) && ((OTHER.AIVAR[84]) >= (60))) {
        if ((BAES_CURRENT1HLEVEL) < (OTHER.AIVAR[84])) {
            SND_PLAY(GELDBEUTEL);
            B_GIVEINVITEMS(OTHER, SELF, 0x859b, BAES_PAYMENT1);
            NPC_REMOVEINVITEMS(SELF, 0x859b, BAES_PAYMENT1);
        };
        B_TEACHFIGHTTALENTPERCENT(SELF, OTHER, NPC_TALENT_1H, 1, 100);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((NPC_HASITEMS(OTHER, 0x859b)) < (BAES_PAYMENT1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_1H1_03_01");
        BAES_PRINTS = CONCATSTRINGS(PRINT_RGOLD, INTTOSTRING(BAES_PAYMENT1));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((OTHER.AIVAR[84]) < (60)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_1H1_03_02");
        BAES_PRINTS = CONCATSTRINGS(PRINT_MINSKILL, INTTOSTRING(BAES_RLEVEL));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
}

func void DIA_BAES_TRAIN_1H_5() {
    if (((NPC_HASITEMS(OTHER, 0x859b)) >= (BAES_PAYMENT5)) && ((OTHER.AIVAR[84]) >= (60))) {
        if ((BAES_CURRENT1HLEVEL) < (OTHER.AIVAR[84])) {
            SND_PLAY(GELDBEUTEL);
            B_GIVEINVITEMS(OTHER, SELF, 0x859b, BAES_PAYMENT5);
            NPC_REMOVEINVITEMS(SELF, 0x859b, BAES_PAYMENT5);
        };
        B_TEACHFIGHTTALENTPERCENT(SELF, OTHER, NPC_TALENT_1H, 5, 100);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((NPC_HASITEMS(OTHER, 0x859b)) < (BAES_PAYMENT5)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_1H5_03_01");
        BAES_PRINTS = CONCATSTRINGS(PRINT_RGOLD, INTTOSTRING(BAES_PAYMENT5));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((OTHER.AIVAR[84]) < (60)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_1H5_03_02");
        BAES_PRINTS = CONCATSTRINGS(PRINT_MINSKILL, INTTOSTRING(BAES_RLEVEL));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
}

func void DIA_BAES_TRAIN_2H_1() {
    if (((NPC_HASITEMS(OTHER, 0x859b)) >= (BAES_PAYMENT1)) && ((OTHER.AIVAR[85]) >= (60))) {
        if ((BAES_CURRENT2HLEVEL) < (OTHER.AIVAR[85])) {
            SND_PLAY(GELDBEUTEL);
            B_GIVEINVITEMS(OTHER, SELF, 0x859b, BAES_PAYMENT1);
            NPC_REMOVEINVITEMS(SELF, 0x859b, BAES_PAYMENT1);
        };
        B_TEACHFIGHTTALENTPERCENT(SELF, OTHER, NPC_TALENT_2H, 1, 100);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((NPC_HASITEMS(OTHER, 0x859b)) < (BAES_PAYMENT1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_2H1_03_01");
        BAES_PRINTS = CONCATSTRINGS(PRINT_RGOLD, INTTOSTRING(BAES_PAYMENT1));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((OTHER.AIVAR[85]) < (60)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_2H1_03_02");
        BAES_PRINTS = CONCATSTRINGS(PRINT_MINSKILL, INTTOSTRING(BAES_RLEVEL));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
}

func void DIA_BAES_TRAIN_2H_5() {
    if (((NPC_HASITEMS(OTHER, 0x859b)) >= (BAES_PAYMENT5)) && ((OTHER.AIVAR[85]) >= (60))) {
        if ((BAES_CURRENT2HLEVEL) < (OTHER.AIVAR[85])) {
            SND_PLAY(GELDBEUTEL);
            B_GIVEINVITEMS(OTHER, SELF, 0x859b, BAES_PAYMENT5);
            NPC_REMOVEINVITEMS(SELF, 0x859b, BAES_PAYMENT5);
        };
        B_TEACHFIGHTTALENTPERCENT(SELF, OTHER, NPC_TALENT_2H, 5, 100);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((NPC_HASITEMS(OTHER, 0x859b)) < (BAES_PAYMENT5)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_2H5_03_01");
        BAES_PRINTS = CONCATSTRINGS(PRINT_RGOLD, INTTOSTRING(BAES_PAYMENT5));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((OTHER.AIVAR[85]) < (60)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_2H5_03_02");
        BAES_PRINTS = CONCATSTRINGS(PRINT_MINSKILL, INTTOSTRING(BAES_RLEVEL));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
}

func void DIA_BAES_TRAINSTR_1() {
    if (((NPC_HASITEMS(OTHER, 0x859b)) >= (BAES_PAYMENT1)) && ((OTHER.AIVAR[81]) >= (60))) {
        if ((BAES_CURRENTSTRLEVEL) < (OTHER.AIVAR[81])) {
            SND_PLAY(GELDBEUTEL);
            B_GIVEINVITEMS(OTHER, SELF, 0x859b, BAES_PAYMENT1);
            NPC_REMOVEINVITEMS(SELF, 0x859b, BAES_PAYMENT1);
        };
        B_TEACHATTRIBUTEPOINTS(SELF, OTHER, ATR_STRENGTH, 1, 150);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((NPC_HASITEMS(OTHER, 0x859b)) < (BAES_PAYMENT1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_STR1_03_00");
        BAES_PRINTS = CONCATSTRINGS(PRINT_RGOLD, INTTOSTRING(BAES_PAYMENT1));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((OTHER.AIVAR[81]) < (60)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_STR1_03_01");
        BAES_PRINTS = CONCATSTRINGS(PRINT_MINATR, INTTOSTRING(BAES_RLEVEL));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
}

func void DIA_BAES_TRAINSTR_5() {
    if (((NPC_HASITEMS(OTHER, 0x859b)) >= (BAES_PAYMENT5)) && ((OTHER.AIVAR[81]) >= (60))) {
        if ((BAES_CURRENTSTRLEVEL) < (OTHER.AIVAR[81])) {
            SND_PLAY(GELDBEUTEL);
            B_GIVEINVITEMS(OTHER, SELF, 0x859b, BAES_PAYMENT5);
            NPC_REMOVEINVITEMS(SELF, 0x859b, BAES_PAYMENT5);
        };
        B_TEACHATTRIBUTEPOINTS(SELF, OTHER, ATR_STRENGTH, 5, 150);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((NPC_HASITEMS(OTHER, 0x859b)) < (BAES_PAYMENT5)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_STR5_03_00");
        BAES_PRINTS = CONCATSTRINGS(PRINT_RGOLD, INTTOSTRING(BAES_PAYMENT5));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((OTHER.AIVAR[81]) < (60)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_STR5_03_01");
        BAES_PRINTS = CONCATSTRINGS(PRINT_MINATR, INTTOSTRING(BAES_RLEVEL));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
}

instance DIA_BAES_TELLABOUT(C_INFO) {
    NPC = 0xe3b2;
    NR = 900;
    CONDITION = DIA_BAES_TELLABOUT_CONDITION;
    INFORMATION = DIA_BAES_TELLABOUT_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Could you tell me something about the Wolf Sons?";
}

func int DIA_BAES_TELLABOUT_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x14043)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_TELLABOUT_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_TellAbout_15_01");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_TellAbout_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_TellAbout_03_03");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

instance DIA_BAES_WARRIOR(C_INFO) {
    NPC = 0xe3b2;
    NR = 900;
    CONDITION = DIA_BAES_WARRIOR_CONDITION;
    INFORMATION = DIA_BAES_WARRIOR_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Everyone in the Wolf's Den is a warrior?";
}

func int DIA_BAES_WARRIOR_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x14080)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_WARRIOR_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Warrior_15_01");
    AI_WAITTILLEND(SELF, OTHER);
    AI_PLAYANI(SELF, T_LAUGH);
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Warrior_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Warrior_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Warrior_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Warrior_03_05");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

instance DIA_BAES_AMBIENT(C_INFO) {
    NPC = 0xe3b2;
    NR = 850;
    CONDITION = DIA_BAES_AMBIENT_CONDITION;
    INFORMATION = DIA_BAES_AMBIENT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "How's the situation?";
}

func int DIA_BAES_AMBIENT_CONDITION() {
    if ((LOG_GETSTATUS(MIS_Q403)) == (LOG_SUCCESS)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_AMBIENT_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Ambient_15_01");
    if ((KAPITEL) == (4)) {
        if ((LOG_GETSTATUS(MIS_Q404)) != (LOG_SUCCESS)) {
            if ((Q403_ORCSATTACK) == (2)) {
                NPC_INITAMBIENTS(SELF, 2);
            } else {
                NPC_INITAMBIENTS(SELF, 1);
            } else if ((NPC_GETLASTAMBIENT(SELF)) == (1)) {
                AI_OUTPUT(SELF, OTHER, "DIA_Baes_Ambient_03_02");
            } else if ((NPC_GETLASTAMBIENT(SELF)) == (2)) {
                AI_OUTPUT(SELF, OTHER, "DIA_Baes_Ambient_03_03");
            };
        } else if ((LOG_GETSTATUS(MIS_Q404)) == (LOG_SUCCESS)) {
            AI_OUTPUT(SELF, OTHER, "DIA_Baes_Ambient_03_04");
        };
    };
    if ((KAPITEL) == (5)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Ambient_03_05");
    };
}

instance DIA_BAES_FREEWOLFSARMOR(C_INFO) {
    NPC = 0xe3b2;
    NR = 1;
    CONDITION = DIA_BAES_FREEWOLFSARMOR_CONDITION;
    INFORMATION = DIA_BAES_FREEWOLFSARMOR_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BAES_FREEWOLFSARMOR_CONDITION() {
    if ((((((LOG_GETSTATUS(MIS_SQ417)) == (LOG_SUCCESS)) && ((LOG_GETSTATUS(MIS_SQ419)) == (LOG_SUCCESS))) && ((LOG_GETSTATUS(MIS_Q404)) == (LOG_SUCCESS))) && (((SQ417_DECISION) == (2)) && ((SQ417_FINISHCHECK_DAY) <= ((WLD_GETDAY()) - (1))))) && ((((EINAR_SQ419_WANTTOHELP) == (1)) && ((SQ419_FINISHCHECK) == (1))) && ((SQ419_FINISHCHECK_DAY) <= ((WLD_GETDAY()) - (1))))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_FREEWOLFSARMOR_INFO() {
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_FreeWolfsArmor_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_FreeWolfsArmor_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_FreeWolfsArmor_03_03");
    AI_WAITTILLEND(OTHER, SELF);
    CREATEINVITEMS(SELF, 0x8abb, 1);
    B_GIVEINVITEMS(SELF, OTHER, 0x8abb, 1);
    AI_EQUIPARMOR(OTHER, 0x8abb);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_FreeWolfsArmor_03_04");
    AI_RESETFACEANI(SELF);
}

instance DIA_BAES_HELLO(C_INFO) {
    NPC = 0xe3b2;
    NR = 1;
    CONDITION = DIA_BAES_HELLO_CONDITION;
    INFORMATION = DIA_BAES_HELLO_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "What do you do?";
}

func int DIA_BAES_HELLO_CONDITION() {
    if (!(NPC_KNOWSINFO(OTHER, 0x14033))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_HELLO_INFO() {
    B_SAY(OTHER, SELF, "$MARVIN_WhatIsYourJob");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Hello_03_01");
}

instance DIA_BAES_ABOUTULRYK(C_INFO) {
    NPC = 0xe3b2;
    NR = 1;
    CONDITION = DIA_BAES_ABOUTULRYK_CONDITION;
    INFORMATION = DIA_BAES_ABOUTULRYK_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Tell me about Ulryk.";
}

func int DIA_BAES_ABOUTULRYK_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 0x1408c)) || (NPC_KNOWSINFO(OTHER, 0x14033))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_ABOUTULRYK_INFO() {
    B_SAY(OTHER, SELF, "$MARVIN_OpinionAboutUlryk");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_AboutUlryk_03_01");
}

instance DIA_BAES_ABOUTWOLFSDEN(C_INFO) {
    NPC = 0xe3b2;
    NR = 1;
    CONDITION = DIA_BAES_ABOUTWOLFSDEN_CONDITION;
    INFORMATION = DIA_BAES_ABOUTWOLFSDEN_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "What can you tell me about Wolf's Den?";
}

func int DIA_BAES_ABOUTWOLFSDEN_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 0x1408f)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_ABOUTWOLFSDEN_INFO() {
    B_SAY(OTHER, SELF, "$MARVIN_TellMeAboutWolfsden");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_AboutUlryk_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_AboutUlryk_03_03");
}

instance DIA_BAES_Q404_NEEDHELP(C_INFO) {
    NPC = 0xe3b2;
    NR = 850;
    CONDITION = DIA_BAES_Q404_NEEDHELP_CONDITION;
    INFORMATION = DIA_BAES_Q404_NEEDHELP_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "I need someone to guard the mine.";
}

func int DIA_BAES_Q404_NEEDHELP_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q404)) == (LOG_RUNNING)) && ((Q404_GUARDMINE_NEEDHELP) == (TRUE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_Q404_NEEDHELP_INFO() {
    Q404_MARVINASK_NEEDHELP();
    DIA_IMBUSY_CALM();
}

instance DIA_BAES_PICKPOCKET(C_INFO) {
    NPC = 0xe3b2;
    NR = 900;
    CONDITION = DIA_BAES_PICKPOCKET_CONDITION;
    INFORMATION = DIA_BAES_PICKPOCKET_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = PICKPOCKET_120;
}

func int DIA_BAES_PICKPOCKET_CONDITION() {
    if (((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (1)) && ((SELF.AIVAR[6]) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_PICKPOCKET_INFO() {
    INFO_CLEARCHOICES(0x14098);
    INFO_ADDCHOICE(0x14098, DIALOG_BACK, 0x1409c);
    INFO_ADDCHOICE(0x14098, DIALOG_PICKPOCKET, 0x1409b);
}

func void DIA_BAES_PICKPOCKET_DOIT() {
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (3)) {
        B_PICKPOCKET_AMBIENT_TIER_3();
        SELF.AIVAR[6] = TRUE;
        INFO_CLEARCHOICES(0x14098);
    };
    AI_PLAYANI(HERO, T_CANNOTTAKE);
    PRINTSCREEN(PRINT_CANTPICKPOCKETTHISPERSON, -(1), -(1), FONT_SCREEN, 4);
    INFO_CLEARCHOICES(0x14098);
}

func void DIA_BAES_PICKPOCKET_BACK() {
    INFO_CLEARCHOICES(0x14098);
}

