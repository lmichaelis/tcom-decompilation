func void ZS_G1_FIRESPIT() {
    PRINTDEBUGNPC(PD_ZS_FRAME, "ZS_G1_Firespit");
    if (((HLP_GETINSTANCEID(SELF)) == (HLP_GETINSTANCEID(NONE_1315_ROSITA))) || ((HLP_GETINSTANCEID(SELF)) == (HLP_GETINSTANCEID(NONE_1316_TARA)))) {
        PERCEPTION_SET_NONE();
    };
    PERCEPTION_SET_NORMAL();
    AI_SETWALKMODE(SELF, NPC_WALK);
    AI_GOTOWP(SELF, SELF.WP);
    AI_ALIGNTOWP(SELF);
    AI_REMOVEWEAPON(SELF);
}

func int ZS_G1_FIRESPIT_LOOP() {
    PRINTDEBUGNPC(PD_ZS_LOOP, "ZS_G1_Firespit_Loop");
    if ((NPC_HASITEMS(SELF, 0x87b9)) <= (1)) {
        CREATEINVITEM(SELF, 0x87b9);
    };
    SPITREAKTION = HLP_RANDOM(100);
    if ((SPITREAKTION) >= (50)) {
        AI_USEITEMTOSTATE(SELF, 0x87b9, 5);
        AI_USEITEMTOSTATE(SELF, 0x87b9, -(1));
    };
    AI_WAIT(SELF, 0x3f800000);
    return 0 /* !broken stack! */;
}

var int ZS_G1_FIRESPIT_LOOP.SPITREAKTION = 0;
func void ZS_G1_FIRESPIT_END() {
    PRINTDEBUGNPC(PD_ZS_FRAME, "ZS_G1_Firespit_End");
    AI_USEITEMTOSTATE(SELF, 0x87b9, -(1));
    AI_CONTINUEROUTINE(SELF);
}

