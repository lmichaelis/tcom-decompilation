func void NEWSBOARD_SILBACH_S1() {
    HER = HLP_GETNPC(0xc3ab);
    if ((HLP_GETINSTANCEID(SELF)) == (HLP_GETINSTANCEID(HER))) {
        if (((SILBACHSLEEP) != (2)) || ((KAPITEL) == (6))) {
            B_SAY(HERO, HERO, "$MARVIN_QuestRefused2");
        } else {
            SELF.AIVAR[4] = TRUE;
            PLAYER_MOBSI_PRODUCTION = MOBSI_NEWSBOARD_SILBACH;
            AI_PROCESSINFOS(HER);
        };
    };
}

instance NEWSBOARD_SILBACH_S1.HER(C_NPC)
instance PC_NEWSBOARD_SILBACH_ENDE(C_INFO) {
    NPC = 0xc3ab;
    NR = 999;
    CONDITION = PC_NEWSBOARD_SILBACH_CONDITION;
    INFORMATION = PC_NEWSBOARD_SILBACH_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int PC_NEWSBOARD_SILBACH_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_SILBACH)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_NEWSBOARD_SILBACH_INFO() {
    SPRITEMAP_DESTROY();
    AI_STOPPROCESSINFOS(SELF);
    SELF.AIVAR[4] = FALSE;
    PLAYER_MOBSI_PRODUCTION = MOBSI_NONE;
}

instance PC_Q107_POSTER(C_INFO) {
    NPC = 0xc3ab;
    NR = 1;
    CONDITION = PC_Q107_POSTER_CONDITION;
    INFORMATION = PC_Q107_POSTER_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_Q107_POSTER;
}

var int Q107_SILBACH_POSTER_01 = 0;
var int Q107_SILBACH_POSTER_02 = 0;
var int Q107_SILBACH_POSTER_03 = 0;
func int PC_Q107_POSTER_CONDITION() {
    if (((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_SILBACH)) && ((LOG_GETSTATUS(MIS_Q107)) == (LOG_RUNNING))) {
        if ((NPC_HASITEMS(SELF, 0x90c9)) >= (1)) {
            if ((((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "VILLAGE_NEWSBOARD_01")) && ((Q107_SILBACH_POSTER_01) == (FALSE))) || ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "VILLAGE_NEWSBOARD_02")) && ((Q107_SILBACH_POSTER_02) == (FALSE)))) || ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "VILLAGE_NEWSBOARD_03")) && ((Q107_SILBACH_POSTER_03) == (FALSE)))) {
                return TRUE;
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void PC_Q107_COUNTPOSTERS() {
    B_GIVEPLAYERXP(XP_Q107_POSTER);
    Q107_SILBACH_POSTER_COUNTS = (Q107_SILBACH_POSTER_COUNTS) + (1);
    if ((Q107_SILBACH_POSTER_COUNTS) == (3)) {
        B_LOGENTRY(TOPIC_Q107, LOG_Q107_ALLPOSTERSDONE);
    };
    NPC_REMOVEINVITEMS(SELF, 0x90c9, 1);
}

func void PC_Q107_POSTER_INFO() {
    if (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "VILLAGE_NEWSBOARD_01")) {
        if ((Q107_SILBACH_POSTER_01) == (FALSE)) {
            Q107_SILBACH_POSTER_01 = TRUE;
            PC_Q107_COUNTPOSTERS();
        };
    };
    if (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "VILLAGE_NEWSBOARD_02")) {
        if ((Q107_SILBACH_POSTER_02) == (FALSE)) {
            Q107_SILBACH_POSTER_02 = TRUE;
            PC_Q107_COUNTPOSTERS();
        };
    };
    if (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "VILLAGE_NEWSBOARD_03")) {
        if ((Q107_SILBACH_POSTER_03) == (FALSE)) {
            Q107_SILBACH_POSTER_03 = TRUE;
            PC_Q107_COUNTPOSTERS();
        };
    };
}

instance PC_NEWSBOARD_SILBACH_SHOWMAP(C_INFO) {
    NPC = 0xc3ab;
    NR = 998;
    CONDITION = PC_NEWSBOARD_SILBACH_SHOWMAP_CONDITION;
    INFORMATION = PC_NEWSBOARD_SILBACH_SHOWMAP_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_NEWSBOARD_SILBACH_SHOWMAP;
}

func int PC_NEWSBOARD_SILBACH_SHOWMAP_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_SILBACH)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_NEWSBOARD_SILBACH_SHOWMAP_INFO() {
    if (NPC_ISPLAYER(SELF)) {
        B_SETPLAYERMAP(0x9b90);
    };
    SPRITEMAP_INIT(-(0x113b2), -(0x17836), -(0xa652), -(0x1e596), "MAP_SILBACH.tga", TRUE, CURRENTLEVEL, ARCHOLOS_ZEN);
}

instance PC_NEWSBOARD_SILBACH_SHOWNEWS(C_INFO) {
    NPC = 0xc3ab;
    NR = 995;
    CONDITION = PC_NEWSBOARD_SILBACH_SHOWNEWS_CONDITION;
    INFORMATION = PC_NEWSBOARD_SILBACH_SHOWNEWS_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_SHOWNEWS;
}

func int PC_NEWSBOARD_SILBACH_SHOWNEWS_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_SILBACH)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_NEWSBOARD_SILBACH_SHOWNEWS_BACK() {
    INFO_CLEARCHOICES(0xfbb7);
}

var int SILBACH_NEWS_NOBMEALS = 0;
var int SILBACH_NEWS_REMY = 0;
var int SILBACH_NEWS_CARDEN = 0;
var int SILBACH_NEWS_LOKVAR = 0;
var int SILBACH_NEWS_WATCHOUT = 0;
var int SILBACH_NEWS_BEAST = 0;
var int SILBACH_NEWS_REFUGEE = 0;
var int SILBACH_NEWS_RUNES = 0;
var int SILBACH_NEWS_VOLKER = 0;
var int SILBACH_NEWS_DANGER = 0;
var int SILBACH_NEWS_FORESTBUG = 0;
func void PC_NEWSBOARD_SILBACH_SHOWNEWS_INFO() {
    INFO_CLEARCHOICES(0xfbb7);
    INFO_ADDCHOICE(0xfbb7, DIALOG_BACK, 0xfbb9);
    if ((SILBACH_NEWS_FRIDA) == (FALSE)) {
        INFO_ADDCHOICE(0xfbb7, NAME_NEWSBOARD_SILBACH_FRIDA, 0xfbc7);
    };
    if ((SILBACH_NEWS_GOLDMINE) == (FALSE)) {
        INFO_ADDCHOICE(0xfbb7, NAME_NEWSBOARD_SILBACH_GOLDMINE, 0xfbc8);
    };
    if ((SILBACH_NEWS_WATCHOUT) == (FALSE)) {
        INFO_ADDCHOICE(0xfbb7, NAME_NEWSBOARD_SILBACH_WATCHOUT, 0xfbcd);
    };
    if ((((SILBACH_NEWS_BEAST) == (FALSE)) && ((LOG_GETSTATUS(MIS_Q108)) == (LOG_SUCCESS))) && ((LOG_GETSTATUS(MIS_SQ416)) != (LOG_SUCCESS))) {
        INFO_ADDCHOICE(0xfbb7, NAME_NEWSBOARD_SILBACH_BEAST, 0xfbcc);
    };
    if (((SILBACH_NEWS_REFUGEE) == (FALSE)) && ((LOG_GETSTATUS(MIS_Q104)) == (LOG_SUCCESS))) {
        INFO_ADDCHOICE(0xfbb7, NAME_NEWSBOARD_SILBACH_REFUGEE, 0xfbce);
    };
    if ((SILBACH_NEWS_RUNES) == (FALSE)) {
        INFO_ADDCHOICE(0xfbb7, NAME_NEWSBOARD_SILBACH_RUNES, 0xfbcf);
    };
    if (((SILBACH_NEWS_VOLKER) == (FALSE)) && ((LOG_GETSTATUS(MIS_Q312)) >= (1))) {
        INFO_ADDCHOICE(0xfbb7, NAME_NEWSBOARD_CITY_NEWS_VOLKER, 0xfbd0);
    };
    if (((SILBACH_NEWS_DANGER) == (FALSE)) && ((KAPITEL) >= (2))) {
        INFO_ADDCHOICE(0xfbb7, NAME_NEWSBOARD_CITY_NEWS_DANGER, 0xfbd1);
    };
    if (((SILBACH_NEWS_FORESTBUG) == (FALSE)) && ((LOG_GETSTATUS(MIS_Q104)) == (LOG_SUCCESS))) {
        INFO_ADDCHOICE(0xfbb7, NAME_NEWSBOARD_CITY_NEWS_FORESTBUG, 0xfbd2);
    };
    if ((SILBACH_NEWS_NOBMEALS) == (FALSE)) {
        INFO_ADDCHOICE(0xfbb7, NAME_NEWSBOARD_SILBACH_NOBMEAL, 0xfbc6);
    };
    if ((SILBACH_NEWS_REMY) == (FALSE)) {
        INFO_ADDCHOICE(0xfbb7, NAME_NEWSBOARD_SILBACH_REMY, 0xfbc9);
    };
    if (((SILBACH_NEWS_LOKVAR) == (FALSE)) && ((LOG_GETSTATUS(MIS_Q108)) == (LOG_SUCCESS))) {
        INFO_ADDCHOICE(0xfbb7, NAME_NEWSBOARD_SILBACH_LOKVAR, 0xfbca);
    };
    if ((SILBACH_NEWS_CARDEN) == (FALSE)) {
        INFO_ADDCHOICE(0xfbb7, NAME_NEWSBOARD_SILBACH_CARDEN, 0xfbcb);
    };
}

func void PC_NEWSBOARD_SILBACH_NEWS_NOB() {
    SILBACH_NEWS_NOBMEALS = TRUE;
    B_PLAYERFINDITEM(0xa0f2, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_FRIDA() {
    SILBACH_NEWS_FRIDA = TRUE;
    B_PLAYERFINDITEM(0xa0ef, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_GOLDMINE() {
    SILBACH_NEWS_GOLDMINE = TRUE;
    B_PLAYERFINDITEM(0xa0f5, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_REMY() {
    SILBACH_NEWS_REMY = TRUE;
    B_PLAYERFINDITEM(0xa0f9, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_LOKVAR() {
    SILBACH_NEWS_LOKVAR = TRUE;
    B_PLAYERFINDITEM(0xa0fc, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_CARDEN() {
    SILBACH_NEWS_CARDEN = TRUE;
    B_PLAYERFINDITEM(0xa10c, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_BEAST() {
    SILBACH_NEWS_BEAST = TRUE;
    B_PLAYERFINDITEM(0xa103, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_WATCHOUT() {
    SILBACH_NEWS_WATCHOUT = TRUE;
    B_PLAYERFINDITEM(0xa100, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_REFUGEE() {
    SILBACH_NEWS_REFUGEE = TRUE;
    B_PLAYERFINDITEM(0xa106, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_RUNES() {
    SILBACH_NEWS_RUNES = TRUE;
    B_PLAYERFINDITEM(0xa109, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_VOLKER() {
    SILBACH_NEWS_VOLKER = TRUE;
    B_PLAYERFINDITEM(0xa0c5, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_DANGER() {
    SILBACH_NEWS_DANGER = TRUE;
    B_PLAYERFINDITEM(0xa0ce, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_FORESTBUG() {
    SILBACH_NEWS_FORESTBUG = TRUE;
    B_PLAYERFINDITEM(0x9f59, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

instance PC_NEWSBOARD_SILBACH_SHOWTRADETRAIN(C_INFO) {
    NPC = 0xc3ab;
    NR = 996;
    CONDITION = PC_NEWSBOARD_SILBACH_SHOWTRADETRAIN_CONDITION;
    INFORMATION = PC_NEWSBOARD_SILBACH_SHOWTRADETRAIN_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_SHOWOFFERS;
}

var int SILBACH_TRAINING_PAULUS = 0;
var int SILBACH_TRAINING_FOLKARD = 0;
var int SILBACH_TRAINING_MARKUS = 0;
var int SILBACH_TRAINING_KIPPER = 0;
var int SILBACH_TRAINING_STONE = 0;
var int SILBACH_TRADE = 0;
func int PC_NEWSBOARD_SILBACH_SHOWTRADETRAIN_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_SILBACH)) {
        if (((((((SILBACH_TRAINING_PAULUS) == (FALSE)) || ((SILBACH_TRAINING_FOLKARD) == (FALSE))) || ((SILBACH_TRAINING_MARKUS) == (FALSE))) || ((SILBACH_TRAINING_KIPPER) == (FALSE))) || ((SILBACH_TRAINING_STONE) == (FALSE))) || ((SILBACH_TRADE) == (FALSE))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void PC_NEWSBOARD_SILBACH_SHOWTRADETRAIN_BACK() {
    INFO_CLEARCHOICES(0xfbd3);
}

func void PC_NEWSBOARD_SILBACH_SHOWTRADETRAIN_INFO() {
    INFO_CLEARCHOICES(0xfbd3);
    INFO_ADDCHOICE(0xfbd3, DIALOG_BACK, 0xfbdb);
    if ((SILBACH_TRAINING_PAULUS) == (FALSE)) {
        INFO_ADDCHOICE(0xfbd3, NAME_NEWSBOARD_SILBACH_TRAINING_PAULUS, 0xfbdd);
    };
    if ((SILBACH_TRAINING_FOLKARD) == (FALSE)) {
        INFO_ADDCHOICE(0xfbd3, NAME_NEWSBOARD_SILBACH_TRAINING_FOLKARD, 0xfbde);
    };
    if ((SILBACH_TRAINING_MARKUS) == (FALSE)) {
        INFO_ADDCHOICE(0xfbd3, NAME_NEWSBOARD_SILBACH_TRAINING_MARKUS, 0xfbdf);
    };
    if ((SILBACH_TRAINING_KIPPER) == (FALSE)) {
        INFO_ADDCHOICE(0xfbd3, NAME_NEWSBOARD_SILBACH_TRAINING_KIPPER, 0xfbe0);
    };
    if ((SILBACH_TRAINING_STONE) == (FALSE)) {
        INFO_ADDCHOICE(0xfbd3, NAME_NEWSBOARD_SILBACH_TRAINING_STONE, 0xfbe1);
    };
    if ((SILBACH_TRADE) == (FALSE)) {
        INFO_ADDCHOICE(0xfbd3, NAME_NEWSBOARD_SILBACH_TRADE, 0xfbe2);
    };
}

func void PC_NEWSBOARD_SILBACH_TRAINING_PAULUS() {
    SILBACH_TRAINING_PAULUS = TRUE;
    B_PLAYERFINDITEM(0xa0dd, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_TRAINING_FOLKARD() {
    SILBACH_TRAINING_FOLKARD = TRUE;
    B_PLAYERFINDITEM(0xa0e0, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_TRAINING_MARKUS() {
    SILBACH_TRAINING_MARKUS = TRUE;
    B_PLAYERFINDITEM(0xa0e3, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_TRAINING_KIPPER() {
    SILBACH_TRAINING_KIPPER = TRUE;
    B_PLAYERFINDITEM(0xa0e6, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_TRAINING_STONE() {
    SILBACH_TRAINING_STONE = TRUE;
    B_PLAYERFINDITEM(0xa0e9, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_TRADE() {
    SILBACH_TRADE = TRUE;
    B_PLAYERFINDITEM(0xa0ec, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

