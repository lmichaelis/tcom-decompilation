func void SQ124_PREPARENPC() {
    SQ124_SKELETONSTATUS = 1;
    WLD_INSERTNPC(0xc565, "FP_PART4_SQ124_GOBBO_01");
    WLD_INSERTNPC(0xc566, "FP_PART4_SQ124_GOBBO_02");
    WLD_INSERTNPC(0xc567, "FP_PART4_SQ124_GOBBO_03");
}

func void SQ124_REMOVEDOORS_PREPARE() {
    FF_APPLYONCEEXTGT(0xf2b2, 0, -(1));
}

func void SQ124_REMOVEDOORS_APPLY() {
    if ((SQ124_REMOVEDOORS_COUNT) == (0)) {
        PRINTD("Rozpoczynam - SQ124_RemoveDoors_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("SQ124_MOVER_CORPSE_FISHERMAN");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        MOVPTR2 = MEM_SEARCHVOBBYNAME("SQ124_MOVER_DOOR_01");
        MOVER2 = MEM_PTRTOINST(MOVPTR2);
        MOVPTR3 = MEM_SEARCHVOBBYNAME("SQ124_MOVER_DOOR_02");
        MOVER3 = MEM_PTRTOINST(MOVPTR3);
        CHANGEVOBCOLLISION("SQ124_CORPSE_FISHERMAN", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("SQ124_DOOR_01", FALSE, FALSE, FALSE, TRUE);
        CHANGEVOBCOLLISION("SQ124_DOOR_02", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("SQ124_MOVER_CORPSE_FISHERMAN");
        WLD_SENDTRIGGER("SQ124_MOVER_DOOR_01");
        WLD_SENDTRIGGER("SQ124_MOVER_DOOR_02");
        SQ124_REMOVEDOORS_COUNT = 1;
    };
    if (((((((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER2.MOVERSTATE) != (MOVER_STATE_CLOSING))) && ((MOVER3.MOVERSTATE) != (MOVER_STATE_OPENING))) && ((MOVER3.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Skoñczy³em - SQ124_RemoveDoors_Apply");
        CHANGEVOBCOLLISION("SQ124_CORPSE_FISHERMAN", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("SQ124_DOOR_01", TRUE, TRUE, TRUE, TRUE);
        CHANGEVOBCOLLISION("SQ124_DOOR_02", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(0xf2b2);
        SQ124_REMOVEDOORS_COUNT = 0;
    };
}

var int SQ124_REMOVEDOORS_APPLY.SQ124_REMOVEDOORS_COUNT = 0;
instance SQ124_REMOVEDOORS_APPLY.MOVER1(ZCMOVER)
instance SQ124_REMOVEDOORS_APPLY.MOVER2(ZCMOVER)
instance SQ124_REMOVEDOORS_APPLY.MOVER3(ZCMOVER)
var int SQ124_REMOVEDOORS_APPLY.MOVPTR1 = 0;
var int SQ124_REMOVEDOORS_APPLY.MOVPTR2 = 0;
var int SQ124_REMOVEDOORS_APPLY.MOVPTR3 = 0;
