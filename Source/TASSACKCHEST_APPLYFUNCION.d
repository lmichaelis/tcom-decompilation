func void TASSACKCHEST_APPLYFUNCION() {
    var int NPCPTR;
    var C_NPC NPC;
    NPC = HLP_GETNPC(1819);
    NPCPTR = _@(48990);
    FF_APPLYEXTDATAGT(48992, 0, -(1), NPCPTR);
}

func void TASSACKCHEST_APPLY() {
    if ((CURRENTLEVEL) == (ARCHOLOS_ZEN)) {
        if ((NPC_GETDISTTOWP(HERO, "PART4_TASSACK_03")) >= (5000)) {
            FF_REMOVE(48992);
            TASSACKCHEST_SPAWNEASTEREGG = 0;
            B_STARTOTHERROUTINE(NONE_80000_LUCY, START);
            NPC_REFRESH(NONE_80000_LUCY);
            TELEPORTNPCTOWP(56008, NONE_80000_LUCY.WP);
            B_STARTOTHERROUTINE(NONE_80001_DAWID, START);
            NPC_REFRESH(NONE_80001_DAWID);
            TELEPORTNPCTOWP(56011, NONE_80001_DAWID.WP);
            B_STARTOTHERROUTINE(NONE_80002_MIKI, START);
            NPC_REFRESH(NONE_80002_MIKI);
            TELEPORTNPCTOWP(56014, NONE_80002_MIKI.WP);
            B_STARTOTHERROUTINE(NONE_80003_SHAREC, START);
            NPC_REFRESH(NONE_80003_SHAREC);
            TELEPORTNPCTOWP(56017, NONE_80003_SHAREC.WP);
            B_STARTOTHERROUTINE(NONE_80004_KIEP, START);
            NPC_REFRESH(NONE_80004_KIEP);
            TELEPORTNPCTOWP(56020, NONE_80004_KIEP.WP);
            MUSIC_DISABLEOVERRIDE();
            PRINTD("Poszli se");
        } else {
            PRINTD("Oddal siê to usunê koncert");
        };
    };
    if (((CURRENTLEVEL) == (ARCHOLOS_ENDGAME_ZEN)) || ((CURRENTLEVEL) == (ARCHOLOS_VOLFZACKE_ZEN))) {
        PRINTD("I tak nie zobaczysz efektów");
        FF_REMOVE(48992);
    };
    PRINTD("Mogê funkcjê wykonaæ tylko w zenie Archolos! - TASSACKCHEST_Apply");
}

func void TASSACKCHEST_S0() {
    if ((((((MOB_HASITEMS("TASSACK_CHEST", 34118)) == (TRUE)) && ((MOB_HASITEMS("TASSACK_CHEST", 34119)) == (TRUE))) && ((MOB_HASITEMS("TASSACK_CHEST", 34120)) == (TRUE))) && ((MOB_HASITEMS("TASSACK_CHEST", 34121)) == (TRUE))) && ((MOB_HASITEMS("TASSACK_CHEST", 34122)) == (TRUE))) {
        if ((TASSACKCHEST_SPAWNEASTEREGG) == (0)) {
            TASSACKCHEST_SPAWNEASTEREGG = 1;
            MUSIC_OVERRIDETRACK(21952);
            B_STARTOTHERROUTINE(NONE_80000_LUCY, "PLAY");
            NPC_REFRESH(NONE_80000_LUCY);
            TELEPORTNPCTOWP(56008, NONE_80000_LUCY.WP);
            WLD_PLAYEFFECT("spellFX_INCOVATION_WHITE_NOLIGHT", NONE_80000_LUCY, NONE_80000_LUCY, 0, 0, 0, FALSE);
            B_STARTOTHERROUTINE(NONE_80001_DAWID, "PLAY");
            NPC_REFRESH(NONE_80001_DAWID);
            TELEPORTNPCTOWP(56011, NONE_80001_DAWID.WP);
            B_STARTOTHERROUTINE(NONE_80002_MIKI, "PLAY");
            NPC_REFRESH(NONE_80002_MIKI);
            TELEPORTNPCTOWP(56014, NONE_80002_MIKI.WP);
            WLD_PLAYEFFECT("spellFX_INCOVATION_RED_NOLIGHT", NONE_80002_MIKI, NONE_80002_MIKI, 0, 0, 0, FALSE);
            B_STARTOTHERROUTINE(NONE_80003_SHAREC, "PLAY");
            NPC_REFRESH(NONE_80003_SHAREC);
            TELEPORTNPCTOWP(56017, NONE_80003_SHAREC.WP);
            B_STARTOTHERROUTINE(NONE_80004_KIEP, "PLAY");
            NPC_REFRESH(NONE_80004_KIEP);
            TELEPORTNPCTOWP(56020, NONE_80004_KIEP.WP);
            WLD_PLAYEFFECT("spellFX_INCOVATION_BLUE_NOLIGHT", NONE_80004_KIEP, NONE_80004_KIEP, 0, 0, 0, FALSE);
            TASSACKCHEST_APPLYFUNCION();
        };
    };
    HERO.AIVAR[4] = FALSE;
}

