var int SLEPTINARAXOSMINEBED;
var int ASTOL_AFTERSLEEP_FIGHT;
func void SLEEPABIT_ARAXOSMINE_RICH_S1() {
    var C_NPC HER;
    HER = HLP_GETNPC(50091);
    if ((HLP_GETINSTANCEID(SELF)) == (HLP_GETINSTANCEID(HER))) {
        SELF.AIVAR[4] = TRUE;
        PLAYER_MOBSI_PRODUCTION = MOBSI_SLEEPABIT_ARAXOSMINE_RICH;
        AI_PROCESSINFOS(HER);
    };
}

func void PC_ARAXOSMINE_RICH_SLEEP(var int T) {
    AI_STOPPROCESSINFOS(SELF);
    PLAYER_MOBSI_PRODUCTION = MOBSI_NONE;
    SELF.AIVAR[4] = FALSE;
    T = (T) + (24);
    WLD_SETTIME(T, 0);
    PRINTSCREEN(PRINT_SLEEPOVER, -(1), -(1), FONT_SCREEN, 2);
    HERO.ATTRIBUTE[0] = HERO.ATTRIBUTE[1];
    HERO.ATTRIBUTE[2] = HERO.ATTRIBUTE[3];
    WLD_STOPEFFECT("DEMENTOR_FX");
    if ((ASTOL_AFTERSLEEP_FIGHT) != (2)) {
        if ((SLEPTINARAXOSMINEBED) == (FALSE)) {
            SLEPTINARAXOSMINEBED = TRUE;
            B_STARTOTHERROUTINE(SLD_13714_ASTOL, "BLOCKPATH");
            NPC_REFRESH(SLD_13714_ASTOL);
            TELEPORTNPCTOWP(56420, SLD_13714_ASTOL.WP);
        };
    };
    GOLDCOUNTER_NEEDTOTAKEBREAK = 0;
    if ((SQ119_NEEDTOREST) == (TRUE)) {
        SQ119_NEEDTOREST = FALSE;
    };
    PRINTGLOBALS(PD_ITEM_MOBSI);
    NPC_SENDPASSIVEPERC(HERO, PERC_ASSESSENTERROOM, $INSTANCE_HELP, HERO);
}

func int PC_ARAXOSMINE_RICH_NOSLEEP_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_SLEEPABIT_ARAXOSMINE_RICH)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_ARAXOSMINE_RICH_NOSLEEP_INFO() {
    AI_STOPPROCESSINFOS(SELF);
    SELF.AIVAR[4] = FALSE;
    PLAYER_MOBSI_PRODUCTION = MOBSI_NONE;
}

instance PC_ARAXOSMINE_RICH_SLEEPTIME_MORNING(C_INFO) {
    NPC = 50091;
    CONDITION = PC_ARAXOSMINE_RICH_SLEEPTIME_MORNING_CONDITION;
    INFORMATION = PC_ARAXOSMINE_RICH_SLEEPTIME_MORNING_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_SLEEP_MORNING;
}

func int PC_ARAXOSMINE_RICH_SLEEPTIME_MORNING_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_SLEEPABIT_ARAXOSMINE_RICH)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_ARAXOSMINE_RICH_SLEEPTIME_MORNING_INFO() {
    PC_ARAXOSMINE_RICH_SLEEP(8);
}

instance PC_ARAXOSMINE_RICH_SLEEPTIME_NOON(C_INFO) {
    NPC = 50091;
    CONDITION = PC_ARAXOSMINE_RICH_SLEEPTIME_NOON_CONDITION;
    INFORMATION = PC_ARAXOSMINE_RICH_SLEEPTIME_NOON_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_SLEEP_NOON;
}

func int PC_ARAXOSMINE_RICH_SLEEPTIME_NOON_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_SLEEPABIT_ARAXOSMINE_RICH)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_ARAXOSMINE_RICH_SLEEPTIME_NOON_INFO() {
    PC_ARAXOSMINE_RICH_SLEEP(12);
}

instance PC_ARAXOSMINE_RICH_SLEEPTIME_EVENING(C_INFO) {
    NPC = 50091;
    CONDITION = PC_ARAXOSMINE_RICH_SLEEPTIME_EVENING_CONDITION;
    INFORMATION = PC_ARAXOSMINE_RICH_SLEEPTIME_EVENING_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_SLEEP_EVENING;
}

func int PC_ARAXOSMINE_RICH_SLEEPTIME_EVENING_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_SLEEPABIT_ARAXOSMINE_RICH)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_ARAXOSMINE_RICH_SLEEPTIME_EVENING_INFO() {
    PC_ARAXOSMINE_RICH_SLEEP(20);
}

instance PC_ARAXOSMINE_RICH_SLEEPTIME_MIDNIGHT(C_INFO) {
    NPC = 50091;
    CONDITION = PC_ARAXOSMINE_RICH_SLEEPTIME_MIDNIGHT_CONDITION;
    INFORMATION = PC_ARAXOSMINE_RICH_SLEEPTIME_MIDNIGHT_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_SLEEP_MIDNIGHT;
}

func int PC_ARAXOSMINE_RICH_SLEEPTIME_MIDNIGHT_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_SLEEPABIT_ARAXOSMINE_RICH)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_ARAXOSMINE_RICH_SLEEPTIME_MIDNIGHT_INFO() {
    PC_ARAXOSMINE_RICH_SLEEP(0);
}

