func void NEWSBOARD_SILBACH_S1() {
    var C_NPC HER;
    HER = HLP_GETNPC(50091);
    if ((HLP_GETINSTANCEID(SELF)) == (HLP_GETINSTANCEID(HER))) {
        if (((SILBACHSLEEP) != (2)) || ((KAPITEL) == (6))) {
            B_SAY(HERO, HERO, "$MARVIN_QuestRefused2");
        } else {
            SELF.AIVAR[4] = TRUE;
            PLAYER_MOBSI_PRODUCTION = MOBSI_NEWSBOARD_SILBACH;
            AI_PROCESSINFOS(HER);
        };
    };
}

instance PC_NEWSBOARD_SILBACH_ENDE(C_INFO) {
    NPC = 50091;
    NR = 999;
    CONDITION = PC_NEWSBOARD_SILBACH_CONDITION;
    INFORMATION = PC_NEWSBOARD_SILBACH_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int PC_NEWSBOARD_SILBACH_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_SILBACH)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_NEWSBOARD_SILBACH_INFO() {
    SPRITEMAP_DESTROY();
    AI_STOPPROCESSINFOS(SELF);
    SELF.AIVAR[4] = FALSE;
    PLAYER_MOBSI_PRODUCTION = MOBSI_NONE;
}

instance PC_Q107_POSTER(C_INFO) {
    NPC = 50091;
    NR = 1;
    CONDITION = PC_Q107_POSTER_CONDITION;
    INFORMATION = PC_Q107_POSTER_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_Q107_POSTER;
}

var int Q107_SILBACH_POSTER_01;
var int Q107_SILBACH_POSTER_02;
var int Q107_SILBACH_POSTER_03;
func int PC_Q107_POSTER_CONDITION() {
    if (((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_SILBACH)) && ((LOG_GETSTATUS(MIS_Q107)) == (LOG_RUNNING))) {
        if ((NPC_HASITEMS(SELF, 37065)) >= (1)) {
            if ((((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "VILLAGE_NEWSBOARD_01")) && ((Q107_SILBACH_POSTER_01) == (FALSE))) || ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "VILLAGE_NEWSBOARD_02")) && ((Q107_SILBACH_POSTER_02) == (FALSE)))) || ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "VILLAGE_NEWSBOARD_03")) && ((Q107_SILBACH_POSTER_03) == (FALSE)))) {
                return TRUE;
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void PC_Q107_COUNTPOSTERS() {
    B_GIVEPLAYERXP(XP_Q107_POSTER);
    Q107_SILBACH_POSTER_COUNTS = (Q107_SILBACH_POSTER_COUNTS) + (1);
    if ((Q107_SILBACH_POSTER_COUNTS) == (3)) {
        B_LOGENTRY(TOPIC_Q107, LOG_Q107_ALLPOSTERSDONE);
    };
    NPC_REMOVEINVITEMS(SELF, 37065, 1);
}

func void PC_Q107_POSTER_INFO() {
    if (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "VILLAGE_NEWSBOARD_01")) {
        if ((Q107_SILBACH_POSTER_01) == (FALSE)) {
            Q107_SILBACH_POSTER_01 = TRUE;
            PC_Q107_COUNTPOSTERS();
        };
    };
    if (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "VILLAGE_NEWSBOARD_02")) {
        if ((Q107_SILBACH_POSTER_02) == (FALSE)) {
            Q107_SILBACH_POSTER_02 = TRUE;
            PC_Q107_COUNTPOSTERS();
        };
    };
    if (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "VILLAGE_NEWSBOARD_03")) {
        if ((Q107_SILBACH_POSTER_03) == (FALSE)) {
            Q107_SILBACH_POSTER_03 = TRUE;
            PC_Q107_COUNTPOSTERS();
        };
    };
}

instance PC_NEWSBOARD_SILBACH_SHOWMAP(C_INFO) {
    NPC = 50091;
    NR = 998;
    CONDITION = PC_NEWSBOARD_SILBACH_SHOWMAP_CONDITION;
    INFORMATION = PC_NEWSBOARD_SILBACH_SHOWMAP_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_NEWSBOARD_SILBACH_SHOWMAP;
}

func int PC_NEWSBOARD_SILBACH_SHOWMAP_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_SILBACH)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_NEWSBOARD_SILBACH_SHOWMAP_INFO() {
    if (NPC_ISPLAYER(SELF)) {
        B_SETPLAYERMAP(39824);
    };
    SPRITEMAP_INIT(-(70578), -(96310), -(42578), -(124310), "MAP_SILBACH.tga", TRUE, CURRENTLEVEL, ARCHOLOS_ZEN);
}

instance PC_NEWSBOARD_SILBACH_SHOWNEWS(C_INFO) {
    NPC = 50091;
    NR = 995;
    CONDITION = PC_NEWSBOARD_SILBACH_SHOWNEWS_CONDITION;
    INFORMATION = PC_NEWSBOARD_SILBACH_SHOWNEWS_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_SHOWNEWS;
}

func int PC_NEWSBOARD_SILBACH_SHOWNEWS_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_SILBACH)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_NEWSBOARD_SILBACH_SHOWNEWS_BACK() {
    INFO_CLEARCHOICES(64439);
}

var int SILBACH_NEWS_NOBMEALS;
var int SILBACH_NEWS_REMY;
var int SILBACH_NEWS_CARDEN;
var int SILBACH_NEWS_LOKVAR;
var int SILBACH_NEWS_WATCHOUT;
var int SILBACH_NEWS_BEAST;
var int SILBACH_NEWS_REFUGEE;
var int SILBACH_NEWS_RUNES;
var int SILBACH_NEWS_VOLKER;
var int SILBACH_NEWS_DANGER;
var int SILBACH_NEWS_FORESTBUG;
func void PC_NEWSBOARD_SILBACH_SHOWNEWS_INFO() {
    INFO_CLEARCHOICES(64439);
    INFO_ADDCHOICE(64439, DIALOG_BACK, 64441);
    if ((SILBACH_NEWS_FRIDA) == (FALSE)) {
        INFO_ADDCHOICE(64439, NAME_NEWSBOARD_SILBACH_FRIDA, 64455);
    };
    if ((SILBACH_NEWS_GOLDMINE) == (FALSE)) {
        INFO_ADDCHOICE(64439, NAME_NEWSBOARD_SILBACH_GOLDMINE, 64456);
    };
    if ((SILBACH_NEWS_WATCHOUT) == (FALSE)) {
        INFO_ADDCHOICE(64439, NAME_NEWSBOARD_SILBACH_WATCHOUT, 64461);
    };
    if ((((SILBACH_NEWS_BEAST) == (FALSE)) && ((LOG_GETSTATUS(MIS_Q108)) == (LOG_SUCCESS))) && ((LOG_GETSTATUS(MIS_SQ416)) != (LOG_SUCCESS))) {
        INFO_ADDCHOICE(64439, NAME_NEWSBOARD_SILBACH_BEAST, 64460);
    };
    if (((SILBACH_NEWS_REFUGEE) == (FALSE)) && ((LOG_GETSTATUS(MIS_Q104)) == (LOG_SUCCESS))) {
        INFO_ADDCHOICE(64439, NAME_NEWSBOARD_SILBACH_REFUGEE, 64462);
    };
    if ((SILBACH_NEWS_RUNES) == (FALSE)) {
        INFO_ADDCHOICE(64439, NAME_NEWSBOARD_SILBACH_RUNES, 64463);
    };
    if (((SILBACH_NEWS_VOLKER) == (FALSE)) && ((LOG_GETSTATUS(MIS_Q312)) >= (1))) {
        INFO_ADDCHOICE(64439, NAME_NEWSBOARD_CITY_NEWS_VOLKER, 64464);
    };
    if (((SILBACH_NEWS_DANGER) == (FALSE)) && ((KAPITEL) >= (2))) {
        INFO_ADDCHOICE(64439, NAME_NEWSBOARD_CITY_NEWS_DANGER, 64465);
    };
    if (((SILBACH_NEWS_FORESTBUG) == (FALSE)) && ((LOG_GETSTATUS(MIS_Q104)) == (LOG_SUCCESS))) {
        INFO_ADDCHOICE(64439, NAME_NEWSBOARD_CITY_NEWS_FORESTBUG, 64466);
    };
    if ((SILBACH_NEWS_NOBMEALS) == (FALSE)) {
        INFO_ADDCHOICE(64439, NAME_NEWSBOARD_SILBACH_NOBMEAL, 64454);
    };
    if ((SILBACH_NEWS_REMY) == (FALSE)) {
        INFO_ADDCHOICE(64439, NAME_NEWSBOARD_SILBACH_REMY, 64457);
    };
    if (((SILBACH_NEWS_LOKVAR) == (FALSE)) && ((LOG_GETSTATUS(MIS_Q108)) == (LOG_SUCCESS))) {
        INFO_ADDCHOICE(64439, NAME_NEWSBOARD_SILBACH_LOKVAR, 64458);
    };
    if ((SILBACH_NEWS_CARDEN) == (FALSE)) {
        INFO_ADDCHOICE(64439, NAME_NEWSBOARD_SILBACH_CARDEN, 64459);
    };
}

func void PC_NEWSBOARD_SILBACH_NEWS_NOB() {
    SILBACH_NEWS_NOBMEALS = TRUE;
    B_PLAYERFINDITEM(41202, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_FRIDA() {
    SILBACH_NEWS_FRIDA = TRUE;
    B_PLAYERFINDITEM(41199, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_GOLDMINE() {
    SILBACH_NEWS_GOLDMINE = TRUE;
    B_PLAYERFINDITEM(41205, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_REMY() {
    SILBACH_NEWS_REMY = TRUE;
    B_PLAYERFINDITEM(41209, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_LOKVAR() {
    SILBACH_NEWS_LOKVAR = TRUE;
    B_PLAYERFINDITEM(41212, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_CARDEN() {
    SILBACH_NEWS_CARDEN = TRUE;
    B_PLAYERFINDITEM(41228, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_BEAST() {
    SILBACH_NEWS_BEAST = TRUE;
    B_PLAYERFINDITEM(41219, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_WATCHOUT() {
    SILBACH_NEWS_WATCHOUT = TRUE;
    B_PLAYERFINDITEM(41216, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_REFUGEE() {
    SILBACH_NEWS_REFUGEE = TRUE;
    B_PLAYERFINDITEM(41222, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_RUNES() {
    SILBACH_NEWS_RUNES = TRUE;
    B_PLAYERFINDITEM(41225, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_VOLKER() {
    SILBACH_NEWS_VOLKER = TRUE;
    B_PLAYERFINDITEM(41157, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_DANGER() {
    SILBACH_NEWS_DANGER = TRUE;
    B_PLAYERFINDITEM(41166, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_NEWS_FORESTBUG() {
    SILBACH_NEWS_FORESTBUG = TRUE;
    B_PLAYERFINDITEM(40793, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

instance PC_NEWSBOARD_SILBACH_SHOWTRADETRAIN(C_INFO) {
    NPC = 50091;
    NR = 996;
    CONDITION = PC_NEWSBOARD_SILBACH_SHOWTRADETRAIN_CONDITION;
    INFORMATION = PC_NEWSBOARD_SILBACH_SHOWTRADETRAIN_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_SHOWOFFERS;
}

var int SILBACH_TRAINING_PAULUS;
var int SILBACH_TRAINING_FOLKARD;
var int SILBACH_TRAINING_MARKUS;
var int SILBACH_TRAINING_KIPPER;
var int SILBACH_TRAINING_STONE;
var int SILBACH_TRADE;
func int PC_NEWSBOARD_SILBACH_SHOWTRADETRAIN_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_SILBACH)) {
        if (((((((SILBACH_TRAINING_PAULUS) == (FALSE)) || ((SILBACH_TRAINING_FOLKARD) == (FALSE))) || ((SILBACH_TRAINING_MARKUS) == (FALSE))) || ((SILBACH_TRAINING_KIPPER) == (FALSE))) || ((SILBACH_TRAINING_STONE) == (FALSE))) || ((SILBACH_TRADE) == (FALSE))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void PC_NEWSBOARD_SILBACH_SHOWTRADETRAIN_BACK() {
    INFO_CLEARCHOICES(64467);
}

func void PC_NEWSBOARD_SILBACH_SHOWTRADETRAIN_INFO() {
    INFO_CLEARCHOICES(64467);
    INFO_ADDCHOICE(64467, DIALOG_BACK, 64475);
    if ((SILBACH_TRAINING_PAULUS) == (FALSE)) {
        INFO_ADDCHOICE(64467, NAME_NEWSBOARD_SILBACH_TRAINING_PAULUS, 64477);
    };
    if ((SILBACH_TRAINING_FOLKARD) == (FALSE)) {
        INFO_ADDCHOICE(64467, NAME_NEWSBOARD_SILBACH_TRAINING_FOLKARD, 64478);
    };
    if ((SILBACH_TRAINING_MARKUS) == (FALSE)) {
        INFO_ADDCHOICE(64467, NAME_NEWSBOARD_SILBACH_TRAINING_MARKUS, 64479);
    };
    if ((SILBACH_TRAINING_KIPPER) == (FALSE)) {
        INFO_ADDCHOICE(64467, NAME_NEWSBOARD_SILBACH_TRAINING_KIPPER, 64480);
    };
    if ((SILBACH_TRAINING_STONE) == (FALSE)) {
        INFO_ADDCHOICE(64467, NAME_NEWSBOARD_SILBACH_TRAINING_STONE, 64481);
    };
    if ((SILBACH_TRADE) == (FALSE)) {
        INFO_ADDCHOICE(64467, NAME_NEWSBOARD_SILBACH_TRADE, 64482);
    };
}

func void PC_NEWSBOARD_SILBACH_TRAINING_PAULUS() {
    SILBACH_TRAINING_PAULUS = TRUE;
    B_PLAYERFINDITEM(41181, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_TRAINING_FOLKARD() {
    SILBACH_TRAINING_FOLKARD = TRUE;
    B_PLAYERFINDITEM(41184, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_TRAINING_MARKUS() {
    SILBACH_TRAINING_MARKUS = TRUE;
    B_PLAYERFINDITEM(41187, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_TRAINING_KIPPER() {
    SILBACH_TRAINING_KIPPER = TRUE;
    B_PLAYERFINDITEM(41190, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_TRAINING_STONE() {
    SILBACH_TRAINING_STONE = TRUE;
    B_PLAYERFINDITEM(41193, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_NEWSBOARD_SILBACH_TRADE() {
    SILBACH_TRADE = TRUE;
    B_PLAYERFINDITEM(41196, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

