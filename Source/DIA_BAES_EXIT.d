instance DIA_BAES_EXIT(C_INFO) {
    NPC = 58290;
    NR = 999;
    CONDITION = DIA_BAES_EXIT_CONDITION;
    INFORMATION = DIA_BAES_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_BAES_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_BAES_EXIT_INFO() {
    if ((LOG_GETSTATUS(MIS_SQ403)) == (LOG_RUNNING)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_EXIT_Info_03_01");
    };
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_BAES_VARHALSEARCH(C_INFO) {
    NPC = 58290;
    NR = 1;
    CONDITION = DIA_BAES_VARHALSEARCH_CONDITION;
    INFORMATION = DIA_BAES_VARHALSEARCH_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I'm looking for Henk.";
}

func int DIA_BAES_VARHALSEARCH_CONDITION() {
    if (((((LOG_GETSTATUS(MIS_Q402)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 81528))) && (NPC_KNOWSINFO(OTHER, 81280))) && ((Q402_FOUNDVARHALANDLEGRIF) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_VARHALSEARCH_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_VarhalSearch_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_VarhalSearch_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_VarhalSearch_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_VarhalSearch_03_04");
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_VarhalSearch_15_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_VarhalSearch_03_06");
    AI_LOGENTRY(TOPIC_Q402, LOG_Q402_BAESVARHALINFO);
}

instance DIA_BAES_Q403_AFTERCRAWLERS(C_INFO) {
    NPC = 58290;
    NR = 1;
    CONDITION = DIA_BAES_Q403_AFTERCRAWLERS_CONDITION;
    INFORMATION = DIA_BAES_Q403_AFTERCRAWLERS_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BAES_Q403_AFTERCRAWLERS_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q403)) == (LOG_RUNNING)) && ((Q403_CRAWLERSDONE) == (TRUE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_Q403_AFTERCRAWLERS_INFO() {
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_03_01");
    INFO_CLEARCHOICES(81971);
    INFO_ADDCHOICE(81971, DIALOG_BESILENT, 81976);
    INFO_ADDCHOICE(81971, "Ulryk thought I couldn't handle it?", 81975);
}

func void DIA_BAES_Q403_AFTERCRAWLERS_NEXT() {
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_Next_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_Next_03_02");
    AI_LOGENTRY(TOPIC_Q403, LOG_Q403_BAES_ULRYK);
    INFO_CLEARCHOICES(81971);
    INFO_ADDCHOICE(81971, "Let's not waste time, let's go slaughter these beasts!", 81978);
    INFO_ADDCHOICE(81971, "Orcs? Here?", 81979);
}

func void DIA_BAES_Q403_AFTERCRAWLERS_ULRYK() {
    AI_STARTFACEANI(OTHER, S_SURPRISE, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Q403_AfterCrawlers_Ulryk_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_Ulryk_03_02");
    DIA_BAES_Q403_AFTERCRAWLERS_NEXT();
}

func void DIA_BAES_Q403_AFTERCRAWLERS_SILENCE() {
    AI_WAIT(OTHER, 1056964608);
    AI_WAITTILLEND(SELF, OTHER);
    DIA_BAES_Q403_AFTERCRAWLERS_NEXT();
}

func void DIA_BAES_Q403_AFTERCRAWLERS_FINISH() {
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_Finish_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_Finish_03_02");
    AI_TURNTONPC(SELF, DJG_13717_WOLFSON);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_Finish_03_03");
    AI_TURNTONPC(SELF, OTHER);
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    AI_LOGENTRY(TOPIC_Q403, LOG_Q403_BAES_FOLLOW);
    INFO_CLEARCHOICES(81971);
    AI_STOPPROCESSINFOS(SELF);
    AI_FUNCTION(SELF, 63722);
}

func void DIA_BAES_Q403_AFTERCRAWLERS_ULRYK_NEXT_GO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Q403_AfterCrawlers_Go_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_Go_03_02");
    B_GIVEPLAYERXP(XP_Q403_BAESHAPPY);
    DIA_BAES_Q403_AFTERCRAWLERS_FINISH();
}

func void DIA_BAES_Q403_AFTERCRAWLERS_ULRYK_NEXT_ORCS() {
    AI_STARTFACEANI(OTHER, S_SURPRISE, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Q403_AfterCrawlers_Orcs_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_Orcs_03_02");
    AI_RESETFACEANI(OTHER);
    if (!(NPC_KNOWSINFO(OTHER, 85563))) {
        INFO_ADDCHOICE(81971, "I just didn't know they were already on the island!", 81980);
    };
    DIA_BAES_Q403_AFTERCRAWLERS_ULRYK_NEXT_GO();
}

func void DIA_BAES_Q403_AFTERCRAWLERS_ULRYK_NEXT_ORCS_DONTKNOW() {
    AI_STARTFACEANI(OTHER, S_NOPE, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Q403_AfterCrawlers_DontKnow_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterCrawlers_DontKnow_03_02");
    DIA_BAES_Q403_AFTERCRAWLERS_FINISH();
}

instance DIA_BAES_Q403_ORCS(C_INFO) {
    NPC = 58290;
    NR = 1;
    CONDITION = DIA_BAES_Q403_ORCS_CONDITION;
    INFORMATION = DIA_BAES_Q403_ORCS_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BAES_Q403_ORCS_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_Q403)) == (LOG_RUNNING)) && ((Q403_ORCSATTACK) != (2))) && ((NPC_GETDISTTOWP(SELF, "PART16_PATH_176")) <= (500))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_Q403_ORCS_INFO() {
    Q403_BAESGUIDEUS = 1;
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_Orcs_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_Orcs_03_02");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_TURNTONPC(SELF, DJG_13717_WOLFSON);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_Orcs_03_03");
    AI_FUNCTION(SELF, 63723);
    AI_TURNTONPC(SELF, OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_Orcs_03_04");
    AI_STOPPROCESSINFOS(SELF);
    AI_LOGENTRY(TOPIC_Q403, LOG_Q403_BAES_GUIDERIVER);
    NPC_EXCHANGEROUTINE(SELF, "Q403_GUIDE_RIVER_01");
}

instance DIA_BAES_Q403_GETREADY(C_INFO) {
    NPC = 58290;
    NR = 1;
    CONDITION = DIA_BAES_Q403_GETREADY_CONDITION;
    INFORMATION = DIA_BAES_Q403_GETREADY_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BAES_Q403_GETREADY_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_Q403)) == (LOG_RUNNING)) && ((NPC_GETDISTTOWP(SELF, "PART15_PATH_313")) <= (500))) && ((Q403_BAESGUIDEUS) >= (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_Q403_GETREADY_INFO() {
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_GetReady_03_01");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_GetReady_03_02");
    AI_FUNCTION(SELF, 63725);
    AI_STOPPROCESSINFOS(SELF);
    AI_LOGENTRY(TOPIC_Q403, LOG_Q403_BAES_ATTACK);
}

instance DIA_BAES_Q403_AFTERFIGHT(C_INFO) {
    NPC = 58290;
    NR = 1;
    CONDITION = DIA_BAES_Q403_AFTERFIGHT_CONDITION;
    INFORMATION = DIA_BAES_Q403_AFTERFIGHT_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BAES_Q403_AFTERFIGHT_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q403)) == (LOG_RUNNING)) && ((Q403_ORCSATTACK) == (2))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_Q403_AFTERFIGHT_INFO() {
    DJG_13717_WOLFSON.AIVAR[15] = FALSE;
    DJG_13718_WOLFSON.AIVAR[15] = FALSE;
    DJG_10015_BAES.AIVAR[15] = FALSE;
    if (NPC_KNOWSINFO(OTHER, 81984)) {
        B_GIVEPLAYERXP(XP_Q403_BAESORCATTACK);
        AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_01");
        AI_TURNTONPC(SELF, DJG_13717_WOLFSON);
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_02");
        AI_FUNCTION(SELF, 63726);
        AI_TURNTONPC(SELF, OTHER);
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_03");
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_04");
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_05");
        AI_LOGENTRY(TOPIC_Q403, LOG_Q403_BAES_RESULT_V1);
    };
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_07");
    AI_STARTFACEANI(SELF, S_THINK, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_08");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_09");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Q403_AfterFight_03_10");
    AI_LOGENTRY(TOPIC_Q403, LOG_Q403_BAES_RESULT_V2);
    NPC_EXCHANGEROUTINE(SELF, "Q403_ORCPLUNDER");
    AI_RESETFACEANI(SELF);
}

instance DIA_BAES_SQ403(C_INFO) {
    NPC = 58290;
    NR = 1;
    CONDITION = DIA_BAES_SQ403_CONDITION;
    INFORMATION = DIA_BAES_SQ403_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BAES_SQ403_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q403)) == (LOG_SUCCESS)) && ((SQ417_FIGHTWITHBAES) != (2))) {
        if (((Q403_ORCSATTACK) == (2)) && (NPC_KNOWSINFO(OTHER, 81984))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_SQ403_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ403_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ403_03_02");
    INFO_CLEARCHOICES(81990);
    INFO_ADDCHOICE(81990, "Why do you ask this question?", 81994);
    INFO_ADDCHOICE(81990, "I've been here and there.", 81995);
}

func void DIA_BAES_SQ403_NEXT() {
    INFO_CLEARCHOICES(81990);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WhatIsGoingOn_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WhatIsGoingOn_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WhatIsGoingOn_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WhatIsGoingOn_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WhatIsGoingOn_03_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WhatIsGoingOn_03_08");
    INFO_ADDCHOICE(81990, "I'll look for those skins for you.", 81996);
}

func void DIA_BAES_GOTNOTIME() {
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_GotNoTime_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_GotNoTime_03_02");
    DIA_BAES_SQ403_NEXT();
}

func void DIA_BAES_WHATISGOINGON() {
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_WhatIsGoingOn_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WhatIsGoingOn_03_02");
    DIA_BAES_SQ403_NEXT();
}

func void DIA_BAES_OKEY() {
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Okey_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Okey_03_02");
    LOG_CREATETOPIC(TOPIC_SQ403, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ403), TOPIC_SQ403, LOG_RUNNING);
    AI_LOGENTRY(TOPIC_SQ403, LOG_SQ403_YESWEGOTWOLF);
    AI_STOPPROCESSINFOS(SELF);
}

func void DIA_BAES_SQ403_ITISALL() {
    if ((SQ403_FURCOUNT) >= (6)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ403_ItIsAll_03_01");
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ403_ItIsAll_03_02");
        CREATEINVITEMS(SELF, 38027, 1);
        B_GIVEINVITEMS(SELF, OTHER, 38027, 1);
        LOG_SETSTATUS(_@(MIS_SQ403), TOPIC_SQ403, LOG_SUCCESS);
        AI_LOGENTRY(TOPIC_SQ403, LOG_SQ403_ALLFUR);
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ403_ItIsAll_03_03");
        AI_STOPPROCESSINFOS(SELF);
    };
}

instance DIA_BAES_GIVEFUR(C_INFO) {
    NPC = 58290;
    NR = 1;
    CONDITION = DIA_BAES_GIVEFUR_CONDITION;
    INFORMATION = DIA_BAES_GIVEFUR_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_GIVEFURS;
}

func int DIA_BAES_GIVEFUR_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 81990)) && ((LOG_GETSTATUS(MIS_SQ403)) == (LOG_RUNNING))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

var int BAES_FUR_WOLF;
var int BAES_FUR_WARG;
var int BAES_FUR_ICEWOLF;
var int BAES_FUR_DESSERTWOLF;
var int BAES_FUR_ORCDOG;
var int BAES_FUR_BLACKWOLF;
var int BAES_FUR_DOG;
func void DIA_BAES_GIVEFUR_INFO() {
    INFO_CLEARCHOICES(81998);
    INFO_ADDCHOICE(81998, DIALOG_BACK, 82008);
    if (((NPC_HASITEMS(OTHER, 33848)) >= (1)) && ((BAES_FUR_WOLF) == (FALSE))) {
        INFO_ADDCHOICE(81998, "(Give the wolf skin)", 82009);
    };
    if (((NPC_HASITEMS(OTHER, 35350)) >= (1)) && ((BAES_FUR_BLACKWOLF) == (FALSE))) {
        INFO_ADDCHOICE(81998, "(Give the black wolf skin)", 82011);
    };
    if (((NPC_HASITEMS(OTHER, 33859)) >= (1)) && ((BAES_FUR_WARG) == (FALSE))) {
        INFO_ADDCHOICE(81998, "(Give the warg skin)", 82012);
    };
    if (((NPC_HASITEMS(OTHER, 35349)) >= (1)) && ((BAES_FUR_ORCDOG) == (FALSE))) {
        INFO_ADDCHOICE(81998, "(Give the orc dog skin)", 82013);
    };
    if (((NPC_HASITEMS(OTHER, 35347)) >= (1)) && ((BAES_FUR_ICEWOLF) == (FALSE))) {
        INFO_ADDCHOICE(81998, "(Give the ice wolf skin)", 82014);
    };
    if (((NPC_HASITEMS(OTHER, 35348)) >= (1)) && ((BAES_FUR_DESSERTWOLF) == (FALSE))) {
        INFO_ADDCHOICE(81998, "(Give the desert wolf skin)", 82015);
    };
    if (((NPC_HASITEMS(OTHER, 35351)) >= (1)) && ((BAES_FUR_DOG) == (FALSE))) {
        INFO_ADDCHOICE(81998, "(Give the dog skin)", 82010);
    };
}

func void DIA_BAES_GIVEFUR_BACK() {
    INFO_CLEARCHOICES(81998);
}

func void DIA_BAES_WOLFFUR() {
    BAES_FUR_WOLF = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_WolfFur_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WolfFur_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_WolfFur_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WolfFur_03_04");
    B_GIVEINVITEMS(OTHER, SELF, 33848, 1);
    AI_LOGENTRY(TOPIC_SQ403, LOG_SQ403_WOLFFUR);
    B_GIVEPLAYERXP(XP_SQ403_BRINGFUR);
    CREATEINVITEMS(SELF, 34203, SQ403_GOLDFORFUR);
    B_GIVEINVITEMS(SELF, OTHER, 34203, SQ403_GOLDFORFUR);
    SQ403_FURCOUNT = (SQ403_FURCOUNT) + (1);
    DIA_BAES_SQ403_ITISALL();
}

func void DIA_BAES_DOGFUR() {
    BAES_FUR_DOG = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_DogFur_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_DogFur_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_DogFur_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_DogFur_03_04");
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_DogFur_15_05");
    AI_LOGENTRY(TOPIC_SQ403, LOG_SQ403_DOGFUR);
    DIA_BAES_SQ403_ITISALL();
}

func void DIA_BAES_BLACKWOLFFUR() {
    BAES_FUR_BLACKWOLF = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_BlackWolffur_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_BlackWolffur_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_BlackWolffur_03_03");
    B_GIVEINVITEMS(OTHER, SELF, 35350, 1);
    AI_LOGENTRY(TOPIC_SQ403, LOG_SQ403_BOSSWOLFFUR);
    B_GIVEPLAYERXP((XP_SQ403_BRINGFUR) * (2));
    CREATEINVITEMS(SELF, 34203, (SQ403_GOLDFORFUR) * (2));
    B_GIVEINVITEMS(SELF, OTHER, 34203, (SQ403_GOLDFORFUR) * (2));
    SQ403_FURCOUNT = (SQ403_FURCOUNT) + (1);
    DIA_BAES_SQ403_ITISALL();
}

func void DIA_BAES_WARGFUR() {
    BAES_FUR_WARG = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_WargFur_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_WargFur_03_02");
    B_GIVEINVITEMS(OTHER, SELF, 33859, 1);
    AI_LOGENTRY(TOPIC_SQ403, LOG_SQ403_WARGFUR);
    B_GIVEPLAYERXP((XP_SQ403_BRINGFUR) * (3));
    CREATEINVITEMS(SELF, 34203, (SQ403_GOLDFORFUR) * (3));
    B_GIVEINVITEMS(SELF, OTHER, 34203, (SQ403_GOLDFORFUR) * (3));
    SQ403_FURCOUNT = (SQ403_FURCOUNT) + (1);
    DIA_BAES_SQ403_ITISALL();
}

func void DIA_BAES_ORCDOGFUR() {
    BAES_FUR_ORCDOG = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_OrcDogFur_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_OrcDogFur_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_OrcDogFur_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_OrcDogFur_03_05");
    B_GIVEINVITEMS(OTHER, SELF, 35349, 1);
    AI_LOGENTRY(TOPIC_SQ403, LOG_SQ403_ORCDOGFUR);
    B_GIVEPLAYERXP((XP_SQ403_BRINGFUR) * (3));
    CREATEINVITEMS(SELF, 34203, (SQ403_GOLDFORFUR) * (3));
    B_GIVEINVITEMS(SELF, OTHER, 34203, (SQ403_GOLDFORFUR) * (3));
    SQ403_FURCOUNT = (SQ403_FURCOUNT) + (1);
    DIA_BAES_SQ403_ITISALL();
}

func void DIA_BAES_ICEFUR() {
    BAES_FUR_ICEWOLF = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_IceFur_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_IceFur_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_IceFur_03_03");
    B_GIVEINVITEMS(OTHER, SELF, 35347, 1);
    AI_LOGENTRY(TOPIC_SQ403, LOG_SQ403_ICEFUR);
    CREATEINVITEMS(SELF, 34203, (SQ403_GOLDFORFUR) * (12));
    B_GIVEINVITEMS(SELF, OTHER, 34203, (SQ403_GOLDFORFUR) * (12));
    B_GIVEPLAYERXP((XP_SQ403_BRINGFUR) * (12));
    SQ403_FURCOUNT = (SQ403_FURCOUNT) + (1);
    DIA_BAES_SQ403_ITISALL();
}

func void DIA_BAES_DESERTFUR() {
    BAES_FUR_DESSERTWOLF = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_DesertFur_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_DesertFur_03_02");
    B_GIVEINVITEMS(OTHER, SELF, 35348, 1);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_DesertFur_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_DesertFur_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_DesertFur_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_DesertFur_03_06");
    AI_LOGENTRY(TOPIC_SQ403, LOG_SQ403_DESERTFUR);
    CREATEINVITEMS(SELF, 34203, (SQ403_GOLDFORFUR) * (6));
    B_GIVEINVITEMS(SELF, OTHER, 34203, (SQ403_GOLDFORFUR) * (6));
    B_GIVEPLAYERXP((XP_SQ403_BRINGFUR) * (4));
    SQ403_FURCOUNT = (SQ403_FURCOUNT) + (1);
    DIA_BAES_SQ403_ITISALL();
}

instance DIA_BAES_SQ417_STOP(C_INFO) {
    NPC = 58290;
    NR = 1;
    CONDITION = DIA_BAES_SQ417_STOP_CONDITION;
    INFORMATION = DIA_BAES_SQ417_STOP_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BAES_SQ417_STOP_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_SQ417)) == (LOG_RUNNING)) && ((NPC_GETDISTTONPC(SELF, OTHER)) <= (300))) && ((SQ417_ARETHEPLAN_EVENTS) >= (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_SQ417_STOP_CHOICES() {
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    INFO_CLEARCHOICES(82016);
    INFO_ADDCHOICE(82016, "You can't hide a bear!", 82026);
    INFO_ADDCHOICE(82016, "No one will know anything.", 82025);
}

func void DIA_BAES_SQ417_STOP_INFO() {
    NPC_EXCHANGEROUTINE(SELF, "SQ417_CHECKBEAR");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_03_01");
    INFO_CLEARCHOICES(82016);
    INFO_ADDCHOICE(82016, "There's a bear in the basement!", 82020);
    INFO_ADDCHOICE(82016, "Arethe told me to check out the strange noises.", 82021);
    AI_FUNCTION(SELF, 63631);
}

func void DIA_BAES_SQ417_STOP_BASTMENT() {
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_SQ417_Stop_Bastment_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Bastment_03_02");
    INFO_ADDCHOICE(82016, "Is that your bear?", 82022);
}

func void DIA_BAES_SQ417_STOP_ARETHE() {
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_SQ417_Stop_Arethe_15_01");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Arethe_03_02");
    DIA_BAES_SQ417_STOP_CHOICES();
}

func void DIA_BAES_SQ417_STOP_BASTMENT_BEAR() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_SQ417_Stop_Bear_15_01");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Bear_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Bear_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Bear_03_04");
    AI_LOGENTRY(TOPIC_SQ417, LOG_SQ417_BAES_BEAR);
    INFO_CLEARCHOICES(82016);
    INFO_ADDCHOICE(82016, "Your pet is ravaging warehouses and vandalizing huts!", 82023);
}

func void DIA_BAES_SQ417_STOP_BASTMENT_BEAR_PROBLEM() {
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_SQ417_Stop_Problem_15_01");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Problem_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Problem_03_03");
    INFO_CLEARCHOICES(82016);
    INFO_ADDCHOICE(82016, "Nobody noticed anything?", 82024);
}

func void DIA_BAES_SQ417_STOP_BASTMENT_BEAR_PROBLEM_NOONE() {
    AI_STARTFACEANI(OTHER, S_SURPRISE, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_SQ417_Stop_Noone_15_01");
    AI_RESETFACEANI(OTHER);
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Noone_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Noone_03_03");
    DIA_BAES_SQ417_STOP_CHOICES();
}

func void DIA_BAES_SQ417_STOP_YES() {
    SQ417_DECISION = 2;
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_SQ417_Stop_Yes_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Yes_03_02");
    CREATEINVITEMS(SELF, 35743, 1);
    B_GIVEINVITEMS(SELF, OTHER, 35743, 1);
    CREATEINVITEMS(SELF, 36899, 1);
    B_GIVEINVITEMS(SELF, OTHER, 36899, 1);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_Yes_03_03");
    AI_LOGENTRY(TOPIC_SQ417, LOG_SQ417_BAES_DECISION_V1);
    INFO_CLEARCHOICES(82016);
}

func void DIA_BAES_SQ417_STOP_NO() {
    SQ417_FIGHTWITHBAES = 1;
    SQ417_DECISION = 1;
    SELF.AIVAR[96] = -(1);
    SELF.AIVAR[45] = AF_RUNNING;
    CREATEINVITEMS(SELF, 36899, 1);
    AI_STARTFACEANI(OTHER, S_ANGRY, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_SQ417_Stop_No_15_01");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_SQ417_Stop_No_03_02");
    AI_RESETFACEANI(OTHER);
    INFO_CLEARCHOICES(82016);
    AI_STOPPROCESSINFOS(SELF);
    B_ATTACK(SELF, OTHER, AR_KILL, 1);
}

instance DIA_BAES_CANYOUTRAIN(C_INFO) {
    NPC = 58290;
    NR = 1;
    CONDITION = DIA_BAES_CANYOUTRAIN_CONDITION;
    INFORMATION = DIA_BAES_CANYOUTRAIN_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Could you train me?";
}

func int DIA_BAES_CANYOUTRAIN_CONDITION() {
    if ((LOG_GETSTATUS(MIS_SQ403)) == (LOG_SUCCESS)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_CANYOUTRAIN_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Canyoutrain_15_00");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Canyoutrain_03_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Canyoutrain_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Canyoutrain_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Canyoutrain_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Canyoutrain_03_05");
    LOG_CREATETOPIC(TOPIC_WOLFSDENTEACHER, LOG_NOTE);
    AI_LOGENTRY(TOPIC_WOLFSDENTEACHER, LOG_WOLFSDENTEACHER_BAES);
}

var int BAES_CURRENT1HLEVEL;
var int BAES_CURRENT2HLEVEL;
var int BAES_CURRENTSTRLEVEL;
var int BAES_NOMORE;
var string BAES_PRINTS;
const int BAES_RLEVEL = 60;
instance DIA_BAES_TRAIN(C_INFO) {
    NPC = 58290;
    NR = 7;
    CONDITION = DIA_BAES_TRAIN_CONDITION;
    INFORMATION = DIA_BAES_TRAIN_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Let's start the training.";
}

func int DIA_BAES_TRAIN_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 82027)) && ((BAES_NOMORE) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_TRAIN_CHOICES() {
    var int BAES_GOLDCOST;
    BAES_GOLDCOST = 25;
    BAES_CURRENT1HLEVEL = OTHER.AIVAR[84];
    BAES_CURRENT2HLEVEL = OTHER.AIVAR[85];
    BAES_CURRENTSTRLEVEL = OTHER.AIVAR[81];
    INFO_CLEARCHOICES(82036);
    INFO_ADDCHOICE(82036, DIALOG_BACK, 82041);
    INFO_ADDCHOICE(82036, B_BUILDLEARNSTRING2(PRINT_LEARN1H1, B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_1H, 1), BAES_GOLDCOST), 82042);
    INFO_ADDCHOICE(82036, B_BUILDLEARNSTRING2(PRINT_LEARN1H5, (B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_1H, 1)) * (5), (BAES_GOLDCOST) * (5)), 82043);
    INFO_ADDCHOICE(82036, B_BUILDLEARNSTRING2(PRINT_LEARN2H1, B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_2H, 1), BAES_GOLDCOST), 82044);
    INFO_ADDCHOICE(82036, B_BUILDLEARNSTRING2(PRINT_LEARN2H5, (B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_2H, 1)) * (5), (BAES_GOLDCOST) * (5)), 82045);
    INFO_ADDCHOICE(82036, B_BUILDLEARNSTRING2(PRINT_LEARNSTR1, B_GETLEARNCOSTATTRIBUTE(OTHER, ATR_STRENGTH, 1), BAES_GOLDCOST), 82046);
    INFO_ADDCHOICE(82036, B_BUILDLEARNSTRING2(PRINT_LEARNSTR5, B_GETLEARNCOSTATTRIBUTE(OTHER, ATR_STRENGTH, 5), (BAES_GOLDCOST) * (5)), 82047);
}

func void DIA_BAES_TRAIN_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Train_15_00");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_03_01");
    DIA_BAES_TRAIN_CHOICES();
}

func void DIA_BAES_TRAIN_BACK() {
    if (((((OTHER.AIVAR[84]) < (100)) && ((OTHER.AIVAR[84]) >= (60))) || (((OTHER.AIVAR[85]) < (100)) && ((OTHER.AIVAR[85]) >= (60)))) || (((OTHER.AIVAR[81]) < (150)) && ((OTHER.AIVAR[81]) >= (60)))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_Back_03_00");
    };
    if ((((OTHER.AIVAR[84]) >= (100)) && ((OTHER.AIVAR[85]) >= (100))) && ((OTHER.AIVAR[81]) >= (150))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_Back_03_01");
        BAES_NOMORE = TRUE;
    };
    INFO_CLEARCHOICES(82036);
}

func void DIA_BAES_TRAIN_1H_1() {
    if (((NPC_HASITEMS(OTHER, 34203)) >= (BAES_PAYMENT1)) && ((OTHER.AIVAR[84]) >= (60))) {
        if ((BAES_CURRENT1HLEVEL) < (OTHER.AIVAR[84])) {
            SND_PLAY(GELDBEUTEL);
            B_GIVEINVITEMS(OTHER, SELF, 34203, BAES_PAYMENT1);
            NPC_REMOVEINVITEMS(SELF, 34203, BAES_PAYMENT1);
        };
        B_TEACHFIGHTTALENTPERCENT(SELF, OTHER, NPC_TALENT_1H, 1, 100);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((NPC_HASITEMS(OTHER, 34203)) < (BAES_PAYMENT1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_1H1_03_01");
        BAES_PRINTS = CONCATSTRINGS(PRINT_RGOLD, INTTOSTRING(BAES_PAYMENT1));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((OTHER.AIVAR[84]) < (60)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_1H1_03_02");
        BAES_PRINTS = CONCATSTRINGS(PRINT_MINSKILL, INTTOSTRING(BAES_RLEVEL));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
}

func void DIA_BAES_TRAIN_1H_5() {
    if (((NPC_HASITEMS(OTHER, 34203)) >= (BAES_PAYMENT5)) && ((OTHER.AIVAR[84]) >= (60))) {
        if ((BAES_CURRENT1HLEVEL) < (OTHER.AIVAR[84])) {
            SND_PLAY(GELDBEUTEL);
            B_GIVEINVITEMS(OTHER, SELF, 34203, BAES_PAYMENT5);
            NPC_REMOVEINVITEMS(SELF, 34203, BAES_PAYMENT5);
        };
        B_TEACHFIGHTTALENTPERCENT(SELF, OTHER, NPC_TALENT_1H, 5, 100);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((NPC_HASITEMS(OTHER, 34203)) < (BAES_PAYMENT5)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_1H5_03_01");
        BAES_PRINTS = CONCATSTRINGS(PRINT_RGOLD, INTTOSTRING(BAES_PAYMENT5));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((OTHER.AIVAR[84]) < (60)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_1H5_03_02");
        BAES_PRINTS = CONCATSTRINGS(PRINT_MINSKILL, INTTOSTRING(BAES_RLEVEL));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
}

func void DIA_BAES_TRAIN_2H_1() {
    if (((NPC_HASITEMS(OTHER, 34203)) >= (BAES_PAYMENT1)) && ((OTHER.AIVAR[85]) >= (60))) {
        if ((BAES_CURRENT2HLEVEL) < (OTHER.AIVAR[85])) {
            SND_PLAY(GELDBEUTEL);
            B_GIVEINVITEMS(OTHER, SELF, 34203, BAES_PAYMENT1);
            NPC_REMOVEINVITEMS(SELF, 34203, BAES_PAYMENT1);
        };
        B_TEACHFIGHTTALENTPERCENT(SELF, OTHER, NPC_TALENT_2H, 1, 100);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((NPC_HASITEMS(OTHER, 34203)) < (BAES_PAYMENT1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_2H1_03_01");
        BAES_PRINTS = CONCATSTRINGS(PRINT_RGOLD, INTTOSTRING(BAES_PAYMENT1));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((OTHER.AIVAR[85]) < (60)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_2H1_03_02");
        BAES_PRINTS = CONCATSTRINGS(PRINT_MINSKILL, INTTOSTRING(BAES_RLEVEL));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
}

func void DIA_BAES_TRAIN_2H_5() {
    if (((NPC_HASITEMS(OTHER, 34203)) >= (BAES_PAYMENT5)) && ((OTHER.AIVAR[85]) >= (60))) {
        if ((BAES_CURRENT2HLEVEL) < (OTHER.AIVAR[85])) {
            SND_PLAY(GELDBEUTEL);
            B_GIVEINVITEMS(OTHER, SELF, 34203, BAES_PAYMENT5);
            NPC_REMOVEINVITEMS(SELF, 34203, BAES_PAYMENT5);
        };
        B_TEACHFIGHTTALENTPERCENT(SELF, OTHER, NPC_TALENT_2H, 5, 100);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((NPC_HASITEMS(OTHER, 34203)) < (BAES_PAYMENT5)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_2H5_03_01");
        BAES_PRINTS = CONCATSTRINGS(PRINT_RGOLD, INTTOSTRING(BAES_PAYMENT5));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((OTHER.AIVAR[85]) < (60)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_2H5_03_02");
        BAES_PRINTS = CONCATSTRINGS(PRINT_MINSKILL, INTTOSTRING(BAES_RLEVEL));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
}

func void DIA_BAES_TRAINSTR_1() {
    if (((NPC_HASITEMS(OTHER, 34203)) >= (BAES_PAYMENT1)) && ((OTHER.AIVAR[81]) >= (60))) {
        if ((BAES_CURRENTSTRLEVEL) < (OTHER.AIVAR[81])) {
            SND_PLAY(GELDBEUTEL);
            B_GIVEINVITEMS(OTHER, SELF, 34203, BAES_PAYMENT1);
            NPC_REMOVEINVITEMS(SELF, 34203, BAES_PAYMENT1);
        };
        B_TEACHATTRIBUTEPOINTS(SELF, OTHER, ATR_STRENGTH, 1, 150);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((NPC_HASITEMS(OTHER, 34203)) < (BAES_PAYMENT1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_STR1_03_00");
        BAES_PRINTS = CONCATSTRINGS(PRINT_RGOLD, INTTOSTRING(BAES_PAYMENT1));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((OTHER.AIVAR[81]) < (60)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_STR1_03_01");
        BAES_PRINTS = CONCATSTRINGS(PRINT_MINATR, INTTOSTRING(BAES_RLEVEL));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
}

func void DIA_BAES_TRAINSTR_5() {
    if (((NPC_HASITEMS(OTHER, 34203)) >= (BAES_PAYMENT5)) && ((OTHER.AIVAR[81]) >= (60))) {
        if ((BAES_CURRENTSTRLEVEL) < (OTHER.AIVAR[81])) {
            SND_PLAY(GELDBEUTEL);
            B_GIVEINVITEMS(OTHER, SELF, 34203, BAES_PAYMENT5);
            NPC_REMOVEINVITEMS(SELF, 34203, BAES_PAYMENT5);
        };
        B_TEACHATTRIBUTEPOINTS(SELF, OTHER, ATR_STRENGTH, 5, 150);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((NPC_HASITEMS(OTHER, 34203)) < (BAES_PAYMENT5)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_STR5_03_00");
        BAES_PRINTS = CONCATSTRINGS(PRINT_RGOLD, INTTOSTRING(BAES_PAYMENT5));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
    if ((OTHER.AIVAR[81]) < (60)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Train_STR5_03_01");
        BAES_PRINTS = CONCATSTRINGS(PRINT_MINATR, INTTOSTRING(BAES_RLEVEL));
        PRINTSCREEN(BAES_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BAES_TRAIN_CHOICES();
    };
}

instance DIA_BAES_TELLABOUT(C_INFO) {
    NPC = 58290;
    NR = 900;
    CONDITION = DIA_BAES_TELLABOUT_CONDITION;
    INFORMATION = DIA_BAES_TELLABOUT_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Could you tell me something about the Wolf Sons?";
}

func int DIA_BAES_TELLABOUT_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 81987)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_TELLABOUT_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_TellAbout_15_01");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_TellAbout_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_TellAbout_03_03");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

instance DIA_BAES_WARRIOR(C_INFO) {
    NPC = 58290;
    NR = 900;
    CONDITION = DIA_BAES_WARRIOR_CONDITION;
    INFORMATION = DIA_BAES_WARRIOR_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Everyone in the Wolf's Den is a warrior?";
}

func int DIA_BAES_WARRIOR_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 82048)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_WARRIOR_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Warrior_15_01");
    AI_WAITTILLEND(SELF, OTHER);
    AI_PLAYANI(SELF, T_LAUGH);
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Warrior_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Warrior_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Warrior_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Warrior_03_05");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

instance DIA_BAES_AMBIENT(C_INFO) {
    NPC = 58290;
    NR = 850;
    CONDITION = DIA_BAES_AMBIENT_CONDITION;
    INFORMATION = DIA_BAES_AMBIENT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "How's the situation?";
}

func int DIA_BAES_AMBIENT_CONDITION() {
    if ((LOG_GETSTATUS(MIS_Q403)) == (LOG_SUCCESS)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_AMBIENT_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Baes_Ambient_15_01");
    if ((KAPITEL) == (4)) {
        if ((LOG_GETSTATUS(MIS_Q404)) != (LOG_SUCCESS)) {
            if ((Q403_ORCSATTACK) == (2)) {
                NPC_INITAMBIENTS(SELF, 2);
            } else {
                NPC_INITAMBIENTS(SELF, 1);
            };
            if ((NPC_GETLASTAMBIENT(SELF)) == (1)) {
                AI_OUTPUT(SELF, OTHER, "DIA_Baes_Ambient_03_02");
            } else if ((NPC_GETLASTAMBIENT(SELF)) == (2)) {
                AI_OUTPUT(SELF, OTHER, "DIA_Baes_Ambient_03_03");
            };
        } else if ((LOG_GETSTATUS(MIS_Q404)) == (LOG_SUCCESS)) {
            AI_OUTPUT(SELF, OTHER, "DIA_Baes_Ambient_03_04");
        };
    };
    if ((KAPITEL) == (5)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Baes_Ambient_03_05");
    };
}

instance DIA_BAES_FREEWOLFSARMOR(C_INFO) {
    NPC = 58290;
    NR = 1;
    CONDITION = DIA_BAES_FREEWOLFSARMOR_CONDITION;
    INFORMATION = DIA_BAES_FREEWOLFSARMOR_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BAES_FREEWOLFSARMOR_CONDITION() {
    if ((((((LOG_GETSTATUS(MIS_SQ417)) == (LOG_SUCCESS)) && ((LOG_GETSTATUS(MIS_SQ419)) == (LOG_SUCCESS))) && ((LOG_GETSTATUS(MIS_Q404)) == (LOG_SUCCESS))) && (((SQ417_DECISION) == (2)) && ((SQ417_FINISHCHECK_DAY) <= ((WLD_GETDAY()) - (1))))) && ((((EINAR_SQ419_WANTTOHELP) == (1)) && ((SQ419_FINISHCHECK) == (1))) && ((SQ419_FINISHCHECK_DAY) <= ((WLD_GETDAY()) - (1))))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_FREEWOLFSARMOR_INFO() {
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_FreeWolfsArmor_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_FreeWolfsArmor_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_FreeWolfsArmor_03_03");
    AI_WAITTILLEND(OTHER, SELF);
    CREATEINVITEMS(SELF, 35515, 1);
    B_GIVEINVITEMS(SELF, OTHER, 35515, 1);
    AI_EQUIPARMOR(OTHER, 35515);
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_FreeWolfsArmor_03_04");
    AI_RESETFACEANI(SELF);
}

instance DIA_BAES_HELLO(C_INFO) {
    NPC = 58290;
    NR = 1;
    CONDITION = DIA_BAES_HELLO_CONDITION;
    INFORMATION = DIA_BAES_HELLO_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "What do you do?";
}

func int DIA_BAES_HELLO_CONDITION() {
    if (!(NPC_KNOWSINFO(OTHER, 81971))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_HELLO_INFO() {
    B_SAY(OTHER, SELF, "$MARVIN_WhatIsYourJob");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_Hello_03_01");
}

instance DIA_BAES_ABOUTULRYK(C_INFO) {
    NPC = 58290;
    NR = 1;
    CONDITION = DIA_BAES_ABOUTULRYK_CONDITION;
    INFORMATION = DIA_BAES_ABOUTULRYK_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Tell me about Ulryk.";
}

func int DIA_BAES_ABOUTULRYK_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 82060)) || (NPC_KNOWSINFO(OTHER, 81971))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_ABOUTULRYK_INFO() {
    B_SAY(OTHER, SELF, "$MARVIN_OpinionAboutUlryk");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_AboutUlryk_03_01");
}

instance DIA_BAES_ABOUTWOLFSDEN(C_INFO) {
    NPC = 58290;
    NR = 1;
    CONDITION = DIA_BAES_ABOUTWOLFSDEN_CONDITION;
    INFORMATION = DIA_BAES_ABOUTWOLFSDEN_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "What can you tell me about Wolf's Den?";
}

func int DIA_BAES_ABOUTWOLFSDEN_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 82063)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_ABOUTWOLFSDEN_INFO() {
    B_SAY(OTHER, SELF, "$MARVIN_TellMeAboutWolfsden");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_AboutUlryk_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Baes_AboutUlryk_03_03");
}

instance DIA_BAES_Q404_NEEDHELP(C_INFO) {
    NPC = 58290;
    NR = 850;
    CONDITION = DIA_BAES_Q404_NEEDHELP_CONDITION;
    INFORMATION = DIA_BAES_Q404_NEEDHELP_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "I need someone to guard the mine.";
}

func int DIA_BAES_Q404_NEEDHELP_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q404)) == (LOG_RUNNING)) && ((Q404_GUARDMINE_NEEDHELP) == (TRUE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_Q404_NEEDHELP_INFO() {
    Q404_MARVINASK_NEEDHELP();
    DIA_IMBUSY_CALM();
}

instance DIA_BAES_PICKPOCKET(C_INFO) {
    NPC = 58290;
    NR = 900;
    CONDITION = DIA_BAES_PICKPOCKET_CONDITION;
    INFORMATION = DIA_BAES_PICKPOCKET_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = PICKPOCKET_120;
}

func int DIA_BAES_PICKPOCKET_CONDITION() {
    if (((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (1)) && ((SELF.AIVAR[6]) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BAES_PICKPOCKET_INFO() {
    INFO_CLEARCHOICES(82072);
    INFO_ADDCHOICE(82072, DIALOG_BACK, 82076);
    INFO_ADDCHOICE(82072, DIALOG_PICKPOCKET, 82075);
}

func void DIA_BAES_PICKPOCKET_DOIT() {
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (3)) {
        B_PICKPOCKET_AMBIENT_TIER_3();
        SELF.AIVAR[6] = TRUE;
        INFO_CLEARCHOICES(82072);
    };
    AI_PLAYANI(HERO, T_CANNOTTAKE);
    PRINTSCREEN(PRINT_CANTPICKPOCKETTHISPERSON, -(1), -(1), FONT_SCREEN, 4);
    INFO_CLEARCHOICES(82072);
}

func void DIA_BAES_PICKPOCKET_BACK() {
    INFO_CLEARCHOICES(82072);
}

