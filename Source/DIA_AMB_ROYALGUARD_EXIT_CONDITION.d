func int DIA_AMB_ROYALGUARD_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_AMB_ROYALGUARD_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_AMB_ROYALGUARD_ABOUTGUILD(C_INFO) {
    NR = 2;
    CONDITION = DIA_AMB_ROYALGUARD_ABOUTGUILD_CONDITION;
    INFORMATION = DIA_AMB_ROYALGUARD_ABOUTGUILD_INFO;
    PERMANENT = TRUE;
    IMPORTANT = FALSE;
    DESCRIPTION = "What can you tell me about the Royal Guard?";
}

func int DIA_AMB_ROYALGUARD_ABOUTGUILD_CONDITION() {
    return TRUE;
}

func void DIA_AMB_ROYALGUARD_ABOUTGUILD_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    B_SAY(OTHER, SELF, "$MARVIN_TellMeAboutKingGuards");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    if ((((SELF.VOICE) == (37)) || ((SELF.VOICE) == (49))) || ((SELF.VOICE) == (72))) {
        B_SAY(SELF, OTHER, "$AMB_ROYAL_GUARD_ABOUTGUARDS_V1");
    };
    if (((((SELF.VOICE) == (6)) || ((SELF.VOICE) == (25))) || ((SELF.VOICE) == (67))) || ((SELF.VOICE) == (59))) {
        B_SAY(SELF, OTHER, "$AMB_ROYAL_GUARD_ABOUTGUARDS_V2");
    };
    if ((((SELF.VOICE) == (28)) || ((SELF.VOICE) == (61))) || ((SELF.VOICE) == (64))) {
        B_SAY(SELF, OTHER, "$AMB_ROYAL_GUARD_ABOUTGUARDS_V3");
    };
    AI_RESETFACEANI(OTHER);
    AI_RESETFACEANI(SELF);
}

instance DIA_AMB_ROYALGUARD_KING(C_INFO) {
    NR = 3;
    CONDITION = DIA_AMB_ROYALGUARD_KING_CONDITION;
    INFORMATION = DIA_AMB_ROYALGUARD_KING_INFO;
    PERMANENT = TRUE;
    IMPORTANT = FALSE;
    DESCRIPTION = "What can you tell me about the King?";
}

func int DIA_AMB_ROYALGUARD_KING_CONDITION() {
    return TRUE;
}

func void DIA_AMB_ROYALGUARD_KING_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    B_SAY(OTHER, SELF, "$MARVIN_TellMeAboutKing");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    if ((((SELF.VOICE) == (37)) || ((SELF.VOICE) == (72))) || ((SELF.VOICE) == (49))) {
        B_SAY(SELF, OTHER, "$AMB_ROYAL_GUARD_ABOUTKING_V1");
    };
    if (((((SELF.VOICE) == (6)) || ((SELF.VOICE) == (25))) || ((SELF.VOICE) == (67))) || ((SELF.VOICE) == (59))) {
        B_SAY(SELF, OTHER, "$AMB_ROYAL_GUARD_ABOUTKING_V2");
    };
    if ((((SELF.VOICE) == (28)) || ((SELF.VOICE) == (61))) || ((SELF.VOICE) == (64))) {
        B_SAY(SELF, OTHER, "$AMB_ROYAL_GUARD_ABOUTKING_V3");
    };
    AI_RESETFACEANI(OTHER);
    AI_RESETFACEANI(SELF);
}

instance DIA_AMB_ROYALGUARD_WHATSSUP(C_INFO) {
    NR = 4;
    CONDITION = DIA_AMB_ROYALGUARD_WHATSSUP_CONDITION;
    INFORMATION = DIA_AMB_ROYALGUARD_WHATSSUP_INFO;
    PERMANENT = TRUE;
    IMPORTANT = FALSE;
    DESCRIPTION = "How are you doing?";
}

func int DIA_AMB_ROYALGUARD_WHATSSUP_CONDITION() {
    return TRUE;
}

func void DIA_AMB_ROYALGUARD_WHATSSUP_INFO() {
    var int RNGANWSER2;
    var int RNGANWSER;
    AI_STARTFACEANI(OTHER, S_SMILE, 1, -(1));
    B_SAY(OTHER, SELF, "$MARVIN_WhatNew2");
    if ((KAPITEL) == (3)) {
        AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_ROYAL_GUARD_WHATSNEW_CH3");
    };
    if ((KAPITEL) == (4)) {
        AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
        RNGANWSER = HLP_RANDOM(2);
        if ((RNGANWSER) == (0)) {
            B_SAY(SELF, OTHER, "$AMB_ROYAL_GUARD_WHATSNEW_CH4");
        } else if ((RNGANWSER) == (1)) {
            B_SAY(SELF, OTHER, "$AMB_ROYAL_GUARD_WHATSNEW_GRAYSONS_CH4");
        };
    };
    if ((KAPITEL) == (5)) {
        AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
        RNGANWSER2 = HLP_RANDOM(2);
        if ((RNGANWSER2) == (0)) {
            B_SAY(SELF, OTHER, "$AMB_ROYAL_GUARD_WHATSNEW_CH5");
        } else if ((RNGANWSER2) == (1)) {
            B_SAY(SELF, OTHER, "$AMB_ROYAL_GUARD_WHATSNEW_GRAYSONS_CH5");
        };
    };
    B_SAY(SELF, OTHER, "$AMB_ROYAL_GUARD_WHATSNEW_CH4");
    AI_RESETFACEANI(OTHER);
    AI_RESETFACEANI(SELF);
}

func void B_ASSIGNAMBIENTINFOS_AMB_ROYALGUARD(var C_NPC SLF) {
    DIA_AMB_ROYALGUARD_EXIT.NPC = HLP_GETINSTANCEID(SLF);
    DIA_AMB_ROYALGUARD_ABOUTGUILD.NPC = HLP_GETINSTANCEID(SLF);
    DIA_AMB_ROYALGUARD_KING.NPC = HLP_GETINSTANCEID(SLF);
    DIA_AMB_ROYALGUARD_WHATSSUP.NPC = HLP_GETINSTANCEID(SLF);
}

