var int STORYHELPERMAINSTORYLINEISOPEN;
var int STORYHELPERSIDESTORYLINEISOPEN;
func void STORYHELPER_EXIT() {
    AI_STOPPROCESSINFOS(SELF);
    STORYHELPERISOPEN = FALSE;
}

func int STORYHELPER_CONDITION() {
    return (STORYHELPERISOPEN) && ((!(STORYHELPERMAINSTORYLINEISOPEN)) && (!(STORYHELPERSIDESTORYLINEISOPEN)));
}

func int STORYHELPER_CONDITION_MAINSTORYLINE() {
    return (STORYHELPERISOPEN) && (STORYHELPERMAINSTORYLINEISOPEN);
}

func int STORYHELPER_CONDITION_SIDESTORYLINE() {
    return (STORYHELPERISOPEN) && (STORYHELPERSIDESTORYLINEISOPEN);
}

instance STORYHELPER_END(C_INFO) {
    NPC = 50091;
    NR = 999;
    CONDITION = STORYHELPER_CONDITION;
    INFORMATION = STORYHELPER_EXIT;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

instance STORYHELPER_MAINSTORYLINE(C_INFO) {
    NPC = 50091;
    NR = 1;
    CONDITION = STORYHELPER_CONDITION;
    INFORMATION = STORYHELPER_MAINSTORYLINE_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "G³ówna fabu³a";
}

func void STORYHELPER_MAINSTORYLINE_INFO() {
    STORYHELPERMAINSTORYLINEISOPEN = TRUE;
}

instance STORYHELPER_MAINSTORYLINE_BACK(C_INFO) {
    NPC = 50091;
    NR = 998;
    CONDITION = STORYHELPER_CONDITION_MAINSTORYLINE;
    INFORMATION = STORYHELPER_MAINSTORYLINE_BACK_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_BACK;
}

func void STORYHELPER_MAINSTORYLINE_BACK_INFO() {
    STORYHELPERMAINSTORYLINEISOPEN = FALSE;
}

instance STORYHELPER_SIDESTORYLINE(C_INFO) {
    NPC = 50091;
    NR = 1;
    CONDITION = STORYHELPER_CONDITION;
    INFORMATION = STORYHELPER_SIDESTORYLINE_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Poboczna fabu³a";
}

func void STORYHELPER_SIDESTORYLINE_INFO() {
    STORYHELPERSIDESTORYLINEISOPEN = TRUE;
}

instance STORYHELPER_SIDESTORYLINE_BACK(C_INFO) {
    NPC = 50091;
    NR = 998;
    CONDITION = STORYHELPER_CONDITION_SIDESTORYLINE;
    INFORMATION = STORYHELPER_SIDESTORYLINE_BACK_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_BACK;
}

func void STORYHELPER_SIDESTORYLINE_BACK_INFO() {
    STORYHELPERSIDESTORYLINEISOPEN = FALSE;
}

instance STORYHELPER_TESTAI(C_INFO) {
    NPC = 50091;
    NR = 3;
    CONDITION = STORYHELPER_CONDITION;
    INFORMATION = STORYHELPER_TESTAI_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "TESTUJ AI";
}

func void STORYHELPER_TESTAI_CLEARSCENE() {
    if (HLP_ISVALIDNPC(MIL_90005_FIGHTER)) {
        if ((NPC_ISDEAD(MIL_90005_FIGHTER)) == (FALSE)) {
            B_REMOVENPC(51306);
        };
    };
    if (HLP_ISVALIDNPC(MIL_90006_FIGHTER)) {
        if ((NPC_ISDEAD(MIL_90006_FIGHTER)) == (FALSE)) {
            B_REMOVENPC(51309);
        };
    };
    if (HLP_ISVALIDNPC(MIL_90007_CROSSBOW)) {
        if ((NPC_ISDEAD(MIL_90007_CROSSBOW)) == (FALSE)) {
            B_REMOVENPC(51312);
        };
    };
    if (HLP_ISVALIDNPC(MIL_90008_CROSSBOW)) {
        if ((NPC_ISDEAD(MIL_90008_CROSSBOW)) == (FALSE)) {
            B_REMOVENPC(51315);
        };
    };
    if (HLP_ISVALIDNPC(SLD_90009_FIGHTER)) {
        if ((NPC_ISDEAD(SLD_90009_FIGHTER)) == (FALSE)) {
            B_REMOVENPC(51370);
        };
    };
    if (HLP_ISVALIDNPC(SLD_90010_FIGHTER)) {
        if ((NPC_ISDEAD(SLD_90010_FIGHTER)) == (FALSE)) {
            B_REMOVENPC(51373);
        };
    };
    if (HLP_ISVALIDNPC(SLD_90011_ARCHER)) {
        if ((NPC_ISDEAD(SLD_90011_ARCHER)) == (FALSE)) {
            B_REMOVENPC(51376);
        };
    };
    if (HLP_ISVALIDNPC(SLD_90012_ARCHER)) {
        if ((NPC_ISDEAD(SLD_90012_ARCHER)) == (FALSE)) {
            B_REMOVENPC(51379);
        };
    };
    if (HLP_ISVALIDNPC(NONE_90013_FIGHTER)) {
        if ((NPC_ISDEAD(NONE_90013_FIGHTER)) == (FALSE)) {
            B_REMOVENPC(51320);
        };
    };
    if (HLP_ISVALIDNPC(NONE_90014_FIGHTER)) {
        if ((NPC_ISDEAD(NONE_90014_FIGHTER)) == (FALSE)) {
            B_REMOVENPC(51323);
        };
    };
    if (HLP_ISVALIDNPC(NONE_90015_ARCHER)) {
        if ((NPC_ISDEAD(NONE_90015_ARCHER)) == (FALSE)) {
            B_REMOVENPC(51326);
        };
    };
    if (HLP_ISVALIDNPC(NONE_90016_ARCHER)) {
        if ((NPC_ISDEAD(NONE_90016_ARCHER)) == (FALSE)) {
            B_REMOVENPC(51329);
        };
    };
    if (HLP_ISVALIDNPC(NONE_90017_BEAR)) {
        if ((NPC_ISDEAD(NONE_90017_BEAR)) == (FALSE)) {
            B_REMOVENPC(51332);
        };
    };
    if (HLP_ISVALIDNPC(NONE_90017_BEAR)) {
        if ((NPC_ISDEAD(NONE_90017_BEAR)) == (FALSE)) {
            B_REMOVENPC(51332);
        };
    };
}

func void STORYHELPER_TESTAI_INFO() {
    STORYHELPER_TESTAI_CLEARSCENE();
    INFO_CLEARCHOICES(93342);
    INFO_ADDCHOICE(93342, "2 STRA¯ WOJOWNIK VS 1 POTWÓR", 93345);
    INFO_ADDCHOICE(93342, "2 STRA¯ KUSZNIK VS 1 POTWÓR", 93346);
    INFO_ADDCHOICE(93342, "2 STRA¯ WOJOWNIK + 2 STRA¯ KUSZNIK VS 2 POTWORY", 93347);
    INFO_ADDCHOICE(93342, "2 ARAXOS WOJOWNIK VS 1 POTWÓR", 93348);
    INFO_ADDCHOICE(93342, "2 ARAXOS £UCZNIK VS 1 POTWÓR", 93349);
    INFO_ADDCHOICE(93342, "2 ARAXOS WOJOWNIK + 2 ARAXOS £UCZNIK VS 2 POTWORY", 93350);
    INFO_ADDCHOICE(93342, "2 BEZ GILDI WOJOWNIK VS 1 POTWÓR", 93351);
    INFO_ADDCHOICE(93342, "2 BEZ GILDI £UCZNIK VS 1 POTWÓR", 93352);
    INFO_ADDCHOICE(93342, "2 BEZ GILDI WOJOWNIK + 2 BEZ GILDI £UCZNIK VS 2 POTWORY", 93353);
}

func void STORYHELPER_TESTAI_1MIL_VS_1MONSTER() {
    WLD_INSERTNPC(51306, "PART4_MOB_53");
    WLD_INSERTNPC(51309, "PART4_MOB_52");
    WLD_INSERTNPC(51332, "PART4_MOB_54");
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART4_PATH_85");
}

func void STORYHELPER_TESTAI_2MIL_VS_1MONSTER() {
    WLD_INSERTNPC(51312, "PART4_MOB_53");
    WLD_INSERTNPC(51315, "PART4_MOB_52");
    WLD_INSERTNPC(51332, "PART4_MOB_54");
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART4_PATH_85");
}

func void STORYHELPER_TESTAI_4MIL_VS_2MONSTER() {
    WLD_INSERTNPC(51306, "PART4_MOB_53");
    WLD_INSERTNPC(51309, "PART4_MOB_52");
    WLD_INSERTNPC(51312, "PART4_MOB_53");
    WLD_INSERTNPC(51315, "PART4_MOB_52");
    WLD_INSERTNPC(51332, "PART4_MOB_54");
    WLD_INSERTNPC(51332, "PART4_MOB_54");
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART4_PATH_85");
}

func void STORYHELPER_TESTAI_1SLD_VS_1MONSTER() {
    WLD_INSERTNPC(51370, "PART4_MOB_53");
    WLD_INSERTNPC(51373, "PART4_MOB_52");
    WLD_INSERTNPC(51332, "PART4_MOB_54");
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART4_PATH_85");
}

func void STORYHELPER_TESTAI_2SLD_VS_1MONSTER() {
    WLD_INSERTNPC(51376, "PART4_MOB_53");
    WLD_INSERTNPC(51379, "PART4_MOB_52");
    WLD_INSERTNPC(51332, "PART4_MOB_54");
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART4_PATH_85");
}

func void STORYHELPER_TESTAI_4SLD_VS_2MONSTER() {
    WLD_INSERTNPC(51370, "PART4_MOB_53");
    WLD_INSERTNPC(51373, "PART4_MOB_52");
    WLD_INSERTNPC(51376, "PART4_MOB_53");
    WLD_INSERTNPC(51379, "PART4_MOB_52");
    WLD_INSERTNPC(51332, "PART4_MOB_54");
    WLD_INSERTNPC(51332, "PART4_MOB_54");
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART4_PATH_85");
}

func void STORYHELPER_TESTAI_1NONE_VS_1MONSTER() {
    WLD_INSERTNPC(51320, "PART4_MOB_53");
    WLD_INSERTNPC(51323, "PART4_MOB_52");
    WLD_INSERTNPC(51332, "PART4_MOB_54");
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART4_PATH_85");
}

func void STORYHELPER_TESTAI_2NONE_VS_1MONSTER() {
    WLD_INSERTNPC(51326, "PART4_MOB_53");
    WLD_INSERTNPC(51329, "PART4_MOB_52");
    WLD_INSERTNPC(51332, "PART4_MOB_54");
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART4_PATH_85");
}

func void STORYHELPER_TESTAI_4NONE_VS_2MONSTER() {
    WLD_INSERTNPC(51320, "PART4_MOB_53");
    WLD_INSERTNPC(51323, "PART4_MOB_52");
    WLD_INSERTNPC(51326, "PART4_MOB_53");
    WLD_INSERTNPC(51329, "PART4_MOB_52");
    WLD_INSERTNPC(51332, "PART4_MOB_54");
    WLD_INSERTNPC(51332, "PART4_MOB_54");
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART4_PATH_85");
}

instance STORYHELPER_RANDOMEVENTS(C_INFO) {
    NPC = 50091;
    NR = 2;
    CONDITION = STORYHELPER_CONDITION;
    INFORMATION = STORYHELPER_RANDOMEVENTS_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Losowe zdarzenia";
}

func void STORYHELPER_RANDOMEVENTS_INFO() {
    INFO_CLEARCHOICES(93354);
    INFO_ADDCHOICE(93354, "W³¹cz/wy³¹cz random eventy", 93356);
    INFO_ADDCHOICE(93354, "Uruchom wszystko (bez 100% i ataków na Silbach, Fabio na bagnie)", 93357);
}

func void STORYHELPER_RANDOMEVENTS_01() {
    if ((RANDOMEVENTSOFF) == (FALSE)) {
        PRINTD("Losowe eventy wy³¹czone");
        RANDOMEVENTSOFF = TRUE;
    };
    PRINTD("Losowe eventy w³¹czone");
    RANDOMEVENTSOFF = FALSE;
    AI_STOPPROCESSINFOS(SELF);
}

func void STORYHELPER_RANDOMEVENTS_02() {
    RND_DOKTOR = TRUE;
    OLDCITYENTERED = TRUE;
    CITYENTERED = TRUE;
    RND_TURNOFF = FALSE;
    RND_TODAYSPAWNED = 0;
    RND_DAYCOUNTER = 0;
    RANDOMEVENT_DAYMAXIMUMTODAY = FALSE;
    LOG_CREATETOPIC(TOPIC_Q103, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q103), TOPIC_Q103, LOG_SUCCESS);
    RND_TRAP_P12_CH5 = 1;
    RND_TRAP02_P12_CH5 = 1;
    SQ118_EZEKIEL_SEARCHFLORA = 3;
    RND_TRAP_P15_CH1 = 2;
    RND_TRAP_P1_CH1 = 1;
    RND_TRAP_P12_CH1 = 2;
    RND_TRAP02_P12_CH1 = 2;
    RND_FELLER_P3_CH2 = 2;
    RND_TRAP_P13_CH2 = 1;
    RND_GAMEMASTER_M2_CH2 = 2;
    RND_TRAP_M1_CH2 = 2;
    RND_TRAP_M3_CH2 = 1;
    RND_TRAP02_M3_CH2 = 2;
    RND_TRAP03_M3_CH2 = 2;
    RND_TRAP_M8_CH2 = 2;
    RND_TRAP_M6_CH2 = 2;
    RND_TRAP_M7_CH2 = 1;
    RND_DA_TRAP_M1_CH3 = 1;
    RND_TRAP_M4_CH3 = 1;
    RND_TRAP_P7_CH3 = 2;
    RND_TRAP_P4_CH3 = 2;
    RND_TRAP02_P4_CH3 = 2;
    RND_TRAP_M2_CH4 = 1;
    RND_TRAP_M1_CH4 = 1;
    RND_TRAP_M8_CH4 = 2;
    RND_TRAPB_M8_CH4 = 2;
    RND_TRAP_P3_CH4 = 2;
    RND_TRAP_P10_CH4 = 2;
    RND_TRAP_M7_CH4 = 1;
    RND_TRAP02_M7_CH4 = 1;
    RND_TRAP03_M7_CH4 = 1;
    RND_TRAP04_M7_CH4 = 1;
    RND_TRAP05_M7_CH4 = 1;
    RND_TRAP06_M7_CH4 = 1;
    RND_TRAP_P5_CH4 = 2;
    RND_TRAP_P11_CH4 = 2;
    RND_TRAP_P16_CH4 = 1;
    RND_TRAP_QM401_01 = 1;
    RND_TRAP_QM401_02 = 1;
    RND_TRAP_QM401_03 = 1;
    RND_TRAP_QA401_01 = 1;
    RND_TRAP_QA401_02 = 1;
    RND_TRAP_QA401_03 = 1;
    RND_TRAP_P2_CH5 = 7;
    RND_TRAP_P6_CH5 = 2;
    RND_TRAP_P8_CH5 = 2;
    RND_TRAP_M7_CH5 = 1;
    RND_TRAP_P15_CH5 = 2;
    RND_TRAP_M1_CH5 = 1;
    RND_TRAP_P16_CH5 = 1;
    RND_TRAP_P9_CH2 = 1;
    RND_TRAP02_M7_CH2 = 1;
    RND_TRAP03_M7_CH2 = 1;
    RND_TRAP04_M7_CH2 = 1;
    RND_TRAP05_M7_CH2 = 1;
    RND_TRAP_M7_CH3 = 1;
    RND_TRAP02_M7_CH3 = 1;
    RND_TRAP03_M7_CH3 = 1;
    RND_TRAP02_M6_CH2 = 1;
    RND_NS01_P12 = 1;
    RND_NS02_P12 = 1;
    RND_NS03_P12 = 1;
    RND_NS04_P12 = 1;
    RND_NS05_P12 = 1;
    RND_NS06_P12 = 1;
    RND_NS01_M6 = 1;
    RND_NS01_M2 = 1;
    RND_NS01_M3 = 1;
    RND_NS04_M6 = 1;
    RND_NS01_M7 = 1;
    RND_NS02_M7 = 1;
    RND_NS02_M3 = 1;
    RND_NS02_M2 = 1;
    RND_NS01_M1 = 1;
    RND_NS02_M1 = 1;
    RND_NS02_P15 = 1;
    RND_NS05_M3 = 1;
    RND_NS02_M6 = 1;
    RND_NS01_P11 = 1;
    RND_NS03_M6 = 1;
    RND_NS03_M3 = 1;
    RND_NS09_M6 = 1;
    RND_NS03_M2 = 1;
    RND_NS04_M2 = 1;
    RND_NS05_M2 = 1;
    RND_NS06_M5 = 1;
    RND_NS07_M5 = 1;
    SQ411_MARVINGOTKEYS = TRUE;
    RND_NS01_M5 = 1;
    RND_NS01_M4 = 1;
    RND_NS03_M7 = 1;
    RND_NS04_M7 = 1;
    RND_NS04_M3 = 1;
    RND_NS02_P11 = 1;
    RND_NS01_P4 = 1;
    RND_NS01_P16 = 1;
    RND_NS02_P16 = 1;
    RND_NS07_P12 = 1;
    RND_NS08_P12 = 1;
    RND_NS09_P12 = 1;
    RND_NS03_P16 = 1;
    RND_NS02_M5 = 1;
    RND_NS03_M5 = 1;
    RND_NS04_M5 = 1;
    RND_NS05_M5 = 1;
    RND_NS01_P15 = 1;
    RND_NS01_P8 = 1;
    RND_PROVOCATION_M2_CH2 = 5;
    RND_PROVOCATION_M3_CH2 = 1;
    RND_PROVOCATION_FAQ003_CH2 = 1;
    RND_PROVOCATION_M2_CH3 = 5;
    RND_PROVOCATION_M6_CH3 = 1;
    RND_TRAP_P17_CH4 = 1;
    RND_TRAP02_P17_CH4 = 1;
    RND_NS05_M6 = 1;
    RND_NS08_M3 = 1;
    RND_TRAP02_P7_CH3 = 1;
    RND_NS01_P17 = 1;
    RND_NS02_P17 = 1;
    RND_NS03_P17 = 1;
    RND_NS04_P17 = 1;
    RND_NS07_M6 = 1;
    RND_NS08_M6 = 1;
    RND_NS01_M8 = 1;
    RND_NS01_P6 = 1;
    RND_NS01_P2 = 1;
    RND_NS01_P9 = 1;
    RND_NS04_P16 = 1;
    RND_NS03_M1 = 1;
    RND_NS04_M1 = 1;
    RND_NS05_M1 = 1;
    RND_NS01_P7 = 1;
    RND_NS01_P10 = 1;
    RND_NS02_P8 = 1;
    RND_NS06_M3 = 1;
    RND_NS07_M3 = 1;
    RND_NS06_M6 = 1;
    RND_TRAP_M3_CH3 = 1;
    RNG_SEVENT01_S2 = 1;
    RNG_SEVENT02_S2 = 1;
    RND_TRAP_CULUS_SLUMS = 1;
    RND_TRAP_M4_CH4 = 1;
    RND_TRAP02_M2_CH4 = 1;
    RNG_ZOMBIEFABIOCASE = 1;
    RNG_ZOMBIEFABIOCASE2 = 1;
    RNG_SEVENT01_S1 = 1;
    RNG_SEVENT02_S1 = 1;
    TIMOEVENTDAY = WLD_GETDAY();
    AI_FUNCTION(SELF, 63634);
    AI_FUNCTION(SELF, 63635);
    NPC_EXCHANGEROUTINE(NONE_5_FABIO, "Q401_SWAMP");
    Q401_FABIOANDGANGGONE = 1;
    RNG_PAEVENT01 = 1;
    RNG_PAEVENT02 = 1;
    RNG_PAEVENT03 = 1;
    RNG_PAEVENT04 = 1;
    RNG_PAEVENT05 = 1;
    RNG_PAEVENT06 = 1;
    RNG_PAEVENT07 = 1;
    RNG_PAEVENT08 = 1;
    RNG_PAEVENT09 = 1;
    RNG_PAEVENT10 = 1;
    RNG_PAEVENT11 = 1;
    RNG_PAEVENT12 = 1;
    RNG_PAEVENTSWAMP = 1;
    RND_TRAP_P10_CH2 = 1;
    RND_TRAP2_P10_CH2 = 1;
    RND_TRAP3_P4_CH3 = 1;
    RND_TRAP_P4_CH2 = 1;
    AI_STOPPROCESSINFOS(SELF);
    WLD_INSERTNPC(58358, "PART16_PATH_19");
    WLD_INSERTNPC(58363, "PART16_PATH_19");
    WLD_INSERTNPC(58368, "PART16_PATH_19");
    WLD_INSERTNPC(58141, "PART16_PATH_19");
    WLD_INSERTNPC(58146, "PART16_PATH_19");
    WLD_INSERTNPC(58151, "PART16_PATH_19");
    WLD_INSERTNPC(58156, "PART16_PATH_19");
    WLD_INSERTNPC(58161, "PART16_PATH_19");
}

var int STORYHELPERMAINSTORYLINE_CHAPTER1;
instance STORYHELPER_MAINSTORYLINE_CHAPTER1(C_INFO) {
    NPC = 50091;
    NR = 10;
    CONDITION = STORYHELPER_CONDITION_MAINSTORYLINE;
    INFORMATION = STORYHELPER_MAINSTORYLINE_CHAPTER1_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Rozdzia³ 1";
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER1_INFO() {
    INFO_CLEARCHOICES(93359);
    INFO_ADDCHOICE(93359, DIALOG_BACK, 93361);
    INFO_ADDCHOICE(93359, "8b. GQ001 - Bez ladu - Rozmowa z Mieszkañcami", 93375);
    INFO_ADDCHOICE(93359, "8a. GQ001 - Bez ladu - U Kurta", 93374);
    INFO_ADDCHOICE(93359, "7. Q106 - Lekarstwo dla Jorna", 93373);
    INFO_ADDCHOICE(93359, "6. Q105 - Trzeba to rozchodziæ", 93372);
    INFO_ADDCHOICE(93359, "5b. Q104 - Braterska Pomoc - Maiwen dead", 93371);
    INFO_ADDCHOICE(93359, "5. Q104 - Braterska Pomoc - zbieranie ludzi", 93370);
    INFO_ADDCHOICE(93359, "5. Q108 - Spotkanie po latach", 93376);
    INFO_ADDCHOICE(93359, "4. Q103 - W poszukiwaniu azylu: U Kurta", 93369);
    INFO_ADDCHOICE(93359, "3. Q103 - W poszukiwaniu azylu: Nastêpny dzieñ", 93368);
    INFO_ADDCHOICE(93359, "2. Q103 - W poszukiwaniu azylu: Przed karczm¹", 93367);
    INFO_ADDCHOICE(93359, "1. Q102 - Pocz¹tek: W gor¹cej wodzie k¹pany", 93366);
    INFO_ADDCHOICE(93359, "0. Q101 - Statek", 93365);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER1_BACK() {
    INFO_CLEARCHOICES(93359);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER1_COMMON() {
    if ((STORYHELPERMAINSTORYLINE_CHAPTER1) >= (1)) {
        LOG_CREATETOPIC(TOPIC_Q101, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q101), TOPIC_Q101, LOG_SUCCESS);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER1) >= (2)) {
        B_CHAPTERCHANGE(1, ARCHOLOS_ZEN, FALSE);
        Q102_JORNCHOSEN = TRUE;
        WLD_SENDTRIGGER("Q101_BLOCKCAVE");
        LOG_CREATETOPIC(TOPIC_Q103, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q103), TOPIC_Q103, LOG_SUCCESS);
        B_GIVEPLAYERXP((((((3) * (YLURKER.LEVEL)) * (10)) + (((6) * (YBLOODFLY.LEVEL)) * (10))) + (((1) * (BLOODFLY.LEVEL)) * (10))) + (((2) * (YSCAVENGER.LEVEL)) * (10)));
        SETDIALOGUETOLDPROPERTY(90878, TRUE);
        SETDIALOGUETOLDPROPERTY(90912, TRUE);
        SETDIALOGUETOLDPROPERTY(89376, TRUE);
        MDL_APPLYOVERLAYMDS(NONE_1_JORN, HUMANSHURTMDS);
        HARRYGATETESTPASSED = TRUE;
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER1) >= (3)) {
        SETDIALOGUETOLDPROPERTY(88127, TRUE);
        SETDIALOGUETOLDPROPERTY(88000, TRUE);
        SETDIALOGUETOLDPROPERTY(90915, TRUE);
        SILBACHSLEEP = 2;
        B_STARTOTHERROUTINE(BAU_702_VIKTOR, "WakeUp");
        B_STARTOTHERROUTINE(NONE_5_FABIO, PUB01);
        B_STARTOTHERROUTINE(NONE_100007_RUPERT, PUB01);
        B_STARTOTHERROUTINE(NONE_100012_KAZEEM, PUB01);
        B_STARTOTHERROUTINE(NONE_1_JORN, "SilbachPub2");
        if (!(NPC_ISDEAD(NONE_100008_ANA))) {
            B_STARTOTHERROUTINE(NONE_100008_ANA, PUB01);
        };
        if (!(NPC_ISDEAD(NONE_100009_LEA))) {
            B_STARTOTHERROUTINE(NONE_100009_LEA, PUB01);
        };
        B_STARTOTHERROUTINE(NONE_100010_DARRYL, "SQ103_CAVE");
        B_STARTOTHERROUTINE(NONE_100011_MAIWEN, "SQ103_CAVEWAIT");
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER1) >= (4)) {
        SETDIALOGUETOLDPROPERTY(88013, TRUE);
        LOG_SETSTATUS(_@(MIS_Q103), TOPIC_Q103, LOG_SUCCESS);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER1) >= (5)) {
        SETDIALOGUETOLDPROPERTY(87790, TRUE);
        LOG_CREATETOPIC(TOPIC_Q104, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q104), TOPIC_Q104, LOG_RUNNING);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER1) >= (6)) {
        B_REMOVENPC(51388);
        SETDIALOGUETOLDPROPERTY(87683, TRUE);
        SETDIALOGUETOLDPROPERTY(87695, TRUE);
        SETDIALOGUETOLDPROPERTY(87703, TRUE);
        SETDIALOGUETOLDPROPERTY(87706, TRUE);
        Q104_REFUGEESFORWORK = 6;
        B_GIVEPLAYERXP((100) + ((25) * ((Q104_REFUGEESFORWORK) - (6))));
        LOG_CREATETOPIC(TOPIC_Q105, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q105), TOPIC_Q105, LOG_RUNNING);
        LOG_SETSTATUS(_@(MIS_Q104), TOPIC_Q104, LOG_SUCCESS);
        B_STARTOTHERROUTINE(NONE_5_FABIO, "Work");
        B_STARTOTHERROUTINE(NONE_100007_RUPERT, "Work");
        B_STARTOTHERROUTINE(NONE_100012_KAZEEM, "Work");
        B_STARTOTHERROUTINE(NONE_6_TIMO, "Work");
        if (!(NPC_ISDEAD(NONE_100009_LEA))) {
            B_STARTOTHERROUTINE(NONE_100009_LEA, "Work");
        };
        if (!(NPC_ISDEAD(NONE_100011_MAIWEN))) {
            B_STARTOTHERROUTINE(NONE_100011_MAIWEN, "Work");
        };
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER1) >= (7)) {
        Q105_STARTQUEST();
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER1) >= (8)) {
        SETDIALOGUETOLDPROPERTY(87877, TRUE);
        Q106_SPAWNBODOWIN();
        Q105_REMOVENPC();
        B_GIVEPLAYERXP(XP_Q105_FINISH);
        LOG_SETSTATUS(_@(MIS_Q105), TOPIC_Q105, LOG_SUCCESS);
        LOG_CREATETOPIC(TOPIC_Q106, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q106), TOPIC_Q106, LOG_RUNNING);
        B_TEACHTHIEFTALENT(HERO, HERO, NPC_TALENT_PICKLOCK, 1);
        CREATEINVITEMS(HERO, 33994, 50);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER1) >= (9)) {
        Q106_GOTJORNPOTION = 1;
        B_GIVEPLAYERXP(XP_Q106_BODOWINBOOK);
        B_GIVEPLAYERXP(XP_Q106_BLOODFLYGOODANWSER);
        SETDIALOGUETOLDPROPERTY(77464, TRUE);
        if ((NPC_HASITEMS(HERO, 34192)) == (0)) {
            CREATEINVITEMS(HERO, 34192, 1);
        };
        Q106_KURTHOUSE();
        SETDIALOGUETOLDPROPERTY(89452, TRUE);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER1) >= (10)) {
        SETDIALOGUETOLDPROPERTY(87898, TRUE);
        LOG_CREATETOPIC(TOPIC_GQ001, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_GQ001), TOPIC_GQ001, LOG_RUNNING);
        LOG_SETSTATUS(_@(MIS_Q106), TOPIC_Q106, LOG_SUCCESS);
        B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    };
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER1_EXECUTECOMMON(var int ID) {
    STORYHELPERMAINSTORYLINE_CHAPTER1 = ID;
    STORYHELPER_EXIT();
    STORYHELPER_MAINSTORYLINE_CHAPTER1_COMMON();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER1_0() {
    STORYHELPER_MAINSTORYLINE_CHAPTER1_EXECUTECOMMON(0);
    WLD_SETTIME(17, 0);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER1_1() {
    STORYHELPER_MAINSTORYLINE_CHAPTER1_EXECUTECOMMON(1);
    WLD_SETTIME(17, 0);
    if ((CURRENTLEVEL) == (ARCHOLOS_ZEN)) {
        TELEPORTHEROTOWP("START_KM");
    };
    Q101_SHIP_TOWATER();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER1_2() {
    if ((CURRENTLEVEL) != (ARCHOLOS_ZEN)) {
        return;
    };
    STORYHELPER_MAINSTORYLINE_CHAPTER1_EXECUTECOMMON(2);
    MDL_APPLYOVERLAYMDS(NONE_1_JORN, HUMANSHURTMDS);
    B_STARTOTHERROUTINE(BAU_702_VIKTOR, "Pub");
    B_STARTOTHERROUTINE(BAU_703_MARTHA, "StartJorn");
    B_STARTOTHERROUTINE(NONE_1_JORN, "ToSilbachPub");
    TELEPORTHEROTOWP("VILLAGE_PUB_ENTRY");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER1_3() {
    if ((CURRENTLEVEL) != (ARCHOLOS_ZEN)) {
        return;
    };
    STORYHELPER_MAINSTORYLINE_CHAPTER1_EXECUTECOMMON(3);
    TELEPORTHEROTOWP("VILLAGE_PUB_ROOM02_BED01");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER1_4() {
    if ((CURRENTLEVEL) != (ARCHOLOS_ZEN)) {
        return;
    };
    STORYHELPER_MAINSTORYLINE_CHAPTER1_EXECUTECOMMON(4);
    TELEPORTHEROTOWP("VILLAGE_POORPLACE_03");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER1_5() {
    STORYHELPER_MAINSTORYLINE_CHAPTER1_EXECUTECOMMON(5);
    Q102_FABIOCHOSEN = TRUE;
    B_STARTOTHERROUTINE(NONE_5_FABIO, PUB01);
    B_STARTOTHERROUTINE(NONE_6_TIMO, PUB01);
    B_STARTOTHERROUTINE(NONE_100007_RUPERT, PUB01);
    B_STARTOTHERROUTINE(NONE_100009_LEA, PUB01);
    B_STARTOTHERROUTINE(NONE_100011_MAIWEN, "Village");
    B_STARTOTHERROUTINE(NONE_100012_KAZEEM, PUB01);
    TELEPORTHEROTOWP("VILLAGE_PATH_35");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER1_6() {
    STORYHELPER_MAINSTORYLINE_CHAPTER1_EXECUTECOMMON(6);
    Q102_FABIOCHOSEN = TRUE;
    B_STARTOTHERROUTINE(NONE_5_FABIO, PUB01);
    B_STARTOTHERROUTINE(NONE_6_TIMO, PUB01);
    B_STARTOTHERROUTINE(NONE_100007_RUPERT, PUB01);
    B_STARTOTHERROUTINE(NONE_100009_LEA, PUB01);
    B_STARTOTHERROUTINE(NONE_100012_KAZEEM, PUB01);
    WLD_INSERTNPC(50582, "PART_13_FABIO_CAVE_01");
    B_STARTOTHERROUTINE(NONE_100010_DARRYL, "SQ103_CAVE");
    TELEPORTNPCTOWP(51388, "PART_13_FABIO_CAVE_01");
    B_STARTOTHERROUTINE(NONE_100011_MAIWEN, "SQ103_CAVEWAIT");
    TELEPORTNPCTOWP(51398, "PART_13_FABIO_CAVE_01");
    B_KILLNPC(51388);
    B_KILLNPC(51398);
    TELEPORTHEROTOWP("VILLAGE_PATH_35");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER1_7() {
    STORYHELPER_MAINSTORYLINE_CHAPTER1_EXECUTECOMMON(7);
    TELEPORTHEROTOWP("PART12_RAMSEYHOUSE_13");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER1_8() {
    STORYHELPER_MAINSTORYLINE_CHAPTER1_EXECUTECOMMON(8);
    TELEPORTHEROTOWP("PART3_BODOWINHOUSE_PATH02");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER1_9() {
    STORYHELPER_MAINSTORYLINE_CHAPTER1_EXECUTECOMMON(9);
    B_STARTOTHERROUTINE(BAU_701_KURT, "KurtJornLost");
    B_STARTOTHERROUTINE(MIL_710_FOLKARD, "GQ001Beggining");
    B_STARTOTHERROUTINE(BAU_702_VIKTOR, "GQ001_SEARCH_01");
    B_STARTOTHERROUTINE(BAU_11010_FARMER, "GQ001Beggining");
    B_STARTOTHERROUTINE(BAU_11028_FARMER, "GQ001Beggining");
    B_STARTOTHERROUTINE(BAU_11012_FARMER, "GQ001Beggining");
    B_STARTOTHERROUTINE(BAU_714_REMY, "GQ001Beggining");
    B_STARTOTHERROUTINE(BAU_11026_FARMER, "GQ001Beggining");
    B_STARTOTHERROUTINE(BAU_11031_FARMER, "GQ001Beggining");
    B_STARTOTHERROUTINE(NONE_100007_RUPERT, "GQ001Beggining");
    NPC_CLEARAIQUEUE(BAU_701_KURT);
    NPC_CLEARAIQUEUE(MIL_710_FOLKARD);
    NPC_CLEARAIQUEUE(BAU_702_VIKTOR);
    NPC_CLEARAIQUEUE(NONE_100007_RUPERT);
    NPC_CLEARAIQUEUE(BAU_11010_FARMER);
    NPC_CLEARAIQUEUE(BAU_11028_FARMER);
    NPC_CLEARAIQUEUE(BAU_11012_FARMER);
    NPC_CLEARAIQUEUE(BAU_714_REMY);
    NPC_CLEARAIQUEUE(BAU_11026_FARMER);
    NPC_CLEARAIQUEUE(BAU_11031_FARMER);
    TELEPORTNPCTOWP(57678, "VILLAGE_POORPLACE_01");
    TELEPORTNPCTOWP(57528, "VILLAGE_PATH_45");
    TELEPORTNPCTOWP(57403, "VILLAGE_POORPLACE_01");
    TELEPORTNPCTOWP(57457, "VILLAGE_POORPLACE_01");
    TELEPORTNPCTOWP(57413, "VILLAGE_POORPLACE_01");
    TELEPORTNPCTOWP(57586, "VILLAGE_POORPLACE_01");
    TELEPORTNPCTOWP(57447, "VILLAGE_POORPLACE_01");
    TELEPORTNPCTOWP(57463, "VILLAGE_POORPLACE_01");
    TELEPORTNPCTOWP(51549, "VILLAGE_POORPLACE_01");
    TELEPORTHEROTOWP("VILLAGE_PATH_43");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER1_10() {
    STORYHELPER_MAINSTORYLINE_CHAPTER1_EXECUTECOMMON(10);
    B_STARTOTHERROUTINE(BAU_701_KURT, "KurtJornLost");
    B_STARTOTHERROUTINE(MIL_710_FOLKARD, "GQ001Beggining");
    B_STARTOTHERROUTINE(BAU_702_VIKTOR, "GQ001_SEARCH_01");
    B_STARTOTHERROUTINE(BAU_11010_FARMER, "GQ001Beggining");
    B_STARTOTHERROUTINE(BAU_11028_FARMER, "GQ001Beggining");
    B_STARTOTHERROUTINE(BAU_11012_FARMER, "GQ001Beggining");
    B_STARTOTHERROUTINE(BAU_714_REMY, "GQ001Beggining");
    B_STARTOTHERROUTINE(BAU_11026_FARMER, "GQ001Beggining");
    B_STARTOTHERROUTINE(BAU_11031_FARMER, "GQ001Beggining");
    B_STARTOTHERROUTINE(NONE_100007_RUPERT, "GQ001Beggining");
    NPC_CLEARAIQUEUE(BAU_701_KURT);
    NPC_CLEARAIQUEUE(MIL_710_FOLKARD);
    NPC_CLEARAIQUEUE(BAU_702_VIKTOR);
    NPC_CLEARAIQUEUE(NONE_100007_RUPERT);
    NPC_CLEARAIQUEUE(BAU_11010_FARMER);
    NPC_CLEARAIQUEUE(BAU_11028_FARMER);
    NPC_CLEARAIQUEUE(BAU_11012_FARMER);
    NPC_CLEARAIQUEUE(BAU_714_REMY);
    NPC_CLEARAIQUEUE(BAU_11026_FARMER);
    NPC_CLEARAIQUEUE(BAU_11031_FARMER);
    TELEPORTNPCTOWP(57678, "VILLAGE_POORPLACE_01");
    TELEPORTNPCTOWP(57528, "VILLAGE_PATH_45");
    TELEPORTNPCTOWP(57403, "VILLAGE_POORPLACE_01");
    TELEPORTNPCTOWP(57457, "VILLAGE_POORPLACE_01");
    TELEPORTNPCTOWP(57413, "VILLAGE_POORPLACE_01");
    TELEPORTNPCTOWP(57586, "VILLAGE_POORPLACE_01");
    TELEPORTNPCTOWP(57447, "VILLAGE_POORPLACE_01");
    TELEPORTNPCTOWP(57463, "VILLAGE_POORPLACE_01");
    TELEPORTNPCTOWP(51549, "VILLAGE_POORPLACE_01");
    TELEPORTHEROTOWP("VILLAGE_KURTHOUSE_04");
    B_STARTOTHERROUTINE(NONE_5_FABIO, "Work");
    B_STARTOTHERROUTINE(NONE_6_TIMO, "Work");
    B_STARTOTHERROUTINE(NONE_100008_ANA, "Work");
    B_STARTOTHERROUTINE(NONE_100009_LEA, "Work");
    B_STARTOTHERROUTINE(NONE_100011_MAIWEN, "Work");
    B_STARTOTHERROUTINE(NONE_100012_KAZEEM, "Work");
    CREATEINVITEMS(HERO, 34186, 1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER1_11() {
    STORYHELPER_EXIT();
    LOG_CREATETOPIC(TOPIC_Q103, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q103), TOPIC_Q103, LOG_RUNNING);
    B_STARTOTHERROUTINE(BAU_701_KURT, START);
    TELEPORTHEROTOWP("VILLAGE_KURTHOUSE_04");
    SETDIALOGUETOLDPROPERTY(88127, TRUE);
    SETDIALOGUETOLDPROPERTY(88000, TRUE);
    SETDIALOGUETOLDPROPERTY(90915, TRUE);
    SILBACHSLEEP = 2;
    B_STARTOTHERROUTINE(BAU_702_VIKTOR, "WakeUp");
    B_STARTOTHERROUTINE(NONE_5_FABIO, PUB01);
    B_STARTOTHERROUTINE(NONE_100007_RUPERT, PUB01);
    B_STARTOTHERROUTINE(NONE_100012_KAZEEM, PUB01);
    B_STARTOTHERROUTINE(NONE_1_JORN, "SilbachPub2");
    if (!(NPC_ISDEAD(NONE_100008_ANA))) {
        B_STARTOTHERROUTINE(NONE_100008_ANA, PUB01);
    };
    if (!(NPC_ISDEAD(NONE_100009_LEA))) {
        B_STARTOTHERROUTINE(NONE_100009_LEA, PUB01);
    };
    B_STARTOTHERROUTINE(NONE_100010_DARRYL, "SQ103_CAVE");
    B_STARTOTHERROUTINE(NONE_100011_MAIWEN, "SQ103_CAVEWAIT");
}

var int STORYHELPERMAINSTORYLINE_CHAPTER2;
instance STORYHELPER_MAINSTORYLINE_CHAPTER2(C_INFO) {
    NPC = 50091;
    NR = 9;
    CONDITION = STORYHELPER_CONDITION_MAINSTORYLINE;
    INFORMATION = STORYHELPER_MAINSTORYLINE_CHAPTER2_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Rozdzia³ 2";
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_INFO() {
    INFO_CLEARCHOICES(93378);
    INFO_ADDCHOICE(93378, DIALOG_BACK, 93380);
    INFO_ADDCHOICE(93378, "7. CQ006 - Naturalne metody", 93397);
    INFO_ADDCHOICE(93378, "8. CQ005 - Wola nieba", 93390);
    INFO_ADDCHOICE(93378, "5. CQ004 - Honor Pracownika", 93391);
    INFO_ADDCHOICE(93378, "6. CQ003 - Dla koneserów", 93396);
    INFO_ADDCHOICE(93378, "4. CQ002 - Polowanie z Allanem", 93387);
    INFO_ADDCHOICE(93378, "3. CQ001 - Królewski Gambit", 93386);
    INFO_ADDCHOICE(93378, "2. Q202 - Obywatel Marvin", 93385);
    INFO_ADDCHOICE(93378, "1. Q201 - Przed miastem", 93384);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_BACK() {
    INFO_CLEARCHOICES(93378);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_COMMON() {
    STORYHELPERMAINSTORYLINE_CHAPTER1 = 999;
    STORYHELPER_MAINSTORYLINE_CHAPTER1_COMMON();
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2) >= (1)) {
        SETDIALOGUETOLDPROPERTY(89446, TRUE);
        LOG_CREATETOPIC(TOPIC_Q201, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q201), TOPIC_Q201, LOG_RUNNING);
        GQ001_CANTRYENTERCITY = TRUE;
        GQ001_INFOFROMDICKON = TRUE;
        GQ001_KURTFOUNDPOCKET01 = TRUE;
        GQ001_KURTFOUNDPOCKET02 = TRUE;
        CREATEINVITEMS(HERO, 37146, 1);
        SETDIALOGUETOLDPROPERTY(87935, TRUE);
        FF_APPLYONCEEXTGT(61971, 0, -(1));
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2) >= (2)) {
        LOG_SETSTATUS(_@(MIS_Q201), TOPIC_Q201, LOG_SUCCESS);
        FF_APPLYONCEEXTGT(61971, 0, -(1));
        WLD_SENDTRIGGER("CITYEASTGATEOPEN");
        WLD_SENDTRIGGER("WESTCITYGATE");
        CITYENTERED = TRUE;
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2) >= (3)) {
        LOG_CREATETOPIC(TOPIC_Q202, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q202), TOPIC_Q202, LOG_RUNNING);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2) >= (4)) {
        B_GIVEPLAYERXP(XP_CQ001_FINISH);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2) >= (5)) {
        B_GIVEPLAYERXP(XP_CQ002_FINISH);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2) >= (9)) {
        B_GIVEPLAYERXP(XP_CQ004_FINISH_KETHWON);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2) > (11)) {
        LOG_SETSTATUS(_@(MIS_Q202), TOPIC_Q202, LOG_SUCCESS);
        B_GIVEPLAYERXP(XP_CQ003_TIER_5);
        Q202_CITIZENDONECOUNT = 3;
        B_GIVEPLAYERXP((XP_Q202_REFERENCEBOOK) * (Q202_CITIZENDONECOUNT));
        if ((NPC_HASITEMS(HERO, 37138)) == (0)) {
            CREATEINVITEMS(HERO, 37138, 1);
        };
        if ((((HERO.GUILD) != (GIL_VLK)) && ((HERO.GUILD) != (GIL_MIL))) && ((HERO.GUILD) != (GIL_SLD))) {
            Q202_MAKEHEROVLK();
        };
        SETDIALOGUETOLDPROPERTY(75141, TRUE);
        SETDIALOGUETOLDPROPERTY(75176, TRUE);
        LOG_CREATETOPIC(TOPIC_CQ001, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_CQ001), TOPIC_CQ001, LOG_SUCCESS);
        LOG_CREATETOPIC(TOPIC_CQ002, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_CQ002), TOPIC_CQ002, LOG_SUCCESS);
        LOG_CREATETOPIC(TOPIC_CQ003, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_CQ003), TOPIC_CQ003, LOG_SUCCESS);
        LOG_CREATETOPIC(TOPIC_CQ004, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_CQ004), TOPIC_CQ004, LOG_SUCCESS);
        LOG_CREATETOPIC(TOPIC_CQ005, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_CQ005), TOPIC_CQ005, LOG_SUCCESS);
        LOG_CREATETOPIC(TOPIC_CQ006, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_CQ006), TOPIC_CQ006, LOG_SUCCESS);
    };
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_EXECUTECOMMON(var int ID) {
    STORYHELPERMAINSTORYLINE_CHAPTER2 = ID;
    STORYHELPER_EXIT();
    STORYHELPER_MAINSTORYLINE_CHAPTER2_COMMON();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_1() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_EXECUTECOMMON(1);
    TELEPORTHEROTOWP("PATH3_PATH_25");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_2() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_EXECUTECOMMON(2);
    TELEPORTHEROTOWP("PARTM2_MARKET_06");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_3() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_EXECUTECOMMON(3);
    TELEPORTHEROTOWP("PARTM2_MARKET_06");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_4() {
    INFO_ADDCHOICE(93378, DIALOG_BACK, 93378);
    INFO_ADDCHOICE(93378, "4b. Polowanie", 93389);
    INFO_ADDCHOICE(93378, "4a. Normalny start", 93388);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_4_A() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_EXECUTECOMMON(4);
    TELEPORTHEROTOWP(VLK_3023_BORIS.WP);
    HERO.HITCHANCE[3] = 40;
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_4_B() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_EXECUTECOMMON(4);
    TELEPORTHEROTOWP(VLK_3025_ALLAN.WP);
    SETDIALOGUETOLDPROPERTY(74353, TRUE);
    LOG_CREATETOPIC(TOPIC_CQ002, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_CQ002), TOPIC_CQ002, LOG_RUNNING);
    B_LOGENTRY(TOPIC_CQ002, "");
    CQ002_BORISWORK = 2;
    HERO.HITCHANCE[3] = 40;
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_5() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_EXECUTECOMMON(5);
    TELEPORTHEROTOWP(KDF_9004_TENGRAL.WP);
    SETDIALOGUETOLDPROPERTY(65404, TRUE);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_6() {
    INFO_ADDCHOICE(93378, DIALOG_BACK, 93378);
    INFO_ADDCHOICE(93378, "5d. Fina³, Keth przegrywa", 93395);
    INFO_ADDCHOICE(93378, "5c. Fina³, Keth wygrywa", 93394);
    INFO_ADDCHOICE(93378, "5b. Trialog koszary", 93393);
    INFO_ADDCHOICE(93378, "5a. Normalny start", 93392);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_6_A() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_EXECUTECOMMON(6);
    TELEPORTHEROTOWP("SLUMS_PATH_157");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_6_B() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_EXECUTECOMMON(7);
    TELEPORTHEROTOWP("PARTM3_PATH_20");
    LOG_CREATETOPIC(TOPIC_CQ004, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_CQ004), TOPIC_CQ004, LOG_RUNNING);
    SETDIALOGUETOLDPROPERTY(75268, TRUE);
    SETDIALOGUETOLDPROPERTY(75271, TRUE);
    NPC_CLEARAIQUEUE(MIL_4044_SALL);
    NPC_CLEARAIQUEUE(VLK_6230_KETH);
    NPC_CLEARAIQUEUE(VLK_6232_VEIGO);
    NPC_CLEARAIQUEUE(VLK_6231_RECON);
    B_STARTOTHERROUTINE(VLK_6230_KETH, "CQ004_BARRACKWAIT");
    B_STARTOTHERROUTINE(VLK_6231_RECON, "CQ004_BARRACKIDLE");
    B_STARTOTHERROUTINE(VLK_6232_VEIGO, "CQ004_BARRACKIDLE");
    B_STARTOTHERROUTINE(MIL_4044_SALL, "Barrack");
    TELEPORTNPCTOWP(52967, "PARTM3_PATH_11");
    TELEPORTNPCTOWP(55134, "PARTM3_PATH_11");
    TELEPORTNPCTOWP(55124, "PARTM3_PATH_11");
    TELEPORTNPCTOWP(55113, "PARTM3_PATH_11");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_6_C() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_EXECUTECOMMON(8);
    TELEPORTHEROTOWP("PARTM3_PATH_163");
    LOG_CREATETOPIC(TOPIC_CQ004, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_CQ004), TOPIC_CQ004, LOG_RUNNING);
    SETDIALOGUETOLDPROPERTY(75268, TRUE);
    NPC_CLEARAIQUEUE(MIL_4044_SALL);
    NPC_CLEARAIQUEUE(VLK_6230_KETH);
    NPC_CLEARAIQUEUE(VLK_6232_VEIGO);
    NPC_CLEARAIQUEUE(VLK_6231_RECON);
    NPC_CLEARAIQUEUE(VLK_6233_ALDER);
    NPC_CLEARAIQUEUE(MIL_4047_PRISONGUARD);
    B_STARTOTHERROUTINE(VLK_6230_KETH, "CQ004_BARRACKJUDGMENT");
    B_STARTOTHERROUTINE(VLK_6231_RECON, "CQ004_BARRACKJUDGMENT");
    B_STARTOTHERROUTINE(VLK_6232_VEIGO, "CQ004_BARRACKJUDGMENT");
    B_STARTOTHERROUTINE(MIL_4044_SALL, "CQ004_BARRACKJUDGMENT");
    B_STARTOTHERROUTINE(VLK_6233_ALDER, "CQ004_BARRACKJUDGMENT");
    B_STARTOTHERROUTINE(MIL_4047_PRISONGUARD, "Judgment");
    TELEPORTNPCTOWP(52967, "PARTM3_PATH_11");
    TELEPORTNPCTOWP(55134, "PARTM3_PATH_11");
    TELEPORTNPCTOWP(55124, "PARTM3_PATH_11");
    TELEPORTNPCTOWP(55113, "PARTM3_PATH_11");
    TELEPORTNPCTOWP(55145, "PARTM3_PATH_11");
    CQ004_RECONANDVEIGOCHEAT = TRUE;
    CQ004_RECONANDVEIGOCANTALK = TRUE;
    CQ004_RECONCHESTSTATUS = 1;
    CQ004_KETHREWARD = 2;
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_6_D() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_EXECUTECOMMON(9);
    TELEPORTHEROTOWP("PARTM3_PATH_163");
    LOG_CREATETOPIC(TOPIC_CQ004, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_CQ004), TOPIC_CQ004, LOG_RUNNING);
    SETDIALOGUETOLDPROPERTY(75268, TRUE);
    NPC_CLEARAIQUEUE(MIL_4044_SALL);
    NPC_CLEARAIQUEUE(VLK_6230_KETH);
    NPC_CLEARAIQUEUE(VLK_6232_VEIGO);
    NPC_CLEARAIQUEUE(VLK_6231_RECON);
    NPC_CLEARAIQUEUE(VLK_6233_ALDER);
    NPC_CLEARAIQUEUE(MIL_4047_PRISONGUARD);
    B_STARTOTHERROUTINE(VLK_6230_KETH, "CQ004_BARRACKJUDGMENT");
    B_STARTOTHERROUTINE(VLK_6231_RECON, "CQ004_BARRACKJUDGMENT");
    B_STARTOTHERROUTINE(VLK_6232_VEIGO, "CQ004_BARRACKJUDGMENT");
    B_STARTOTHERROUTINE(MIL_4044_SALL, "CQ004_BARRACKJUDGMENT");
    B_STARTOTHERROUTINE(VLK_6233_ALDER, "CQ004_BARRACKJUDGMENT");
    B_STARTOTHERROUTINE(MIL_4047_PRISONGUARD, "Judgment");
    TELEPORTNPCTOWP(52967, "PARTM3_PATH_11");
    TELEPORTNPCTOWP(55134, "PARTM3_PATH_11");
    TELEPORTNPCTOWP(55124, "PARTM3_PATH_11");
    TELEPORTNPCTOWP(55113, "PARTM3_PATH_11");
    TELEPORTNPCTOWP(55145, "PARTM3_PATH_11");
    CQ004_KETHCHEAT = TRUE;
    CQ004_RECONANDVEIGOCANTALK = TRUE;
    CQ004_KETHREWARD = 1;
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_10() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_EXECUTECOMMON(10);
    TELEPORTHEROTOWP(VLK_915_TOMAS.WP);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_11() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_EXECUTECOMMON(11);
    TELEPORTHEROTOWP(VLK_6282_RUUD.WP);
}

var int STORYHELPERMAINSTORYLINE_CHAPTER2_MILITIA;
instance STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA(C_INFO) {
    NPC = 50091;
    NR = 8;
    CONDITION = STORYHELPER_CONDITION_MAINSTORYLINE;
    INFORMATION = STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Rozdzia³ 2 (stra¿ miejska)";
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_INFO() {
    INFO_CLEARCHOICES(93399);
    INFO_ADDCHOICE(93399, DIALOG_BACK, 93401);
    INFO_ADDCHOICE(93399, "7. Q207 - Tropem winnych porywaczy", 93414);
    INFO_ADDCHOICE(93399, "6. Q205 - Renegaci", 93413);
    INFO_ADDCHOICE(93399, "5. Karczma", 93412);
    INFO_ADDCHOICE(93399, "4. Przysiêga", 93411);
    INFO_ADDCHOICE(93399, "3. FMQ003 - Patrol", 93410);
    INFO_ADDCHOICE(93399, "2. FMQ002 - Orê¿ stra¿nika", 93409);
    INFO_ADDCHOICE(93399, "1d. FMQ001 - Szkolenie Rekrutów (strzelanina)", 93408);
    INFO_ADDCHOICE(93399, "1c. FMQ001 - Szkolenie Rekrutów (insturktor)", 93407);
    INFO_ADDCHOICE(93399, "1b. FMQ001 - Szkolenie Rekrutów (walki)", 93406);
    INFO_ADDCHOICE(93399, "1a. FMQ001 - Szkolenie Rekrutów (pocz¹tek)", 93405);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_BACK() {
    INFO_CLEARCHOICES(93399);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_COMMON() {
    STORYHELPERMAINSTORYLINE_CHAPTER1 = 999;
    STORYHELPER_MAINSTORYLINE_CHAPTER1_COMMON();
    STORYHELPERMAINSTORYLINE_CHAPTER2 = 999;
    STORYHELPER_MAINSTORYLINE_CHAPTER2_COMMON();
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_MILITIA) >= (1)) {
        SETDIALOGUETOLDPROPERTY(66000, TRUE);
        SETDIALOGUETOLDPROPERTY(66003, TRUE);
        SETDIALOGUETOLDPROPERTY(66006, TRUE);
        FMQ001_RODEIRCHSENTTOTRAINING = TRUE;
        LOG_CREATETOPIC(TOPIC_Q203, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q203), TOPIC_Q203, LOG_RUNNING);
        LOG_CREATETOPIC(TOPIC_FMQ001, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_FMQ001), TOPIC_FMQ001, LOG_RUNNING);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_MILITIA) >= (3)) {
        B_GIVEPLAYERXP((3) * (50));
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_MILITIA) >= (5)) {
        SETDIALOGUETOLDPROPERTY(66020, TRUE);
        LOG_CREATETOPIC(TOPIC_FMQ001, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_FMQ001), TOPIC_FMQ001, LOG_SUCCESS);
        FMQ001_FINISHTRAINING = 1;
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_MILITIA) >= (6)) {
        CREATEINVITEMS(HERO, 35485, 1);
        AI_EQUIPARMOR(HERO, 35485);
        LOG_CREATETOPIC(TOPIC_FMQ002, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_FMQ002), TOPIC_FMQ002, LOG_SUCCESS);
        B_GIVEPLAYERXP(XP_FMQ002_FINISH);
        SETDIALOGUETOLDPROPERTY(66023, TRUE);
        SETDIALOGUETOLDPROPERTY(66029, TRUE);
        B_REMOVENPC(52886);
        B_REMOVENPC(52911);
        B_REMOVENPC(52933);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_MILITIA) >= (7)) {
        B_GIVEPLAYERXP((XP_FMQ003_FINISH) + ((XP_FMQ003_EVENTDONE_TIER_3) * (3)));
        SETDIALOGUETOLDPROPERTY(66017, TRUE);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_MILITIA) >= (8)) {
        Q203_MAKEMEGUARD();
        MARVIN_MILITIASPECIALIZATION = MILITIA_SPECIALIZATION_FIGHTER;
        SETDIALOGUETOLDPROPERTY(66044, TRUE);
        SETDIALOGUETOLDPROPERTY(66041, TRUE);
        SETDIALOGUETOLDPROPERTY(66044, TRUE);
        Q203_MILITIASPEACHCOUNT = 6;
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_MILITIA) >= (9)) {
        LOG_CREATETOPIC(TOPIC_Q203, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q203), TOPIC_Q203, LOG_SUCCESS);
        SETDIALOGUETOLDPROPERTY(66368, TRUE);
        SETDIALOGUETOLDPROPERTY(68654, TRUE);
        CREATEINVITEMS(HERO, 35482, 1);
        AI_EQUIPARMOR(HERO, 35482);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_MILITIA) >= (10)) {
        REMOVEHODINSERTORC();
        Q205_MARVINJOINEDRENEGADES = TRUE;
        LOG_CREATETOPIC(TOPIC_Q205, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q205), TOPIC_Q205, LOG_SUCCESS);
        SETDIALOGUETOLDPROPERTY(66081, TRUE);
        SETDIALOGUETOLDPROPERTY(66089, TRUE);
        B_GIVEPLAYERXP(XP_Q205_FINISH);
    };
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_EXECUTECOMMON(var int ID) {
    STORYHELPERMAINSTORYLINE_CHAPTER2_MILITIA = ID;
    STORYHELPER_EXIT();
    STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_COMMON();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_1() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_EXECUTECOMMON(1);
    FMQ001_RODEIRCHSENTTOTRAINING_DAY = WLD_GETDAY();
    PC_SLEEP(8);
    TELEPORTHEROTOWP("PARTM3_PATH_02");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_2() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_EXECUTECOMMON(2);
    NPC_CLEARAIQUEUE(MIL_924_WINSTAN);
    NPC_CLEARAIQUEUE(MIL_4040_RECRUIT);
    NPC_CLEARAIQUEUE(MIL_4041_RECRUIT);
    NPC_CLEARAIQUEUE(MIL_4042_RECRUIT);
    B_STARTOTHERROUTINE(MIL_4040_RECRUIT, "FightClub");
    B_STARTOTHERROUTINE(MIL_4041_RECRUIT, "FightClub");
    B_STARTOTHERROUTINE(MIL_4042_RECRUIT, "FightClub");
    B_STARTOTHERROUTINE(MIL_924_WINSTAN, "FightClub");
    FMQ001_STARTEDTRAINING = TRUE;
    FMQ001_TRAININGFIRSTFIGHTRESULT = 1;
    PLAYERLOCKINVENTORY = TRUE;
    CREATEINVITEMS(HERO, 39506, 1);
    EQUIPWEAPON(HERO, 39506);
    TELEPORTHEROTOWP("PARTM3_PATH_20");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_3() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_EXECUTECOMMON(3);
    WLD_INSERTNPC(52958, "PATH3_PATH_35");
    NPC_CLEARAIQUEUE(MIL_4040_RECRUIT);
    NPC_CLEARAIQUEUE(MIL_4041_RECRUIT);
    NPC_CLEARAIQUEUE(MIL_4042_RECRUIT);
    TELEPORTNPCTOWP(52886, "PART3_RECRUIT_01");
    TELEPORTNPCTOWP(52911, "PART3_RECRUIT_02");
    TELEPORTNPCTOWP(52933, "PART3_RECRUIT_03");
    B_STARTOTHERROUTINE(MIL_4040_RECRUIT, "Instructor");
    B_STARTOTHERROUTINE(MIL_4041_RECRUIT, "Instructor");
    B_STARTOTHERROUTINE(MIL_4042_RECRUIT, "Instructor");
    TELEPORTHEROTOWP("PART3_RECRUIT_PLACE");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_4() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_EXECUTECOMMON(4);
    NPC_CLEARAIQUEUE(MIL_4043_INSTRUCTOR);
    NPC_CLEARAIQUEUE(MIL_4040_RECRUIT);
    NPC_CLEARAIQUEUE(MIL_4041_RECRUIT);
    NPC_CLEARAIQUEUE(MIL_4042_RECRUIT);
    B_STARTOTHERROUTINE(MIL_4043_INSTRUCTOR, "WaitRun");
    B_STARTOTHERROUTINE(MIL_4040_RECRUIT, "WaitRun");
    B_STARTOTHERROUTINE(MIL_4041_RECRUIT, "WaitRun");
    B_STARTOTHERROUTINE(MIL_4042_RECRUIT, "WaitRun");
    FMQ001_INSTRUCTORREADYFORACTION = TRUE;
    TELEPORTHEROTOWP("PART3_PATH_10");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_5() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_EXECUTECOMMON(5);
    CREATEINVITEMS(HERO, 34182, 2);
    CREATEINVITEMS(HERO, 33847, 1);
    CREATEINVITEMS(HERO, 33852, 2);
    CREATEINVITEMS(HERO, 33984, 1);
    CREATEINVITEMS(HERO, 36364, 1);
    CREATEINVITEMS(HERO, 33848, 1);
    CREATEINVITEMS(HERO, 34183, 1);
    CREATEINVITEMS(HERO, 34184, 1);
    CREATEINVITEMS(HERO, 34178, 1);
    CREATEINVITEMS(HERO, 34003, 1);
    TELEPORTHEROTOWP(MIL_4000_RODERICH.WP);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_6() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_EXECUTECOMMON(6);
    B_STARTOTHERROUTINE(MIL_4016_WEGAR, "WAITFORQUEST");
    NPC_REFRESH(MIL_4016_WEGAR);
    TELEPORTNPCTOWP(52847, MIL_4016_WEGAR.WP);
    LOG_CREATETOPIC(TOPIC_FMQ003, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_FMQ003), TOPIC_FMQ003, LOG_RUNNING);
    WLD_SETTIME(22, 0);
    TELEPORTHEROTOWP(MIL_4016_WEGAR.WP);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_7() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_EXECUTECOMMON(7);
    TELEPORTHEROTOWP(MIL_4000_RODERICH.WP);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_8() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_EXECUTECOMMON(8);
    WLD_SENDTRIGGER("KM_MILITIAJOIN_04");
    Q203_MILITIAJOIN_TAVERN();
    Q203_MILITIAJOIN_UNLOCKHERO();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_9() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_EXECUTECOMMON(9);
    TELEPORTHEROTOWP(MIL_4000_RODERICH.WP);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_10() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_EXECUTECOMMON(10);
    LOG_CREATETOPIC(TOPIC_Q207, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q207), TOPIC_Q207, LOG_RUNNING);
    Q207_PREPARESCENE();
    TELEPORTHEROTOWP(BAU_726_RIK.WP);
}

var int STORYHELPERMAINSTORYLINE_CHAPTER2_ARAXOS;
instance STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS(C_INFO) {
    NPC = 50091;
    NR = 7;
    CONDITION = STORYHELPER_CONDITION_MAINSTORYLINE;
    INFORMATION = STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Rozdzia³ 2 (gildia kupiecka)";
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_INFO() {
    INFO_CLEARCHOICES(93416);
    INFO_ADDCHOICE(93416, DIALOG_BACK, 93418);
    INFO_ADDCHOICE(93416, "7. Pojawia siê i znika", 93432);
    INFO_ADDCHOICE(93416, "6. Nieuczciwa konkurencja", 93429);
    INFO_ADDCHOICE(93416, "5. Do³¹czenie do Araxos", 93428);
    INFO_ADDCHOICE(93416, "4. Zapasy na czarn¹ godzinê", 93427);
    INFO_ADDCHOICE(93416, "3. Problematyczna trójka", 93426);
    INFO_ADDCHOICE(93416, "2b. Pos³aniec Dimy (Silbach)", 93425);
    INFO_ADDCHOICE(93416, "2a. Pos³aniec Dimy (pocz¹tek)", 93424);
    INFO_ADDCHOICE(93416, "1b. Wyrwaæ chwasta - Poszukiwania", 93423);
    INFO_ADDCHOICE(93416, "1a. Wyrwaæ chwasta", 93422);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_BACK() {
    INFO_CLEARCHOICES(93416);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_COMMON() {
    STORYHELPERMAINSTORYLINE_CHAPTER1 = 999;
    STORYHELPER_MAINSTORYLINE_CHAPTER1_COMMON();
    STORYHELPERMAINSTORYLINE_CHAPTER2 = 999;
    STORYHELPER_MAINSTORYLINE_CHAPTER2_COMMON();
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_ARAXOS) >= (1)) {
        SETDIALOGUETOLDPROPERTY(71011, TRUE);
        SETDIALOGUETOLDPROPERTY(74730, TRUE);
        SETDIALOGUETOLDPROPERTY(77428, TRUE);
        SETDIALOGUETOLDPROPERTY(70982, TRUE);
        SETDIALOGUETOLDPROPERTY(70985, TRUE);
        SETDIALOGUETOLDPROPERTY(70991, TRUE);
        SETDIALOGUETOLDPROPERTY(70994, TRUE);
        SETDIALOGUETOLDPROPERTY(70997, TRUE);
        SETDIALOGUETOLDPROPERTY(71000, TRUE);
        SETDIALOGUETOLDPROPERTY(71011, TRUE);
        LORENZOTOLDABOUTREPUTATION = TRUE;
        MARVINSHOWEDCITIZENSHIP = TRUE;
        MARVINTOLDWHYJOIN = TRUE;
        LOG_CREATETOPIC(TOPIC_Q204, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q204), TOPIC_Q204, LOG_RUNNING);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_ARAXOS) >= (2)) {
        LOG_CREATETOPIC(TOPIC_FAQ002, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_FAQ002), TOPIC_FAQ002, LOG_RUNNING);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_ARAXOS) >= (2)) {
        LOG_CREATETOPIC(TOPIC_FAQ002, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_FAQ002), TOPIC_FAQ002, LOG_RUNNING);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_ARAXOS) >= (3)) {
        B_GIVEPLAYERXP((XP_FAQ002_FINISH) * (3));
        Q204_ARAXOSGUILDREPUTATION = (Q204_ARAXOSGUILDREPUTATION) + (3);
        FAQ002_RESULT = 2;
        LOG_CREATETOPIC(TOPIC_FAQ002, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_FAQ002), TOPIC_FAQ002, LOG_SUCCESS);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_ARAXOS) >= (4)) {
        SETDIALOGUETOLDPROPERTY(71340, TRUE);
        FAQ001_SUNDER_RTNCHECK = 1;
        B_STARTOTHERROUTINE(SLD_5002_SUNDER, "FAQ001_PUB");
        MDL_APPLYOVERLAYMDS(SLD_5002_SUNDER, HUMANSDRUNKENMDS);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_ARAXOS) >= (5)) {
        B_STARTOTHERROUTINE(SLD_5002_SUNDER, START);
        MDL_REMOVEOVERLAYMDS(SLD_5002_SUNDER, HUMANSDRUNKENMDS);
        B_GIVEPLAYERXP(XP_FAQ001_FINISH_TIER_2);
        FAQ001_MARVINFOUNDDEADMEESENGER = 2;
        LOG_CREATETOPIC(TOPIC_FAQ001, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_FAQ001), TOPIC_FAQ001, LOG_SUCCESS);
        FAQ001_SPAWNZOMBIECORPSE = 1;
        FAQ001_SPAWNZOMBIECORPSE_DAY = WLD_GETDAY();
        Q204_ARAXOSGUILDREPUTATION = (Q204_ARAXOSGUILDREPUTATION) + (3);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_ARAXOS) >= (6)) {
        LOG_CREATETOPIC(TOPIC_FAQ003, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_FAQ003), TOPIC_FAQ003, LOG_SUCCESS);
        Q204_ARAXOSGUILDREPUTATION = (Q204_ARAXOSGUILDREPUTATION) + (2);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_ARAXOS) >= (7)) {
        LOG_CREATETOPIC(TOPIC_FAQ004, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_FAQ004), TOPIC_FAQ004, LOG_SUCCESS);
        Q204_ARAXOSGUILDREPUTATION = (Q204_ARAXOSGUILDREPUTATION) + (1);
        B_GIVEPLAYERXP(XP_FAQ004_FINISH);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_ARAXOS) >= (8)) {
        MARVINCANJOINMERCENARIES = TRUE;
        LOG_CREATETOPIC(TOPIC_FAQ004, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_FAQ004), TOPIC_FAQ004, LOG_SUCCESS);
        LOG_CREATETOPIC(TOPIC_Q204, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q204), TOPIC_Q204, LOG_SUCCESS);
        B_GIVEPLAYERXP(XP_FAQ004_FINISH);
        HERO.GUILD = GIL_SLD;
        CREATEINVITEMS(HERO, 35451, 1);
        AI_EQUIPARMOR(HERO, 35451);
        SETDIALOGUETOLDPROPERTY(71025, TRUE);
        SETDIALOGUETOLDPROPERTY(71028, TRUE);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_ARAXOS) >= (9)) {
        LOG_CREATETOPIC(TOPIC_Q206, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q206), TOPIC_Q206, LOG_RUNNING);
        Q206_SPAWNFISHERMANS();
        SETDIALOGUETOLDPROPERTY(71055, TRUE);
        SETDIALOGUETOLDPROPERTY(70281, TRUE);
        SETDIALOGUETOLDPROPERTY(70285, TRUE);
        SETDIALOGUETOLDPROPERTY(70288, TRUE);
        SETDIALOGUETOLDPROPERTY(70291, TRUE);
        SETDIALOGUETOLDPROPERTY(70294, TRUE);
        NPC_CLEARAIQUEUE(SLD_1009_CARAMON);
        Q206_CARAMON_RTNCHECK = 5;
        NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "Q206_WAITING_TAVERNE2");
        TELEPORTNPCTOWP(51996, SLD_1009_CARAMON.WP);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_ARAXOS) >= (13)) {
        AI_EQUIPARMOR(HERO, 35454);
        B_GIVEPLAYERXP(XP_Q206_FINISH);
        LOG_CREATETOPIC(TOPIC_Q206, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q206), TOPIC_Q206, LOG_SUCCESS);
        LOG_CREATETOPIC(TOPIC_Q208, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q208), TOPIC_Q208, LOG_RUNNING);
        WLD_INSERTNPC(55642, "PART1_CAVE_OUT_06_NONAME");
        REMOVEHODINSERTORC();
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_ARAXOS) >= (14)) {
        Q208_MILITIABEACH = TRUE;
        WLD_INSERTNPC(55856, "PART4_FISHERMAN_MIL_SMALLTALK_02");
        WLD_INSERTNPC(55865, "PART4_FISHERMAN_MIL_SMALLTALK_01");
        SETDIALOGUETOLDPROPERTY(78426, TRUE);
        B_STARTOTHERROUTINE(BAU_6348_YANNICK, CUTSCENERTN);
        B_STARTOTHERROUTINE(NONE_6351_ROY, CUTSCENERTN);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER2_ARAXOS) >= (15)) {
        B_GIVEPLAYERXP(XP_Q208_GOODANWSERYANNICK);
        WLD_INSERTNPC(55856, "PART4_FISHERMAN_MIL_SMALLTALK_02");
        WLD_INSERTNPC(55865, "PART4_FISHERMAN_MIL_SMALLTALK_01");
        SETDIALOGUETOLDPROPERTY(77972, TRUE);
        B_STARTOTHERROUTINE(BAU_6348_YANNICK, "SWAMP");
    };
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_EXECUTECOMMON(var int ID) {
    STORYHELPERMAINSTORYLINE_CHAPTER2_ARAXOS = ID;
    STORYHELPER_EXIT();
    STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_COMMON();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_1() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_EXECUTECOMMON(1);
    TELEPORTHEROTOWP("PARTM1_PATH_02");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_2() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_EXECUTECOMMON(2);
    TELEPORTHEROTOWP("PARTM1_PATH_02");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_3() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_EXECUTECOMMON(3);
    TELEPORTHEROTOWP("PARTM1_PATH_04");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_4() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_EXECUTECOMMON(4);
    TELEPORTHEROTOWP("VILLAGE_PUB_01");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_5() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_EXECUTECOMMON(5);
    TELEPORTHEROTOWP("HARBOUR_TAVERN_01");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_6() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_EXECUTECOMMON(6);
    TELEPORTHEROTOWP("PARTM2_GOTARD_SMALLTALK");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_7() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_EXECUTECOMMON(7);
    TELEPORTHEROTOWP("PARTM1_GUILDHOUSE_28");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_8() {
    INFO_CLEARCHOICES(93416);
    INFO_ADDCHOICE(93416, DIALOG_BACK, 93416);
    INFO_ADDCHOICE(93416, "6b). Karczma", 93430);
    INFO_ADDCHOICE(93416, "6a). Start", 93431);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_8_B() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_EXECUTECOMMON(9);
    TELEPORTHEROTOWP("HARBOUR_TAVERN_01");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_8_A() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_EXECUTECOMMON(8);
    TELEPORTHEROTOWP("PARTM1_GUILDHOUSE_LORENZO_02");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_13() {
    INFO_CLEARCHOICES(93416);
    INFO_ADDCHOICE(93416, DIALOG_BACK, 93416);
    INFO_ADDCHOICE(93416, "7c). Bagna", 93435);
    INFO_ADDCHOICE(93416, "7b). Pla¿a", 93434);
    INFO_ADDCHOICE(93416, "7a). Farma", 93433);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_13_A() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_EXECUTECOMMON(13);
    TELEPORTHEROTOWP("PART6_PATH_15");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_13_B() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_EXECUTECOMMON(14);
    TELEPORTHEROTOWP("PART4_FISHERMAN_32");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_13_C() {
    STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_EXECUTECOMMON(15);
    TELEPORTHEROTOWP("PART17_SWAMPBLOOD_03");
}

var int STORYHELPERMAINSTORYLINE_CHAPTER3;
var int STORYHELPERMAINSTORYLINE_CHAPTER3_CHOSENGUILD;
instance STORYHELPER_MAINSTORYLINE_CHAPTER3(C_INFO) {
    NPC = 50091;
    NR = 6;
    CONDITION = STORYHELPER_CONDITION_MAINSTORYLINE;
    INFORMATION = STORYHELPER_MAINSTORYLINE_CHAPTER3_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Rozdzia³ 3";
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER3_INFO() {
    INFO_CLEARCHOICES(93438);
    INFO_ADDCHOICE(93438, DIALOG_BACK, 93440);
    INFO_ADDCHOICE(93438, "Gildia Araxos", 93443);
    INFO_ADDCHOICE(93438, "Stra¿ miejska", 93442);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER3_BACK() {
    INFO_CLEARCHOICES(93438);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER3_CHOICES() {
    INFO_CLEARCHOICES(93438);
    INFO_ADDCHOICE(93438, DIALOG_BACK, 93440);
    INFO_ADDCHOICE(93438, "6c. W bia³y dzieñ (oddanie questa)", 93457);
    INFO_ADDCHOICE(93438, "6b. W bia³y dzieñ (ledztwo)", 93456);
    INFO_ADDCHOICE(93438, "6a. W bia³y dzieñ", 93455);
    INFO_ADDCHOICE(93438, "5. Powrót z przystani", 93454);
    INFO_ADDCHOICE(93438, "4. Po turnieju", 93453);
    INFO_ADDCHOICE(93438, "3. Turniej", 93452);
    INFO_ADDCHOICE(93438, "2. Starzy znajomi", 93451);
    if ((STORYHELPERMAINSTORYLINE_CHAPTER3_CHOSENGUILD) == (GIL_MIL)) {
        INFO_ADDCHOICE(93438, "1. Kto zabi³ Stana", 93447);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER3_CHOSENGUILD) == (GIL_SLD)) {
        INFO_ADDCHOICE(93438, "1. Krwawa waluta", 93448);
    };
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER3_MILITIA() {
    STORYHELPERMAINSTORYLINE_CHAPTER3_CHOSENGUILD = GIL_MIL;
    STORYHELPER_MAINSTORYLINE_CHAPTER3_CHOICES();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER3_ARAXOS() {
    STORYHELPERMAINSTORYLINE_CHAPTER3_CHOSENGUILD = GIL_SLD;
    STORYHELPER_MAINSTORYLINE_CHAPTER3_CHOICES();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER3_COMMON() {
    STORYHELPERMAINSTORYLINE_CHAPTER1 = 999;
    STORYHELPER_MAINSTORYLINE_CHAPTER1_COMMON();
    STORYHELPERMAINSTORYLINE_CHAPTER2 = 999;
    STORYHELPER_MAINSTORYLINE_CHAPTER2_COMMON();
    if ((STORYHELPERMAINSTORYLINE_CHAPTER3_CHOSENGUILD) == (GIL_SLD)) {
        STORYHELPERMAINSTORYLINE_CHAPTER2_ARAXOS = 999;
        STORYHELPER_MAINSTORYLINE_CHAPTER2_ARAXOS_COMMON();
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER3_CHOSENGUILD) == (GIL_MIL)) {
        STORYHELPERMAINSTORYLINE_CHAPTER2_MILITIA = 999;
        STORYHELPER_MAINSTORYLINE_CHAPTER2_MILITIA_COMMON();
    };
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    HAVEN_THIAGOENCOUNTER = TRUE;
    SETDIALOGUETOLDPROPERTY(84430, TRUE);
    Q301_MYRMIDON_FINISHTALK = 2;
    SETDIALOGUETOLDPROPERTY(82726, TRUE);
    WLD_INSERTNPC(57947, "PART17_CAMPFIRE_03");
    WLD_INSERTNPC(57956, "PART17_CAMPFIRE_03");
    WLD_INSERTNPC(58036, "PART17_CAMPFIRE_03");
    B_STARTOTHERROUTINE(BDT_6289_VILLAN, "HAVEN");
    B_STARTOTHERROUTINE(BDT_6290_BANDIT, "HAVEN");
    B_STARTOTHERROUTINE(BDT_6288_MYRMIDON, "HAVEN");
    LOG_CREATETOPIC(TOPIC_Q301, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q301), TOPIC_Q301, LOG_RUNNING);
    if ((STORYHELPERMAINSTORYLINE_CHAPTER3) >= (1)) {
        B_KILLNPC(58495);
        B_STARTOTHERROUTINE(PIR_1303_CORTEZ, START);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER3) >= (2)) {
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER3) >= (3)) {
        SETDIALOGUETOLDPROPERTY(83704, TRUE);
        if ((HERO.GUILD) == (GIL_MIL)) {
            LOG_CREATETOPIC(TOPIC_Q303, LOG_MISSION);
            LOG_SETSTATUS(_@(MIS_Q303), TOPIC_Q303, LOG_SUCCESS);
        } else if ((HERO.GUILD) == (GIL_SLD)) {
            LOG_CREATETOPIC(TOPIC_Q304, LOG_MISSION);
            LOG_SETSTATUS(_@(MIS_Q304), TOPIC_Q304, LOG_SUCCESS);
        };
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER3) >= (4)) {
        LOG_CREATETOPIC(TOPIC_Q302, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q302), TOPIC_Q302, LOG_SUCCESS);
        LOG_CREATETOPIC(TOPIC_Q305, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q305), TOPIC_Q305, LOG_SUCCESS);
        SETDIALOGUETOLDPROPERTY(83657, TRUE);
        SETDIALOGUETOLDPROPERTY(84703, TRUE);
        SETDIALOGUETOLDPROPERTY(83621, TRUE);
        SETDIALOGUETOLDPROPERTY(83491, TRUE);
        SETDIALOGUETOLDPROPERTY(84234, TRUE);
        SETDIALOGUETOLDPROPERTY(83704, TRUE);
        if (!(HLP_ISVALIDNPC(NONE_6332_BERTEL))) {
            SETDIALOGUETOLDPROPERTY(83226, TRUE);
            SETDIALOGUETOLDPROPERTY(83243, TRUE);
            WLD_INSERTNPC(58580, "PART17_BAR_01");
            Q305_BERTELWAY = 1;
        };
        if ((!(HLP_ISVALIDNPC(NONE_6334_HERDIS))) && (!(HLP_ISVALIDNPC(NONE_6335_MILLIE)))) {
            SETDIALOGUETOLDPROPERTY(85924, TRUE);
            WLD_INSERTNPC(57876, "PART17_BAR_01");
            WLD_INSERTNPC(57888, "PART17_BAR_01");
            Q305_HERDIS_FINISHWAY = 1;
        };
        if (!(HLP_ISVALIDNPC(NONE_6331_JAVAD))) {
            SETDIALOGUETOLDPROPERTY(83163, TRUE);
            WLD_INSERTNPC(58566, "PART17_BAR_01");
        };
        if (!(HLP_ISVALIDNPC(NONE_6333_HARRI))) {
            SETDIALOGUETOLDPROPERTY(83261, TRUE);
            WLD_INSERTNPC(58592, "PART17_BAR_01");
            Q305_HARRISTATUS = 4;
        };
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER3) >= (5)) {
        Q306_STATE = 19;
        SETDIALOGUETOLDPROPERTY(83839, TRUE);
        LOG_SETSTATUS(_@(MIS_Q306), TOPIC_Q306, LOG_SUCCESS);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER3) >= (6)) {
        SETDIALOGUETOLDPROPERTY(83854, TRUE);
        SETDIALOGUETOLDPROPERTY(83401, TRUE);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER3) >= (7)) {
        Q308_SPAWNNPC();
        Q308_PREPAREIVY();
        SETDIALOGUETOLDPROPERTY(82997, TRUE);
        LOG_CREATETOPIC(TOPIC_Q312, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q312), TOPIC_Q312, LOG_SUCCESS);
        LOG_CREATETOPIC(TOPIC_Q308, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q308), TOPIC_Q308, LOG_RUNNING);
        if ((HERO.GUILD) == (GIL_MIL)) {
            SETDIALOGUETOLDPROPERTY(66123, TRUE);
            AI_LOGENTRY(TOPIC_Q308, LOG_Q308_START_MIL);
        } else if ((HERO.GUILD) == (GIL_SLD)) {
            SETDIALOGUETOLDPROPERTY(71125, TRUE);
            Q402_LOSTGUILDSLDOPTIONUNLOCKED = TRUE;
            AI_LOGENTRY(TOPIC_Q308, LOG_Q308_START_SLD);
        };
        B_GIVEPLAYERXP(XP_GQ001_IVYDIALOGUE_BONUS1);
        B_GIVEPLAYERXP(XP_GQ001_IVYDIALOGUE_BONUS2);
        B_GIVEPLAYERXP(XP_GQ001_IVYDIALOGUE_BONUS3);
        if ((HERO.GUILD) == (GIL_MIL)) {
            B_GIVEPLAYERXP(XP_Q312_FINISH);
        } else if ((HERO.GUILD) == (GIL_SLD)) {
            B_GIVEPLAYERXP(XP_Q312_FINISH);
        };
        if ((STORYHELPERMAINSTORYLINE_CHAPTER3) >= (8)) {
            Q308_CIVILIANRETURNRTN();
            Q308_MILITIARETURNRTN();
            B_Q309_GRAVETELEPORT();
            Q311_TAVERNCHANGES();
            Q308_VOLKERHOUSECUTSCENE = TRUE;
            Q308_LEONKUNOCUTSCENE = 2;
            Q308_CANENTERVOLKERHOUSE = TRUE;
            Q308_BRADLOCK_WANTSTOWORK = TRUE;
            MADOG_CANENTERVOLKERHOUSE = TRUE;
            SETDIALOGUETOLDPROPERTY(69014, TRUE);
            SETDIALOGUETOLDPROPERTY(83016, TRUE);
            SETDIALOGUETOLDPROPERTY(68764, TRUE);
            SETDIALOGUETOLDPROPERTY(68776, TRUE);
            SETDIALOGUETOLDPROPERTY(68779, TRUE);
            SETDIALOGUETOLDPROPERTY(76253, TRUE);
            SETDIALOGUETOLDPROPERTY(76220, TRUE);
            SETDIALOGUETOLDPROPERTY(73494, TRUE);
            SETDIALOGUETOLDPROPERTY(76123, TRUE);
            CREATEINVITEMS(HERO, 37294, 1);
            LOG_CREATETOPIC(TOPIC_Q309, LOG_MISSION);
            LOG_SETSTATUS(_@(MIS_Q309), TOPIC_Q309, LOG_RUNNING);
            LOG_CREATETOPIC(TOPIC_Q311, LOG_MISSION);
            LOG_SETSTATUS(_@(MIS_Q311), TOPIC_Q311, LOG_RUNNING);
            MOB_CHANGEFOCUSNAME("KM_BLOODFLASK_VOLKER", "MOBNAME_BLOODFLASK");
        };
        if ((STORYHELPERMAINSTORYLINE_CHAPTER3) >= (9)) {
            WLD_INSERTNPC(55064, "PARTM4_PATH_110");
            B_KILLNPC(55064);
            B_REMOVENPC(52994);
            OLDCITYENTERED = TRUE;
            Q308_TELEPORTIVYTOHERO = TRUE;
            SETDIALOGUETOLDPROPERTY(71631, TRUE);
            SETDIALOGUETOLDPROPERTY(69060, TRUE);
            SETDIALOGUETOLDPROPERTY(83131, TRUE);
            LOG_CREATETOPIC(TOPIC_SQ305, LOG_MISSION);
            LOG_SETSTATUS(_@(MIS_SQ305), TOPIC_SQ305, LOG_SUCCESS);
            LOG_SETSTATUS(_@(MIS_Q309), TOPIC_Q309, LOG_SUCCESS);
            LOG_SETSTATUS(_@(MIS_Q311), TOPIC_Q311, LOG_SUCCESS);
            B_GIVEPLAYERXP(XP_Q308_PRISONGUARD_BONUS);
            B_GIVEPLAYERXP(XP_Q308_OSIPEVENT);
            B_GIVEPLAYERXP(XP_SQ305_FINISH);
            B_GIVEPLAYERXP(XP_Q309_FINISH);
            B_GIVEPLAYERXP(XP_Q311_GOODGUY);
            B_GIVEPLAYERXP(XP_Q311_FINISH);
            B_GIVEPLAYERXP(XP_Q311_LUDLOFPRISON);
            CREATEINVITEM(HERO, 37293);
        };
    };
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER3_EXECUTECOMMON(var int ID) {
    STORYHELPERMAINSTORYLINE_CHAPTER3 = ID;
    STORYHELPER_EXIT();
    STORYHELPER_MAINSTORYLINE_CHAPTER3_COMMON();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_1_MILITIA() {
    STORYHELPER_MAINSTORYLINE_CHAPTER3_EXECUTECOMMON(1);
    TELEPORTHEROTOWP("P17_HAVEN_UP_03");
    B_STARTOTHERROUTINE(PIR_1303_CORTEZ, START);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_1_ARAXOS() {
    INFO_CLEARCHOICES(93438);
    INFO_ADDCHOICE(93438, DIALOG_BACK, 93440);
    INFO_ADDCHOICE(93438, "Zbieranie lici", 93450);
    INFO_ADDCHOICE(93438, "Pocz¹tek", 93449);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_1_ARAXOS_1() {
    STORYHELPER_MAINSTORYLINE_CHAPTER3_EXECUTECOMMON(2);
    TELEPORTHEROTOWP("P17_HAVEN_UP_03");
    B_STARTOTHERROUTINE(PIR_1303_CORTEZ, START);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_1_ARAXOS_2() {
    STORYHELPER_MAINSTORYLINE_CHAPTER3_EXECUTECOMMON(2);
    TELEPORTHEROTOWP("PART17_CAVE_BODYGOUARD_04");
    SIMON_Q304_NEEDMOREPPL = 2;
    B_STARTOTHERROUTINE(PIR_1311_THIAGO, "SWAMPCAVETRAP");
    B_STARTOTHERROUTINE(PIR_6322_GHOST, "SWAMPCAVETRAP");
    B_STARTOTHERROUTINE(PIR_1306_RODRIGO, "SWAMPCAVETRAP");
    B_STARTOTHERROUTINE(PIR_1308_SIMON, "SWAMPCAVETRAP");
    SETDIALOGUETOLDPROPERTY(86241, TRUE);
    LOG_CREATETOPIC(TOPIC_Q304, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q304), TOPIC_Q304, LOG_RUNNING);
    WLD_INSERTNPC(58400, "PART17_CAVE_BODYGUARD");
    WLD_INSERTNPC(58416, "PART17_CAVE_BODYGOUARD_04");
    WLD_INSERTNPC(58426, "PART17_CAVE_BODYGOUARD_02");
    WLD_INSERTNPC(58435, "PART17_CAVE_BODYGOUARD_03");
    WLD_INSERTNPC(58444, "PART17_PATH_223");
    WLD_INSERTNPC(58464, "PART17_CAVE_BODYGOUARD_01");
    Q304_TELEPORTBANDIT_V2();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER3_2() {
    STORYHELPER_MAINSTORYLINE_CHAPTER3_EXECUTECOMMON(3);
    TELEPORTHEROTOWP("P17_HAVEN_UP_03");
    LOG_CREATETOPIC(TOPIC_Q302, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q302), TOPIC_Q302, LOG_SUCCESS);
    SETDIALOGUETOLDPROPERTY(83704, TRUE);
    B_STARTOTHERROUTINE(PIR_1303_CORTEZ, START);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER3_3() {
    STORYHELPER_MAINSTORYLINE_CHAPTER3_EXECUTECOMMON(4);
    TELEPORTHEROTOWP("P17_HAVEN_UP_03");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER3_4() {
    STORYHELPER_MAINSTORYLINE_CHAPTER3_EXECUTECOMMON(5);
    HAVEN_AFTERQ306();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER3_5() {
    STORYHELPER_MAINSTORYLINE_CHAPTER3_EXECUTECOMMON(6);
    TELEPORTHEROTOWP("PART17_BAR_01");
    B_STARTOTHERROUTINE(NONE_16_IVY, "OUTSIDETAVERN");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER3_6() {
    STORYHELPER_MAINSTORYLINE_CHAPTER3_EXECUTECOMMON(7);
    TELEPORTHEROTOWP("PARTM4_PATH_14");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER3_7() {
    STORYHELPER_MAINSTORYLINE_CHAPTER3_EXECUTECOMMON(8);
    TELEPORTHEROTOWP("PARTM4_VOLKER_HOUSE_01");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER3_8() {
    STORYHELPER_MAINSTORYLINE_CHAPTER3_EXECUTECOMMON(9);
    if ((HERO.GUILD) == (GIL_MIL)) {
        TELEPORTHEROTOWP("PARTM3_RODERICH_BOOKSTAND");
    };
    if ((HERO.GUILD) == (GIL_SLD)) {
        TELEPORTHEROTOWP("PARTM1_GUILDHOUSE_LORENZO_TABLE");
    };
}

var int STORYHELPERMAINSTORYLINE_CHAPTER4;
var int STORYHELPERMAINSTORYLINE_CHAPTER4_CHOSENGUILD;
instance STORYHELPER_MAINSTORYLINE_CHAPTER4(C_INFO) {
    NPC = 50091;
    NR = 5;
    CONDITION = STORYHELPER_CONDITION_MAINSTORYLINE;
    INFORMATION = STORYHELPER_MAINSTORYLINE_CHAPTER4_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Rozdzia³ 4";
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER4_INFO() {
    INFO_CLEARCHOICES(93460);
    INFO_ADDCHOICE(93460, DIALOG_BACK, 93462);
    INFO_ADDCHOICE(93460, "Gildia Araxos", 93465);
    INFO_ADDCHOICE(93460, "Stra¿ miejska", 93464);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER4_BACK() {
    INFO_CLEARCHOICES(93460);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER4_CHOICES() {
    INFO_CLEARCHOICES(93460);
    INFO_ADDCHOICE(93460, DIALOG_BACK, 93462);
    INFO_ADDCHOICE(93460, "7b. Q406 - Wodny kr¹g (Cutscene)", 93479);
    INFO_ADDCHOICE(93460, "7a. Q406 - Wodny kr¹g (Pocz¹tek)", 93478);
    INFO_ADDCHOICE(93460, "6. Q405 - Ponowne spotkanie", 93475);
    INFO_ADDCHOICE(93460, "5. Q402 - Po nitce do k³êbka (po kopalni)", 93474);
    INFO_ADDCHOICE(93460, "4b. Q404 - Kopalnia (wejcie)", 93473);
    INFO_ADDCHOICE(93460, "4a. Q404 - Kopalnia (przed)", 93472);
    INFO_ADDCHOICE(93460, "3. Q403 - Jedyna droga do Jona", 93471);
    INFO_ADDCHOICE(93460, "2a. Q402 - Po nitce do k³êbka", 93470);
    INFO_ADDCHOICE(93460, "1. Q401 - Im siê nale¿y", 93469);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER4_MILITIA() {
    STORYHELPERMAINSTORYLINE_CHAPTER4_CHOSENGUILD = GIL_MIL;
    STORYHELPER_MAINSTORYLINE_CHAPTER4_CHOICES();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER4_ARAXOS() {
    STORYHELPERMAINSTORYLINE_CHAPTER4_CHOSENGUILD = GIL_SLD;
    STORYHELPER_MAINSTORYLINE_CHAPTER4_CHOICES();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER4_COMMON() {
    STORYHELPERMAINSTORYLINE_CHAPTER3_CHOSENGUILD = STORYHELPERMAINSTORYLINE_CHAPTER4_CHOSENGUILD;
    STORYHELPERMAINSTORYLINE_CHAPTER3 = 999;
    STORYHELPER_MAINSTORYLINE_CHAPTER3_COMMON();
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    if ((STORYHELPERMAINSTORYLINE_CHAPTER4) >= (1)) {
        Q308_REMOVEEVENTS();
        Q308_REMOVEANGRYMOB();
        B_STARTOTHERROUTINE(NONE_16_IVY, "WOLFSDEN");
        TELEPORTNPCTOWP(58543, "PART16_PATH_12");
        LOG_SETSTATUS(_@(MIS_Q308), TOPIC_Q308, LOG_SUCCESS);
        B_GIVEPLAYERXP(XP_Q308_FINISH);
        SETDIALOGUETOLDPROPERTY(83028, TRUE);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER4) >= (2)) {
        SETDIALOGUETOLDPROPERTY(91274, TRUE);
        SETDIALOGUETOLDPROPERTY(83087, TRUE);
        SETDIALOGUETOLDPROPERTY(81437, TRUE);
        B_GIVEPLAYERXP(XP_Q401_GALBODRINK);
        B_GIVEPLAYERXP(XP_Q401_LOWELLWENTTOWORK);
        B_GIVEPLAYERXP(XP_Q401_ESTISWAMPEVENTDONE);
        B_GIVEPLAYERXP(XP_Q401_FABIOGONE_SWAMPWAY);
        B_GIVEPLAYERXP(XP_Q401_FINISH);
        AI_FUNCTION(HERO, 63634);
        AI_FUNCTION(HERO, 63635);
        B_KILLNPC(51148);
        B_KILLNPC(51149);
        B_KILLNPC(51150);
        B_KILLNPC(51151);
        B_KILLNPC(50270);
        B_KILLNPC(50271);
        B_REMOVENPC(58129);
        B_REMOVENPC(58132);
        B_REMOVENPC(58135);
        B_REMOVENPC(58138);
        B_STARTOTHERROUTINE(DJG_10002_YEZEGAN, "ALCHEMY");
        B_STARTOTHERROUTINE(NONE_5_FABIO, "Q401_SWAMP");
        B_STARTOTHERROUTINE(DJG_10005_WOLFSON, "PROTECTION");
        B_STARTOTHERROUTINE(NONE_16_IVY, "WOLFSDENINSIDE_DIALOGUE");
        TELEPORTNPCTOWP(58543, "WOLFSDEN_PATH_43");
        CREDNAR_ALLOWUSTOGO = TRUE;
        LOG_CREATETOPIC(TOPIC_Q401, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q401), TOPIC_Q401, LOG_SUCCESS);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER4) >= (3)) {
        LOG_CREATETOPIC(TOPIC_Q402, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q402), TOPIC_Q402, LOG_RUNNING);
        B_STARTOTHERROUTINE(NONE_16_IVY, "WOLFSDENINSIDE");
        TELEPORTNPCTOWP(58543, "WOLFSDEN_PATH_43");
        B_GIVEPLAYERXP(XP_Q402_GRON);
        B_GIVEPLAYERXP(XP_Q402_ARETHE);
        CREDNAR_ALLOWUSTOGO = TRUE;
        Q402_INFOABOUTMINE = TRUE;
        Q402_FOUNDVARHALANDLEGRIF = TRUE;
        SETDIALOGUETOLDPROPERTY(81485, TRUE);
        SETDIALOGUETOLDPROPERTY(81518, TRUE);
        SETDIALOGUETOLDPROPERTY(81528, TRUE);
        SETDIALOGUETOLDPROPERTY(81673, TRUE);
        SETDIALOGUETOLDPROPERTY(81676, TRUE);
        SETDIALOGUETOLDPROPERTY(81679, TRUE);
        SETDIALOGUETOLDPROPERTY(81702, TRUE);
        SETDIALOGUETOLDPROPERTY(81747, TRUE);
        SETDIALOGUETOLDPROPERTY(81753, TRUE);
        SETDIALOGUETOLDPROPERTY(81756, TRUE);
        SETDIALOGUETOLDPROPERTY(81933, TRUE);
        SETDIALOGUETOLDPROPERTY(81918, TRUE);
        SETDIALOGUETOLDPROPERTY(81915, TRUE);
        SETDIALOGUETOLDPROPERTY(82095, TRUE);
        SETDIALOGUETOLDPROPERTY(82080, TRUE);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER4) >= (4)) {
        LOG_CREATETOPIC(TOPIC_Q403, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q403), TOPIC_Q403, LOG_SUCCESS);
        CREATEINVITEM(HERO, 37341);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER4) >= (5)) {
        LOG_CREATETOPIC(TOPIC_Q404, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q404), TOPIC_Q404, LOG_RUNNING);
        Q404_GUARDMINE_COUNT = 4;
        Q404_GUARDMINE_NEEDHELP = TRUE;
        Q404_DALMONSTATUS = 3;
        Q404_VAHRALSTATUS = 2;
        Q404_LEGRIFSTATUS = 2;
        Q404_GRONSTATUS = 2;
        NPC_CLEARAIQUEUE(DJG_10027_DALMON);
        B_STARTOTHERROUTINE(DJG_10027_DALMON, "GUARDMINE");
        NPC_CLEARAIQUEUE(DJG_10017_LEGRIF);
        B_STARTOTHERROUTINE(DJG_10017_LEGRIF, "GUARDMINE");
        NPC_CLEARAIQUEUE(DJG_10014_VAHRAL);
        B_STARTOTHERROUTINE(DJG_10014_VAHRAL, "GUARDMINE");
        NPC_CLEARAIQUEUE(DJG_10011_GRON);
        B_STARTOTHERROUTINE(DJG_10011_GRON, "GUARDMINE");
        SETDIALOGUETOLDPROPERTY(82160, TRUE);
        SETDIALOGUETOLDPROPERTY(82165, TRUE);
        SETDIALOGUETOLDPROPERTY(81710, TRUE);
        SETDIALOGUETOLDPROPERTY(81713, TRUE);
        SETDIALOGUETOLDPROPERTY(81942, TRUE);
        SETDIALOGUETOLDPROPERTY(81945, TRUE);
        SETDIALOGUETOLDPROPERTY(81948, TRUE);
        SETDIALOGUETOLDPROPERTY(82104, TRUE);
        SETDIALOGUETOLDPROPERTY(82107, TRUE);
        SETDIALOGUETOLDPROPERTY(82112, TRUE);
        SETDIALOGUETOLDPROPERTY(82221, TRUE);
        SETDIALOGUETOLDPROPERTY(82224, TRUE);
        SETDIALOGUETOLDPROPERTY(82230, TRUE);
        SETDIALOGUETOLDPROPERTY(82245, TRUE);
        SETDIALOGUETOLDPROPERTY(82539, TRUE);
        WLD_INSERTNPC(58343, "WOLFSDEN_CITADEL_LEAN_01");
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER4) >= (6)) {
        Q404_MARVINFINISHEDMINE = TRUE;
        Q404_JONSTATUS = 1;
        Q402_AFTERMINE = TRUE;
        Q402_AFTERMINE_DAY = WLD_GETDAY();
        LOG_SETSTATUS(_@(MIS_Q404), TOPIC_Q404, LOG_SUCCESS);
        LOG_SETSTATUS(_@(MIS_Q404), TOPIC_Q404, LOG_SUCCESS);
        B_STARTOTHERROUTINE(NONE_16_IVY, TOT);
        TELEPORTNPCTOWP(58543, TOT);
        CREATEINVITEM(HERO, 37348);
        CREATEINVITEM(HERO, 36887);
        CREATEINVITEMS(HERO, 37351, 1);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER4) >= (7)) {
        Q402_LUDWIG_FINISHEDMAP = 3;
        Q402_MARVINISLATE = 2;
        if ((HERO.GUILD) == (GIL_MIL)) {
            Q402_MILITIA_MESSAGE = TRUE;
            SETDIALOGUETOLDPROPERTY(66213, TRUE);
        } else if ((HERO.GUILD) == (GIL_SLD)) {
            Q402_ARAXOS_MESSAGE = TRUE;
            SETDIALOGUETOLDPROPERTY(71162, TRUE);
        };
        LOG_SETSTATUS(_@(MIS_Q402), TOPIC_Q402, LOG_SUCCESS);
        B_GIVEPLAYERXP(XP_Q402_FINISH);
        LOG_CREATETOPIC(TOPIC_Q405, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q405), TOPIC_Q405, LOG_RUNNING);
        B_LOGENTRY(TOPIC_Q405, LOG_Q405_START);
        NPC_REMOVEINVITEMS(HERO, 37351, 1);
        CREATEINVITEM(HERO, 37353);
        SETDIALOGUETOLDPROPERTY(73852, TRUE);
        SETDIALOGUETOLDPROPERTY(73865, TRUE);
        SETDIALOGUETOLDPROPERTY(81833, TRUE);
        SETDIALOGUETOLDPROPERTY(81836, TRUE);
        SETDIALOGUETOLDPROPERTY(68786, TRUE);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER4) >= (8)) {
        LOG_SETSTATUS(_@(MIS_Q405), TOPIC_Q405, LOG_SUCCESS);
        LOG_SETSTATUS(_@(MIS_GQ001), TOPIC_GQ001, LOG_SUCCESS);
        B_GIVEPLAYERXP(XP_Q405_FINISH);
        SETDIALOGUETOLDPROPERTY(80072, TRUE);
        SETDIALOGUETOLDPROPERTY(80081, TRUE);
        SETDIALOGUETOLDPROPERTY(80084, TRUE);
        SETDIALOGUETOLDPROPERTY(80087, TRUE);
        NPC_CLEARAIQUEUE(NONE_6413_SACHS);
        B_STARTOTHERROUTINE(NONE_6413_SACHS, "JornHOUSEDEAD");
        TELEPORTNPCTOWP(53373, "SLUMS_HOUSE17_SACHSBODY");
        B_REMOVENPC(53168);
        B_REMOVENPC(53177);
        B_KILLNPC(53187);
        B_KILLNPC(53192);
        B_KILLNPC(53197);
        B_KILLNPC(55070);
        B_KILLNPC(55072);
        B_KILLNPC(55074);
        B_KILLNPC(53373);
        NPC_CLEARAIQUEUE(NONE_202_KESSEL);
        B_STARTOTHERROUTINE(NONE_202_KESSEL, "Q405_JornHOUSE_ESCAPED");
        Q405_KESSEL_RTNCHECK = 6;
        TELEPORTNPCTOWP(56688, "PART_13_JORN_01");
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER4) >= (9)) {
        WLD_SENDTRIGGER("Q406_MOVER_ALPHA");
        FF_APPLYONCEEXTGT(63850, 0, -(1));
        B_REMOVENPC(57510);
        SETDIALOGUETOLDPROPERTY(80092, TRUE);
        if ((HERO.GUILD) == (GIL_MIL)) {
            SETDIALOGUETOLDPROPERTY(66225, TRUE);
        } else if ((HERO.GUILD) == (GIL_SLD)) {
            SETDIALOGUETOLDPROPERTY(71175, TRUE);
        };
        NPC_CLEARAIQUEUE(NONE_202_KESSEL);
        B_STARTOTHERROUTINE(NONE_202_KESSEL, "VINEYARD");
        TELEPORTNPCTOWP(56688, "PART9_WAIT_KESSEL");
        B_GIVEPLAYERXP(XP_Q406_KURTJOURNAL);
        NPC_REMOVEINVITEMS(HERO, 37146, 1);
        LOG_CREATETOPIC(TOPIC_Q406, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q406), TOPIC_Q406, LOG_RUNNING);
    };
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER4_EXECUTECOMMON(var int ID) {
    STORYHELPERMAINSTORYLINE_CHAPTER4 = ID;
    STORYHELPER_EXIT();
    STORYHELPER_MAINSTORYLINE_CHAPTER4_COMMON();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER4_1() {
    STORYHELPER_MAINSTORYLINE_CHAPTER4_EXECUTECOMMON(1);
    TELEPORTHEROTOWP("PART16_PATH_09");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER4_2() {
    STORYHELPER_MAINSTORYLINE_CHAPTER4_EXECUTECOMMON(2);
    TELEPORTHEROTOWP("WOLFSDEN_PATH_02");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER4_3() {
    STORYHELPER_MAINSTORYLINE_CHAPTER4_EXECUTECOMMON(3);
    TELEPORTHEROTOWP("WOLFSDEN_PATH_14");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER4_4() {
    STORYHELPER_MAINSTORYLINE_CHAPTER4_EXECUTECOMMON(4);
    TELEPORTHEROTOWP("WOLFSDEN_CITADEL_23");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER4_5() {
    STORYHELPER_MAINSTORYLINE_CHAPTER4_EXECUTECOMMON(5);
    TELEPORTHEROTOWP("WOLFSDEN_CITADEL_23");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER4_6() {
    STORYHELPER_MAINSTORYLINE_CHAPTER4_EXECUTECOMMON(6);
    TELEPORTHEROTOWP("WOLFSDEN_CITADEL_23");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER4_7() {
    INFO_CLEARCHOICES(93460);
    INFO_ADDCHOICE(93460, DIALOG_BACK, 93462);
    INFO_ADDCHOICE(93460, "2. CUTSCENE", 93477);
    INFO_ADDCHOICE(93460, "1. START", 93476);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER4_7_A() {
    STORYHELPER_MAINSTORYLINE_CHAPTER4_EXECUTECOMMON(7);
    TELEPORTHEROTOWP("HARBOUR_PATH_458");
    VOLKERGUARDS_PREPARESCENE();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER4_7_B() {
    STORYHELPER_MAINSTORYLINE_CHAPTER4_EXECUTECOMMON(7);
    TELEPORTHEROTOWP("SLUMS_HOUSE17_GRAVE_JORN");
    Q405_GRAVESCOUNT = 2;
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER4_8() {
    STORYHELPER_MAINSTORYLINE_CHAPTER4_EXECUTECOMMON(8);
    TELEPORTHEROTOWP("PART_13_ANA_DEAD");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER4_9() {
    STORYHELPER_MAINSTORYLINE_CHAPTER4_EXECUTECOMMON(9);
    TELEPORTHEROTOWP("PART9_WAIT_KESSEL");
    B_STARTOTHERROUTINE(NONE_202_KESSEL, "Q406_VINEYARD");
    NPC_REFRESH(NONE_202_KESSEL);
    TELEPORTNPCTOWP(56688, NONE_202_KESSEL.WP);
}

var int STORYHELPERMAINSTORYLINE_CHAPTER5;
var int STORYHELPERMAINSTORYLINE_CHAPTER5_CHOSENGUILD;
instance STORYHELPER_MAINSTORYLINE_CHAPTER5(C_INFO) {
    NPC = 50091;
    NR = 2;
    CONDITION = STORYHELPER_CONDITION_MAINSTORYLINE;
    INFORMATION = STORYHELPER_MAINSTORYLINE_CHAPTER5_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Rozdzia³ 5";
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_INFO() {
    INFO_CLEARCHOICES(93482);
    INFO_ADDCHOICE(93482, DIALOG_BACK, 93484);
    INFO_ADDCHOICE(93482, "Gildia Araxos", 93487);
    INFO_ADDCHOICE(93482, "Stra¿ miejska", 93486);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_BACK() {
    INFO_CLEARCHOICES(93482);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_CHOICES() {
    INFO_CLEARCHOICES(93482);
    INFO_ADDCHOICE(93482, DIALOG_BACK, 93484);
    INFO_ADDCHOICE(93482, "14. Q515 - Prawowity dziedzic", 93508);
    INFO_ADDCHOICE(93482, "13. Q514 - Volfzacke i Rozjemca", 93506);
    INFO_ADDCHOICE(93482, "4. Przygotowanie do wyprawy (rozmowa z Kesselem)", 93497);
    INFO_ADDCHOICE(93482, "3. Q503 - Ruiny zamku", 93496);
    INFO_ADDCHOICE(93482, "2. Q502 - Nadchodz¹cy sztorm", 93495);
    INFO_ADDCHOICE(93482, "1. Q501 - Wywar leczniczy", 93494);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_MILITIA() {
    STORYHELPERMAINSTORYLINE_CHAPTER5_CHOSENGUILD = GIL_MIL;
    STORYHELPER_MAINSTORYLINE_CHAPTER5_CHOICES();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_ARAXOS() {
    STORYHELPERMAINSTORYLINE_CHAPTER5_CHOSENGUILD = GIL_SLD;
    STORYHELPER_MAINSTORYLINE_CHAPTER5_CHOICES();
}

var int STORYHELPER_WORKERS;
func void STORYHELPER_MAINSTORYLINE_CHAPTER5_COMMON() {
    STORYHELPERMAINSTORYLINE_CHAPTER4_CHOSENGUILD = STORYHELPERMAINSTORYLINE_CHAPTER5_CHOSENGUILD;
    STORYHELPERMAINSTORYLINE_CHAPTER4 = 999;
    STORYHELPER_MAINSTORYLINE_CHAPTER4_COMMON();
    B_CHAPTERCHANGE(5, ARCHOLOS_ZEN, FALSE);
    if ((STORYHELPERMAINSTORYLINE_CHAPTER5) >= (1)) {
        LOG_SETSTATUS(_@(MIS_Q406), TOPIC_Q406, LOG_SUCCESS);
        SETDIALOGUETOLDPROPERTY(80092, TRUE);
        SETDIALOGUETOLDPROPERTY(80122, TRUE);
        SETDIALOGUETOLDPROPERTY(80129, TRUE);
        SETDIALOGUETOLDPROPERTY(80132, TRUE);
        B_GIVEPLAYERXP(XP_Q406_KURTHOUSE);
        B_GIVEPLAYERXP(XP_Q406_KURTJOURNAL);
        B_STARTOTHERROUTINE(NONE_202_KESSEL, "Q501_TIRED");
        NPC_REFRESH(NONE_202_KESSEL);
        TELEPORTNPCTOWP(56688, NONE_202_KESSEL.WP);
        MDL_APPLYOVERLAYMDS(NONE_202_KESSEL, HUMANSHURTMDS);
        B_STARTOTHERROUTINE(KDW_203_RIORDIAN, "CHAPTER5");
        NPC_REFRESH(KDW_203_RIORDIAN);
        TELEPORTNPCTOWP(56616, KDW_203_RIORDIAN.WP);
        if ((HLP_ISVALIDNPC(NONE_100008_ANA)) == (FALSE)) {
            WLD_INSERTNPC(51576, "PART8_Q501_SMALLTALK_02");
        };
        B_STARTOTHERROUTINE(NONE_100008_ANA, "Q501_SMALLTALK");
        NPC_REFRESH(NONE_100008_ANA);
        TELEPORTNPCTOWP(51576, NONE_100008_ANA.WP);
        MDL_APPLYOVERLAYMDS(HERO, "HumanS_Wounded.mds");
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER5) >= (2)) {
        SETDIALOGUETOLDPROPERTY(79614, TRUE);
        SETDIALOGUETOLDPROPERTY(79662, TRUE);
        LOG_CREATETOPIC(TOPIC_Q501, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q501), TOPIC_Q501, LOG_SUCCESS);
        CREATEINVITEMS(NONE_202_KESSEL, 35388, 1);
        CREATEINVITEMS(NONE_202_KESSEL, 34095, 1);
        CREATEINVITEMS(NONE_202_KESSEL, 39709, 1);
        NPC_CHANGEARMOR(NONE_202_KESSEL, 35388);
        MDL_REMOVEOVERLAYMDS(NONE_202_KESSEL, HUMANSHURTMDS);
        MDL_REMOVEOVERLAYMDS(HERO, "HumanS_Wounded.mds");
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER5) >= (3)) {
        if ((HLP_ISVALIDNPC(KDW_203_RIORDIAN)) == (FALSE)) {
            WLD_INSERTNPC(56616, "PART5_RIORDIAN_WAIT");
        };
        LOG_CREATETOPIC(TOPIC_Q502, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q502), TOPIC_Q502, LOG_RUNNING);
        SETDIALOGUETOLDPROPERTY(79509, TRUE);
        SETDIALOGUETOLDPROPERTY(79540, TRUE);
        SETDIALOGUETOLDPROPERTY(80143, TRUE);
        SETDIALOGUETOLDPROPERTY(80147, TRUE);
        SETDIALOGUETOLDPROPERTY(80136, TRUE);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER5) >= (4)) {
        LOG_CREATETOPIC(TOPIC_Q502, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q502), TOPIC_Q502, LOG_SUCCESS);
        LOG_CREATETOPIC(TOPIC_Q503, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q503), TOPIC_Q503, LOG_SUCCESS);
        LOG_CREATETOPIC(TOPIC_Q505, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q505), TOPIC_Q505, LOG_RUNNING);
        NPC_CLEARAIQUEUE(NONE_202_KESSEL);
        B_STARTOTHERROUTINE(NONE_202_KESSEL, "Q503_WAITOUTSIDE");
        NPC_CLEARAIQUEUE(KDW_203_RIORDIAN);
        B_STARTOTHERROUTINE(KDW_203_RIORDIAN, "Q503_WAITOUTSIDE");
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER5) >= (5)) {
        if ((HLP_ISVALIDNPC(MIL_6275_BERTO)) == (FALSE)) {
            WLD_INSERTNPC(56277, "PART10_PATH2_50");
        };
        B_STARTOTHERROUTINE(MIL_6275_BERTO, "CITY");
        NPC_CHANGEARMOR(MIL_6275_BERTO, 35501);
        NPC_REMOVEINVITEMS(MIL_6275_BERTO, 35509, 1);
        LOG_CREATETOPIC(TOPIC_QM401, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_QM401), TOPIC_QM401, 2);
        B_STARTOTHERROUTINE(VLK_10035_GARD, "QUESTEND");
        LOG_CREATETOPIC(TOPIC_SQ219, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_SQ219), TOPIC_SQ219, 2);
        B_STARTOTHERROUTINE(PAL_100_CANDAC, "SQ508_AFTERQUEST_V2");
        LOG_CREATETOPIC(TOPIC_SQ508, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_SQ508), TOPIC_SQ508, 2);
        SQ508_RESULT = 2;
        B_STARTOTHERROUTINE(MIL_6318_LUTZ, START);
        LOG_CREATETOPIC(TOPIC_SQ213, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_SQ213), TOPIC_SQ213, 2);
        LOG_CREATETOPIC(TOPIC_SQ410, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_SQ410), TOPIC_SQ410, 2);
        NPC_CHANGEARMOR(MIL_6318_LUTZ, 35549);
        LOG_CREATETOPIC(TOPIC_FAQ003, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_FAQ003), TOPIC_FAQ003, 2);
        LOG_CREATETOPIC(TOPIC_CQ003, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_CQ003), TOPIC_CQ003, 2);
        if (!(HLP_ISVALIDNPC(NONE_100007_RUPERT))) {
            WLD_INSERTNPC(51549, "WOLFSDEN_CITADEL_LEAN_01");
        };
        LOG_CREATETOPIC(TOPIC_SQ103, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_SQ103), TOPIC_SQ103, 2);
        if (!(HLP_ISVALIDNPC(NONE_6331_JAVAD))) {
            WLD_INSERTNPC(58566, "WOLFSDEN_CITADEL_LEAN_01");
        };
        B_STARTOTHERROUTINE(NONE_6331_JAVAD, "PIRATES");
        Q305_JAVAD_WENTTONEWHOME = 1;
        LOG_CREATETOPIC(TOPIC_SQ116, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_SQ116), TOPIC_SQ116, 2);
        B_STARTOTHERROUTINE(BAU_2242_DENNIS, "NORMALDAY");
        LOG_CREATETOPIC(TOPIC_SQ225, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_SQ225), TOPIC_SQ225, 2);
        SQ225_FINISHWAY = 3;
        B_STARTOTHERROUTINE(BAU_2245_HOLDWIG, "SQ225_FinishWay3_Vineyard");
        B_STARTOTHERROUTINE(VLK_11181_ANDERAS, "SQ225_FinishWay3_Vineyard");
        LOG_CREATETOPIC(TOPIC_SQ120, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_SQ120), TOPIC_SQ120, 2);
        LOG_CREATETOPIC(TOPIC_SQ206, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_SQ206), TOPIC_SQ206, 2);
        LOG_CREATETOPIC(TOPIC_CQ005, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_CQ005), TOPIC_CQ005, 2);
        LOG_CREATETOPIC(TOPIC_SQ313, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_SQ313), TOPIC_SQ313, 2);
        CQ005_ENDING = 1;
        PEON_SLAGER = TRUE;
        PEON_ODGAR = TRUE;
        PEON_HERSHLIK = TRUE;
        PEON_BORIS = TRUE;
        PEON_DAVIS = TRUE;
        SLAGER_Q505_COUNTMEAT = 24;
        LOG_CREATETOPIC(TOPIC_SQ412, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_SQ412), TOPIC_SQ412, 2);
        LOG_CREATETOPIC(TOPIC_SQ101, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_SQ101), TOPIC_SQ101, 2);
        LOG_CREATETOPIC(TOPIC_SQ102, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_SQ102), TOPIC_SQ102, 2);
        LOG_CREATETOPIC(TOPIC_SQ114, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_SQ114), TOPIC_SQ114, 2);
        SQ114_ENDING = 2;
        LOG_CREATETOPIC(TOPIC_SQ124, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_SQ124), TOPIC_SQ124, 2);
        LOG_CREATETOPIC(TOPIC_SQ117, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_SQ117), TOPIC_SQ117, 2);
        LOG_CREATETOPIC(TOPIC_FAQ001, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_FAQ001), TOPIC_FAQ001, 2);
        SQ207_DIMATOLEXX = 0;
        if ((HLP_ISVALIDNPC(NONE_7004_PABLO)) == (FALSE)) {
            WLD_INSERTNPC(55615, "PART5_VOLFZACKE_MAINGATE");
        };
        B_STARTOTHERROUTINE(NONE_7004_PABLO, "ARAXOS");
        LOG_CREATETOPIC(TOPIC_QA401, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_QA401), TOPIC_QA401, 2);
        QA401_PABLOTASKDONE = 1;
        LOG_CREATETOPIC(TOPIC_SQ227, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_SQ227), TOPIC_SQ227, 2);
        SQ227_EZEKIELMARKET = 2;
        FF_APPLYONCEEXTGT(62629, 0, -(1));
        B_STARTOTHERROUTINE(NONE_3_EZEKIEL, "TRADE");
        NPC_REFRESH(NONE_3_EZEKIEL);
        TELEPORTNPCTOWP(51492, NONE_3_EZEKIEL.WP);
        SQ227_REMOVEVEIT();
        SETDIALOGUETOLDPROPERTY(91136, TRUE);
        LOG_CREATETOPIC(TOPIC_KQ406, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_KQ406), TOPIC_KQ406, 2);
        KQ406_TELEPORTKNUT();
        if ((STORYHELPER_WORKERS) == (1)) {
            LOG_CREATETOPIC(TOPIC_QA306, LOG_MISSION);
            LOG_SETSTATUS(_@(MIS_QA306), TOPIC_QA306, 0);
            QA306_LOAFSJUDGMENT_RESULT = 2;
            LOG_CREATETOPIC(TOPIC_SQ301, LOG_MISSION);
            LOG_SETSTATUS(_@(MIS_SQ301), TOPIC_SQ301, 0);
            LOG_CREATETOPIC(TOPIC_SQ311, LOG_MISSION);
            LOG_SETSTATUS(_@(MIS_SQ311), TOPIC_SQ311, 0);
            LOG_CREATETOPIC(TOPIC_CQ006, LOG_MISSION);
            LOG_SETSTATUS(_@(MIS_CQ006), TOPIC_CQ006, 0);
            CQ004_RESULT = 0;
            SQ221_UWE_WORK = 0;
            Q401_ESTICUTTERS = 0;
        } else {
            LOG_CREATETOPIC(TOPIC_QA306, LOG_MISSION);
            LOG_SETSTATUS(_@(MIS_QA306), TOPIC_QA306, LOG_SUCCESS);
            QA306_LOAFSJUDGMENT_RESULT = 2;
            LOG_CREATETOPIC(TOPIC_SQ301, LOG_MISSION);
            LOG_SETSTATUS(_@(MIS_SQ301), TOPIC_SQ301, LOG_SUCCESS);
            LOG_CREATETOPIC(TOPIC_SQ311, LOG_MISSION);
            LOG_SETSTATUS(_@(MIS_SQ311), TOPIC_SQ311, LOG_SUCCESS);
            LOG_CREATETOPIC(TOPIC_CQ006, LOG_MISSION);
            LOG_SETSTATUS(_@(MIS_CQ006), TOPIC_CQ006, LOG_SUCCESS);
            CQ004_RESULT = 1;
            SQ221_UWE_WORK = 4;
            Q401_ESTICUTTERS = 2;
        };
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER5) >= (6)) {
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER5) >= (7)) {
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER5) >= (8)) {
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER5) >= (9)) {
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER5) >= (10)) {
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER5) >= (11)) {
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER5) >= (12)) {
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER5) >= (13)) {
        LOG_CREATETOPIC(TOPIC_Q514, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q514), TOPIC_Q514, LOG_RUNNING);
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER5) >= (14)) {
        Q514_FINISHVOLFZACKE = 2;
        B_LOGENTRY(TOPIC_Q514, LOG_Q514_FINISH);
        LOG_SETSTATUS(_@(MIS_Q514), TOPIC_Q514, LOG_SUCCESS);
        Q514_PREPAREWOLFSONS();
        if (!(HLP_ISVALIDNPC(KDW_203_RIORDIAN))) {
            PRINTD("Riordian istnieje again!");
            WLD_INSERTNPC(56616, "PART5_VOLFZACKE_MAINGATE");
            B_RIORDIANAFTERVOLFZACKE();
        } else {
            B_RIORDIANAFTERVOLFZACKE();
        };
        WLD_SENDTRIGGER("VOLFZACKGATE_V2");
        CREATEINVITEMS(HERO, 37623, 1);
        CREATEINVITEMS(HERO, 39466, 1);
    };
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_EXECUTECOMMON(var int ID) {
    STORYHELPERMAINSTORYLINE_CHAPTER5 = ID;
    STORYHELPER_EXIT();
    STORYHELPER_MAINSTORYLINE_CHAPTER5_COMMON();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_EXECUTECOMMONWITHOUTEXIT(var int ID) {
    STORYHELPERMAINSTORYLINE_CHAPTER5 = ID;
    STORYHELPER_MAINSTORYLINE_CHAPTER5_COMMON();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_1() {
    STORYHELPER_MAINSTORYLINE_CHAPTER5_EXECUTECOMMON(1);
    B_TRANSFERALLINVENTORYTOMOB(HERO, "KM_MARVINCHEST_5CHAPTER");
    HERO.ATTRIBUTE[0] = 10;
    TELEPORTHEROTOWP("PART8_MARVIN_CHAPTER5");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_2() {
    STORYHELPER_MAINSTORYLINE_CHAPTER5_EXECUTECOMMON(2);
    TELEPORTHEROTOWP("PART8_MARVIN_CHAPTER5");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_3() {
    STORYHELPER_MAINSTORYLINE_CHAPTER5_EXECUTECOMMON(3);
    TELEPORTHEROTOWP("PART5_PATH_02");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_4() {
    INFO_CLEARCHOICES(93482);
    INFO_ADDCHOICE(93482, "Daj mi wszystkie mo¿liwoci pracowników", 93499);
    INFO_ADDCHOICE(93482, "Daj mi 0 mo¿liwoci pracowników", 93500);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_WORKERS_START() {
    STORYHELPER_MAINSTORYLINE_CHAPTER5_EXECUTECOMMON(5);
    TELEPORTHEROTONPC(NONE_202_KESSEL);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_WORKERS_A() {
    STORYHELPER_WORKERS = 2;
    STORYHELPER_MAINSTORYLINE_CHAPTER5_WORKERS_START();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_WORKERS_B() {
    STORYHELPER_WORKERS = 1;
    STORYHELPER_MAINSTORYLINE_CHAPTER5_WORKERS_START();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_13_START() {
    STORYHELPER_MAINSTORYLINE_CHAPTER5_EXECUTECOMMON(13);
    CHANGEWORLD("ARCHOLOS_VOLFZACKE.ZEN", "VOLFZACKE_START");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_13_CHOICEV3() {
    INFO_CLEARCHOICES(93482);
    INFO_ADDCHOICE(93482, DIALOG_BACK, 93503);
    INFO_ADDCHOICE(93482, "KURWA ODPALAJ", 93501);
    INFO_ADDCHOICE(93482, "Cortez", 93516);
    INFO_ADDCHOICE(93482, "Berto", 93517);
    INFO_ADDCHOICE(93482, "Pablo", 93518);
    INFO_ADDCHOICE(93482, "Gard", 93519);
    INFO_ADDCHOICE(93482, "Du¿y Ben", 93520);
    INFO_ADDCHOICE(93482, "Candac", 93521);
    INFO_ADDCHOICE(93482, "Lutz", 93522);
    INFO_ADDCHOICE(93482, "Javad", 93523);
    INFO_ADDCHOICE(93482, "Grif", 93524);
    INFO_ADDCHOICE(93482, "Caramon", 93525);
    INFO_ADDCHOICE(93482, "Ilse", 93526);
    INFO_ADDCHOICE(93482, "Arwid", 93527);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_13_CHOICEV2() {
    INFO_CLEARCHOICES(93482);
    INFO_ADDCHOICE(93482, DIALOG_BACK, 93504);
    INFO_ADDCHOICE(93482, "DALEJ (TU BÊD¥ TOWARY)", 93502);
    INFO_ADDCHOICE(93482, "KURWA ODPALAJ", 93501);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_13_CHOICEV1() {
    INFO_CLEARCHOICES(93482);
    INFO_ADDCHOICE(93482, DIALOG_BACK, 93505);
    INFO_ADDCHOICE(93482, "DALEJ", 93503);
    INFO_ADDCHOICE(93482, "KURWA ODPALAJ", 93501);
    INFO_ADDCHOICE(93482, "Loafs i Tolek", 93515);
    INFO_ADDCHOICE(93482, "Nivel i Miroh", 93514);
    INFO_ADDCHOICE(93482, "Refir i Neral", 93513);
    INFO_ADDCHOICE(93482, "Uwe", 93512);
    INFO_ADDCHOICE(93482, "Veigo", 93511);
    INFO_ADDCHOICE(93482, "Lowell", 93510);
    INFO_ADDCHOICE(93482, "Ruud", 93509);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_13_BACK_V1() {
    INFO_CLEARCHOICES(93482);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_13() {
    var int STORYHELPER_PREPAREOUTSIDECAMP;
    STORYHELPER_MAINSTORYLINE_CHAPTER5_13_CHOICEV1();
    if ((STORYHELPER_PREPAREOUTSIDECAMP) == (FALSE)) {
        STORYHELPER_PREPAREOUTSIDECAMP = TRUE;
        FF_APPLYONCEEXTGT(63317, 0, -(1));
        FF_APPLYONCEEXTGT(63310, 0, -(1));
        B_STARTOTHERROUTINE(NONE_11037_MARKUS, "Q506_CAMP");
        NPC_REFRESH(NONE_11037_MARKUS);
        TELEPORTNPCTOWP(58050, NONE_11037_MARKUS.WP);
        NONE_11037_MARKUS.AIVAR[15] = TRUE;
        B_STARTOTHERROUTINE(BAU_712_STONE, "Q506_CAMP");
        NPC_REFRESH(BAU_712_STONE);
        TELEPORTNPCTOWP(57578, BAU_712_STONE.WP);
        BAU_712_STONE.AIVAR[15] = TRUE;
        B_STARTOTHERROUTINE(KDW_203_RIORDIAN, "Q505_WAITCAMP");
        NPC_REFRESH(KDW_203_RIORDIAN);
        TELEPORTNPCTOWP(56616, KDW_203_RIORDIAN.WP);
        KDW_203_RIORDIAN.AIVAR[15] = TRUE;
        B_STARTOTHERROUTINE(NONE_202_KESSEL, "Q505_WAITCAMP");
        NPC_REFRESH(NONE_202_KESSEL);
        TELEPORTNPCTOWP(56688, NONE_202_KESSEL.WP);
        NONE_202_KESSEL.AIVAR[15] = TRUE;
        TELEPORTNPCTOWP(1819, "PART5_Q505_HERO");
    };
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_14() {
    STORYHELPER_MAINSTORYLINE_CHAPTER5_EXECUTECOMMON(14);
    TELEPORTHEROTOWP("PART5_MOB_56");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_5_RUUD() {
    Q504_RUUDVOLFZACKE = TRUE;
    B_STARTOTHERROUTINE(VLK_6282_RUUD, "Q506_CAMP");
    NPC_REFRESH(VLK_6282_RUUD);
    TELEPORTNPCTOWP(54569, VLK_6282_RUUD.WP);
    VLK_6282_RUUD.AIVAR[15] = TRUE;
    Q504_CARPENTERSCOUNT = (Q504_CARPENTERSCOUNT) + (1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_5_LOWELL() {
    Q504_LOWELLVOLFZACKE = TRUE;
    B_STARTOTHERROUTINE(BAU_2277_LOWELL, "Q506_CAMP");
    NPC_REFRESH(BAU_2277_LOWELL);
    TELEPORTNPCTOWP(57274, BAU_2277_LOWELL.WP);
    BAU_2277_LOWELL.AIVAR[15] = TRUE;
    Q504_CARPENTERSCOUNT = (Q504_CARPENTERSCOUNT) + (1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_5_VEIGO() {
    Q504_VEIGOVOLFZACKE = TRUE;
    B_STARTOTHERROUTINE(VLK_6232_VEIGO, "Q506_CAMP");
    NPC_REFRESH(VLK_6232_VEIGO);
    TELEPORTNPCTOWP(55134, VLK_6232_VEIGO.WP);
    VLK_6232_VEIGO.AIVAR[15] = TRUE;
    Q504_CARPENTERSCOUNT = (Q504_CARPENTERSCOUNT) + (1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_5_UWE() {
    Q504_UWEVOLFZACKE = TRUE;
    B_STARTOTHERROUTINE(BAU_730_UWE, "Q506_CAMP");
    NPC_REFRESH(BAU_730_UWE);
    TELEPORTNPCTOWP(57650, BAU_730_UWE.WP);
    BAU_730_UWE.AIVAR[15] = TRUE;
    Q504_CARPENTERSCOUNT = (Q504_CARPENTERSCOUNT) + (1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_5_REFIRNERTAL() {
    Q504_REFIRNERALVOLFZACKE = TRUE;
    B_STARTOTHERROUTINE(NONE_11136_REFIR, "Q506_CAMP");
    NPC_REFRESH(NONE_11136_REFIR);
    TELEPORTNPCTOWP(57216, NONE_11136_REFIR.WP);
    NONE_11136_REFIR.AIVAR[15] = TRUE;
    B_STARTOTHERROUTINE(NONE_11137_NERAL, "Q506_CAMP");
    NPC_REFRESH(NONE_11137_NERAL);
    TELEPORTNPCTOWP(57222, NONE_11137_NERAL.WP);
    NONE_11137_NERAL.AIVAR[15] = TRUE;
    Q504_MINERSCOUNT = (Q504_MINERSCOUNT) + (1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_5_NIVELMIROH() {
    Q504_NIVELMIROHVOLFZACKE = TRUE;
    B_STARTOTHERROUTINE(VLK_6357_NIVEL, "Q506_CAMP");
    NPC_REFRESH(VLK_6357_NIVEL);
    TELEPORTNPCTOWP(53242, VLK_6357_NIVEL.WP);
    VLK_6357_NIVEL.AIVAR[15] = TRUE;
    B_STARTOTHERROUTINE(VLK_6358_MIROH, "Q506_CAMP");
    NPC_REFRESH(VLK_6358_MIROH);
    TELEPORTNPCTOWP(53253, VLK_6358_MIROH.WP);
    VLK_6358_MIROH.AIVAR[15] = TRUE;
    Q504_MINERSCOUNT = (Q504_MINERSCOUNT) + (1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_5_LOAFSTOLEK() {
    Q504_LOAFSVOLFZACKE = TRUE;
    B_STARTOTHERROUTINE(NONE_13708_LOAFS, "Q506_CAMP");
    NPC_REFRESH(NONE_13708_LOAFS);
    TELEPORTNPCTOWP(56351, NONE_13708_LOAFS.WP);
    NONE_13708_LOAFS.AIVAR[15] = TRUE;
    B_STARTOTHERROUTINE(NONE_13706_TOLLEK, "Q506_CAMP");
    NPC_REFRESH(NONE_13706_TOLLEK);
    TELEPORTNPCTOWP(56341, NONE_13706_TOLLEK.WP);
    NONE_13706_TOLLEK.AIVAR[15] = TRUE;
    Q504_MINERSCOUNT = (Q504_MINERSCOUNT) + (1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_11_CORTEZ() {
    PIR_1303_CORTEZ.AIVAR[15] = TRUE;
    PIR_1303_CORTEZ.FLAGS = 2;
    Q509_CORTEZVOLFZACKE = 1;
    NPC_EXCHANGEROUTINE(PIR_1303_CORTEZ, "Q509_WAIT");
    Q509_COUNTWARRIORS = (Q509_COUNTWARRIORS) + (1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_11_BERTO() {
    MIL_6275_BERTO.AIVAR[15] = TRUE;
    MIL_6275_BERTO.FLAGS = 2;
    Q509_BERTOVOLFZACKE = 1;
    NPC_EXCHANGEROUTINE(MIL_6275_BERTO, "Q509_WAIT");
    Q509_COUNTWARRIORS = (Q509_COUNTWARRIORS) + (1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_11_HAVARD() {
    DJG_13790_HAVARD.AIVAR[15] = TRUE;
    DJG_13790_HAVARD.FLAGS = 2;
    Q509_HAVARDVOLFZACKE = 1;
    NPC_EXCHANGEROUTINE(DJG_13790_HAVARD, "Q509_WAIT");
    Q509_COUNTWARRIORS = (Q509_COUNTWARRIORS) + (1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_11_GARD() {
    VLK_10035_GARD.AIVAR[15] = TRUE;
    VLK_10035_GARD.FLAGS = 2;
    Q509_GARDVOLFZACKE = 1;
    NPC_EXCHANGEROUTINE(VLK_10035_GARD, "Q509_WAIT");
    Q509_COUNTWARRIORS = (Q509_COUNTWARRIORS) + (1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_11_BEN() {
    NONE_7500_BEN.AIVAR[15] = TRUE;
    NONE_7500_BEN.FLAGS = 2;
    Q509_BENVOLFZACKE = 1;
    NPC_EXCHANGEROUTINE(NONE_7500_BEN, "Q509_WAIT");
    Q509_COUNTWARRIORS = (Q509_COUNTWARRIORS) + (1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_11_CANDAC() {
    PAL_100_CANDAC.AIVAR[15] = TRUE;
    PAL_100_CANDAC.FLAGS = 2;
    Q509_CANDACVOLFZACKE = 1;
    NPC_EXCHANGEROUTINE(PAL_100_CANDAC, "Q509_WAIT");
    Q509_COUNTWARRIORS = (Q509_COUNTWARRIORS) + (1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_11_LUTZ() {
    MIL_6318_LUTZ.AIVAR[15] = TRUE;
    MIL_6318_LUTZ.FLAGS = 2;
    Q509_LUTZVOLFZACKE = 1;
    NPC_EXCHANGEROUTINE(MIL_6318_LUTZ, "Q509_WAIT");
    Q509_COUNTWARRIORS = (Q509_COUNTWARRIORS) + (1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_11_JAVAD() {
    NONE_6331_JAVAD.AIVAR[15] = TRUE;
    NONE_6331_JAVAD.FLAGS = 2;
    Q509_JAVADVOLFZACKE = 1;
    NPC_EXCHANGEROUTINE(NONE_6331_JAVAD, "Q509_WAIT");
    Q509_COUNTWARRIORS = (Q509_COUNTWARRIORS) + (1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_11_GRIF() {
    SLD_13785_GRIF.AIVAR[15] = TRUE;
    Q509_GRIFVOLFZACKE = 1;
    SLD_13785_GRIF.FLAGS = 2;
    NPC_EXCHANGEROUTINE(SLD_13785_GRIF, "Q509_WAIT");
    Q509_COUNTWARRIORS = (Q509_COUNTWARRIORS) + (1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_11_CARAMON() {
    SLD_1009_CARAMON.AIVAR[15] = TRUE;
    Q509_CARAMONVOLFZACKE = 1;
    SLD_1009_CARAMON.FLAGS = 2;
    NPC_EXCHANGEROUTINE(SLD_1009_CARAMON, "Q509_WAIT");
    Q509_COUNTWARRIORS = (Q509_COUNTWARRIORS) + (1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_11_ILSE() {
    NONE_11301_ILSE.AIVAR[15] = TRUE;
    NONE_11301_ILSE.FLAGS = 2;
    Q509_ILSEVOLFZACKE = 1;
    NPC_EXCHANGEROUTINE(NONE_11301_ILSE, "Q509_WAIT");
    Q509_COUNTWARRIORS = (Q509_COUNTWARRIORS) + (1);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER5_11_ARWID() {
    MIL_4017_ARWID.AIVAR[15] = TRUE;
    MIL_4017_ARWID.FLAGS = 2;
    Q509_ARWIDVOLFZACKE = 1;
    NPC_EXCHANGEROUTINE(MIL_4017_ARWID, "Q509_WAIT");
    Q509_COUNTWARRIORS = (Q509_COUNTWARRIORS) + (1);
}

var int STORYHELPERMAINSTORYLINE_CHAPTER6;
var int STORYHELPERMAINSTORYLINE_CHAPTER6_CHOSENGUILD;
instance STORYHELPER_MAINSTORYLINE_CHAPTER6(C_INFO) {
    NPC = 50091;
    NR = 1;
    CONDITION = STORYHELPER_CONDITION_MAINSTORYLINE;
    INFORMATION = STORYHELPER_MAINSTORYLINE_CHAPTER6_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Rozdzia³ 6";
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_INFO() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93532);
    INFO_ADDCHOICE(93530, "Gildia Araxos", 93535);
    INFO_ADDCHOICE(93530, "Stra¿ miejska", 93534);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_BACK() {
    INFO_CLEARCHOICES(93530);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICES() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93532);
    INFO_ADDCHOICE(93530, "3. Napisy koñcowe", 93583);
    INFO_ADDCHOICE(93530, "2. Miasto w ogniu", 93541);
    INFO_ADDCHOICE(93530, "1. Czarna godzina", 93539);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_MILITIA() {
    STORYHELPERMAINSTORYLINE_CHAPTER6_CHOSENGUILD = GIL_MIL;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICES();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_ARAXOS() {
    STORYHELPERMAINSTORYLINE_CHAPTER6_CHOSENGUILD = GIL_SLD;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICES();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_COMMON() {
    STORYHELPERMAINSTORYLINE_CHAPTER5_CHOSENGUILD = STORYHELPERMAINSTORYLINE_CHAPTER6_CHOSENGUILD;
    STORYHELPERMAINSTORYLINE_CHAPTER5 = 999;
    STORYHELPER_MAINSTORYLINE_CHAPTER5_COMMON();
    B_CHAPTERCHANGE(6, ARCHOLOS_ZEN, FALSE);
    if ((STORYHELPERMAINSTORYLINE_CHAPTER6) >= (1)) {
        LOG_CREATETOPIC(TOPIC_Q515, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q515), TOPIC_Q515, LOG_SUCCESS);
        SETDIALOGUETOLDPROPERTY(82586, TRUE);
        SETDIALOGUETOLDPROPERTY(78135, TRUE);
        SETDIALOGUETOLDPROPERTY(79698, TRUE);
        SETDIALOGUETOLDPROPERTY(79701, TRUE);
        Q515_REMOVEALLNPC();
        NPC_REMOVEINVITEMS(HERO, 39466, 1);
        B_STARTOTHERROUTINE(KDW_215_NOTGER, "Q601_CHURCH");
        B_STARTOTHERROUTINE(KDW_216_INGOLF, "Q601_CHURCH");
    };
    if ((STORYHELPERMAINSTORYLINE_CHAPTER6) >= (2)) {
        LOG_CREATETOPIC(TOPIC_Q601, LOG_MISSION);
        LOG_SETSTATUS(_@(MIS_Q601), TOPIC_Q601, LOG_RUNNING);
    };
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_EXECUTECOMMON(var int ID) {
    STORYHELPERMAINSTORYLINE_CHAPTER6 = ID;
    STORYHELPER_EXIT();
    STORYHELPER_MAINSTORYLINE_CHAPTER6_COMMON();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_1() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_EXECUTECOMMON(1);
    TELEPORTNPCTOWP(1819, "PART8_CHURCH_03");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV1() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93532);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj miasto", 93542);
    INFO_ADDCHOICE(93530, "1b) Caramon - Nie poszed³ do Volfzacka", 93581);
    INFO_ADDCHOICE(93530, "1a) Caramon - Poszed³ do Volfzacka", 93580);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_2() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV1();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_START() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_EXECUTECOMMON(2);
    CHANGEWORLD("ARCHOLOS_ENDGAME.ZEN", "Q602_START");
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV2() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93540);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj miasto", 93542);
    INFO_ADDCHOICE(93530, "2b) Javad - Poszed³ do Przystani", 93579);
    INFO_ADDCHOICE(93530, "2a) Javad - Poszed³ do Miasta", 93578);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV3() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93543);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj miasto", 93542);
    INFO_ADDCHOICE(93530, "3b) Blake - ¯yje", 93577);
    INFO_ADDCHOICE(93530, "3a) Blake - Nie ¿yje", 93576);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV4() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93544);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj miasto", 93542);
    INFO_ADDCHOICE(93530, "4b) Runar - ¯yje", 93575);
    INFO_ADDCHOICE(93530, "4a) Runar - Nie ¿yje", 93574);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV5() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93545);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj miasto", 93542);
    INFO_ADDCHOICE(93530, "5c) Ruud - Nie poszed³ do Volfzacka (Nie ¿yje)", 93573);
    INFO_ADDCHOICE(93530, "5b) Ruud - Nie poszed³ do Volfzacka (¯yje)", 93572);
    INFO_ADDCHOICE(93530, "5a) Ruud - Poszed³ do Volfzacka", 93571);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV6() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93546);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj miasto", 93542);
    INFO_ADDCHOICE(93530, "6b) Arwid - Nie poszed³ do Volfzacka", 93570);
    INFO_ADDCHOICE(93530, "6a) Arwid - Poszed³ do Volfzacka", 93569);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV7() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93547);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj miasto", 93542);
    INFO_ADDCHOICE(93530, "7d) Yezegan - Zrobilimy wszystkie jego zadania", 93565);
    INFO_ADDCHOICE(93530, "7c) Yezegan - Zrobilimy jego Fedexa", 93566);
    INFO_ADDCHOICE(93530, "7b) Yezegan - Zrobilimy jego sposobem 'Im siê nale¿y'", 93567);
    INFO_ADDCHOICE(93530, "7a) Yezegan - Nie zrobilimy dla niego zadañ", 93568);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV8() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93548);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj miasto", 93542);
    INFO_ADDCHOICE(93530, "8b) Fabio - Nie ¿yje", 93563);
    INFO_ADDCHOICE(93530, "8a) Fabio - ¯yje", 93564);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV9() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93549);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj miasto", 93542);
    INFO_ADDCHOICE(93530, "9b) Ramsey - W jego zadaniu wybralimy ka¿d¹ inn¹ opcjê (NIE MA ZNACZENIA)", 93562);
    INFO_ADDCHOICE(93530, "9a) Ramsey - W jego zadaniu wybralimy opcjê 'Kradzie¿' (NIE MA ZNACZENIA)", 93561);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV10() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93550);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj miasto", 93542);
    INFO_ADDCHOICE(93530, "10b) Ivy - Nie lubi nas", 93560);
    INFO_ADDCHOICE(93530, "10a) Ivy - Lubi nas", 93559);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV11() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93551);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj miasto", 93542);
    INFO_ADDCHOICE(93530, "11c) Bia³y dzieñ - Umiera Ludlof", 93556);
    INFO_ADDCHOICE(93530, "11b) Bia³y dzieñ - Umiera Osip", 93555);
    INFO_ADDCHOICE(93530, "11a) Bia³y dzieñ - Umiera Ars", 93554);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV12() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93552);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj miasto", 93542);
    INFO_ADDCHOICE(93530, "12b) Marvin - Grzeczny ch³opiec", 93557);
    INFO_ADDCHOICE(93530, "12a) Marvin - Skurwysyn", 93558);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_DEATHA() {
    Q308_WHOWILLDIE = 1;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV12();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_DEATHB() {
    Q308_WHOWILLDIE = 2;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV12();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_DEATHC() {
    Q308_WHOWILLDIE = 3;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV12();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_MARVINB() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_START();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_MARVINA() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_START();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_IVYA() {
    IVYREPUTATION = 9;
    IVY_DATELOCATION = 2;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV11();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_IVYB() {
    IVYREPUTATION = 0;
    IVY_DATELOCATION = 0;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV11();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_RAMSEYA() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV10();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_RAMSEYB() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV10();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_FABIOB() {
    Q401_FABIOANDGANGGONE = 1;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV9();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_FABIOA() {
    Q401_FABIOANDGANGGONE = 2;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV9();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_YEZEGAND() {
    LOG_CREATETOPIC(TOPIC_SQ406, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ406), TOPIC_SQ406, LOG_RUNNING);
    Q401_DUSTERBIZZAREADVENTURE = 5;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV8();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_YEZEGANC() {
    LOG_CREATETOPIC(TOPIC_SQ406, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ406), TOPIC_SQ406, LOG_RUNNING);
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV8();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_YEZEGANB() {
    Q401_DUSTERBIZZAREADVENTURE = 5;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV8();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_YEZEGANA() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV8();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_ARWIDA() {
    Q509_ARWIDVOLFZACKE = 1;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV7();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_ARWIDB() {
    Q509_ARWIDVOLFZACKE = 0;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV7();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_RUUDA() {
    Q504_RUUDVOLFZACKE = 1;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV6();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_RUUDB() {
    LOG_CREATETOPIC(TOPIC_CQ006, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_CQ006), TOPIC_CQ006, LOG_SUCCESS);
    Q504_RUUDVOLFZACKE = 0;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV6();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_RUUDC() {
    Q504_RUUDVOLFZACKE = 0;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV6();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_SILVESTRA() {
    CQ005_FIGHTWITHTHUGS = 1;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV5();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_SILVESTRB() {
    CQ005_FIGHTWITHTHUGS = 0;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV5();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_BLAKEA() {
    SQ305_MARVINCANUSEBLAKELEVER = 3;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV4();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_BLAKEB() {
    SQ305_MARVINCANUSEBLAKELEVER = 2;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV4();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_JAVADA() {
    Q305_JAVAD_WENTTONEWHOME = 3;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV3();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_JAVADB() {
    Q305_JAVAD_WENTTONEWHOME = 1;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV3();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CARAMONA() {
    Q509_CARAMONVOLFZACKE = 1;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV2();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CARAMONB() {
    Q509_CARAMONVOLFZACKE = 0;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICEV2();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_STARTCREDITS() {
    STORYHELPER_EXIT();
    AI_FUNCTION(HERO, 93955);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93533);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "1a) Ending - Schowa³em siê na wyspie", 93665);
    INFO_ADDCHOICE(93530, "1b) Ending - Uciek³em z wyspy", 93666);
    INFO_ADDCHOICE(93530, "1c) Ending - Odnalaz³em brata", 93667);
    INFO_ADDCHOICE(93530, "1d) Ending - Walczy³em w miecie", 93668);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_01() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93583);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "2a) Paladyni - Prze¿yli", 93663);
    INFO_ADDCHOICE(93530, "2b) Paladyni - Nie prze¿yli", 93664);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_02() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93584);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "3a) Volker - nie ¿yje", 93662);
    INFO_ADDCHOICE(93530, "3b) Volker - wiêzienie", 93661);
    INFO_ADDCHOICE(93530, "3b) Volker - uciek³", 93661);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_03() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93585);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "4a) Lorenzo - nie ¿yje", 93659);
    INFO_ADDCHOICE(93530, "4b) Lorenzo - ¿yje", 93658);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_04() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93586);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "5a) Stra¿nik - Arwid w Volfzacku", 93657);
    INFO_ADDCHOICE(93530, "5b) Stra¿nik - Arwid zosta³ w miecie", 93656);
    INFO_ADDCHOICE(93530, "5c) Gildia - Caramon nie ¿yje", 93655);
    INFO_ADDCHOICE(93530, "5d) Gildia - Caramon ¿yje", 93654);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_05() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93587);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "6a) Stra¿nik - Powstrzyma³em renegatów", 93653);
    INFO_ADDCHOICE(93530, "6b) Stra¿nik - Niepowstrzyma³em renegatów", 93652);
    INFO_ADDCHOICE(93530, "6c) Gildia - Powstrzyma³em przemytników", 93651);
    INFO_ADDCHOICE(93530, "6d) Gildia - Niepowstrzyma³em przemytników", 93650);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_06() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93588);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "7a) Ramsey - ¯yje", 93649);
    INFO_ADDCHOICE(93530, "7b) Ramsey - Nie ¿yje", 93648);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_07() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93589);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "8a) Bestia - Niepowstrzyma³em", 93647);
    INFO_ADDCHOICE(93530, "8b) Bestia - Zabi³em brzytwiaka", 93646);
    INFO_ADDCHOICE(93530, "8c) Bestia - Zabi³em Detlowa", 93645);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_08() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93590);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "9a) Winnica Valerio - Wygra³ 1 brat", 93644);
    INFO_ADDCHOICE(93530, "9b) Winnica Valerio - Wygra³o 2 braci", 93643);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_09() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93591);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "10a) Przystañ - Podda³a siê", 93642);
    INFO_ADDCHOICE(93530, "10b) Przystañ - Umar³a", 93641);
    INFO_ADDCHOICE(93530, "10c) Przystañ - Uciek³a", 93640);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_10() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93592);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "11a) Orkowie - Powstrzymani", 93639);
    INFO_ADDCHOICE(93530, "11b) Orkowie - Nie tkniêci", 93638);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_11() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93593);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "12a) Fabio - ¯yje", 93637);
    INFO_ADDCHOICE(93530, "12b) Fabio - Nie ¿yje", 93636);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_12() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93594);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "13a) Ezekiel - Zosta³ kupcem", 93635);
    INFO_ADDCHOICE(93530, "13b) Ezekiel - Niezosta³ kupcem", 93634);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_13() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93595);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "14a) Kazeem - Odp³yna³", 93633);
    INFO_ADDCHOICE(93530, "14b) Kazeem - Nie odpyn¹³", 93632);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_14() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93596);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "15a) Rupert - Pracuje w miecie", 93631);
    INFO_ADDCHOICE(93530, "15b) Rupert - Nie pracuje w miecie", 93630);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_15() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93597);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "16a) Timo - Spotkalimy go w miecie", 93629);
    INFO_ADDCHOICE(93530, "16b) Timo - Nie spotkalimy go w miecie", 93628);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_16() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93598);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "17a) Kurt - Znalaz³em go", 93627);
    INFO_ADDCHOICE(93530, "17b) Kurt - Nie znalaz³em go", 93626);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_17() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93599);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "18a) Ivy - Pomog³a nam", 93625);
    INFO_ADDCHOICE(93530, "18b) Ivy - Uciek³a", 93624);
    INFO_ADDCHOICE(93530, "18c) Ivy - Zabilimy j¹", 93623);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_18() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93600);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "19a) Bodowin - ¯yje", 93622);
    INFO_ADDCHOICE(93530, "19b) Bodowin - Nie ¿yje", 93621);
    INFO_ADDCHOICE(93530, "19c) Bodowin - Uciek³", 93620);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_19() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93601);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "20a) Marvin - Zdoby³em dom", 93619);
    INFO_ADDCHOICE(93530, "20b) Marvin - nie zdobyem domu (nadpisze wybór z ucieczk¹ kazeema)", 93618);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_20() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93602);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "21a) Marvin - Mia³em 10000 golda", 93617);
    INFO_ADDCHOICE(93530, "21b) Marvin - Nie mia³em 10000 golda", 93616);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_21() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93603);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "22a) Marvin - Mia³em psa, nie odda³em Viktorowi", 93615);
    INFO_ADDCHOICE(93530, "22b) Marvin - Mia³em psa, odda³em Viktorowi", 93614);
    INFO_ADDCHOICE(93530, "22c) Marvin - Nie mia³em psa", 93613);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_22() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93604);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "23a) Havard - Zamkn¹³ wrota Vardhal", 93612);
    INFO_ADDCHOICE(93530, "23b) Havard - Nie zamkn¹³ wrota Vardhal", 93611);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_23() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93605);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "24a) Marvin - Do³¹czy³em do wodnego krêgu", 93610);
    INFO_ADDCHOICE(93530, "24b) Havard - Nie do³¹czy³em do wodnego krêgu", 93609);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_24() {
    INFO_CLEARCHOICES(93530);
    INFO_ADDCHOICE(93530, DIALOG_BACK, 93605);
    INFO_ADDCHOICE(93530, "Kurwa odpalaj napisy koñcowe", 93582);
    INFO_ADDCHOICE(93530, "25a) Grayson - Wykona³em jego zadania", 93608);
    INFO_ADDCHOICE(93530, "25b) Grayson - Nie wykona³em jego zadañ", 93582);
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE24_A() {
    LOG_CREATETOPIC(TOPIC_KQ401, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ401), TOPIC_KQ401, LOG_SUCCESS);
    STORYHELPER_MAINSTORYLINE_CHAPTER6_STARTCREDITS();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE23_B() {
    SQ504_JOINEDWATERCIRCLE = FALSE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_24();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE23_A() {
    SQ504_JOINEDWATERCIRCLE = TRUE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_24();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE22_B() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_23();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE22_A() {
    FINALBOARDS_HAVARDINSIDE = TRUE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_23();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE21_C() {
    TAKEDOGGO = FALSE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_22();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE21_B() {
    TAKEDOGGO = TRUE;
    SETDIALOGUETOLDPROPERTY(68169, TRUE);
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_22();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE21_A() {
    TAKEDOGGO = TRUE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_22();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE20_B() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_21();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE20_A() {
    CREATEINVITEMS(HERO, 34203, 10000);
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_21();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE19_B() {
    SQ411_MARVINGOTKEYS = FALSE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_20();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE19_A() {
    SQ411_MARVINGOTKEYS = TRUE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_20();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE18_C() {
    FINALBOARDS_BODOWINSTATUS = 3;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_19();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE18_B() {
    FINALBOARDS_BODOWINSTATUS = 2;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_19();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE18_A() {
    FINALBOARDS_BODOWINSTATUS = 1;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_19();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE17_C() {
    FINALBOARDS_IVYSTATUS = 3;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_18();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE17_B() {
    FINALBOARDS_IVYSTATUS = 2;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_18();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE17_A() {
    FINALBOARDS_IVYSTATUS = 1;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_18();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE16_B() {
    FINALBOARDS_KURTISDEAD = FALSE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_17();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE16_A() {
    FINALBOARDS_KURTISDEAD = TRUE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_17();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE15_B() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_16();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE15_A() {
    SETDIALOGUETOLDPROPERTY(91329, TRUE);
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_16();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE14_B() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_15();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE14_A() {
    SETDIALOGUETOLDPROPERTY(91393, TRUE);
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_15();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE13_B() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_14();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE13_A() {
    SQ411_MARVINGOTKEYS = TRUE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_14();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE12_B() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_13();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE12_A() {
    LOG_CREATETOPIC(TOPIC_SQ227, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ227), TOPIC_SQ227, LOG_SUCCESS);
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_13();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE11_B() {
    FINALBOARDS_FABIOISDEAD = TRUE;
    FINALBOARDS_FABIOISDEAD_HOW = 1;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_12();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE11_A() {
    FINALBOARDS_FABIOISDEAD = FALSE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_12();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE10_B() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_11();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE10_A() {
    LOG_CREATETOPIC(TOPIC_KQ407, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ407), TOPIC_KQ407, LOG_SUCCESS);
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_11();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE09_C() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_10();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE09_B() {
    SQ503_HAVENDECISION = 2;
    LOG_CREATETOPIC(TOPIC_SQ503, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ503), TOPIC_SQ503, LOG_SUCCESS);
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_10();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE09_A() {
    SQ503_HAVENDECISION = 1;
    LOG_CREATETOPIC(TOPIC_SQ503, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ503), TOPIC_SQ503, LOG_SUCCESS);
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_10();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE08_B() {
    SQ225_FINISHWAY = 3;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_09();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE08_A() {
    SQ225_FINISHWAY = 1;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_09();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE07_C() {
    FINALBOARDS_DETLOWISDEAD = TRUE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_08();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE07_B() {
    FINALBOARDS_RAZORISDEAD = TRUE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_08();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE07_A() {
    FINALBOARDS_RAZORISDEAD = FALSE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_08();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE06_B() {
    FINALBOARDS_RAMSEYISDEAD = TRUE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_07();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE06_A() {
    FINALBOARDS_RAMSEYISDEAD = FALSE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_07();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE05_D() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_06();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE05_C() {
    LOG_CREATETOPIC(TOPIC_QA401, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_QA401), TOPIC_QA401, LOG_SUCCESS);
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_06();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE05_B() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_06();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE05_A() {
    LOG_CREATETOPIC(TOPIC_QM401, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_QM401), TOPIC_QM401, LOG_SUCCESS);
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_06();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE04_D() {
    HERO.GUILD = GIL_SLD;
    FINALBOARDS_CARAMONISDEAD = FALSE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_05();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE04_C() {
    HERO.GUILD = GIL_SLD;
    FINALBOARDS_CARAMONISDEAD = TRUE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_05();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE04_B() {
    HERO.GUILD = GIL_MIL;
    Q509_ARWIDVOLFZACKE = FALSE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_05();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE04_A() {
    HERO.GUILD = GIL_MIL;
    Q509_ARWIDVOLFZACKE = TRUE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_05();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE03_B() {
    Q602_LORENZOISDEAD = FALSE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_04();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE03_A() {
    Q602_LORENZOISDEAD = TRUE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_04();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE02_C() {
    FINALBOARDS_VOLKERSTATUS = 3;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_03();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE02_B() {
    FINALBOARDS_VOLKERSTATUS = 2;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_03();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE02_A() {
    FINALBOARDS_VOLKERSTATUS = 1;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_03();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE01_A() {
    FINALBOARDS_PALADINSTATUS = TRUE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_02();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_CHOICE01_B() {
    FINALBOARDS_PALADINSTATUS = FALSE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_02();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_ENDINGA() {
    Q601_HIDEENDING = TRUE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_01();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_ENDINGB() {
    Q601_FLEEHAVENENDING = TRUE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_01();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_ENDINGC() {
    Q405_INTERESTINGEVENT = TRUE;
    STORYHELPER_MAINSTORYLINE_CHAPTER6_STARTCREDITS();
}

func void STORYHELPER_MAINSTORYLINE_CHAPTER6_ENDINGD() {
    STORYHELPER_MAINSTORYLINE_CHAPTER6_3_CHOICES_01();
}

instance STORYHELPER_SIDESTORYLINE_CHAPTER1(C_INFO) {
    NPC = 50091;
    NR = 1;
    CONDITION = STORYHELPER_CONDITION_SIDESTORYLINE;
    INFORMATION = STORYHELPER_SIDESTORYLINE_CHAPTER1_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Rozdzia³ 1";
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_INFO() {
    INFO_CLEARCHOICES(93669);
    INFO_ADDCHOICE(93669, DIALOG_BACK, 93671);
    INFO_ADDCHOICE(93669, "28. Oporny uczeñ", 93705);
    INFO_ADDCHOICE(93669, "27. Za zamkniêtymi drzwiami", 93704);
    INFO_ADDCHOICE(93669, "26. Morskie opowieci", 93703);
    INFO_ADDCHOICE(93669, "25. Gor¹ce piaski", 93702);
    INFO_ADDCHOICE(93669, "24. Sztuka pisania", 93701);
    INFO_ADDCHOICE(93669, "23. Z³oty interes", 93696);
    INFO_ADDCHOICE(93669, "22. Ukochana córka", 93695);
    INFO_ADDCHOICE(93669, "21. Ostre jak brzytwa", 93694);
    INFO_ADDCHOICE(93669, "20. Gor¹czka z³ota", 93693);
    INFO_ADDCHOICE(93669, "19. Nadmorskie znalezisko", 93692);
    INFO_ADDCHOICE(93669, "18. Sprawa ¿ycia lub mierci", 93691);
    INFO_ADDCHOICE(93669, "17. Krew myliwego", 93690);
    INFO_ADDCHOICE(93669, "16. Wieczne odpoczywanie", 93689);
    INFO_ADDCHOICE(93669, "15. Niedzwiedzia przys³uga", 93688);
    INFO_ADDCHOICE(93669, "14. Jak zmok³a kura", 93687);
    INFO_ADDCHOICE(93669, "13. Nieostro¿ny zak³ad", 93686);
    INFO_ADDCHOICE(93669, "12. Brudna robota", 93685);
    INFO_ADDCHOICE(93669, "11. Trzy prace alchemika", 93684);
    INFO_ADDCHOICE(93669, "10. Bez zamiatania pod dywan", 93683);
    INFO_ADDCHOICE(93669, "9. Niech stanie siê wiat³oæ", 93682);
    INFO_ADDCHOICE(93669, "8. Nocne wycie", 93681);
    INFO_ADDCHOICE(93669, "7. Praca, praca", 93680);
    INFO_ADDCHOICE(93669, "6. Porz¹dki", 93679);
    INFO_ADDCHOICE(93669, "5. Nikt nie zostaje z ty³u", 93678);
    INFO_ADDCHOICE(93669, "4b. Sp³ata D³ugu - Drwale", 93677);
    INFO_ADDCHOICE(93669, "4a. Sp³ata D³ugu - Wie¿a", 93676);
    INFO_ADDCHOICE(93669, "4. Sp³ata D³ugu - Pocz¹tek", 93675);
    INFO_ADDCHOICE(93669, "3. Dama w opa³ach", 93674);
    INFO_ADDCHOICE(93669, "2. Odnaleæ Rolfa", 93673);
    INFO_ADDCHOICE(93669, "1. Ch³opiec na posy³ki", 93672);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_BACK() {
    INFO_CLEARCHOICES(93669);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_1() {
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART3_BODOWINHOUSE_PATH02");
    SETDIALOGUETOLDPROPERTY(77428, TRUE);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_2() {
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("VILLAGE_PATH_50");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_3() {
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART12_PATH_05");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_4() {
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("VILLAGE_PUB_08");
    LOG_SETSTATUS(_@(MIS_Q103), TOPIC_Q103, LOG_SUCCESS);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_5() {
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART15_PATH_70");
    LOG_CREATETOPIC(TOPIC_SQ101, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ101), TOPIC_SQ101, LOG_RUNNING);
    B_LOGENTRY(TOPIC_SQ101, "");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_6() {
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART11_WOODCUTTERS_01");
    LOG_CREATETOPIC(TOPIC_SQ101, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ101), TOPIC_SQ101, LOG_RUNNING);
    B_LOGENTRY(TOPIC_SQ101, "");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_7() {
    STORYHELPER_EXIT();
    Q102_FABIOCHOSEN = TRUE;
    TELEPORTHEROTOWP("PART_13_CAVE_DARRYL");
    B_STARTOTHERROUTINE(NONE_100011_MAIWEN, "SQ103_CAVEWAIT");
    MDL_APPLYOVERLAYMDS(NONE_100011_MAIWEN, "HumanS_Scared.mds");
    if (NPC_ISDEAD(NONE_100010_DARRYL)) {
        WLD_INSERTNPC(51388, "PART_13_FABIO_CAVE_01");
        MDL_APPLYOVERLAYMDS(NONE_100010_DARRYL, HUMANSHURTMDS);
        B_STARTOTHERROUTINE(NONE_100010_DARRYL, "SQ103_CAVE");
        TELEPORTNPCTOWP(51388, "PART_13_FABIO_CAVE_01");
    };
    MDL_APPLYOVERLAYMDS(NONE_100010_DARRYL, HUMANSHURTMDS);
    B_STARTOTHERROUTINE(NONE_100010_DARRYL, "SQ103_CAVE");
    TELEPORTNPCTOWP(51388, "PART_13_FABIO_CAVE_01");
    TELEPORTNPCTOWP(51398, "PART_13_FABIO_CAVE_01");
    B_STARTOTHERROUTINE(NONE_5_FABIO, "Cave");
    TELEPORTHEROTOWP("PART_13_FABIO_CAVE_01");
    NONE_5_FABIO.AIVAR[15] = TRUE;
    NONE_100012_KAZEEM.AIVAR[15] = TRUE;
    NONE_100007_RUPERT.AIVAR[15] = TRUE;
    FABIOTOSILBACH = TRUE;
    WLD_INSERTNPC(50589, NONE_5_FABIO.WP);
    WLD_INSERTNPC(50590, NONE_100012_KAZEEM.WP);
    SETDIALOGUETOLDPROPERTY(91219, TRUE);
    LOG_CREATETOPIC(TOPIC_Q102, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q102), TOPIC_Q102, LOG_RUNNING);
    B_LOGENTRY(TOPIC_Q102, "");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_8() {
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("VILLAGE_PUB_08");
    SETDIALOGUETOLDPROPERTY(88228, TRUE);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_9() {
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART11_WOODCUTTERS_01");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_10() {
    WLD_SETTIME(20, 55);
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART11_WOODCUTTERS_04");
    B_STARTOTHERROUTINE(VLK_3015_DETLOW, "INNOSWAIT");
    SQ204_DETLOW_RTNCHECK = 1;
    LOG_CREATETOPIC(TOPIC_SQ204, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ204), TOPIC_SQ204, LOG_RUNNING);
    B_LOGENTRY(TOPIC_SQ204, LOG_SQ204_START);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_11() {
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART15_PATH_200");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_12() {
    WLD_SETTIME(13, 0);
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("VILLAGE_HOUSE_10_STOVE");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_13() {
    STORYHELPER_EXIT();
    SETDIALOGUETOLDPROPERTY(88371, TRUE);
    TELEPORTHEROTOWP("VILLAGE_PATH_126");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_14() {
    STORYHELPER_EXIT();
    WLD_SETTIME(18, 0);
    TELEPORTHEROTOWP("VILLAGE_HOUSE_08_CHAIR");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_15() {
    STORYHELPER_EXIT();
    SETDIALOGUETOLDPROPERTY(89616, TRUE);
    TELEPORTHEROTOWP("VILLAGE_PATH_19");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_16() {
    STORYHELPER_EXIT();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_17() {
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART7_BEEKEEPERS_STAND");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_18() {
    STORYHELPER_EXIT();
    CREATEINVITEMS(HERO, 34704, 1);
    TELEPORTHEROTOWP("PART11_MOB_34");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_19() {
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART16_STAND_01");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_20() {
    WLD_SETTIME(12, 0);
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART12_RAMSEYHOUSE_BUTCHER");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_21() {
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PART6_PATH_90");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_22() {
    STORYHELPER_EXIT();
    SETDIALOGUETOLDPROPERTY(87695, TRUE);
    TELEPORTHEROTOWP("VILLAGE_POORPLACE_03");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_23() {
    STORYHELPER_EXIT();
    SETDIALOGUETOLDPROPERTY(85371, TRUE);
    TELEPORTHEROTOWP("PART11_COAL_03");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_24() {
    STORYHELPER_EXIT();
    SILBACHSLEEP = 2;
    HARRYGATETESTPASSED = 1;
    B_STARTOTHERROUTINE(NONE_3_EZEKIEL, PUB01);
    SQ103_FINISHQUEST = TRUE;
    SQ103_FINISHQUEST_DAY = WLD_GETDAY();
    TELEPORTHEROTOWP("VILLAGE_PUB_THRONE04");
    LOG_CREATETOPIC(TOPIC_SQ103, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ103), TOPIC_SQ103, LOG_SUCCESS);
    PC_SLEEP(8);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_25() {
    INFO_CLEARCHOICES(93669);
    INFO_ADDCHOICE(93669, DIALOG_BACK, 93670);
    INFO_ADDCHOICE(93669, "C) Wykopywanie na poziomie - 70", 93700);
    INFO_ADDCHOICE(93669, "B) Wykopywanie na poziomie - 49", 93699);
    INFO_ADDCHOICE(93669, "A) Wykopywanie na poziomie - 30", 93698);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_25_START() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(1, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART7_PATH_95");
    CREATEINVITEMS(HERO, 34015, 5);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_25_A() {
    HERO_HACKCHANCE = 30;
    STORYHELPER_SIDESTORYLINE_CHAPTER1_25_START();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_25_B() {
    HERO_HACKCHANCE = 49;
    STORYHELPER_SIDESTORYLINE_CHAPTER1_25_START();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_25_C() {
    HERO_HACKCHANCE = 70;
    STORYHELPER_SIDESTORYLINE_CHAPTER1_25_START();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_26() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(1, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("VILLAGE_CEMETERY_01");
    LOG_CREATETOPIC(TOPIC_Q108, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q108), TOPIC_Q108, LOG_SUCCESS);
    Q108_RIORDIANWANTSTOMEETUP = TRUE;
    B_STARTOTHERROUTINE(KDW_203_RIORDIAN, "SQ121_WAIT");
    NPC_REFRESH(KDW_203_RIORDIAN);
    TELEPORTNPCTOWP(56616, KDW_203_RIORDIAN.WP);
    B_STARTOTHERROUTINE(BAU_706_LOKVAR, "Q108_WORK");
    NPC_REFRESH(BAU_706_LOKVAR);
    TELEPORTNPCTOWP(57563, BAU_706_LOKVAR.WP);
    SETDIALOGUETOLDPROPERTY(88391, TRUE);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_27() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(1, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART1_FISHERCAMP_01");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_28() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(1, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART4_FISHERMAN_18");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_29() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(1, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART4_FISHERMAN_FIREPLACE_04");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER1_30() {
    HERO.LP = 50;
    B_TEACHPLAYERTALENTALCHEMY(HERO, HERO, 1);
    STORYHELPER_EXIT();
    B_TEACHPLAYERTALENTSMITH(HERO, HERO, 1);
    B_CHAPTERCHANGE(1, ARCHOLOS_ZEN, FALSE);
    B_TEACHPLAYERTALENTTAKEANIMALTROPHY(HERO, HERO, TROPHY_TEETH);
    TELEPORTHEROTOWP("PART6_PATH_96");
}

instance STORYHELPER_SIDESTORYLINE_CHAPTER2(C_INFO) {
    NPC = 50091;
    NR = 2;
    CONDITION = STORYHELPER_CONDITION_SIDESTORYLINE;
    INFORMATION = STORYHELPER_SIDESTORYLINE_CHAPTER2_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Rozdzia³ 2";
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_INFO() {
    INFO_CLEARCHOICES(93706);
    INFO_ADDCHOICE(93706, DIALOG_BACK, 93708);
    INFO_ADDCHOICE(93706, "20. Pod zastaw", 93737);
    INFO_ADDCHOICE(93706, "19. Opowieæ plagi", 93736);
    INFO_ADDCHOICE(93706, "18. Dzielnica Piêci", 93735);
    INFO_ADDCHOICE(93706, "17. Zielona latarnia", 93732);
    INFO_ADDCHOICE(93706, "16. Stare porachunki", 93731);
    INFO_ADDCHOICE(93706, "15. Ten siê nada", 93730);
    INFO_ADDCHOICE(93706, "14. Zniszczone plony", 93729);
    INFO_ADDCHOICE(93706, "13. Kupiec Ezekiel", 93726);
    INFO_ADDCHOICE(93706, "12. Czyste ulice", 93725);
    INFO_ADDCHOICE(93706, "11. Folwark ch³opiêcy", 93720);
    INFO_ADDCHOICE(93706, "10. Miodowe lata", 93719);
    INFO_ADDCHOICE(93706, "9. Oczyciæ brzeg", 93718);
    INFO_ADDCHOICE(93706, "8. Praca dla rzenika", 93717);
    INFO_ADDCHOICE(93706, "7. Pomoc dla powodzian", 93716);
    INFO_ADDCHOICE(93706, "6. Przyczó³ek potrzebny od zaraz", 93715);
    INFO_ADDCHOICE(93706, "5b. Wspó³praca z Ramh¹ (W TERENIE)", 93714);
    INFO_ADDCHOICE(93706, "5a. Wspó³praca z Ramh¹ (START)", 93713);
    INFO_ADDCHOICE(93706, "4. Mój nowy dom", 93712);
    INFO_ADDCHOICE(93706, "3. Per³y wody", 93711);
    INFO_ADDCHOICE(93706, "2. Ostatnia partia towaru", 93709);
    INFO_ADDCHOICE(93706, "1. Raz na wozie...", 93710);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_BACK() {
    INFO_CLEARCHOICES(93706);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_1() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("VILLAGE_PATH_141");
    SETDIALOGUETOLDPROPERTY(87683, TRUE);
    SETDIALOGUETOLDPROPERTY(89446, TRUE);
    SETDIALOGUETOLDPROPERTY(87709, TRUE);
    SETDIALOGUETOLDPROPERTY(87712, TRUE);
    B_STARTOTHERROUTINE(NONE_6252_FREDRIK, "GQ001");
    TELEPORTNPCTOWP(57692, "VILLAGE_PATH_142");
    LOG_CREATETOPIC(TOPIC_Q201, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q201), TOPIC_Q201, LOG_RUNNING);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_2() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART4_PATH_03");
    LOG_CREATETOPIC(TOPIC_Q201, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q201), TOPIC_Q201, LOG_RUNNING);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_3() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("HARBOUR_PATH_350");
    CITYENTERED = TRUE;
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_4() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("HARBOUR_PATH_104");
    CITYENTERED = TRUE;
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_5() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM1_GUILDHOUSE_62");
    LOG_CREATETOPIC(TOPIC_Q204, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q204), TOPIC_Q204, LOG_SUCCESS);
    HERO.GUILD = GIL_SLD;
    CITYENTERED = TRUE;
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_6() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART7_PATH_09");
    LOG_CREATETOPIC(TOPIC_Q204, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q204), TOPIC_Q204, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_QA202, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_QA202), TOPIC_QA202, LOG_RUNNING);
    SETDIALOGUETOLDPROPERTY(76359, TRUE);
    SETDIALOGUETOLDPROPERTY(71089, TRUE);
    if ((!(HLP_ISVALIDNPC(VLK_6284_FIGARO))) && (!(HLP_ISVALIDNPC(VLK_6407_RAMHA)))) {
        WLD_INSERTNPC(52105, "PART7_PATH_09");
        WLD_INSERTNPC(53029, "PART7_PATH_09");
    };
    B_STARTOTHERROUTINE(VLK_6284_FIGARO, "QA202_NEARMINE");
    QA202_FIGARO_RTNCHECK = 1;
    B_STARTOTHERROUTINE(VLK_6407_RAMHA, "QA202_NEARMINE");
    HERO.GUILD = GIL_SLD;
    CITYENTERED = TRUE;
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_7() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM1_GUILDHOUSE_62");
    LOG_CREATETOPIC(TOPIC_Q204, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q204), TOPIC_Q204, LOG_SUCCESS);
    HERO.GUILD = GIL_SLD;
    CITYENTERED = TRUE;
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_8() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART12_RAMSEYHOUSE_13");
    SETDIALOGUETOLDPROPERTY(87683, TRUE);
    SETDIALOGUETOLDPROPERTY(87686, TRUE);
    SETDIALOGUETOLDPROPERTY(87689, TRUE);
    SETDIALOGUETOLDPROPERTY(87692, TRUE);
    LOG_CREATETOPIC(TOPIC_SQ101, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ101), TOPIC_SQ101, LOG_SUCCESS);
    CREATEINVITEMS(HERO, 34181, 1);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_9() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM3_BUTCHER_TANNING");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_10() {
    STORYHELPER_EXIT();
    WLD_SETTIME(8, 0);
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART12_PATH_68");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_11() {
    STORYHELPER_EXIT();
    WLD_SETTIME(8, 0);
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART7_BEEKEEPERS_FIX_01");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_12() {
    INFO_CLEARCHOICES(93706);
    INFO_ADDCHOICE(93706, DIALOG_BACK, 93707);
    INFO_ADDCHOICE(93706, "1) Zwyk³y start", 93721);
    INFO_ADDCHOICE(93706, "2) Eventy Andreasa", 93722);
    INFO_ADDCHOICE(93706, "3a) Walka w winnicy (Andreas)", 93723);
    INFO_ADDCHOICE(93706, "3b) Walka w winnicy (Holdwig)", 93724);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_12_A() {
    STORYHELPER_EXIT();
    WLD_SETTIME(8, 0);
    CITYENTERED = 1;
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM4_PATH_43");
    LOG_CREATETOPIC(TOPIC_SQ116, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ116), TOPIC_SQ116, LOG_SUCCESS);
    B_STARTOTHERROUTINE(BAU_2242_DENNIS, "NORMALDAY");
    B_STARTOTHERROUTINE(BAU_2245_HOLDWIG, "VINEYARD");
    DENIS_ALLOWUSGO = TRUE;
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_12_B() {
    STORYHELPER_EXIT();
    WLD_SETTIME(21, 0);
    CITYENTERED = 1;
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART9_PATH_19");
    LOG_CREATETOPIC(TOPIC_SQ116, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ116), TOPIC_SQ116, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_SQ225, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ225), TOPIC_SQ225, LOG_RUNNING);
    SQ225_ANDERASWAY_AGREED = TRUE;
    SQ225_ANDERASWAY_AGREEDCHECK = TRUE;
    SQ225_ANDERAS_PREPARESCENE();
    SQ225_STARW_SPAWN();
    B_STARTOTHERROUTINE(BAU_2242_DENNIS, "NORMALDAY");
    B_STARTOTHERROUTINE(BAU_2245_HOLDWIG, "VINEYARD");
    DENIS_ALLOWUSGO = TRUE;
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_12_C() {
    STORYHELPER_EXIT();
    WLD_SETTIME(8, 0);
    CITYENTERED = 1;
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART9_PATH_15");
    LOG_CREATETOPIC(TOPIC_SQ116, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ116), TOPIC_SQ116, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_SQ225, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ225), TOPIC_SQ225, LOG_RUNNING);
    SQ225_ANDERASWAY_AGREED = TRUE;
    SQ225_ANDERASWAY_AGREEDCHECK = TRUE;
    SQ225_FIGHTINVINEYARD_ANDERASWAY();
    SQ225_STARTFIGHTINVINEYARD();
    B_STARTOTHERROUTINE(BAU_2242_DENNIS, "NORMALDAY");
    B_STARTOTHERROUTINE(BAU_2245_HOLDWIG, "VINEYARD");
    DENIS_ALLOWUSGO = TRUE;
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_12_D() {
    STORYHELPER_EXIT();
    WLD_SETTIME(8, 0);
    CITYENTERED = 1;
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART9_PATH_176");
    LOG_CREATETOPIC(TOPIC_SQ116, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ116), TOPIC_SQ116, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_SQ225, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ225), TOPIC_SQ225, LOG_RUNNING);
    SQ225_HOLDWIGWAY_AGREED = TRUE;
    SQ225_FIGHTINVINEYARD_HOLDWIGWAY();
    SQ225_STARTFIGHTINVINEYARD_HOLDWIG();
    SQ225_HUNTINGGIANTBUG = 2;
    DENIS_ALLOWUSGO = TRUE;
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_13() {
    STORYHELPER_EXIT();
    CITYENTERED = 1;
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM1_BIGHOUSE_12");
    PC_SLEEP(8);
    LOG_CREATETOPIC(TOPIC_Q202, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q202), TOPIC_Q202, LOG_RUNNING);
    SETDIALOGUETOLDPROPERTY(73577, TRUE);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_14() {
    INFO_CLEARCHOICES(93706);
    INFO_ADDCHOICE(93706, DIALOG_BACK, 93707);
    INFO_ADDCHOICE(93706, "1) Ma³a reputacja w wiosce", 93727);
    INFO_ADDCHOICE(93706, "2) Du¿a reputacja w wiosce", 93728);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_14_START() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    SILBACHSLEEP = 2;
    HARRYGATETESTPASSED = 1;
    if (!(HLP_ISVALIDNPC(NONE_3_EZEKIEL))) {
        WLD_INSERTNPC(51492, "VILLAGE_PUB_THRONE04");
        B_STARTOTHERROUTINE(NONE_3_EZEKIEL, PUB01);
    };
    B_STARTOTHERROUTINE(NONE_3_EZEKIEL, PUB01);
    LOG_CREATETOPIC(TOPIC_SQ118, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ118), TOPIC_SQ118, LOG_SUCCESS);
    SETDIALOGUETOLDPROPERTY(91050, TRUE);
    SETDIALOGUETOLDPROPERTY(91056, TRUE);
    SETDIALOGUETOLDPROPERTY(91050, TRUE);
    SETDIALOGUETOLDPROPERTY(91066, TRUE);
    SETDIALOGUETOLDPROPERTY(91070, TRUE);
    SETDIALOGUETOLDPROPERTY(91073, TRUE);
    SETDIALOGUETOLDPROPERTY(91076, TRUE);
    CREATEINVITEMS(HERO, 33984, 3);
    CREATEINVITEMS(HERO, 36368, 4);
    CREATEINVITEMS(HERO, 36375, 4);
    CREATEINVITEMS(HERO, 36380, 10);
    TELEPORTHEROTOWP("VILLAGE_PUB_THRONE04");
    PC_SLEEP(9);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_14_ADDREPUTATION() {
    SILBACHREPUTATION = (SILBACHREPUTATION) + (5);
    PRINTD(CS2("Aktualna reputacja w wiosce: ", INTTOSTRING(SILBACHREPUTATION)));
    STORYHELPER_SIDESTORYLINE_CHAPTER2_14_START();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_15() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    LOG_CREATETOPIC(TOPIC_SQ210, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ210), TOPIC_SQ210, LOG_SUCCESS);
    CREATEINVITEMS(HERO, 34292, 2);
    CREATEINVITEMS(HERO, 34290, 1);
    CREATEINVITEMS(HERO, 33982, 1);
    CREATEINVITEMS(HERO, 34177, 1);
    SETDIALOGUETOLDPROPERTY(78376, TRUE);
    SETDIALOGUETOLDPROPERTY(78381, TRUE);
    SETDIALOGUETOLDPROPERTY(78384, TRUE);
    SETDIALOGUETOLDPROPERTY(78393, TRUE);
    SETDIALOGUETOLDPROPERTY(78398, TRUE);
    SETDIALOGUETOLDPROPERTY(78401, TRUE);
    TELEPORTHEROTOWP("PART6_LEAN_01");
    PC_SLEEP(12);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_16() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    CITYENTERED = TRUE;
    HERO.GUILD = GIL_MIL;
    CREATEINVITEMS(HERO, 35482, 1);
    AI_EQUIPARMOR(HERO, 35482);
    TELEPORTHEROTOWP("PARTM3_STAND_01");
    PC_SLEEP(12);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_17() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    CITYENTERED = TRUE;
    HERO.GUILD = GIL_MIL;
    CREATEINVITEMS(HERO, 35482, 1);
    AI_EQUIPARMOR(HERO, 35482);
    LOG_CREATETOPIC(TOPIC_FMQ003, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_FMQ003), TOPIC_FMQ003, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_Q203, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q203), TOPIC_Q203, LOG_SUCCESS);
    TELEPORTHEROTOWP("SLUMS_PATH_28");
    PC_SLEEP(12);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_18() {
    INFO_CLEARCHOICES(93706);
    INFO_ADDCHOICE(93706, DIALOG_BACK, 93707);
    INFO_ADDCHOICE(93706, "1) Jako najemnik (po nieuczciwej konkurencji)", 93733);
    INFO_ADDCHOICE(93706, "2) Jako stra¿nik", 93734);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_18_A() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("HARBOUR_PATH_449");
    HERO.GUILD = GIL_SLD;
    CREATEINVITEMS(HERO, 35451, 1);
    AI_EQUIPARMOR(HERO, 35451);
    LOG_CREATETOPIC(TOPIC_Q206, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q206), TOPIC_Q206, LOG_SUCCESS);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_18_B() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("HARBOUR_PATH_449");
    HERO.GUILD = GIL_MIL;
    CREATEINVITEMS(HERO, 35482, 1);
    AI_EQUIPARMOR(HERO, 35482);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_19() {
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("SLUMS_FIGHTCLUB_11");
    CREATEINVITEMS(HERO, 34203, 1000);
    if ((HERO.ATTRIBUTE[4]) < (20)) {
        HERO.ATTRIBUTE[4] = 50;
    };
    if ((HERO.ATTRIBUTE[5]) < (20)) {
        HERO.ATTRIBUTE[5] = 50;
    };
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_20() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM3_MEDIC_ALCHEMY");
    CITYENTERED = TRUE;
    HERO.GUILD = GIL_MIL;
    CREATEINVITEMS(HERO, 35482, 1);
    AI_EQUIPARMOR(HERO, 35482);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER2_21() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(2, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM3_PAWNSHOP_01");
    CITYENTERED = TRUE;
}

instance STORYHELPER_SIDESTORYLINE_CHAPTER3(C_INFO) {
    NPC = 50091;
    NR = 3;
    CONDITION = STORYHELPER_CONDITION_SIDESTORYLINE;
    INFORMATION = STORYHELPER_SIDESTORYLINE_CHAPTER3_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Rozdzia³ 3";
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_INFO() {
    INFO_CLEARCHOICES(93738);
    INFO_ADDCHOICE(93738, DIALOG_BACK, 93740);
    INFO_ADDCHOICE(93738, "25. Kto jest kim?", 93769);
    INFO_ADDCHOICE(93738, "24. Ucieczka", 93768);
    INFO_ADDCHOICE(93738, "23. Nowe techniki", 93767);
    INFO_ADDCHOICE(93738, "22. Opatrznoæ z góry", 93766);
    INFO_ADDCHOICE(93738, "21. Nowe wytyczne", 93765);
    INFO_ADDCHOICE(93738, "20. Transakcja ze zwiadem", 93764);
    INFO_ADDCHOICE(93738, "19. Nie przejd¹", 93763);
    INFO_ADDCHOICE(93738, "18. Uprowadzona", 93762);
    INFO_ADDCHOICE(93738, "17. ¯¹de³ko", 93761);
    INFO_ADDCHOICE(93738, "16. Teatr obitej twarzy", 93760);
    INFO_ADDCHOICE(93738, "15. Bry³ek kilka", 93759);
    INFO_ADDCHOICE(93738, "14. Braki w ¿ywnoci", 93758);
    INFO_ADDCHOICE(93738, "13. Kontraktorka", 93757);
    INFO_ADDCHOICE(93738, "12. Gdzie s³ów wiele", 93752);
    INFO_ADDCHOICE(93738, "11. Grosz do grosza", 93751);
    INFO_ADDCHOICE(93738, "10. Tani stra¿nicy", 93750);
    INFO_ADDCHOICE(93738, "9. Grochem o ciane", 93749);
    INFO_ADDCHOICE(93738, "8. To nie twoje", 93748);
    INFO_ADDCHOICE(93738, "7. Stra¿ nocna", 93747);
    INFO_ADDCHOICE(93738, "6. Nowy na Archolos?", 93746);
    INFO_ADDCHOICE(93738, "5. Sakiewka Larry'ego", 93745);
    INFO_ADDCHOICE(93738, "4. Zakopane skarby", 93744);
    INFO_ADDCHOICE(93738, "3. Te przeklête wê¿e", 93743);
    INFO_ADDCHOICE(93738, "2. W cichej mgle", 93742);
    INFO_ADDCHOICE(93738, "1. Z³ote Innosy", 93741);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_BACK() {
    INFO_CLEARCHOICES(93738);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_1() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM8_PATH_10");
    SETDIALOGUETOLDPROPERTY(69928, TRUE);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_2() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM2_PATH_68");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_3() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("P17_HAVEN_UP_03");
    SETDIALOGUETOLDPROPERTY(82726, TRUE);
    SETDIALOGUETOLDPROPERTY(84430, TRUE);
    SETDIALOGUETOLDPROPERTY(83704, TRUE);
    HAVEN_THIAGOENCOUNTER = TRUE;
    Q301_MYRMIDON_FINISHTALK = 2;
    B_KILLNPC(58495);
    B_STARTOTHERROUTINE(PIR_1303_CORTEZ, START);
    WLD_INSERTNPC(57947, "PART17_CAMPFIRE_03");
    WLD_INSERTNPC(57956, "PART17_CAMPFIRE_03");
    WLD_INSERTNPC(58036, "PART17_CAMPFIRE_03");
    B_STARTOTHERROUTINE(BDT_6289_VILLAN, "HAVEN");
    B_STARTOTHERROUTINE(BDT_6290_BANDIT, "HAVEN");
    B_STARTOTHERROUTINE(BDT_6288_MYRMIDON, "HAVEN");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_4() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART17_HAVEN_09");
    SETDIALOGUETOLDPROPERTY(82726, TRUE);
    SETDIALOGUETOLDPROPERTY(84430, TRUE);
    HAVEN_THIAGOENCOUNTER = TRUE;
    Q301_MYRMIDON_FINISHTALK = 2;
    B_KILLNPC(58495);
    B_STARTOTHERROUTINE(PIR_1303_CORTEZ, START);
    WLD_INSERTNPC(57947, "PART17_CAMPFIRE_03");
    WLD_INSERTNPC(57956, "PART17_CAMPFIRE_03");
    WLD_INSERTNPC(58036, "PART17_CAMPFIRE_03");
    B_STARTOTHERROUTINE(BDT_6289_VILLAN, "HAVEN");
    B_STARTOTHERROUTINE(BDT_6290_BANDIT, "HAVEN");
    B_STARTOTHERROUTINE(BDT_6288_MYRMIDON, "HAVEN");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_5() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("P17_HAVEN_BAR_IN_19");
    SETDIALOGUETOLDPROPERTY(82726, TRUE);
    SETDIALOGUETOLDPROPERTY(84430, TRUE);
    SETDIALOGUETOLDPROPERTY(84542, TRUE);
    HAVEN_THIAGOENCOUNTER = TRUE;
    Q301_MYRMIDON_FINISHTALK = 2;
    B_KILLNPC(58495);
    B_STARTOTHERROUTINE(PIR_1303_CORTEZ, START);
    WLD_INSERTNPC(57947, "PART17_CAMPFIRE_03");
    WLD_INSERTNPC(57956, "PART17_CAMPFIRE_03");
    WLD_INSERTNPC(58036, "PART17_CAMPFIRE_03");
    B_STARTOTHERROUTINE(BDT_6289_VILLAN, "HAVEN");
    B_STARTOTHERROUTINE(BDT_6290_BANDIT, "HAVEN");
    B_STARTOTHERROUTINE(BDT_6288_MYRMIDON, "HAVEN");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_6() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM4_TAVERN_01");
    CITYENTERED = TRUE;
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_7() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM1_OTMAR");
    SETDIALOGUETOLDPROPERTY(71753, TRUE);
    SETDIALOGUETOLDPROPERTY(71756, TRUE);
    SETDIALOGUETOLDPROPERTY(71759, TRUE);
    SETDIALOGUETOLDPROPERTY(71762, TRUE);
    SETDIALOGUETOLDPROPERTY(71765, TRUE);
    SETDIALOGUETOLDPROPERTY(71768, TRUE);
    CITYENTERED = TRUE;
    HERO.GUILD = GIL_SLD;
    CREATEINVITEMS(HERO, 35465, 1);
    AI_EQUIPARMOR(HERO, 35465);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_8() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM1_OTMAR");
    LOG_CREATETOPIC(TOPIC_QA203, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_QA203), TOPIC_QA203, LOG_SUCCESS);
    CITYENTERED = TRUE;
    HERO.GUILD = GIL_SLD;
    CREATEINVITEMS(HERO, 35465, 1);
    AI_EQUIPARMOR(HERO, 35465);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_9() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("P17_HAVEN_HUT1_STAND_01");
    CREATEINVITEM(HERO, 33662);
    CREATEINVITEM(HERO, 37426);
    CREATEINVITEM(HERO, 33656);
    CREATEINVITEM(HERO, 37434);
    CREATEINVITEM(HERO, 37035);
    CREATEINVITEM(HERO, 37036);
    CREATEINVITEM(HERO, 33661);
    CREATEINVITEM(HERO, 36956);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_10() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART10_HOUSE2_05");
    MILITIA_GUARDMINE_ALLOWUSTOGO = TRUE;
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_11() {
    STORYHELPER_EXIT();
    HERO.GUILD = GIL_MIL;
    CREATEINVITEM(HERO, 35488);
    AI_EQUIPARMOR(HERO, 35488);
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART10_MINE_WORK_05");
    MILITIA_GUARDMINE_ALLOWUSTOGO = TRUE;
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_12() {
    INFO_CLEARCHOICES(93738);
    INFO_ADDCHOICE(93738, DIALOG_BACK, 93738);
    INFO_ADDCHOICE(93738, "12D). CUTSCENE TRIMEGISTO ENDING", 93756);
    INFO_ADDCHOICE(93738, "12C). CUTSCENE HUGH ENDING", 93755);
    INFO_ADDCHOICE(93738, "12B). CUTSCENE HOUSE", 93754);
    INFO_ADDCHOICE(93738, "12A). NORMAL START", 93753);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_12_A() {
    STORYHELPER_EXIT();
    CITYENTERED = TRUE;
    CQ005_ENDING = 1;
    LOG_CREATETOPIC(TOPIC_CQ005, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_CQ005), TOPIC_CQ005, LOG_SUCCESS);
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    SETDIALOGUETOLDPROPERTY(67720, TRUE);
    SETDIALOGUETOLDPROPERTY(67723, TRUE);
    TELEPORTHEROTOWP("PARTM1_PATH_17");
    WLD_INSERTNPC(55590, "PART1_PATH_46");
    WLD_INSERTNPC(55594, "PART1_PATH_46");
    WLD_INSERTNPC(55598, "PART1_PATH_46");
    WLD_INSERTNPC(55602, "PART1_PATH_46");
    B_STARTOTHERROUTINE(NONE_6255_THUG, TOT);
    B_STARTOTHERROUTINE(NONE_6256_THUG, TOT);
    B_STARTOTHERROUTINE(NONE_6257_THUG, TOT);
    B_STARTOTHERROUTINE(NONE_6258_THUG, TOT);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_12_B() {
    STORYHELPER_EXIT();
    CITYENTERED = TRUE;
    CQ005_ENDING = 1;
    LOG_CREATETOPIC(TOPIC_CQ005, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_CQ005), TOPIC_CQ005, LOG_SUCCESS);
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    SETDIALOGUETOLDPROPERTY(67720, TRUE);
    SETDIALOGUETOLDPROPERTY(67723, TRUE);
    LOG_CREATETOPIC(TOPIC_SQ313, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ313), TOPIC_SQ313, LOG_RUNNING);
    TRIMEGISTO_SQ313_FOLLOWME = 1;
    TELEPORTHEROTOWP("SLUMS_PATH_241");
    WLD_INSERTNPC(55590, "PART1_PATH_46");
    WLD_INSERTNPC(55594, "PART1_PATH_46");
    WLD_INSERTNPC(55598, "PART1_PATH_46");
    WLD_INSERTNPC(55602, "PART1_PATH_46");
    B_STARTOTHERROUTINE(NONE_6255_THUG, TOT);
    B_STARTOTHERROUTINE(NONE_6256_THUG, TOT);
    B_STARTOTHERROUTINE(NONE_6257_THUG, TOT);
    B_STARTOTHERROUTINE(NONE_6258_THUG, TOT);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_12_C() {
    STORYHELPER_EXIT();
    CITYENTERED = TRUE;
    CQ005_ENDING = 1;
    SQ313_ENDING = 1;
    LOG_CREATETOPIC(TOPIC_CQ005, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_CQ005), TOPIC_CQ005, LOG_SUCCESS);
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    SETDIALOGUETOLDPROPERTY(67720, TRUE);
    SETDIALOGUETOLDPROPERTY(67723, TRUE);
    LOG_CREATETOPIC(TOPIC_SQ313, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ313), TOPIC_SQ313, LOG_RUNNING);
    TELEPORTHEROTOWP("PARTM1_STAND_03");
    if (!(HLP_ISVALIDNPC(KDF_6404_TRIMEGISTO))) {
        WLD_INSERTNPC(51943, "PARTM1_STAND_03");
    };
    if (!(HLP_ISVALIDNPC(KDF_9004_TENGRAL))) {
        WLD_INSERTNPC(55422, "PARTM1_STAND_03");
    };
    if (!(HLP_ISVALIDNPC(KDF_11261_FIREMAGE))) {
        WLD_INSERTNPC(51797, "PARTM1_STAND_03");
    };
    if (!(HLP_ISVALIDNPC(PAL_101_SILVESTR))) {
        WLD_INSERTNPC(55435, "PARTM1_STAND_03");
    };
    if (!(HLP_ISVALIDNPC(NONE_1004_HUUG))) {
        WLD_INSERTNPC(55041, "PARTM1_STAND_03");
        NPC_CLEARAIQUEUE(NONE_1004_HUUG);
        B_STARTOTHERROUTINE(NONE_1004_HUUG, "SQ313_MAGES");
        AI_TELEPORTALWAYS(NONE_1004_HUUG, NONE_1004_HUUG.WP, TRUE);
    };
    NPC_CLEARAIQUEUE(NONE_1004_HUUG);
    B_STARTOTHERROUTINE(NONE_1004_HUUG, "SQ313_MAGES");
    AI_TELEPORTALWAYS(NONE_1004_HUUG, NONE_1004_HUUG.WP, TRUE);
    SQ313_PREPAREMAGES_HUGHENDING();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_12_D() {
    STORYHELPER_EXIT();
    CITYENTERED = TRUE;
    CQ005_ENDING = 1;
    LOG_CREATETOPIC(TOPIC_CQ005, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_CQ005), TOPIC_CQ005, LOG_SUCCESS);
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    SETDIALOGUETOLDPROPERTY(67720, TRUE);
    SETDIALOGUETOLDPROPERTY(67723, TRUE);
    LOG_CREATETOPIC(TOPIC_SQ313, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ313), TOPIC_SQ313, LOG_RUNNING);
    TELEPORTHEROTOWP("PARTM1_STAND_03");
    if (!(HLP_ISVALIDNPC(KDF_6404_TRIMEGISTO))) {
        WLD_INSERTNPC(51943, "PARTM1_STAND_03");
        NPC_CLEARAIQUEUE(KDF_6404_TRIMEGISTO);
        B_STARTOTHERROUTINE(KDF_6404_TRIMEGISTO, "SQ313_GUIDE");
    };
    NPC_CLEARAIQUEUE(KDF_6404_TRIMEGISTO);
    B_STARTOTHERROUTINE(KDF_6404_TRIMEGISTO, "SQ313_GUIDE");
    if (!(HLP_ISVALIDNPC(KDF_9004_TENGRAL))) {
        WLD_INSERTNPC(55422, "PARTM1_STAND_03");
    };
    if (!(HLP_ISVALIDNPC(KDF_11261_FIREMAGE))) {
        WLD_INSERTNPC(51797, "PARTM1_STAND_03");
    };
    SQ313_PREPAREMAGES_TRIMEGISTOENDING();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_13() {
    STORYHELPER_EXIT();
    CITYENTERED = TRUE;
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    HERO.GUILD = GIL_MIL;
    CREATEINVITEMS(HERO, 35488, 1);
    AI_EQUIPARMOR(HERO, 35488);
    TELEPORTHEROTONPC(NONE_2009_LENNART);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_14() {
    STORYHELPER_EXIT();
    CITYENTERED = TRUE;
    LOG_CREATETOPIC(TOPIC_QM201, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_QM201), TOPIC_QM201, LOG_SUCCESS);
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    HERO.GUILD = GIL_MIL;
    CREATEINVITEMS(HERO, 35488, 1);
    AI_EQUIPARMOR(HERO, 35488);
    TELEPORTNPCTOWP(1819, "PARTM3_STAND_01");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_15() {
    STORYHELPER_EXIT();
    CITYENTERED = TRUE;
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    HERO.GUILD = GIL_MIL;
    CREATEINVITEMS(HERO, 35488, 1);
    AI_EQUIPARMOR(HERO, 35488);
    TELEPORTNPCTOWP(1819, "PARTM3_MEETING_01");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_16() {
    STORYHELPER_EXIT();
    CITYENTERED = TRUE;
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTNPCTOWP(1819, RNG_TRAP17_WAYPOINT);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_17() {
    STORYHELPER_EXIT();
    SETDIALOGUETOLDPROPERTY(84234, TRUE);
    LOG_CREATETOPIC(TOPIC_Q304, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q304), TOPIC_Q304, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_Q303, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q303), TOPIC_Q303, LOG_SUCCESS);
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTNPCTOWP(1819, "P17_HAVEN_BAR_IN_25");
    CREATEINVITEMS(HERO, 35304, 1);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_18() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    HERO.GUILD = GIL_MIL;
    CREATEINVITEMS(HERO, 35488, 1);
    AI_EQUIPARMOR(HERO, 35488);
    CREATEINVITEMS(HERO, 33978, 10);
    CREATEINVITEMS(HERO, 34203, 300);
    CREATEINVITEMS(HERO, 36363, 20);
    TELEPORTNPCTOWP(1819, "PARTM3_PATH_25A");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_19() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM1_GUILDHOUSE02_40");
    LOG_CREATETOPIC(TOPIC_Q204, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q204), TOPIC_Q204, LOG_SUCCESS);
    HERO.GUILD = GIL_SLD;
    MARVIN_ARAXOSSPECIALIZATION = ARAXOS_SPECIALIZATION_FIGHTER;
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    CREATEINVITEMS(HERO, 35454, 1);
    AI_EQUIPARMOR(HERO, 35454);
    PC_SLEEP(8);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_20() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM1_LOOKOUT_01");
    HERO.GUILD = GIL_SLD;
    MARVIN_ARAXOSSPECIALIZATION = ARAXOS_SPECIALIZATION_ARCHER;
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    CREATEINVITEMS(HERO, 35470, 1);
    AI_EQUIPARMOR(HERO, 35470);
    PC_SLEEP(9);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_21() {
    STORYHELPER_EXIT();
    LOG_CREATETOPIC(TOPIC_QA302, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_QA302), TOPIC_QA302, LOG_SUCCESS);
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM1_LOOKOUT_01");
    HERO.GUILD = GIL_SLD;
    MARVIN_ARAXOSSPECIALIZATION = ARAXOS_SPECIALIZATION_ARCHER;
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    CREATEINVITEMS(HERO, 35470, 1);
    AI_EQUIPARMOR(HERO, 35470);
    SETDIALOGUETOLDPROPERTY(70546, TRUE);
    PC_SLEEP(9);
    PC_SLEEP(9);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_22() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM3_PATH_169");
    HERO.GUILD = GIL_MIL;
    MARVIN_MILITIASPECIALIZATION = MILITIA_SPECIALIZATION_CROSSBOWMAN;
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    CREATEINVITEMS(HERO, 35493, 1);
    AI_EQUIPARMOR(HERO, 35493);
    QM201_REMOVENPC();
    QM201_WEIGARPROMOTION();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_23() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM3_HERO");
    HERO.GUILD = GIL_MIL;
    MARVIN_MILITIASPECIALIZATION = MILITIA_SPECIALIZATION_FIGHTER;
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    LOG_CREATETOPIC(TOPIC_QM304, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_QM304), TOPIC_QM304, LOG_SUCCESS);
    CREATEINVITEMS(HERO, 35501, 1);
    AI_EQUIPARMOR(HERO, 35501);
    SETDIALOGUETOLDPROPERTY(67523, TRUE);
    QM201_REMOVENPC();
    QM201_WEIGARPROMOTION();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_24() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTNPCTOWP(1819, "P17_HAVEN_ARENA_66");
    HAVEN_THIAGOENCOUNTER = TRUE;
    SETDIALOGUETOLDPROPERTY(84430, TRUE);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER3_25() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(3, ARCHOLOS_ZEN, FALSE);
    TELEPORTNPCTOWP(1819, "PARTM1_GUILDHOUSE_LORENZO_WRITING");
    LOG_CREATETOPIC(TOPIC_SQ119, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ119), TOPIC_SQ119, LOG_SUCCESS);
    HERO.GUILD = GIL_SLD;
    CITYENTERED = TRUE;
    CREATEINVITEMS(HERO, 35465, 1);
    AI_EQUIPARMOR(HERO, 35465);
    CREATEINVITEMS(HERO, 34015, 5);
    HERO_HACKCHANCE = 50;
    SQ119_GOTPAYMENT = 1;
    SQ119_PASSAGEPAYMENT = 1;
    SQ119_CANGOTOARAXOSMINE = TRUE;
}

instance STORYHELPER_SIDESTORYLINE_CHAPTER4(C_INFO) {
    NPC = 50091;
    NR = 4;
    CONDITION = STORYHELPER_CONDITION_SIDESTORYLINE;
    INFORMATION = STORYHELPER_SIDESTORYLINE_CHAPTER4_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Rozdzia³ 4";
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_INFO() {
    INFO_CLEARCHOICES(93770);
    INFO_ADDCHOICE(93770, DIALOG_BACK, 93772);
    INFO_ADDCHOICE(93770, "19. Srebro i Stal", 93817);
    INFO_ADDCHOICE(93770, "18. Nie do podwigniêcia", 93818);
    INFO_ADDCHOICE(93770, "17. Nocny Wartownik", 93816);
    INFO_ADDCHOICE(93770, "16. Jak za starych czasów", 93815);
    INFO_ADDCHOICE(93770, "15. Zamykamy interes", 93812);
    INFO_ADDCHOICE(93770, "14. Krew o wino", 93809);
    INFO_ADDCHOICE(93770, "13. Bestia z Archolos", 93804);
    INFO_ADDCHOICE(93770, "12. Czas decyzji", 93803);
    INFO_ADDCHOICE(93770, "11. Nie zaznasz spokoju", 93802);
    INFO_ADDCHOICE(93770, "10. Ma³y Upominek", 93801);
    INFO_ADDCHOICE(93770, "9. Talerz ciep³ej strawy", 93800);
    INFO_ADDCHOICE(93770, "8. Dom nie do poznania", 93799);
    INFO_ADDCHOICE(93770, "7. Królowa cierni", 93798);
    INFO_ADDCHOICE(93770, "6. Sierpem i M³otem", 93797);
    INFO_ADDCHOICE(93770, "5. Jak kul¹ w p³ot", 93796);
    INFO_ADDCHOICE(93770, "4. Prze³omowe odkrycie", 93795);
    INFO_ADDCHOICE(93770, "3. Nowe trunki", 93775);
    INFO_ADDCHOICE(93770, "2. Wilczych skór wiele", 93774);
    INFO_ADDCHOICE(93770, "1. Królewski Wys³annik", 93773);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_BACK() {
    INFO_CLEARCHOICES(93770);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_KING() {
    INFO_CLEARCHOICES(93770);
    INFO_ADDCHOICE(93770, DIALOG_BACK, 93772);
    INFO_ADDCHOICE(93770, "7. Orkowa zaraza", 93820);
    INFO_ADDCHOICE(93770, "6. Statek w porcie jest bezpiezny", 93819);
    INFO_ADDCHOICE(93770, "5. Wszystko jest w porz¹dku", 93807);
    INFO_ADDCHOICE(93770, "4. W ekstremalnych warunkach", 93777);
    INFO_ADDCHOICE(93770, "3. Dla dobra publicznego", 93788);
    INFO_ADDCHOICE(93770, "2. Vengardzkie sukienki", 93787);
    INFO_ADDCHOICE(93770, "1. W s³u¿bie jego krolewskiej moci", 93776);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_1() {
    STORYHELPER_EXIT();
    SETDIALOGUETOLDPROPERTY(82539, TRUE);
    CREATEINVITEMS(HERO, 35346, 1);
    CREATEINVITEMS(HERO, 33848, 1);
    CREATEINVITEMS(HERO, 35347, 1);
    CREATEINVITEMS(HERO, 35348, 1);
    CREATEINVITEMS(HERO, 33859, 1);
    CREATEINVITEMS(HERO, 35349, 1);
    CREATEINVITEMS(HERO, 35350, 1);
    CREDNAR_ALLOWUSTOGO = TRUE;
    LEAN_ALLOWUSTOGO = TRUE;
    Q402_INFOABOUTMINE = TRUE;
    Q402_FOUNDVARHALANDLEGRIF = TRUE;
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("WOLFSDEN_BAES");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_2() {
    STORYHELPER_EXIT();
    LOG_CREATETOPIC(TOPIC_CQ003, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_CQ003), TOPIC_CQ003, LOG_SUCCESS);
    CREATEINVITEMS(HERO, 36364, 1);
    CREATEINVITEMS(HERO, 36355, 1);
    CREATEINVITEMS(HERO, 36393, 1);
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("WOLFSDEN_TAVERN_03");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_3() {
    SETDIALOGUETOLDPROPERTY(66213, TRUE);
    SETDIALOGUETOLDPROPERTY(71162, TRUE);
    LOG_CREATETOPIC(TOPIC_KQ401, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ401), TOPIC_KQ401, LOG_RUNNING);
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    CITYENTERED = TRUE;
    KQ401_SPAWNNPC();
    INFO_CLEARCHOICES(93770);
    INFO_ADDCHOICE(93770, DIALOG_BACK, 93773);
    INFO_ADDCHOICE(93770, "3a). Araxos 	- normalnie", 93794);
    INFO_ADDCHOICE(93770, "3a). Stra¿nik - normalnie", 93793);
    INFO_ADDCHOICE(93770, "2a). Araxos 	- wywalony", 93792);
    INFO_ADDCHOICE(93770, "2a). Stra¿nik - wywalony", 93791);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_15() {
    INFO_CLEARCHOICES(93770);
    INFO_ADDCHOICE(93770, DIALOG_BACK, 93773);
    INFO_ADDCHOICE(93770, "2. Sposoby Huxleya", 93786);
    INFO_ADDCHOICE(93770, "1. Start", 93785);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_15_START() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(5, ARCHOLOS_ZEN, FALSE);
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    TELEPORTHEROTOWP("PARTM5_CITYHALL_43");
    LOG_CREATETOPIC(TOPIC_Q405, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q405), TOPIC_Q405, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_KQ401, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ401), TOPIC_KQ401, LOG_RUNNING);
    KQ401_SPAWNNPC();
    KQ404_SPAWNNPC();
    KQ404_PREPAREHOUSE();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_15_1() {
    HERO.GUILD = GIL_VLK;
    MARVIN_LOSTGUILDMILITA = 1;
    CREATEINVITEMS(HERO, 35542, 1);
    AI_EQUIPARMOR(HERO, 35542);
    STORYHELPER_SIDESTORYLINE_CHAPTER4_15_START();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_15_2() {
    HERO.GUILD = GIL_VLK;
    MARVIN_LOSTGUILDARAXOS = 1;
    CREATEINVITEMS(HERO, 35542, 1);
    AI_EQUIPARMOR(HERO, 35542);
    STORYHELPER_SIDESTORYLINE_CHAPTER4_15_START();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_15_3() {
    HERO.GUILD = GIL_VLK;
    MARVIN_LOSTGUILDMILITA = 1;
    KQ402_DECISION = 2;
    CREATEINVITEMS(HERO, 35542, 1);
    AI_EQUIPARMOR(HERO, 35542);
    STORYHELPER_SIDESTORYLINE_CHAPTER4_15_START();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_15_4() {
    HERO.GUILD = GIL_VLK;
    MARVIN_LOSTGUILDARAXOS = 1;
    KQ403_DECISION = 2;
    CREATEINVITEMS(HERO, 35542, 1);
    AI_EQUIPARMOR(HERO, 35542);
    STORYHELPER_SIDESTORYLINE_CHAPTER4_15_START();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_15_5() {
    HERO.GUILD = GIL_MIL;
    SETDIALOGUETOLDPROPERTY(67780, TRUE);
    LOG_CREATETOPIC(TOPIC_KQ402, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ402), TOPIC_KQ402, LOG_SUCCESS);
    CREATEINVITEMS(HERO, 35488, 1);
    AI_EQUIPARMOR(HERO, 35488);
    STORYHELPER_SIDESTORYLINE_CHAPTER4_15_START();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_15_6() {
    HERO.GUILD = GIL_SLD;
    SETDIALOGUETOLDPROPERTY(67780, TRUE);
    LOG_CREATETOPIC(TOPIC_KQ403, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ403), TOPIC_KQ403, LOG_SUCCESS);
    CREATEINVITEMS(HERO, 35465, 1);
    AI_EQUIPARMOR(HERO, 35465);
    STORYHELPER_SIDESTORYLINE_CHAPTER4_15_START();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_15_A() {
    INFO_CLEARCHOICES(93770);
    INFO_ADDCHOICE(93770, DIALOG_BACK, 93777);
    INFO_ADDCHOICE(93770, "3a). Araxos 	- normalnie", 93784);
    INFO_ADDCHOICE(93770, "3a). Stra¿nik - normalnie", 93783);
    INFO_ADDCHOICE(93770, "2a). Araxos 	- odszed³e sam", 93782);
    INFO_ADDCHOICE(93770, "2a). Stra¿nik - odszed³e sam", 93781);
    INFO_ADDCHOICE(93770, "1b). Araxos   - wywalony", 93780);
    INFO_ADDCHOICE(93770, "1a). Stra¿nik - wywalony", 93779);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_15_B() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(5, ARCHOLOS_ZEN, FALSE);
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    TELEPORTHEROTOWP("HARBOUR_DARKSECRETS_BOSS");
    LOG_CREATETOPIC(TOPIC_Q405, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q405), TOPIC_Q405, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_KQ401, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ401), TOPIC_KQ401, LOG_RUNNING);
    LOG_CREATETOPIC(TOPIC_KQ404, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ404), TOPIC_KQ404, LOG_RUNNING);
    KQ401_SPAWNNPC();
    KQ404_SPAWNNPC();
    KQ404_PREPAREHOUSE();
    B_STARTOTHERROUTINE(MIL_13382_HUXLAY, "KQ404_WAIT");
    B_STARTOTHERROUTINE(MIL_13381_EURIC, "KQ404_CONCERT");
    SETDIALOGUETOLDPROPERTY(67780, TRUE);
    SETDIALOGUETOLDPROPERTY(67826, TRUE);
    SETDIALOGUETOLDPROPERTY(67829, TRUE);
    SETDIALOGUETOLDPROPERTY(67832, TRUE);
    SETDIALOGUETOLDPROPERTY(68508, TRUE);
    SETDIALOGUETOLDPROPERTY(65728, TRUE);
    SETDIALOGUETOLDPROPERTY(65731, TRUE);
    SETDIALOGUETOLDPROPERTY(65734, TRUE);
    PC_SLEEP(24);
    PC_SLEEP(24);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_4() {
    STORYHELPER_EXIT();
    SETDIALOGUETOLDPROPERTY(66213, TRUE);
    SETDIALOGUETOLDPROPERTY(71162, TRUE);
    SETDIALOGUETOLDPROPERTY(67780, TRUE);
    LOG_CREATETOPIC(TOPIC_KQ401, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ401), TOPIC_KQ401, LOG_RUNNING);
    LOG_CREATETOPIC(TOPIC_KQ402, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ402), TOPIC_KQ402, LOG_RUNNING);
    LOG_CREATETOPIC(TOPIC_Q405, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q405), TOPIC_Q405, LOG_SUCCESS);
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    HERO.GUILD = GIL_MIL;
    TELEPORTHEROTOWP("PARTM3_RODERICH_LOOKOUT");
    if (!(HLP_ISVALIDNPC(MIL_4040_CABI))) {
        WLD_INSERTNPC(52903, "PARTM3_TRAINING_01");
    };
    if (!(HLP_ISVALIDNPC(MIL_4041_LEVE))) {
        WLD_INSERTNPC(52929, "PARTM3_TRAINING_01");
    };
    KQ401_SPAWNNPC();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_5() {
    STORYHELPER_EXIT();
    SETDIALOGUETOLDPROPERTY(66213, TRUE);
    SETDIALOGUETOLDPROPERTY(71162, TRUE);
    SETDIALOGUETOLDPROPERTY(67780, TRUE);
    LOG_CREATETOPIC(TOPIC_KQ401, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ401), TOPIC_KQ401, LOG_RUNNING);
    LOG_CREATETOPIC(TOPIC_KQ403, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ403), TOPIC_KQ403, LOG_RUNNING);
    LOG_CREATETOPIC(TOPIC_Q405, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q405), TOPIC_Q405, LOG_SUCCESS);
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    HERO.GUILD = GIL_SLD;
    TELEPORTHEROTOWP("PARTM1_GUILDHOUSE_62");
    KQ401_SPAWNNPC();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_3_1() {
    STORYHELPER_EXIT();
    HERO.GUILD = GIL_MIL;
    TELEPORTHEROTOWP("PARTM3_RODERICH_LOOKOUT");
    WLD_INSERTNPC(52981, "PARTM3_PATH_143");
    B_STARTOTHERROUTINE(MIL_6382_ALCAS, "MILITIA");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_3_2() {
    STORYHELPER_EXIT();
    HERO.GUILD = GIL_SLD;
    TELEPORTHEROTOWP("PARTM1_GUILDHOUSE_62");
    WLD_INSERTNPC(52981, "PARTM1_JOINARAXOS_BOSS");
    B_STARTOTHERROUTINE(MIL_6382_ALCAS, "ARAXOS");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_3_3() {
    STORYHELPER_EXIT();
    MARVIN_LOSTGUILDMILITA = 1;
    TELEPORTHEROTOWP("PARTM3_RODERICH_LOOKOUT");
    WLD_INSERTNPC(52981, "PARTM3_PATH_143");
    B_STARTOTHERROUTINE(MIL_6382_ALCAS, "MILITIA");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_3_4() {
    STORYHELPER_EXIT();
    MARVIN_LOSTGUILDARAXOS = 1;
    TELEPORTHEROTOWP("PARTM1_GUILDHOUSE_62");
    WLD_INSERTNPC(52981, "PARTM1_JOINARAXOS_BOSS");
    B_STARTOTHERROUTINE(MIL_6382_ALCAS, "ARAXOS");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_3_5() {
    STORYHELPER_EXIT();
    HERO.GUILD = GIL_MIL;
    TELEPORTHEROTOWP("PARTM3_RODERICH_LOOKOUT");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_3_6() {
    STORYHELPER_EXIT();
    HERO.GUILD = GIL_SLD;
    TELEPORTHEROTOWP("PARTM1_GUILDHOUSE_62");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_6() {
    STORYHELPER_EXIT();
    LOG_CREATETOPIC(TOPIC_Q401, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q401), TOPIC_Q401, LOG_SUCCESS);
    Q401_DUSTERBIZZAREADVENTURE = 4;
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    CITYENTERED = TRUE;
    HAVEN_THIAGOENCOUNTER = 2;
    Q401_REMOVEYEZEGAN();
    TELEPORTHEROTOWP("WOLFSDEN_CITADEL_ROOM02_LABPSI01");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_7() {
    STORYHELPER_EXIT();
    Q306_STATE = 27;
    TELEPORTHEROTOWP("PART17_SQ408_BERTER");
    LOG_CREATETOPIC(TOPIC_SQ310, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ310), TOPIC_SQ310, LOG_SUCCESS);
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_8() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    SETDIALOGUETOLDPROPERTY(87683, TRUE);
    SETDIALOGUETOLDPROPERTY(87686, TRUE);
    SETDIALOGUETOLDPROPERTY(87689, TRUE);
    SETDIALOGUETOLDPROPERTY(87692, TRUE);
    TELEPORTHEROTOWP("PART12_RAMSEYHOUSE_13");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_9() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("VILLAGE_SQ410_LUTZ");
    SETDIALOGUETOLDPROPERTY(67081, TRUE);
    SETDIALOGUETOLDPROPERTY(67102, TRUE);
    SETDIALOGUETOLDPROPERTY(67093, TRUE);
    SETDIALOGUETOLDPROPERTY(67096, TRUE);
    SETDIALOGUETOLDPROPERTY(67099, TRUE);
    SETDIALOGUETOLDPROPERTY(88216, TRUE);
    SETDIALOGUETOLDPROPERTY(88033, TRUE);
    SETDIALOGUETOLDPROPERTY(88228, TRUE);
    SETDIALOGUETOLDPROPERTY(88240, TRUE);
    SETDIALOGUETOLDPROPERTY(88036, TRUE);
    SQ213_WAITTONEXTQUEST_DAY = WLD_GETDAY();
    if (!(HLP_ISVALIDNPC(MIL_6318_LUTZ))) {
        WLD_INSERTNPC(52420, "VILLAGE_PUB_100");
    };
    LOG_CREATETOPIC(TOPIC_SQ213, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ213), TOPIC_SQ213, LOG_SUCCESS);
    NPC_CLEARAIQUEUE(MIL_6318_LUTZ);
    B_STARTOTHERROUTINE(MIL_6318_LUTZ, "SQ410_START");
    NPC_CLEARAIQUEUE(BAU_722_RASCO);
    B_STARTOTHERROUTINE(BAU_722_RASCO, "SQ410");
    NPC_CLEARAIQUEUE(BAU_702_VIKTOR);
    B_STARTOTHERROUTINE(BAU_702_VIKTOR, "SQ410_INN");
    SQ410_VIKTOR_RTNCHECK = 1;
    NPC_CHANGEARMOR(MIL_6318_LUTZ, 35549);
    PC_SLEEP(8);
    PC_SLEEP(8);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_10() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM5_PATH_68");
    OLDCITYENTERED = TRUE;
    CITYENTERED = TRUE;
    PC_SLEEP(8);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_11() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM5_ERNESTO_03");
    OLDCITYENTERED = TRUE;
    CITYENTERED = TRUE;
    NPC_CLEARAIQUEUE(VLK_3024_ERNESTO);
    B_STARTOTHERROUTINE(VLK_3024_ERNESTO, "OLDCITY");
    AI_TELEPORTALWAYS(VLK_3024_ERNESTO, VLK_3024_ERNESTO.WP, TRUE);
    LOG_CREATETOPIC(TOPIC_FAQ002, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_FAQ002), TOPIC_FAQ002, LOG_SUCCESS);
    CREATEINVITEMS(HERO, 33982, 8);
    CREATEINVITEMS(HERO, 36378, 5);
    CREATEINVITEMS(HERO, 36380, 5);
    CREATEINVITEMS(HERO, 33656, 1);
    CREATEINVITEMS(HERO, 33988, 1);
    CREATEINVITEMS(HERO, 34180, 1);
    PC_SLEEP(8);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_12() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM3_PATH_125");
    OLDCITYENTERED = TRUE;
    CITYENTERED = TRUE;
    PC_SLEEP(8);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_13() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART11_COAL_02");
    OLDCITYENTERED = TRUE;
    CITYENTERED = TRUE;
    PC_SLEEP(8);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_14() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("WOLFSDEN_PATH_52");
    OLDCITYENTERED = TRUE;
    CITYENTERED = TRUE;
    CREDNAR_ALLOWUSTOGO = TRUE;
    Q402_GRONCUTSCENESTATUS = 2;
    LOG_CREATETOPIC(TOPIC_Q401, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q401), TOPIC_Q401, LOG_SUCCESS);
    B_REMOVENPC(58129);
    B_REMOVENPC(58132);
    B_REMOVENPC(58135);
    B_REMOVENPC(58138);
    B_STARTOTHERROUTINE(DJG_10002_YEZEGAN, "ALCHEMY");
    B_STARTOTHERROUTINE(NONE_5_FABIO, "Q401_SWAMP");
    B_STARTOTHERROUTINE(DJG_10005_WOLFSON, "PROTECTION");
    B_STARTOTHERROUTINE(NONE_16_IVY, "WOLFSDENINSIDE_DIALOGUE");
    TELEPORTNPCTOWP(58543, "WOLFSDEN_PATH_43");
    PC_SLEEP(8);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_16() {
    INFO_CLEARCHOICES(93770);
    INFO_ADDCHOICE(93770, DIALOG_BACK, 93771);
    INFO_ADDCHOICE(93770, "2. Karczma Silbach", 93806);
    INFO_ADDCHOICE(93770, "1. Start", 93805);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_16_A() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM5_HOUSE_RAMSEY_LOOKOUT");
    SQ416_RAMSEY_READYTOSTARTQUEST = TRUE;
    OLDCITYENTERED = TRUE;
    CITYENTERED = TRUE;
    CREDNAR_ALLOWUSTOGO = TRUE;
    PC_SLEEP(8);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_16_B() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("VILLAGE_PUB_04");
    SQ416_RAMSEY_READYTOSTARTQUEST = TRUE;
    OLDCITYENTERED = TRUE;
    CITYENTERED = TRUE;
    CREDNAR_ALLOWUSTOGO = TRUE;
    LOG_CREATETOPIC(TOPIC_SQ416, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ416), TOPIC_SQ416, LOG_RUNNING);
    SQ416_RAMSEYHOUSEMEETING = 4;
    if (!(HLP_ISVALIDNPC(VLK_3015_DETLOW))) {
        WLD_INSERTNPC(53778, "VILLAGE_PUB_SMOKEPIPE02");
    };
    if (!(HLP_ISVALIDNPC(SLD_11050_GERKE))) {
        WLD_INSERTNPC(55777, "VILLAGE_PUB_SMOKEPIPE02");
    };
    if (!(HLP_ISVALIDNPC(VLK_3025_ALLAN))) {
        WLD_INSERTNPC(52497, "VILLAGE_PUB_SMOKEPIPE02");
    };
    if (!(HLP_ISVALIDNPC(SLD_13491_RUDI))) {
        WLD_INSERTNPC(52059, "VILLAGE_PUB_SMOKEPIPE02");
    };
    NPC_CLEARAIQUEUE(VLK_3015_DETLOW);
    B_STARTOTHERROUTINE(VLK_3015_DETLOW, "SQ416_VILLAGE_INN");
    SQ416_DETLOW_RTNCHECK = 2;
    NPC_CLEARAIQUEUE(SLD_11050_GERKE);
    B_STARTOTHERROUTINE(SLD_11050_GERKE, "SQ416_VILLAGE_INN");
    NPC_CLEARAIQUEUE(VLK_3025_ALLAN);
    B_STARTOTHERROUTINE(VLK_3025_ALLAN, "SQ416_VILLAGE_INN");
    NPC_CLEARAIQUEUE(SLD_13491_RUDI);
    B_STARTOTHERROUTINE(SLD_13491_RUDI, "SQ416_VILLAGE_INN");
    B_STARTOTHERROUTINE(BAU_11033_FARMER, "SQ416_VILLAGE_INN");
    B_STARTOTHERROUTINE(BAU_11015_FARMER, "SQ416_VILLAGE_INN");
    SQ416_SUNDER_RTNCHECK = 1;
    B_STARTOTHERROUTINE(SLD_5002_SUNDER, "SQ416_VILLAGE_INN");
    if ((SQ227_BOUGHTVEITLIST) == (FALSE)) {
        B_STARTOTHERROUTINE(NONE_11006_VEIT, "SQ416_VILLAGE_INN");
    };
    B_STARTOTHERROUTINE(NONE_11037_MARKUS, START);
    B_STARTOTHERROUTINE(NONE_6262_CARDEN, START);
    B_STARTOTHERROUTINE(BAU_704_BASTIAN, "SQ416_VILLAGE_INN");
    HERO.AIVAR[4] = FALSE;
    PC_SLEEP(8);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_17() {
    INFO_CLEARCHOICES(93770);
    INFO_ADDCHOICE(93770, DIALOG_BACK, 93771);
    INFO_ADDCHOICE(93770, "1. Start", 93808);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_17_A() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(5, ARCHOLOS_ZEN, FALSE);
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    TELEPORTHEROTOWP("PARTM5_CITYHALL_43");
    LOG_CREATETOPIC(TOPIC_Q405, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q405), TOPIC_Q405, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_KQ404, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ404), TOPIC_KQ404, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_KQ401, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ401), TOPIC_KQ401, LOG_RUNNING);
    KQ401_SPAWNNPC();
    SETDIALOGUETOLDPROPERTY(67780, TRUE);
    PC_SLEEP(8);
    PC_SLEEP(8);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_22() {
    INFO_CLEARCHOICES(93770);
    INFO_ADDCHOICE(93770, DIALOG_BACK, 93771);
    INFO_ADDCHOICE(93770, "1. Start", 93810);
    INFO_ADDCHOICE(93770, "2. Winnica", 93811);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_22_A() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM3_CROSSBOWGUARD_04");
    HERO.GUILD = GIL_MIL;
    MARVIN_MILITIASPECIALIZATION = MILITIA_SPECIALIZATION_FIGHTER;
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    Q205_MARVINJOINEDRENEGADES = TRUE;
    CREATEINVITEMS(HERO, 35501, 1);
    AI_EQUIPARMOR(HERO, 35501);
    SETDIALOGUETOLDPROPERTY(82539, TRUE);
    SETDIALOGUETOLDPROPERTY(66000, TRUE);
    FF_APPLYONCEEXTGT(62208, 0, -(1));
    FF_APPLYONCEEXTGT(62238, 0, -(1));
    FF_APPLYONCEEXTGT(62263, 0, -(1));
    Q205_SPAWNRENEGADES();
    B_REMOVENPC(56295);
    B_STARTOTHERROUTINE(MIL_6268_BRODDY, TOT);
    TELEPORTNPCTOWP(56266, MIL_6268_BRODDY.WP);
    B_STARTOTHERROUTINE(MIL_6264_RENEGADE, TOT);
    TELEPORTNPCTOWP(56224, MIL_6264_RENEGADE.WP);
    B_STARTOTHERROUTINE(MIL_6267_SALVI, TOT);
    TELEPORTNPCTOWP(56256, MIL_6267_SALVI.WP);
    B_STARTOTHERROUTINE(MIL_6277_RENEGADE, TOT);
    TELEPORTNPCTOWP(56237, MIL_6277_RENEGADE.WP);
    B_STARTOTHERROUTINE(NONE_6269_DANIEL, TOT);
    TELEPORTNPCTOWP(56307, NONE_6269_DANIEL.WP);
    B_STARTOTHERROUTINE(MIL_6275_BERTO, TOT);
    TELEPORTNPCTOWP(56277, MIL_6275_BERTO.WP);
    PC_SLEEP(9);
    PC_SLEEP(9);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_22_B() {
    HERO.GUILD = GIL_MIL;
    MARVIN_MILITIASPECIALIZATION = MILITIA_SPECIALIZATION_FIGHTER;
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    Q205_MARVINJOINEDRENEGADES = TRUE;
    QM401_BEATUPBERTO = 2;
    QM401_RENEGADESCAVEATTACK_GO = TRUE;
    LOG_CREATETOPIC(TOPIC_QM401, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_QM401), TOPIC_QM401, LOG_RUNNING);
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART9_PATH_21");
    CREATEINVITEMS(HERO, 35501, 1);
    AI_EQUIPARMOR(HERO, 35501);
    SETDIALOGUETOLDPROPERTY(82539, TRUE);
    SETDIALOGUETOLDPROPERTY(66000, TRUE);
    SETDIALOGUETOLDPROPERTY(66187, TRUE);
    SETDIALOGUETOLDPROPERTY(66192, TRUE);
    SETDIALOGUETOLDPROPERTY(66200, TRUE);
    SETDIALOGUETOLDPROPERTY(66206, TRUE);
    SETDIALOGUETOLDPROPERTY(78655, TRUE);
    SETDIALOGUETOLDPROPERTY(78658, TRUE);
    SETDIALOGUETOLDPROPERTY(78661, TRUE);
    SETDIALOGUETOLDPROPERTY(78664, TRUE);
    SETDIALOGUETOLDPROPERTY(78667, TRUE);
    SETDIALOGUETOLDPROPERTY(66435, TRUE);
    SETDIALOGUETOLDPROPERTY(66447, TRUE);
    SETDIALOGUETOLDPROPERTY(66451, TRUE);
    FF_APPLYONCEEXTGT(62238, 0, -(1));
    Q205_SPAWNRENEGADES();
    B_REMOVENPC(56295);
    B_REMOVENPC(56266);
    B_STARTOTHERROUTINE(MIL_6264_RENEGADE, TOT);
    TELEPORTNPCTOWP(56224, MIL_6264_RENEGADE.WP);
    B_STARTOTHERROUTINE(MIL_6267_SALVI, TOT);
    TELEPORTNPCTOWP(56256, MIL_6267_SALVI.WP);
    B_STARTOTHERROUTINE(MIL_6277_RENEGADE, TOT);
    TELEPORTNPCTOWP(56237, MIL_6277_RENEGADE.WP);
    B_STARTOTHERROUTINE(NONE_6269_DANIEL, TOT);
    TELEPORTNPCTOWP(56307, NONE_6269_DANIEL.WP);
    B_STARTOTHERROUTINE(MIL_6275_BERTO, TOT);
    TELEPORTNPCTOWP(56277, MIL_6275_BERTO.WP);
    WLD_INSERTNPC(52707, "PARTM3_QM401_SPOT_01");
    WLD_INSERTNPC(52721, "PARTM3_QM401_SPOT_02");
    WLD_INSERTNPC(52735, "PARTM3_QM401_SPOT_03");
    WLD_INSERTNPC(52751, "PARTM3_QM401_SPOT_04");
    QM401_PREPAREVINEYARD();
    PC_SLEEP(9);
    PC_SLEEP(9);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_23() {
    INFO_CLEARCHOICES(93770);
    INFO_ADDCHOICE(93770, DIALOG_BACK, 93771);
    INFO_ADDCHOICE(93770, "2. Pla¿a", 93814);
    INFO_ADDCHOICE(93770, "1. Start", 93813);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_23_A() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM1_PATH_49");
    HERO.GUILD = GIL_SLD;
    MARVIN_ARAXOSSPECIALIZATION = ARAXOS_SPECIALIZATION_FIGHTER;
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    CREATEINVITEMS(HERO, 35454, 1);
    AI_EQUIPARMOR(HERO, 35454);
    SETDIALOGUETOLDPROPERTY(82539, TRUE);
    SETDIALOGUETOLDPROPERTY(71055, TRUE);
    Q206_SPAREPABLO = TRUE;
    if (!(HLP_ISVALIDNPC(NONE_7004_PABLO))) {
        WLD_INSERTNPC(55615, "PART10_PATH2_50");
    };
    B_STARTOTHERROUTINE(NONE_7004_PABLO, "ARAXOS");
    NPC_CHANGEARMOR(NONE_7004_PABLO, 35417);
    NPC_REMOVEINVITEMS(NONE_7004_PABLO, 35550, 1);
    TELEPORTNPCTOWP(55615, NONE_7004_PABLO.WP);
    PC_SLEEP(9);
    PC_SLEEP(9);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_23_B() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART1_MOB_08");
    HERO.GUILD = GIL_SLD;
    MARVIN_ARAXOSSPECIALIZATION = ARAXOS_SPECIALIZATION_FIGHTER;
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    CREATEINVITEMS(HERO, 35454, 1);
    AI_EQUIPARMOR(HERO, 35454);
    SETDIALOGUETOLDPROPERTY(82539, TRUE);
    SETDIALOGUETOLDPROPERTY(71055, TRUE);
    SETDIALOGUETOLDPROPERTY(71200, TRUE);
    SETDIALOGUETOLDPROPERTY(70170, TRUE);
    Q206_SPAREPABLO = TRUE;
    if (!(HLP_ISVALIDNPC(NONE_7004_PABLO))) {
        WLD_INSERTNPC(55615, "PART10_PATH2_50");
    };
    B_STARTOTHERROUTINE(NONE_7004_PABLO, "ARAXOS");
    NPC_CHANGEARMOR(NONE_7004_PABLO, 35417);
    NPC_REMOVEINVITEMS(NONE_7004_PABLO, 35550, 1);
    TELEPORTNPCTOWP(55615, NONE_7004_PABLO.WP);
    LOG_CREATETOPIC(TOPIC_QA401, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_QA401), TOPIC_QA401, LOG_RUNNING);
    QA401_COUNTTASK = 4;
    PC_SLEEP(9);
    PC_SLEEP(9);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_24() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PARTM3_PATH_144");
    HERO.GUILD = GIL_MIL;
    MARVIN_MILITIASPECIALIZATION = MILITIA_SPECIALIZATION_MASTERFIGHTER;
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    CREATEINVITEMS(HERO, 35506, 1);
    AI_EQUIPARMOR(HERO, 35506);
    QM201_REMOVENPC();
    QM201_WEIGARPROMOTION();
    PC_SLEEP(9);
    PC_SLEEP(9);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_25() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("WOLFSDEN_HOUSE01_BENCH01");
    SETDIALOGUETOLDPROPERTY(82539, TRUE);
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    CREDNAR_ALLOWUSTOGO = TRUE;
    LEAN_ALLOWUSTOGO = TRUE;
    Q402_INFOABOUTMINE = TRUE;
    Q402_FOUNDVARHALANDLEGRIF = TRUE;
    HERO.LEVEL = 25;
    PC_SLEEP(9);
    PC_SLEEP(9);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_29() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("PART16_PATH_09");
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    CREDNAR_ALLOWUSTOGO = TRUE;
    LOG_CREATETOPIC(TOPIC_Q401, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q401), TOPIC_Q401, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_Q403, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q403), TOPIC_Q403, LOG_SUCCESS);
    SQ419_PREPARENPC();
    PC_SLEEP(9);
    PC_SLEEP(9);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_28() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(4, ARCHOLOS_ZEN, FALSE);
    TELEPORTHEROTOWP("WOLFSDEN_HOUSE01_BENCH01");
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    CREDNAR_ALLOWUSTOGO = TRUE;
    LOG_CREATETOPIC(TOPIC_Q401, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q401), TOPIC_Q401, LOG_SUCCESS);
    PC_SLEEP(9);
    PC_SLEEP(9);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_27() {
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PARTM5_CITYHALL_43");
    B_CHAPTERCHANGE(5, ARCHOLOS_ZEN, FALSE);
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    LOG_CREATETOPIC(TOPIC_Q405, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q405), TOPIC_Q405, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_KQ404, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ404), TOPIC_KQ404, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_KQ401, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ401), TOPIC_KQ401, LOG_RUNNING);
    LOG_CREATETOPIC(TOPIC_KQ405, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ405), TOPIC_KQ405, LOG_SUCCESS);
    KQ401_SPAWNNPC();
    SETDIALOGUETOLDPROPERTY(67780, TRUE);
    KQ404_PREPAREHOUSE();
    PC_SLEEP(9);
    PC_SLEEP(9);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_26() {
    INFO_CLEARCHOICES(93770);
    INFO_ADDCHOICE(93770, DIALOG_BACK, 93771);
    INFO_ADDCHOICE(93770, "2. Orkowie", 93822);
    INFO_ADDCHOICE(93770, "1. Start", 93821);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_26_A() {
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("PARTM5_CITYHALL_43");
    B_CHAPTERCHANGE(5, ARCHOLOS_ZEN, FALSE);
    FF_APPLYONCEEXTGT(64170, 0, -(1));
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    LOG_CREATETOPIC(TOPIC_Q405, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q405), TOPIC_Q405, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_KQ404, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ404), TOPIC_KQ404, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_KQ401, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ401), TOPIC_KQ401, LOG_RUNNING);
    LOG_CREATETOPIC(TOPIC_KQ405, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ405), TOPIC_KQ405, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_KQ406, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ406), TOPIC_KQ406, LOG_SUCCESS);
    KQ401_SPAWNNPC();
    SETDIALOGUETOLDPROPERTY(67780, TRUE);
    SETDIALOGUETOLDPROPERTY(78267, TRUE);
    SETDIALOGUETOLDPROPERTY(78376, TRUE);
    KQ404_PREPAREHOUSE();
    QM201_REMOVENPC();
    NPC_CHANGEARMOR(MIL_4016_WEGAR, 35498);
    NPC_REMOVEINVITEMS(MIL_4016_WEGAR, 35493, 1);
    B_SETATTRIBUTESTOCHAPTER(MIL_4016_WEGAR, 4);
    PC_SLEEP(8);
    PC_SLEEP(8);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER4_26_B() {
    STORYHELPER_EXIT();
    TELEPORTHEROTOWP("HARBOUR_PATH_167");
    B_CHAPTERCHANGE(5, ARCHOLOS_ZEN, FALSE);
    FF_APPLYONCEEXTGT(64170, 0, -(1));
    CITYENTERED = TRUE;
    OLDCITYENTERED = TRUE;
    LOG_CREATETOPIC(TOPIC_Q405, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q405), TOPIC_Q405, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_KQ404, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ404), TOPIC_KQ404, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_KQ401, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ401), TOPIC_KQ401, LOG_RUNNING);
    LOG_CREATETOPIC(TOPIC_KQ405, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ405), TOPIC_KQ405, LOG_SUCCESS);
    LOG_CREATETOPIC(TOPIC_KQ406, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ406), TOPIC_KQ406, LOG_SUCCESS);
    KQ401_SPAWNNPC();
    SETDIALOGUETOLDPROPERTY(67780, TRUE);
    SETDIALOGUETOLDPROPERTY(78267, TRUE);
    SETDIALOGUETOLDPROPERTY(78376, TRUE);
    SETDIALOGUETOLDPROPERTY(65702, TRUE);
    SETDIALOGUETOLDPROPERTY(67883, TRUE);
    KQ404_PREPAREHOUSE();
    QM201_REMOVENPC();
    NPC_CHANGEARMOR(MIL_4016_WEGAR, 35498);
    NPC_REMOVEINVITEMS(MIL_4016_WEGAR, 35493, 1);
    B_SETATTRIBUTESTOCHAPTER(MIL_4016_WEGAR, 4);
    KQ407_PREPARENPCINKALEB();
    KQ407_FARMERSATMEDIC = TRUE;
    KQ407_AFTERORCCUTSCENE = TRUE;
    NPC_CLEARAIQUEUE(MIL_13381_EURIC);
    B_STARTOTHERROUTINE(MIL_13381_EURIC, "KQ407_KALEB");
    TELEPORTNPCTOWP(53706, MIL_13381_EURIC.WP);
    LOG_CREATETOPIC(TOPIC_KQ407, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_KQ407), TOPIC_KQ407, LOG_RUNNING);
    PC_SLEEP(8);
    PC_SLEEP(8);
}

instance STORYHELPER_SIDESTORYLINE_CHAPTER5(C_INFO) {
    NPC = 50091;
    NR = 2;
    CONDITION = STORYHELPER_CONDITION_SIDESTORYLINE;
    INFORMATION = STORYHELPER_SIDESTORYLINE_CHAPTER5_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Rozdzia³ 5";
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_INFO() {
    INFO_CLEARCHOICES(93823);
    INFO_ADDCHOICE(93823, DIALOG_BACK, 93825);
    INFO_ADDCHOICE(93823, "1. Król bez korony", 93826);
    INFO_ADDCHOICE(93823, "2. Stra¿nik Równowagi", 93833);
    INFO_ADDCHOICE(93823, "3. Sokoli wzrok", 93856);
    INFO_ADDCHOICE(93823, "4. D³uga droga do domu", 93857);
    INFO_ADDCHOICE(93823, "5. Wojownik Innosa", 93858);
    INFO_ADDCHOICE(93823, "6. Skrzyde³ko czy nó¿ka?", 93859);
    INFO_ADDCHOICE(93823, "7. Najwiêksi bêd¹ najmniejszymi", 93860);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_BACK() {
    INFO_CLEARCHOICES(93823);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_1() {
    INFO_CLEARCHOICES(93823);
    INFO_ADDCHOICE(93823, DIALOG_BACK, 93824);
    INFO_ADDCHOICE(93823, "2. Gildia kupiecka", 93851);
    INFO_ADDCHOICE(93823, "1. Stra¿ Miejska", 93850);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES() {
    INFO_CLEARCHOICES(93823);
    INFO_ADDCHOICE(93823, DIALOG_BACK, 93826);
    INFO_ADDCHOICE(93823, "1b). Otru³em przystañ", 93849);
    INFO_ADDCHOICE(93823, "1a). Nie otru³em przytani", 93848);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_2() {
    INFO_CLEARCHOICES(93823);
    INFO_ADDCHOICE(93823, DIALOG_BACK, 93827);
    INFO_ADDCHOICE(93823, "2b). Nie wygra³em turnieju", 93847);
    INFO_ADDCHOICE(93823, "2a). Wygra³em turniej", 93846);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_3() {
    INFO_CLEARCHOICES(93823);
    INFO_ADDCHOICE(93823, DIALOG_BACK, 93828);
    INFO_ADDCHOICE(93823, "3b). Nie wykona³em zadania - Zakopane skarby", 93844);
    INFO_ADDCHOICE(93823, "3a). Wykona³em zadanie - Zakopane skarby", 93845);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_4() {
    INFO_CLEARCHOICES(93823);
    INFO_ADDCHOICE(93823, DIALOG_BACK, 93829);
    INFO_ADDCHOICE(93823, "4b). Nie wykona³em zadania - Kilka gêb do obicia", 93842);
    INFO_ADDCHOICE(93823, "4a). Wykona³em zadanie - Kilka gêb do obicia", 93843);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_5() {
    INFO_CLEARCHOICES(93823);
    INFO_ADDCHOICE(93823, DIALOG_BACK, 93830);
    INFO_ADDCHOICE(93823, "5b). Wys³a³em Javada do - Miasta", 93840);
    INFO_ADDCHOICE(93823, "5a). Wys³a³em Javada do - Przystani", 93841);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_6() {
    INFO_CLEARCHOICES(93823);
    INFO_ADDCHOICE(93823, DIALOG_BACK, 93831);
    if ((HERO.GUILD) == (GIL_SLD)) {
        INFO_ADDCHOICE(93823, "5b). Niezabi³em szmuglera", 93836);
        INFO_ADDCHOICE(93823, "5a). Zabi³em szmuglera", 93837);
    };
    if ((HERO.GUILD) == (GIL_MIL)) {
        INFO_ADDCHOICE(93823, "5b). Niewrobi³em Foxa", 93838);
        INFO_ADDCHOICE(93823, "5a). Wrobi³em Foxa", 93839);
    };
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_2() {
    INFO_CLEARCHOICES(93823);
    INFO_ADDCHOICE(93823, DIALOG_BACK, 93824);
    INFO_ADDCHOICE(93823, "1b). Jestem w gildii", 93834);
    INFO_ADDCHOICE(93823, "1a). Wywalony z gildii", 93855);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_2_B() {
    INFO_CLEARCHOICES(93823);
    INFO_ADDCHOICE(93823, DIALOG_BACK, 93833);
    INFO_ADDCHOICE(93823, "2b). Araxos", 93853);
    INFO_ADDCHOICE(93823, "2a). Stra¿", 93854);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_START() {
    STORYHELPER_EXIT();
    CITYENTERED = 1;
    OLDCITYENTERED = 1;
    SETDIALOGUETOLDPROPERTY(66000, TRUE);
    SETDIALOGUETOLDPROPERTY(66003, TRUE);
    SETDIALOGUETOLDPROPERTY(66006, TRUE);
    SETDIALOGUETOLDPROPERTY(71055, TRUE);
    if ((HLP_ISVALIDNPC(NONE_6331_JAVAD)) == (FALSE)) {
        WLD_INSERTNPC(58566, "PARTM2_PATH_69");
        if ((Q305_JAVAD_WENTTONEWHOME) == (1)) {
            B_STARTOTHERROUTINE(NONE_6331_JAVAD, "TAVERN");
        } else {
            B_STARTOTHERROUTINE(NONE_6331_JAVAD, "ARAXOS");
        };
    };
    if ((HLP_ISVALIDNPC(PIR_1330_ALVAREZ)) == (FALSE)) {
        WLD_INSERTNPC(58828, "P17_HAVEN_ARENA_INSIDE_14");
    };
    B_REMOVENPC(58488);
    B_REMOVENPC(58492);
    PC_SLEEP(9);
    PC_SLEEP(9);
    B_CHAPTERCHANGE(5, ARCHOLOS_ZEN, FALSE);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_6_D() {
    LOG_CREATETOPIC(TOPIC_Q304, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q304), TOPIC_Q304, LOG_SUCCESS);
    Q304_SMUGGLERISDEAD = FALSE;
    STORYHELPER_SIDESTORYLINE_CHAPTER5_START();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_6_C() {
    LOG_CREATETOPIC(TOPIC_Q304, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q304), TOPIC_Q304, LOG_SUCCESS);
    Q304_SMUGGLERISDEAD = TRUE;
    STORYHELPER_SIDESTORYLINE_CHAPTER5_START();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_6_B() {
    LOG_CREATETOPIC(TOPIC_Q303, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q303), TOPIC_Q303, LOG_SUCCESS);
    Q303_STAN_BLAMEFOX = FALSE;
    STORYHELPER_SIDESTORYLINE_CHAPTER5_START();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_6_A() {
    LOG_CREATETOPIC(TOPIC_Q303, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q303), TOPIC_Q303, LOG_SUCCESS);
    Q303_STAN_BLAMEFOX = TRUE;
    STORYHELPER_SIDESTORYLINE_CHAPTER5_START();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_5_B() {
    Q305_JAVAD_WENTTONEWHOME = 2;
    STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_6();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_5_A() {
    Q305_JAVAD_WENTTONEWHOME = 1;
    STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_6();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_4_B() {
    STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_5();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_4_A() {
    LOG_CREATETOPIC(TOPIC_Q302, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q302), TOPIC_Q302, LOG_SUCCESS);
    STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_5();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_3_B() {
    STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_4();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_3_A() {
    LOG_CREATETOPIC(TOPIC_SQ304, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ304), TOPIC_SQ304, LOG_SUCCESS);
    STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_4();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_2_A() {
    Q306_TOURNAMENTSTATUS = 1;
    STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_3();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_2_B() {
    Q306_TOURNAMENTSTATUS = 2;
    STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_3();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_1_A() {
    Q307_POISONWAY = 2;
    STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_2();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_1_B() {
    Q307_POISONWAY = 1;
    STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES_2();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_1_A() {
    MARVIN_MILITIASPECIALIZATION = MILITIA_SPECIALIZATION_MASTERFIGHTER;
    HERO.GUILD = GIL_MIL;
    CREATEINVITEMS(HERO, 35506, 1);
    AI_EQUIPARMOR(HERO, 35506);
    TELEPORTHEROTOWP("PARTM3_RODERICH_LOOKOUT");
    STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_1_B() {
    MARVIN_ARAXOSSPECIALIZATION = ARAXOS_SPECIALIZATION_MASTERFIGHTER;
    HERO.GUILD = GIL_SLD;
    CREATEINVITEMS(HERO, 35459, 1);
    AI_EQUIPARMOR(HERO, 35459);
    TELEPORTHEROTOWP("PARTM1_GUILDHOUSE_LORENZO_BED");
    STORYHELPER_SIDESTORYLINE_CHAPTER5_CHOICES();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_2_2_START() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(5, ARCHOLOS_ZEN, FALSE);
    CITYENTERED = 1;
    OLDCITYENTERED = 1;
    NPC_CLEARAIQUEUE(NONE_202_KESSEL);
    B_STARTOTHERROUTINE(NONE_202_KESSEL, "Q503WAITV2");
    Q503_KESSEL_RTNCHECK = 1;
    TELEPORTNPCTOWP(56688, NONE_202_KESSEL.WP);
    NPC_CLEARAIQUEUE(KDW_203_RIORDIAN);
    B_STARTOTHERROUTINE(KDW_203_RIORDIAN, "Q503WAITV2");
    TELEPORTNPCTOWP(56616, KDW_203_RIORDIAN.WP);
    PC_SLEEP(9);
    PC_SLEEP(9);
    TELEPORTNPCTOWP(1819, "PART5_VOLFZACK_RIORDIAN");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_2_2B() {
    HERO.GUILD = GIL_SLD;
    STORYHELPER_SIDESTORYLINE_CHAPTER5_2_2_START();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_2_2A() {
    HERO.GUILD = GIL_MIL;
    STORYHELPER_SIDESTORYLINE_CHAPTER5_2_2_START();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_2_A() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(5, ARCHOLOS_ZEN, FALSE);
    CITYENTERED = 1;
    OLDCITYENTERED = 1;
    NPC_CLEARAIQUEUE(NONE_202_KESSEL);
    B_STARTOTHERROUTINE(NONE_202_KESSEL, "Q502_SMALLTALK");
    Q502_KESSEL_RTNCHECK = 4;
    TELEPORTNPCTOWP(56688, NONE_202_KESSEL.WP);
    NPC_CLEARAIQUEUE(KDW_203_RIORDIAN);
    B_STARTOTHERROUTINE(KDW_203_RIORDIAN, "Q502SMALLTALK");
    TELEPORTNPCTOWP(56616, KDW_203_RIORDIAN.WP);
    SETDIALOGUETOLDPROPERTY(80147, TRUE);
    HERO.GUILD = GIL_VLK;
    PC_SLEEP(9);
    PC_SLEEP(9);
    TELEPORTNPCTOWP(1819, "PART8_MONASTERY_TRIALOG_HERO");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_3() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(5, ARCHOLOS_ZEN, FALSE);
    CITYENTERED = 1;
    OLDCITYENTERED = 1;
    SQ506_PREPARENPC();
    PC_SLEEP(9);
    PC_SLEEP(9);
    TELEPORTNPCTOWP(1819, "PART8_MONASTERY_19");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_4() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(5, ARCHOLOS_ZEN, FALSE);
    CITYENTERED = 1;
    OLDCITYENTERED = 1;
    SQ507_STARTINGPOINT = 1;
    HAVEN_THIAGOENCOUNTER = TRUE;
    CREATEINVITEMS(HERO, 39512, 1);
    CREATEINVITEMS(HERO, 34000, 1);
    CREATEINVITEMS(HERO, 33995, 1);
    CREATEINVITEMS(HERO, 33719, 1);
    CREATEINVITEMS(HERO, 33999, 1);
    CREATEINVITEMS(HERO, 33996, 1);
    CREATEINVITEMS(HERO, 34001, 1);
    CREATEINVITEMS(HERO, 33997, 1);
    CREATEINVITEMS(HERO, 34005, 1);
    NPC_CLEARAIQUEUE(VLK_6126_LENA);
    B_STARTOTHERROUTINE(VLK_6126_LENA, "SQ507");
    TELEPORTNPCTOWP(58835, "P17_HAVEN_BAR_OUT_11");
    B_KILLNPC(58644);
    WLD_INSERTNPC(53059, "PARTM3_PATH_25A");
    TELEPORTNPCTOWP(1819, "P17_HAVEN_BAR_OUT_09");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_5() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(5, ARCHOLOS_ZEN, FALSE);
    LOG_CREATETOPIC(TOPIC_Q501, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q501), TOPIC_Q501, LOG_SUCCESS);
    SETDIALOGUETOLDPROPERTY(80147, TRUE);
    SETDIALOGUETOLDPROPERTY(69928, TRUE);
    SQ508_CORPSESONGRAVEYARD_PREPARE();
    if (!(HLP_ISVALIDNPC(PAL_100_CANDAC))) {
        WLD_INSERTNPC(51962, "PART8_MONASTERY_23");
    };
    B_STARTOTHERROUTINE(PAL_100_CANDAC, "SQ508_DRINK");
    NPC_REFRESH(PAL_100_CANDAC);
    TELEPORTNPCTOWP(51962, PAL_100_CANDAC.WP);
    TELEPORTNPCTOWP(1819, "PART8_MONASTERY_23");
    WLD_SENDTRIGGER("MONASTERY_GATE_01");
    WLD_SENDTRIGGER("MONASTERY_GATE_03");
    WLD_SENDTRIGGER("MONASTERY_DOOR_HEALROOM");
    WLD_SENDTRIGGER("MONASTERY_DOOR_TOWER");
    WLD_SENDTRIGGER("MONASTERY_DOOR_RIEROL");
    WLD_SENDTRIGGER("MONASTERY_DOOR_MAGEROOM_02");
    WLD_SENDTRIGGER("MONASTERY_DOOR_MAGEROOM_03");
    WLD_SENDTRIGGER("MONASTERY_DOOR_MAGEROOM_04");
    WLD_SENDTRIGGER("MONASTERY_DOOR_DUNGEON_01");
    WLD_SENDTRIGGER("MONASTERY_DOOR_DUNGEON_02");
    PC_SLEEP(9);
    PC_SLEEP(9);
    WLD_INSERTNPC(56595, "PART8_MONASTERY_SMALLTALK_01");
    WLD_INSERTNPC(56601, "PART8_MONASTERY_SMALLTALK_02");
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_6() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(5, ARCHOLOS_ZEN, FALSE);
    LOG_CREATETOPIC(TOPIC_Q501, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q501), TOPIC_Q501, LOG_SUCCESS);
    SETDIALOGUETOLDPROPERTY(80147, TRUE);
    SETDIALOGUETOLDPROPERTY(69928, TRUE);
    TELEPORTNPCTOWP(1819, "PART8_MONASTERY_02");
    WLD_SENDTRIGGER("MONASTERY_GATE_01");
    WLD_SENDTRIGGER("MONASTERY_GATE_03");
    WLD_SENDTRIGGER("MONASTERY_DOOR_HEALROOM");
    WLD_SENDTRIGGER("MONASTERY_DOOR_TOWER");
    WLD_SENDTRIGGER("MONASTERY_DOOR_RIEROL");
    WLD_SENDTRIGGER("MONASTERY_DOOR_MAGEROOM_02");
    WLD_SENDTRIGGER("MONASTERY_DOOR_MAGEROOM_03");
    WLD_SENDTRIGGER("MONASTERY_DOOR_MAGEROOM_04");
    WLD_SENDTRIGGER("MONASTERY_DOOR_DUNGEON_01");
    WLD_SENDTRIGGER("MONASTERY_DOOR_DUNGEON_02");
    if (!(HLP_ISVALIDNPC(NONE_6262_CARDEN))) {
        WLD_INSERTNPC(57698, "PART8_MONASTERY_02");
    };
    if (!(HLP_ISVALIDNPC(VLK_2261_BODOWIN))) {
        WLD_INSERTNPC(55789, "PART3_BODOWINHOUSE_PATH09");
    };
    SQ509_PREPARESCENE();
    PC_SLEEP(9);
    PC_SLEEP(9);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER5_7() {
    STORYHELPER_EXIT();
    B_CHAPTERCHANGE(5, ARCHOLOS_ZEN, FALSE);
    Q501_SLEEPINMONASTERY_V2();
    TELEPORTNPCTOWP(1819, "PART8_MONASTERY_138");
    CREATEINVITEMS(HERO, 35594, 1);
    AI_EQUIPARMOR(HERO, 35594);
    MDL_APPLYOVERLAYMDS(HERO, HUMANSHURTMDS);
    LOG_CREATETOPIC(TOPIC_Q501, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q501), TOPIC_Q501, LOG_RUNNING);
}

instance STORYHELPER_SIDESTORYLINE_CHAPTER6(C_INFO) {
    NPC = 50091;
    NR = 6;
    CONDITION = STORYHELPER_CONDITION_SIDESTORYLINE;
    INFORMATION = STORYHELPER_SIDESTORYLINE_CHAPTER6_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Rozdzia³ 6";
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER6_INFO() {
    INFO_CLEARCHOICES(93861);
    INFO_ADDCHOICE(93861, DIALOG_BACK, 93863);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER6_BACK() {
    INFO_CLEARCHOICES(93861);
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER6_1() {
    STORYHELPER_EXIT();
}

func void STORYHELPER_SIDESTORYLINE_CHAPTER6_2() {
    STORYHELPER_EXIT();
}

func void HANDLE_SHOWSTORYHELPER() {
    if ((CURRENTLEVEL) == (ARCHOLOS_ZEN)) {
        STORYHELPERISOPEN = TRUE;
        AI_PROCESSINFOS(HERO);
    };
}

func void SHOWSTORYHELPER() {
    CALLAFTERWORLDLOADED(93866);
}

