instance MIL_4017_ARWID(NPC_DEFAULT) {
    NPC_DEFAULT();
    NAME[0] = NPCNAME_ARWID;
    GUILD = GIL_MIL;
    ID = 4017;
    VOICE = 28;
    FLAGS = NPC_FLAG_IMPORTANT;
    NPCTYPE = NPCTYPE_MAIN;
    B_SETATTRIBUTESTOLEVEL(MIL_4017_ARWID, 20);
    FIGHT_TACTIC = FAI_HUMAN_STRONG;
    EQUIPITEM(MIL_4017_ARWID, 39500);
    B_SETNPCVISUAL(MIL_4017_ARWID, MALE, HUMHEADPONY, FACE_N_ARWID, BODYTEX_N, 35482);
    MDL_APPLYOVERLAYMDS(MIL_4017_ARWID, HUMANSMILITIAMDS);
    B_CREATEAMBIENTINV(MIL_4017_ARWID);
    B_GIVENPCTALENTS(MIL_4017_ARWID);
    B_SETFIGHTSKILLS(MIL_4017_ARWID, 30);
    DAILY_ROUTINE = RTN_START_4017;
}

func void RTN_START_4017() {
    TA_SIT_BENCH(7, 0, 9, 0, "PARTM3_PATH_158");
    TA_SWORDTRAINING(9, 0, 14, 0, "PARTM3_TRAINING_04");
    TA_CHECKSWD(14, 0, 16, 0, "PARTM3_BARRACK_CHECKSWD_01");
    TA_SWORDTRAINING(16, 0, 22, 0, "PARTM3_TRAINING_04");
    TA_SIT_BENCH_DRINK(22, 0, 0, 0, "PARTM3_PATH_158");
    TA_SLEEP(0, 0, 7, 0, "PARTM3_BARRACK_HOUSE1_BED_04");
}

func void RTN_GUARDARMS_4017() {
    TA_LEAN(7, 0, 21, 0, "PARTM3_LEAN_03");
    TA_LEAN(21, 0, 7, 0, "PARTM3_LEAN_03");
}

func void RTN_JOININGMILITIA_4017() {
    TA_MILJOIN(8, 0, 16, 0, "PARTM3_JOININGMILITIA_WATCH_07");
    TA_MILJOIN(16, 0, 8, 0, "PARTM3_JOININGMILITIA_WATCH_07");
}

func void RTN_JOININGMILITIA_TAVERN_4017() {
    TA_STAND_DRINKING(8, 0, 16, 0, "PARTM4_TAVERN_STAND_01");
    TA_STAND_DRINKING(16, 0, 8, 0, "PARTM4_TAVERN_STAND_01");
}

func void RTN_JOININGMILITIA_TAVERN_CHAT_4017() {
    TA_STAND_DRINKING(8, 0, 16, 0, "PARTM4_TAVERN_ARWID");
    TA_STAND_DRINKING(16, 0, 8, 0, "PARTM4_TAVERN_ARWID");
}

func void RTN_TOFIGHT_4017() {
    TA_GUIDE_PLAYER(16, 0, 21, 0, "PARTM8_PATH_04");
    TA_GUIDE_PLAYER(21, 0, 16, 0, "PARTM8_PATH_04");
}

func void RTN_FIGHTWAIT_4017() {
    TA_STAND_GUARDING(16, 0, 21, 0, "PARTM8_PATH_04");
    TA_STAND_GUARDING(21, 0, 16, 0, "PARTM8_PATH_04");
}

func void RTN_TRADING_4017() {
    TA_SMALLTALK(16, 0, 21, 0, "PARTM2_GOTARD_SMALLTALK");
    TA_SMALLTALK(21, 0, 16, 0, "PARTM2_GOTARD_SMALLTALK");
}

func void RTN_KQ402_FINAL_4017() {
    TA_STAYSTRAIGHT(7, 0, 21, 0, "PARTM3_PATH_163");
    TA_STAYSTRAIGHT(21, 0, 7, 0, "PARTM3_PATH_163");
}

func void RTN_QM301_GUIDE_4017() {
    TA_GUIDE_PLAYER(7, 0, 21, 0, "PARTM2_MILSTATION_05");
    TA_GUIDE_PLAYER(21, 0, 7, 0, "PARTM2_MILSTATION_05");
}

func void RTN_QM301_CUTSCENCE_THIEF_4017() {
    TA_RUNTOWP(7, 0, 21, 0, PARTM2_PATH_19);
    TA_RUNTOWP(21, 0, 7, 0, PARTM2_PATH_19);
}

func void RTN_QM301_CHASE_4017() {
    TA_GUIDE_PLAYER(7, 0, 15, 0, "PARTM3_PATH_205");
    TA_GUIDE_PLAYER(15, 0, 7, 0, "PARTM3_PATH_205");
}

func void RTN_QM301_GUARD_4017() {
    TA_STAND_GUARDING(7, 0, 15, 0, "PARTM3_PATH_205");
    TA_STAND_GUARDING(15, 0, 7, 0, "PARTM3_PATH_205");
}

func void RTN_QM301_GUIDE2_4017() {
    TA_GUIDE_PLAYER(7, 0, 15, 0, "PARTM2_MARKET_01");
    TA_GUIDE_PLAYER(15, 0, 7, 0, "PARTM2_MARKET_01");
}

func void RTN_QM202_GUIDE_4017() {
    TA_GUIDE_PLAYER(7, 0, 15, 0, "PARTM4_PATH_14");
    TA_GUIDE_PLAYER(15, 0, 7, 0, "PARTM4_PATH_14");
}

func void RTN_QM202_GUIDE_V2_4017() {
    TA_GUIDE_PLAYER(7, 0, 15, 0, "PARTM4_PATH_84");
    TA_GUIDE_PLAYER(15, 0, 7, 0, "PARTM4_PATH_84");
}

func void RTN_QM202_GUIDE_V3_4017() {
    TA_GUIDE_PLAYER(7, 0, 15, 0, "PARTM4_PATH_133");
    TA_GUIDE_PLAYER(15, 0, 7, 0, "PARTM4_PATH_133");
}

func void RTN_QM202_INN_4017() {
    TA_SMALLTALK(7, 0, 15, 0, "PARTM4_TAVERN_SMALLTALK_01");
    TA_SMALLTALK(15, 0, 7, 0, "PARTM4_TAVERN_SMALLTALK_01");
}

func void RTN_QM202_WAIT_4017() {
    TA_OBSERVE(7, 0, 15, 0, "PARTM4_PATH_133");
    TA_OBSERVE(15, 0, 7, 0, "PARTM4_PATH_133");
}

func void RTN_QM202_FIELD_4017() {
    TA_GUIDE_PLAYER(8, 0, 11, 0, "PART2_PATH_22");
    TA_GUIDE_PLAYER(11, 0, 8, 0, "PART2_PATH_22");
}

func void RTN_QM202_FIELD_FIGHT_4017() {
    TA_RUNTOWP(8, 0, 11, 0, "PART2_MOB_49");
    TA_RUNTOWP(11, 0, 8, 0, "PART2_MOB_49");
}

func void RTN_QM202_FIELD_WAIT_4017() {
    TA_STAND_ARMSCROSSED(7, 0, 15, 0, "PART2_QM202_ARWID");
    TA_STAND_ARMSCROSSED(15, 0, 7, 0, "PART2_QM202_ARWID");
}

func void RTN_QM202_FINISH_4017() {
    TA_GUIDE_PLAYER(7, 0, 15, 0, "PARTM3_PATH_177");
    TA_GUIDE_PLAYER(15, 0, 7, 0, "PARTM3_PATH_177");
}

func void RTN_LORENZOISGONE_4017() {
    TA_LORENZOISGONE(8, 0, 22, 0, "XXX");
    TA_LORENZOISGONE(22, 0, 8, 0, "XXX");
}

func void RTN_TOT_4017() {
    TA_LORENZOISGONE(8, 0, 22, 0, TOT);
    TA_LORENZOISGONE(22, 0, 8, 0, TOT);
}

func void RTN_CHAT_4017() {
    TA_LEAN(8, 0, 16, 0, "PARTM3_LEAN_03");
    TA_LEAN(16, 0, 8, 0, "PARTM3_LEAN_03");
}

func void RTN_Q509_WAIT_4017() {
    TA_STAND_ARMSCROSSED(8, 0, 16, 0, "PART5_Q509_HEROFRIEND");
    TA_STAND_ARMSCROSSED(16, 0, 8, 0, "PART5_Q509_HEROFRIEND");
}

instance MIL_4017_ARWID_KQ402(NPC_DEFAULT) {
    NPC_DEFAULT();
    NAME[0] = NPCNAME_ARWID;
    GUILD = GIL_MIL;
    ID = 40171;
    VOICE = 28;
    FLAGS = 2;
    NPCTYPE = NPCTYPE_MAIN;
    B_SETATTRIBUTESTOLEVEL(MIL_4017_ARWID_KQ402, 40);
    FIGHT_TACTIC = FAI_HUMAN_STRONG;
    if ((MARVIN_MILITIA_WHEREJOINED) == (1)) {
        if ((ARWID_TIERARMOR) == (1)) {
            EQUIPITEM(MIL_4017_ARWID_KQ402, 34066);
        } else {
            EQUIPITEM(MIL_4017_ARWID_KQ402, 39500);
        };
    };
    if ((MARVIN_MILITIA_WHEREJOINED) == (2)) {
        if ((ARWID_TIERARMOR) == (3)) {
            CREATEINVITEMS(MIL_4017_ARWID_KQ402, 34384, 20);
            EQUIPITEM(MIL_4017_ARWID_KQ402, 34386);
        } else {
            EQUIPITEM(MIL_4017_ARWID_KQ402, 39500);
        };
    };
    EQUIPITEM(MIL_4017_ARWID_KQ402, 39500);
    B_SETNPCVISUAL(MIL_4017_ARWID_KQ402, MALE, HUMHEADPONY, FACE_N_ARWID, BODYTEX_N, 33903);
    MDL_APPLYOVERLAYMDS(MIL_4017_ARWID_KQ402, HUMANSMILITIAMDS);
    B_GIVENPCTALENTS(MIL_4017_ARWID_KQ402);
    B_SETFIGHTSKILLS(MIL_4017_ARWID_KQ402, 30);
    DAILY_ROUTINE = RTN_START_40171;
}

func void RTN_START_40171() {
    TA_STAYSTRAIGHT(7, 0, 21, 0, "PARTM3_KQ402_ARWID");
    TA_STAYSTRAIGHT(21, 0, 7, 0, "PARTM3_KQ402_ARWID");
}

func void RTN_KQ402_PATROL_40171() {
    TA_SIT_BED_TIRED(7, 0, 19, 30, "PARTM3_BARRACK_HOUSE1_BED_04");
    TA_STAYSTRAIGHT(19, 30, 7, 0, "PARTM2_KQ402_ARWID");
}

func void RTN_KQ402_GUIDE_40171() {
    TA_GUIDE_PLAYER(7, 0, 22, 0, "HARBOUR_PATH_390");
    TA_GUIDE_PLAYER(22, 0, 7, 0, "HARBOUR_PATH_390");
}

func void RTN_KQ402_GUIDE_V2_40171() {
    TA_GUIDE_PLAYER(7, 0, 22, 0, "HARBOUR_PATH_128");
    TA_GUIDE_PLAYER(22, 0, 7, 0, "HARBOUR_PATH_128");
}

func void RTN_KQ402_RUNTOGUARD_40171() {
    TA_RUNTOWP_NOIQ(7, 0, 22, 0, "HARBOUR_STORAGE03_01");
    TA_RUNTOWP_NOIQ(22, 0, 7, 0, "HARBOUR_STORAGE03_01");
}

func void RTN_KQ402_SMALLTALK_40171() {
    TA_SMALLTALK(7, 0, 22, 0, "KQ402_SMALLTALK_02");
    TA_SMALLTALK(22, 0, 7, 0, "KQ402_SMALLTALK_02");
}

func void RTN_TOT_40171() {
    TA_STAYSTRAIGHT(7, 0, 21, 0, TOT);
    TA_STAYSTRAIGHT(21, 0, 7, 0, TOT);
}

