var int LERNE_EINHAND;
var int LERNE_ZWEIHAND;
const int VALUE_FIGHTBOOKS = 5000;
instance ITWR_EINHANDBUCH(C_ITEM) {
    NAME = WRITTENNAME_EINHANDBUCH;
    MAINFLAG = ITEM_KAT_DOCS;
    FLAGS = 0;
    VALUE = VALUE_FIGHTBOOKS;
    VISUAL = "ItWr_Book_02_04.3ds";
    MATERIAL = MAT_LEATHER;
    SCEMENAME = SCEME_MAP;
    DESCRIPTION = WRITTENDESC_EINHANDBUCH;
    TEXT[1] = WRITTENDESC_EINHANDBUCH_TEXT2;
    TEXT[2] = WRITTENDESC_EINHANDBUCH_TEXT3;
    TEXT[5] = NAME_VALUE;
    COUNT[5] = VALUE;
    ON_STATE[0] = USEEINHANDBUCH;
    INV_ROTX = 90;
    INV_ROTY = 180;
    INV_ROTZ = 180;
}

func void USEEINHANDBUCH() {
    var int NDOCID;
    if ((LERNE_EINHAND) == (FALSE)) {
        B_RAISEFIGHTTALENT(SELF, NPC_TALENT_1H, 5);
        PRINTSCREEN(PRINT_LEARN1H5, -(1), -(1), FONT_SCREEN, 2);
        LERNE_EINHAND = TRUE;
        SND_PLAY("Levelup");
    };
    if (((HERO.HITCHANCE[1]) >= (60)) && ((HERO.HITCHANCE[1]) <= (79))) {
        AI_UNEQUIPWEAPONS(HERO);
    };
    NDOCID = DOC_CREATE();
    DOC_SETPAGES(NDOCID, 2);
    DOC_SETPAGE(NDOCID, 0, "Book_Red_L.tga", 0);
    DOC_SETPAGE(NDOCID, 1, "Book_Red_R.tga", 0);
    DOC_SETMARGINS(NDOCID, 0, 275, 20, 30, 20, 1);
    DOC_SETFONT(NDOCID, 0, FONT_BOOKHEADLINE);
    DOC_PRINTLINE(NDOCID, 0, "");
    DOC_PRINTLINES(NDOCID, 0, WRITTENDESC_EINHANDBUCH);
    DOC_SETFONT(NDOCID, 0, FONT_BOOK);
    DOC_PRINTLINE(NDOCID, 0, "");
    DOC_PRINTLINES(NDOCID, 0, WRITTENCONTENT_EINHANDBUCH01);
    DOC_SETMARGINS(NDOCID, -(1), 30, 20, 275, 20, 1);
    DOC_SETFONT(NDOCID, 1, FONT_BOOKHEADLINE);
    DOC_PRINTLINE(NDOCID, 1, "");
    DOC_SETFONT(NDOCID, 1, FONT_BOOK);
    DOC_PRINTLINE(NDOCID, 1, "");
    DOC_PRINTLINES(NDOCID, 1, WRITTENCONTENT_EINHANDBUCH02);
    DOC_PRINTLINE(NDOCID, 1, "");
    DOC_SHOW(NDOCID);
}

instance ITWR_ZWEIHANDBUCH(C_ITEM) {
    NAME = WRITTENNAME_ZWEIHANDBUCH;
    MAINFLAG = ITEM_KAT_DOCS;
    FLAGS = 0;
    VALUE = VALUE_FIGHTBOOKS;
    VISUAL = "ItWr_Book_02_03.3ds";
    MATERIAL = MAT_LEATHER;
    SCEMENAME = SCEME_MAP;
    DESCRIPTION = WRITTENDESC_ZWEIHANDBUCH;
    TEXT[1] = WRITTENDESC_ZWEIHANDBUCH_TEXT2;
    TEXT[2] = WRITTENDESC_ZWEIHANDBUCH_TEXT3;
    TEXT[5] = NAME_VALUE;
    COUNT[5] = VALUE;
    ON_STATE[0] = USEZWEIHANDBUCH;
    INV_ROTX = 90;
    INV_ROTY = 180;
    INV_ROTZ = 180;
}

func void USEZWEIHANDBUCH() {
    var int NDOCID;
    if ((LERNE_ZWEIHAND) == (FALSE)) {
        B_RAISEFIGHTTALENT(SELF, NPC_TALENT_2H, 5);
        PRINTSCREEN(PRINT_LEARN2H5, -(1), -(1), FONT_SCREEN, 2);
        LERNE_ZWEIHAND = TRUE;
        SND_PLAY("Levelup");
    };
    NDOCID = DOC_CREATE();
    DOC_SETPAGES(NDOCID, 2);
    DOC_SETPAGE(NDOCID, 0, "Book_Red_L.tga", 0);
    DOC_SETPAGE(NDOCID, 1, "Book_Red_R.tga", 0);
    DOC_SETMARGINS(NDOCID, 0, 275, 20, 30, 20, 1);
    DOC_SETFONT(NDOCID, 0, FONT_BOOKHEADLINE);
    DOC_PRINTLINE(NDOCID, 0, "");
    DOC_PRINTLINES(NDOCID, 0, WRITTENDESC_ZWEIHANDBUCH);
    DOC_SETFONT(NDOCID, 0, FONT_BOOK);
    DOC_PRINTLINE(NDOCID, 0, "");
    DOC_PRINTLINE(NDOCID, 0, "");
    DOC_PRINTLINES(NDOCID, 0, WRITTENCONTENT_ZWEIHANDBUCH01);
    DOC_SETMARGINS(NDOCID, -(1), 30, 20, 275, 20, 1);
    DOC_SETFONT(NDOCID, 1, FONT_BOOKHEADLINE);
    DOC_PRINTLINE(NDOCID, 1, "");
    DOC_PRINTLINES(NDOCID, 1, "");
    DOC_SETFONT(NDOCID, 1, FONT_BOOK);
    DOC_PRINTLINE(NDOCID, 1, "");
    DOC_PRINTLINE(NDOCID, 1, "");
    DOC_PRINTLINES(NDOCID, 1, WRITTENCONTENT_ZWEIHANDBUCH02);
    DOC_SHOW(NDOCID);
}

