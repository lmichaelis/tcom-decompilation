func void PC_HOUSE_CRAFT_RANDOMCAMERA_UNTRIGGERCAMERA() {
    WLD_SENDUNTRIGGER("KM_HEROHOUSE_WORKSPACE_01");
    WLD_SENDUNTRIGGER("KM_HEROHOUSE_WORKSPACE_02");
    WLD_SENDUNTRIGGER("KM_HEROHOUSE_WORKSPACE_03");
}

func void PC_HOUSE_CRAFT_RANDOMCAMERA() {
    var int RANDOM;
    RANDOM = HLP_RANDOM(3);
    if ((RANDOM) == (0)) {
        WLD_SENDTRIGGER("KM_HEROHOUSE_WORKSPACE_01");
    };
    if ((RANDOM) == (1)) {
        WLD_SENDTRIGGER("KM_HEROHOUSE_WORKSPACE_02");
    };
    if ((RANDOM) == (2)) {
        WLD_SENDTRIGGER("KM_HEROHOUSE_WORKSPACE_03");
    };
}

func void HOUSE_CRAFT_S1() {
    var int OURHOME_DECORATE_LOGENTRY;
    var C_NPC HER;
    HER = HLP_GETNPC(50091);
    if ((HLP_GETINSTANCEID(SELF)) == (HLP_GETINSTANCEID(HER))) {
        SELF.AIVAR[4] = TRUE;
        PLAYER_MOBSI_PRODUCTION = MOBSI_HOUSE_CRAFT;
        AI_PROCESSINFOS(HER);
        MDL_STARTFACEANI(SELF, S_THINK, 1065353216, -1082130432);
        PC_HOUSE_CRAFT_RANDOMCAMERA();
        if ((OURHOME_DECORATE_LOGENTRY) == (FALSE)) {
            OURHOME_DECORATE_LOGENTRY = TRUE;
            LOG_CREATETOPIC(TOPIC_OURHOUME, LOG_NOTE);
            B_LOGENTRY(TOPIC_OURHOUME, LOG_OURHOME_DECORATE);
        };
    };
}

func int PC_HOUSE_CRAFT_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_HOUSE_CRAFT)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

instance PC_HOUSE_CRAFT_END(C_INFO) {
    NPC = 50091;
    NR = 999;
    CONDITION = PC_HOUSE_CRAFT_CONDITION;
    INFORMATION = PC_HOUSE_CRAFT_END_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func void PC_HOUSE_CRAFT_END_INFO() {
    AI_STOPPROCESSINFOS(SELF);
    SELF.AIVAR[4] = FALSE;
    PLAYER_MOBSI_PRODUCTION = MOBSI_NONE;
    MDL_STARTFACEANI(SELF, S_NEUTRAL, 1065353216, -1082130432);
    PC_HOUSE_CRAFT_RANDOMCAMERA_UNTRIGGERCAMERA();
}

