instance DIA_DIMA_EXIT(C_INFO) {
    NPC = 52075;
    NR = 999;
    CONDITION = DIA_DIMA_EXIT_CONDITION;
    INFORMATION = DIA_DIMA_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_DIMA_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_DIMA_EXIT_INFO() {
    if (((SQ207_DIMATOLEXX) == (1)) && ((SQ207_FAILED) == (FALSE))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ207_WaitASec_03_01");
        AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ207_WaitASec_15_02");
        AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ207_WaitASec_03_03");
        AI_LOGENTRY(TOPIC_SQ207, LOG_SQ207_DIMA_TOLEXX);
        NPC_EXCHANGEROUTINE(SELF, "SQ207_LEXX");
        WLD_INSERTITEM(36900, "FP_SQ207_DIMAKEY");
        AI_STOPPROCESSINFOS(SELF);
        if ((NPC_GETDISTTOWP(HERO, RESERVED_CONST_STRING_09)) >= (3500)) {
            AI_FUNCTION(SELF, 64274);
        } else {
            SQ207_DIMATOLEXX = 2;
        };
    };
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_DIMA_AMBIENT(C_INFO) {
    NPC = 52075;
    NR = 998;
    CONDITION = DIA_DIMA_AMBIENT_CONDITION;
    INFORMATION = DIA_DIMA_AMBIENT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Hi, how are you doing?";
}

func int DIA_DIMA_AMBIENT_CONDITION() {
    return TRUE;
}

func void DIA_DIMA_AMBIENT_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_Ambient_15_00");
    NPC_INITAMBIENTS(SELF, 2);
    if ((NPC_GETLASTAMBIENT(SELF)) == (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Dima_Ambient_02_16_00");
    };
    if ((NPC_GETLASTAMBIENT(SELF)) == (2)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Dima_Ambient_03_16_00");
        AI_OUTPUT(OTHER, SELF, "DIA_Dima_Ambient_03_15_01");
        AI_OUTPUT(SELF, OTHER, "DIA_Dima_Ambient_03_16_02");
    };
}

instance DIA_DIMA_AMBIENTAFTERQUEST(C_INFO) {
    NPC = 52075;
    NR = 998;
    CONDITION = DIA_DIMA_AMBIENTAFTERQUEST_CONDITION;
    INFORMATION = DIA_DIMA_AMBIENTAFTERQUEST_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "What are you gonna do now?";
}

func int DIA_DIMA_AMBIENTAFTERQUEST_CONDITION() {
    if ((LOG_GETSTATUS(MIS_FAQ001)) == (LOG_SUCCESS)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DIMA_AMBIENTAFTERQUEST_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_AmbientAfterQuest_15_00");
    NPC_INITAMBIENTS(SELF, 2);
    if ((NPC_GETLASTAMBIENT(SELF)) == (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Dima_AmbientAfterQuest_01_16_00");
    };
    if ((NPC_GETLASTAMBIENT(SELF)) == (2)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Dima_AmbientAfterQuest_02_16_00");
    };
}

instance DIA_DIMA_WHATUTRADE(C_INFO) {
    NPC = 52075;
    NR = 2;
    CONDITION = DIA_DIMA_WHATUTRADE_CONDITION;
    INFORMATION = DIA_DIMA_WHATUTRADE_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "What do you trade?";
}

func int DIA_DIMA_WHATUTRADE_CONDITION() {
    return TRUE;
}

func void DIA_DIMA_WHATUTRADE_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_WhatUTrade_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_WhatUTrade_16_02");
    LOG_CREATETOPIC(TOPIC_ARAXOSTRADER, LOG_NOTE);
    AI_LOGENTRY(TOPIC_ARAXOSTRADER, LOG_TRADER_ARAXOS_DIMA);
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_WhatUTrade_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_WhatUTrade_16_03");
    INFO_CLEARCHOICES(71326);
    INFO_ADDCHOICE(71326, "Mages are happy to buy goods from you?", 71329);
    INFO_ADDCHOICE(71326, "I see business is booming.", 71330);
}

func void DIA_DIMA_WHATUTRADE_MAGESBUY() {
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_MagesBuy_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_MagesBuy_16_02");
}

func void DIA_DIMA_WHATUTRADE_GOODTRADE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_GoodTrade_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_GoodTrade_16_02");
}

instance DIA_DIMA_TRADE(C_INFO) {
    NPC = 52075;
    NR = 998;
    CONDITION = DIA_DIMA_TRADE_CONDITION;
    INFORMATION = DIA_DIMA_TRADE_INFO;
    PERMANENT = TRUE;
    TRADE = TRUE;
    DESCRIPTION = "Let's deal.";
}

func int DIA_DIMA_TRADE_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 71326)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DIMA_TRADE_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_TRADE_15_01");
    B_GIVETRADEINV(SELF);
}

instance DIA_DIMA_HOWINTOGUILD(C_INFO) {
    NPC = 52075;
    NR = 950;
    CONDITION = DIA_DIMA_HOWINTOGUILD_CONDITION;
    INFORMATION = DIA_DIMA_HOWINTOGUILD_INFO;
    DESCRIPTION = "How did you get into the Merchant's Guild?";
}

func int DIA_DIMA_HOWINTOGUILD_CONDITION() {
    return TRUE;
}

func void DIA_DIMA_HOWINTOGUILD_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_HowIntoGuild_15_00");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_HowIntoGuild_16_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_HowIntoGuild_16_02");
}

instance DIA_DIMA_HOWTOJOIN(C_INFO) {
    NPC = 52075;
    NR = 960;
    CONDITION = DIA_DIMA_HOWTOJOIN_CONDITION;
    INFORMATION = DIA_DIMA_HOWTOJOIN_INFO;
    DESCRIPTION = "How to join the Merchant's Guild?";
}

func int DIA_DIMA_HOWTOJOIN_CONDITION() {
    if (((((LOG_GETSTATUS(MIS_FAQ001)) == (LOG_SUCCESS)) && ((OTHER.GUILD) != (GIL_SLD))) && ((OTHER.GUILD) != (GIL_MIL))) && ((KAPITEL) == (2))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DIMA_HOWTOJOIN_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_HowToJoin_15_00");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_HowToJoin_16_01");
}

instance DIA_DIMA_FAQ001_START(C_INFO) {
    NPC = 52075;
    NR = 1;
    CONDITION = DIA_DIMA_FAQ001_START_CONDITION;
    INFORMATION = DIA_DIMA_FAQ001_START_INFO;
    IMPORTANT = TRUE;
}

var int DIMAQUESTREFUSED;
func int DIA_DIMA_FAQ001_START_CONDITION() {
    return TRUE;
}

func void DIA_DIMA_FAQ001_START_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_FAQ001_Start_16_00");
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_FAQ001_Start_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_FAQ001_Start_16_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_FAQ001_Start_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_FAQ001_Start_16_04");
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_FAQ001_Start_15_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_FAQ001_Start_16_06");
    INFO_CLEARCHOICES(71340);
    INFO_ADDCHOICE(71340, "No, thank you.", 71345);
    INFO_ADDCHOICE(71340, "I'd love to.", 71344);
}

func void DIA_DIMA_FAQ001_START_YES() {
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_FAQ001_Start_Yes_15_00");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_FAQ001_Start_Yes_16_01");
    INFO_CLEARCHOICES(71340);
    LOG_CREATETOPIC(TOPIC_FAQ001, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_FAQ001), TOPIC_FAQ001, LOG_RUNNING);
    AI_LOGENTRY(TOPIC_FAQ001, LOG_FAQ001_START);
    FAQ001_PREPARESUNDER();
}

func void DIA_DIMA_FAQ001_START_NO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_FAQ001_Start_No_15_00");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_FAQ001_Start_No_16_01");
    INFO_CLEARCHOICES(71340);
    DIMAQUESTREFUSED = TRUE;
}

instance DIA_DIMA_FAQ001_CHANGEDMIND(C_INFO) {
    NPC = 52075;
    NR = 1;
    CONDITION = DIA_DIMA_FAQ001_CHANGEDMIND_CONDITION;
    INFORMATION = DIA_DIMA_FAQ001_CHANGEDMIND_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I changed my mind. I'll find that Sunder for you.";
}

func int DIA_DIMA_FAQ001_CHANGEDMIND_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 71340)) && ((DIMAQUESTREFUSED) == (TRUE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DIMA_FAQ001_CHANGEDMIND_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_FAQ001_ChangedMind_15_00");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_FAQ001_ChangedMind_16_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_FAQ001_ChangedMind_16_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_FAQ001_ChangedMind_15_03");
    LOG_CREATETOPIC(TOPIC_FAQ001, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_FAQ001), TOPIC_FAQ001, LOG_RUNNING);
    AI_LOGENTRY(TOPIC_FAQ001, LOG_FAQ001_START_V2);
    FAQ001_PREPARESUNDER();
}

instance DIA_DIMA_FAQ001_FINISH(C_INFO) {
    NPC = 52075;
    NR = 1;
    CONDITION = DIA_DIMA_FAQ001_FINISH_CONDITION;
    INFORMATION = DIA_DIMA_FAQ001_FINISH_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I talked to Sunder.";
}

func int DIA_DIMA_FAQ001_FINISH_CONDITION() {
    if (((FAQ001_MARVINFOUNDSUNDER) == (TRUE)) && ((LOG_GETSTATUS(MIS_FAQ001)) == (LOG_RUNNING))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DIMA_FAQ001_FINISH_RESULT() {
    FAQ001_TELEPORTSUNDERTOARAXOS = 1;
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_FAQ001_Finish_Result_03_01");
    CREATEINVITEMS(SELF, 34203, FAQ001_REWARD);
    if ((LOG_GETSTATUS(MIS_Q204)) == (LOG_RUNNING)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Dima_FAQ001_Finish_Result_03_02");
    };
    if ((FAQ001_MARVINFOUNDDEADMEESENGER) >= (1)) {
        Q204_ARAXOSGUILDREPUTATION = (Q204_ARAXOSGUILDREPUTATION) + (3);
        B_GIVEPLAYERXP(XP_FAQ001_FINISH_TIER_2);
        PRINTD("Jutro zrespi siê zombie!");
        FAQ001_SPAWNZOMBIECORPSE = 1;
        FAQ001_SPAWNZOMBIECORPSE_DAY = WLD_GETDAY();
        if ((((Q204_WEGOTENTRY) == (FALSE)) && ((Q204_ARAXOSGUILDREPUTATION) >= (Q204_ARAXOSGUILDREPUTATION_REQUIRED))) && ((LOG_GETSTATUS(MIS_Q204)) == (LOG_RUNNING))) {
            AI_LOGENTRY(TOPIC_Q204, LOG_Q204_ITHINKIDONEENOUGH);
            Q204_WEGOTENTRY = TRUE;
        };
    };
    B_GIVEINVITEMS(SELF, OTHER, 34203, FAQ001_REWARD);
    Q204_ARAXOSGUILDREPUTATION = (Q204_ARAXOSGUILDREPUTATION) + (1);
    B_GIVEPLAYERXP(XP_FAQ001_FINISH_TIER_1);
    if ((((Q204_WEGOTENTRY) == (FALSE)) && ((Q204_ARAXOSGUILDREPUTATION) >= (Q204_ARAXOSGUILDREPUTATION_REQUIRED))) && ((LOG_GETSTATUS(MIS_Q204)) == (LOG_RUNNING))) {
        AI_LOGENTRY(TOPIC_Q204, LOG_Q204_ITHINKIDONEENOUGH);
        Q204_WEGOTENTRY = TRUE;
    };
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_FAQ001_Finish_Result_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_FAQ001_Finish_Result_03_04");
    AI_LOGENTRY(TOPIC_FAQ001, LOG_FAQ001_FINISH);
    LOG_SETSTATUS(_@(MIS_FAQ001), TOPIC_FAQ001, LOG_SUCCESS);
    FAQ001_REPLACSUNDERMDS();
}

func void DIA_DIMA_FAQ001_FINISH_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_FAQ001_Finish_15_01");
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_FAQ001_Finish_03_02");
    if ((FAQ001_MARVINFOUNDDEADMEESENGER) >= (1)) {
        AI_STARTFACEANI(OTHER, S_TIRED, 1, -(1));
        AI_OUTPUT(OTHER, SELF, "DIA_Dima_FAQ001_Finish_15_03");
        AI_OUTPUT(OTHER, SELF, "DIA_Dima_FAQ001_Finish_15_04");
        AI_RESETFACEANI(OTHER);
        AI_OUTPUT(OTHER, SELF, "DIA_Dima_FAQ001_Finish_15_05");
        AI_OUTPUT(OTHER, SELF, "DIA_Dima_FAQ001_Finish_15_06");
        AI_STARTFACEANI(SELF, S_TIRED, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Dima_FAQ001_Finish_03_07");
        AI_OUTPUT(OTHER, SELF, "DIA_Dima_FAQ001_Finish_15_08");
        AI_RESETFACEANI(SELF);
        AI_OUTPUT(SELF, OTHER, "DIA_Dima_FAQ001_Finish_03_09");
        AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Dima_FAQ001_Finish_03_10");
        AI_OUTPUT(OTHER, SELF, "DIA_Dima_FAQ001_Finish_15_11");
        AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Dima_FAQ001_Finish_03_12");
    };
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_FAQ001_Finish_15_14");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_FAQ001_Finish_03_15");
    DIA_DIMA_FAQ001_FINISH_RESULT();
}

instance DIA_DIMA_SQ207_LEXX(C_INFO) {
    NPC = 52075;
    NR = 1;
    CONDITION = DIA_DIMA_SQ207_LEXX_CONDITION;
    INFORMATION = DIA_DIMA_SQ207_LEXX_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Luna would like her gold back.";
}

func int DIA_DIMA_SQ207_LEXX_CONDITION() {
    if (((LOG_GETSTATUS(MIS_SQ207)) == (LOG_RUNNING)) && ((SQ207_FAILED) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DIMA_SQ207_LEXX_INFO() {
    SQ207_DIMATOLEXX = 1;
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ207_LEXX_15_01");
    AI_STARTFACEANI(SELF, S_SURPRISE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ207_LEXX_03_02");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ207_LEXX_03_03");
}

instance DIA_DIMA_SQ207_COMEBACK(C_INFO) {
    NPC = 52075;
    NR = 1;
    CONDITION = DIA_DIMA_SQ207_COMEBACK_CONDITION;
    INFORMATION = DIA_DIMA_SQ207_COMEBACK_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_DIMA_SQ207_COMEBACK_CONDITION() {
    if (((((LOG_GETSTATUS(MIS_SQ207)) == (LOG_RUNNING)) && ((SQ207_DIMATOLEXX) == (8))) && ((SQ207_FAILED) == (FALSE))) && (NPC_ISINSTATE(SELF, 61599))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

var int DIMA_SQ207_COMEBACK_ARAXOS;
var int DIMA_SQ207_COMEBACK_WOMAN;
func void DIA_DIMA_SQ207_COMEBACK_ALL() {
    SQ207_DIMATOLEXX = 9;
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ207_ComeBack_All_15_01");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ207_ComeBack_All_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ207_ComeBack_All_03_03");
    INFO_CLEARCHOICES(71356);
    AI_STOPPROCESSINFOS(SELF);
    NPC_EXCHANGEROUTINE(SELF, START);
    CREATEINVITEMS(SELF, 34203, SQ207_DIMAREWARD);
    B_GIVEINVITEMS(SELF, OTHER, 34203, SQ207_DIMAREWARD);
    AI_LOGENTRY(TOPIC_SQ207, LOG_SQ207_DIMA_HAPPY);
}

func void DIA_DIMA_SQ207_COMEBACK_CHOICES() {
    INFO_CLEARCHOICES(71356);
    if (((DIMA_SQ207_COMEBACK_ARAXOS) == (FALSE)) || ((DIMA_SQ207_COMEBACK_WOMAN) == (FALSE))) {
        if ((DIMA_SQ207_COMEBACK_ARAXOS) == (FALSE)) {
            INFO_ADDCHOICE(71356, "There was a mercenary here...", 71364);
        };
        if ((DIMA_SQ207_COMEBACK_WOMAN) == (FALSE)) {
            INFO_ADDCHOICE(71356, "A woman, she came to pick up the hammers and the figurine.", 71365);
        };
    };
    DIA_DIMA_SQ207_COMEBACK_ALL();
}

func void DIA_DIMA_SQ207_COMEBACK_INFO() {
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ207_ComeBack_03_01");
    DIA_DIMA_SQ207_COMEBACK_CHOICES();
}

func void DIA_DIMA_SQ207_COMEBACK_ANYTHINGELSE() {
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ207_ComeBack_Araxos_03_07");
    DIA_DIMA_SQ207_COMEBACK_CHOICES();
}

func void DIA_DIMA_SQ207_COMEBACK_ARAXOS() {
    DIMA_SQ207_COMEBACK_ARAXOS = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ207_ComeBack_Araxos_15_01");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ207_ComeBack_Araxos_03_02");
    if ((SQ207_HELPEDDIMAARAXOS) == (1)) {
        AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ207_ComeBack_Araxos_15_03");
        AI_STARTFACEANI(SELF, S_SURPRISE, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ207_ComeBack_Araxos_03_04");
    };
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ207_ComeBack_Araxos_15_05");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ207_ComeBack_Araxos_03_06");
    DIA_DIMA_SQ207_COMEBACK_ANYTHINGELSE();
}

func void DIA_DIMA_SQ207_COMEBACK_WOMAN() {
    DIMA_SQ207_COMEBACK_WOMAN = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ207_ComeBack_Woman_15_01");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ207_ComeBack_Woman_03_02");
    if ((SQ207_HELPEDDIMACITIZEN) == (1)) {
        AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ207_ComeBack_Woman_15_03");
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ207_ComeBack_Woman_03_04");
    };
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ207_ComeBack_Woman_15_05");
    AI_STARTFACEANI(SELF, S_TIRED, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ207_ComeBack_Woman_03_06");
    DIA_DIMA_SQ207_COMEBACK_ANYTHINGELSE();
}

instance DIA_DIMA_SQ309(C_INFO) {
    NPC = 52075;
    NR = 1;
    CONDITION = DIA_DIMA_SQ309_CONDITION;
    INFORMATION = DIA_DIMA_SQ309_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I hear you're getting golden Innoses for Groen.";
}

func int DIA_DIMA_SQ309_CONDITION() {
    if (((LOG_GETSTATUS(MIS_SQ309)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 75789))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DIMA_SQ309_INFORMATION_SUES() {
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_Gold_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_Gold_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_Gold_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_Gold_03_04");
    SQ309_INFORMATIONABOUTSUES = TRUE;
    if (NPC_KNOWSINFO(HERO, 77098)) {
        AI_LOGENTRY(TOPIC_SQ309, LOG_SQ309_INFOFROMDIMA);
    };
    AI_LOGENTRY(TOPIC_SQ309, LOG_SQ309_INFOFROMDIMAV2);
    INFO_CLEARCHOICES(71366);
}

func void DIA_DIMA_SQ309_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ309_15_01");
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ309_15_03");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_03_07");
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ309_15_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_03_09");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_03_10");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_03_11");
    INFO_CLEARCHOICES(71366);
    INFO_ADDCHOICE(71366, "Just tell me how much you want for this information.", 71370);
    if (((LOG_GETSTATUS(MIS_FAQ001)) == (LOG_SUCCESS)) && ((OTHER.GUILD) == (GIL_SLD))) {
        INFO_ADDCHOICE(71366, "I'm thinking about investing in this business myself.", 71371);
    };
    if ((NPC_HASEQUIPPEDARMOR(OTHER)) == (TRUE)) {
        if (NPC_HASGUILDARMOREQUIPPED(OTHER, GIL_MIL)) {
            INFO_ADDCHOICE(71366, "I'm investigating this case.", 71372);
        };
    };
    if ((SQ309_INFORMATIONABOUTSUES) == (TRUE)) {
        INFO_ADDCHOICE(71366, "I thought figure making was done by artisans.", 71373);
    };
}

func void DIA_DIMA_SQ309_INFORMATION() {
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ309_Information_15_01");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_Information_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_Information_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_Information_03_04");
    AI_RESETFACEANI(SELF);
    SQ309_DIMAPRICE100GOLD = TRUE;
    INFO_CLEARCHOICES(71366);
    INFO_ADDCHOICE(71366, "I don't carry that much gold.", 71375);
    if ((NPC_HASITEMS(OTHER, 34203)) >= (SQ309_DIMAINFORMATION_V1)) {
        INFO_ADDCHOICE(71366, DIALOG_GIVE100G, 71374);
    };
}

func void DIA_DIMA_SQ309_BUISNESS() {
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ309_Buisness_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ309_Buisness_15_02");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_Buisness_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_Buisness_03_04");
    AI_RESETFACEANI(SELF);
    DIA_DIMA_SQ309_INFORMATION_SUES();
}

func void DIA_DIMA_SQ309_INVESTIGATION() {
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ309_Investigation_15_01");
    AI_STARTFACEANI(SELF, S_SURPRISE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_Investigation_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ309_Investigation_15_03");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_Investigation_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_Investigation_03_05");
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ309_Investigation_15_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_Investigation_03_07");
    INFO_CLEARCHOICES(71366);
    SQ309_DIMAPRICE75GOLD = TRUE;
    INFO_ADDCHOICE(71366, "I don't carry that much gold.", 71375);
    if ((NPC_HASITEMS(OTHER, 34203)) >= (SQ309_DIMAINFORMATION_V2)) {
        INFO_ADDCHOICE(71366, DIALOG_GIVE75G, 71374);
    };
}

func void DIA_DIMA_SQ309_SUES() {
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ309_Sues_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_Sues_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_Sues_03_03");
    AI_LOGENTRY(TOPIC_SQ309, LOG_SQ309_INFOFROMDIMAV3);
    INFO_CLEARCHOICES(71366);
}

func void DIA_DIMA_SQ309_INFORMATION_GOLD() {
    if ((SQ309_DIMAPRICE75GOLD) == (TRUE)) {
    };
    if ((SQ309_DIMAPRICE100GOLD) == (TRUE)) {
        B_GIVEINVITEMS(OTHER, SELF, 34203, SQ309_DIMAINFORMATION_V1);
    };
    SQ309_DIMAWANTSGOLDFORINFORMATION = FALSE;
    DIA_DIMA_SQ309_INFORMATION_SUES();
}

func void DIA_DIMA_SQ309_INFORMATION_NOGOLD() {
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_SQ309_NoGold_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ309_NoGold_03_02");
    SQ309_DIMAWANTSGOLDFORINFORMATION = TRUE;
    INFO_CLEARCHOICES(71366);
}

instance DIA_DIMA_GI75GOLD(C_INFO) {
    NPC = 52075;
    NR = 1;
    CONDITION = DIA_DIMA_GI75GOLD_CONDITION;
    INFORMATION = DIA_DIMA_GI75GOLD_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = DIALOG_PAY75G;
}

func int DIA_DIMA_GI75GOLD_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_SQ309)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 71366))) && ((SQ309_DIMAWANTSGOLDFORINFORMATION) == (TRUE))) {
        if ((SQ309_DIMAPRICE75GOLD) == (TRUE)) {
            if ((NPC_HASITEMS(OTHER, 34203)) >= (SQ309_DIMAINFORMATION_V2)) {
                return TRUE;
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_DIMA_GI75GOLD_INFO() {
    DIA_DIMA_SQ309_INFORMATION_GOLD();
}

instance DIA_DIMA_GI100GOLD(C_INFO) {
    NPC = 52075;
    NR = 1;
    CONDITION = DIA_DIMA_GI100GOLD_CONDITION;
    INFORMATION = DIA_DIMA_GI100GOLD_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = DIALOG_PAY100G;
}

func int DIA_DIMA_GI100GOLD_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_SQ309)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 71366))) && ((SQ309_DIMAWANTSGOLDFORINFORMATION) == (TRUE))) {
        if ((SQ309_DIMAPRICE100GOLD) == (TRUE)) {
            if ((NPC_HASITEMS(OTHER, 34203)) >= (SQ309_DIMAINFORMATION_V1)) {
                return TRUE;
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_DIMA_GI100GOLD_INFO() {
    DIA_DIMA_SQ309_INFORMATION_GOLD();
}

instance DIA_DIMA_SQ207_DIMAANGRY(C_INFO) {
    NPC = 52075;
    NR = 1;
    CONDITION = DIA_DIMA_SQ207_DIMAANGRY_CONDITION;
    INFORMATION = DIA_DIMA_SQ207_DIMAANGRY_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_DIMA_SQ207_DIMAANGRY_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_SQ207)) == (LOG_SUCCESS)) && ((SQ207_DIMATOLEXX) == (3))) && ((SQ207_FAILED) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DIMA_SQ207_DIMAANGRY_INFO() {
    B_ADDPETZCRIME(SELF, CRIME_THEFT);
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ207_DimaAngry_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_SQ207_DimaAngry_03_02");
    AI_RESETFACEANI(SELF);
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_DIMA_Q505_HELP(C_INFO) {
    NPC = 52075;
    NR = 1;
    CONDITION = DIA_DIMA_Q505_HELP_CONDITION;
    INFORMATION = DIA_DIMA_Q505_HELP_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Can you spare me a few scrolls as a favor?";
}

func int DIA_DIMA_Q505_HELP_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q505)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 80244))) {
        if (((LOG_GETSTATUS(MIS_FAQ001)) == (LOG_SUCCESS)) && ((SQ207_DIMATOLEXX) != (3))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

var int DIMA_Q505_BUYSCROLLS;
func void DIA_DIMA_Q505_HELP_INFO() {
    DIMA_Q505_BUYSCROLLS = TRUE;
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Dima_Q505_Help_15_01");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_Q505_Help_03_02");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Dima_Q505_Help_03_03");
    AI_RESETFACEANI(OTHER);
    AI_RESETFACEANI(SELF);
}

instance DIA_DIMA_Q505_PAY(C_INFO) {
    NPC = 52075;
    NR = 1;
    CONDITION = DIA_DIMA_Q505_PAY_CONDITION;
    INFORMATION = DIA_DIMA_Q505_PAY_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "(Pay 200 GP for magic scrolls)";
}

func int DIA_DIMA_Q505_PAY_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_Q505)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 71385))) && ((DIMA_Q505_BUYSCROLLS) == (TRUE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DIMA_Q505_PAY_INFO() {
    if ((NPC_HASITEMS(OTHER, 34203)) >= (Q505_HELGAPRICE)) {
        NPC_REMOVEINVITEMS(SELF, 34203, Q505_DIMAPRICE);
        DIMA_Q505_BUYSCROLLS = 0;
        B_GIVEINVITEMS(OTHER, SELF, 34203, Q505_DIMAPRICE);
        AI_OUTPUT(OTHER, SELF, "DIA_Dima_Q505_Pay_15_01");
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Dima_Q505_Pay_03_02");
        AI_RESETFACEANI(SELF);
        CREATEINVITEMS(SELF, 37596, 1);
    };
    B_SAY(SELF, OTHER, "$NOGOLD");
}

instance DIA_DIMA_PICKPOCKET(C_INFO) {
    NPC = 52075;
    NR = 900;
    CONDITION = DIA_DIMA_PICKPOCKET_CONDITION;
    INFORMATION = DIA_DIMA_PICKPOCKET_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = PICKPOCKET_120_FEMALE;
}

func int DIA_DIMA_PICKPOCKET_CONDITION() {
    if (((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (1)) && ((SELF.AIVAR[6]) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_DIMA_PICKPOCKET_INFO() {
    INFO_CLEARCHOICES(71392);
    INFO_ADDCHOICE(71392, DIALOG_BACK, 71396);
    INFO_ADDCHOICE(71392, DIALOG_PICKPOCKET, 71395);
}

func void DIA_DIMA_PICKPOCKET_DOIT() {
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (3)) {
        CREATEINVITEMS(SELF, 38183, 1);
        B_GIVEINVITEMS(SELF, OTHER, 38183, 1);
        B_PICKPOCKET_AMBIENT_TIER_3();
        SELF.AIVAR[6] = TRUE;
        INFO_CLEARCHOICES(71392);
    };
    AI_PLAYANI(HERO, T_CANNOTTAKE);
    PRINTSCREEN(PRINT_CANTPICKPOCKETTHISPERSON, -(1), -(1), FONT_SCREEN, 4);
    INFO_CLEARCHOICES(71392);
}

func void DIA_DIMA_PICKPOCKET_BACK() {
    INFO_CLEARCHOICES(71392);
}

instance DIA_DIMA_SELLORE(C_INFO) {
    NPC = 52075;
    NR = 770;
    CONDITION = DIA_DIMA_SELLORE_CONDITION;
    INFORMATION = DIA_DIMA_SELLORE_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "I have everything you need. (Sell the powdered ore)";
}

var int DIMANEEDORE_ENOUGH;
var int DIMANEEDORE_COUNT;
func int DIA_DIMA_SELLORE_CONDITION() {
    if (((SHOWNEWS_SELL_ORE) == (TRUE)) && ((DIMANEEDORE_ENOUGH) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

var int DIMA_OREINSTANCE;
var int DIMA_OREVALUE;
func void DIA_DIMA_SELLORE_CHOICES() {
    var string ALL_STRING;
    var int MAX;
    DIMA_OREINSTANCE = 35989;
    DIMA_OREVALUE = VALUE_ITCR_MAGICORE_POWDERED;
    INFO_CLEARCHOICES(71397);
    MAX = NPC_HASITEMS(HERO, DIMA_OREINSTANCE);
    ALL_STRING = CS4(DIALOG_ALL, " (", I2S(MAX), ")");
    INFO_ADDCHOICE(71397, ALL_STRING, 71408);
    INFO_ADDCHOICE(71397, CHOICE_NUMBER_5, 71410);
    INFO_ADDCHOICE(71397, CHOICE_NUMBER_1, 71412);
    INFO_ADDCHOICE(71397, DIALOG_BACK, 71407);
}

func void DIA_DIMA_SELLORE_INFO() {
    B_SAY(OTHER, SELF, "$MARVIN_GiveItem3");
    DIA_DIMA_SELLORE_CHOICES();
}

func void DIA_DIMA_SELLORE_BACK() {
    DIMA_OREINSTANCE = -(1);
    DIMA_OREVALUE = 0;
    INFO_CLEARCHOICES(71397);
}

func void DIA_DIMA_SELLORE_ALL() {
    var int MAX;
    if ((NPC_HASITEMS(OTHER, DIMA_OREINSTANCE)) >= (1)) {
        MAX = NPC_HASITEMS(HERO, DIMA_OREINSTANCE);
        B_GIVEINVITEMS(OTHER, SELF, DIMA_OREINSTANCE, MAX);
        CREATEINVITEMS(SELF, 34203, (MAX) * (DIMA_OREVALUE));
        B_GIVEINVITEMS(SELF, OTHER, 34203, (MAX) * (DIMA_OREVALUE));
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        B_SAY(SELF, OTHER, "$REWARD_CALM");
        AI_RESETFACEANI(SELF);
        if ((DIMA_OREINSTANCE) == (35989)) {
            DIMANEEDORE_COUNT = (DIMANEEDORE_COUNT) + (MAX);
            if ((DIMANEEDORE_COUNT) >= (100)) {
                DIMANEEDORE_ENOUGH = TRUE;
                if ((DIMANEEDORE_COUNT) > (100)) {
                    AI_FUNCTION(SELF, 71413);
                };
            };
        };
        if (((DIMA_OREINSTANCE) == (35989)) && ((DIMANEEDORE_ENOUGH) == (FALSE))) {
            DIA_DIMA_SELLORE_CHOICES();
        } else {
            DIA_DIMA_SELLORE_BACK();
        };
    };
    DIA_DIMA_SELLORE_BACK();
    B_SAY(SELF, OTHER, "$NOITEMS");
}

func void DIA_DIMA_SELLORE_5() {
    var int MAX;
    if ((NPC_HASITEMS(OTHER, DIMA_OREINSTANCE)) >= (5)) {
        B_GIVEINVITEMS(OTHER, SELF, DIMA_OREINSTANCE, 5);
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        B_SAY(SELF, OTHER, "$REWARD_CALM");
        AI_RESETFACEANI(SELF);
        CREATEINVITEMS(SELF, 34203, (5) * (DIMA_OREVALUE));
        if ((DIMA_OREINSTANCE) == (35989)) {
            DIMANEEDORE_COUNT = (DIMANEEDORE_COUNT) + (5);
            if ((DIMANEEDORE_COUNT) >= (100)) {
                DIMANEEDORE_ENOUGH = TRUE;
                if ((DIMANEEDORE_COUNT) > (100)) {
                    AI_FUNCTION(SELF, 71413);
                };
            };
        };
        if (((DIMA_OREINSTANCE) == (35989)) && ((DIMANEEDORE_ENOUGH) == (FALSE))) {
            DIA_DIMA_SELLORE_CHOICES();
        } else {
            DIA_DIMA_SELLORE_BACK();
        };
    };
    if (((NPC_HASITEMS(OTHER, DIMA_OREINSTANCE)) >= (1)) && ((NPC_HASITEMS(OTHER, DIMA_OREINSTANCE)) < (5))) {
        MAX = NPC_HASITEMS(HERO, DIMA_OREINSTANCE);
        B_GIVEINVITEMS(OTHER, SELF, DIMA_OREINSTANCE, MAX);
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        B_SAY(SELF, OTHER, "$REWARD_CALM");
        AI_RESETFACEANI(SELF);
        CREATEINVITEMS(SELF, 34203, (MAX) * (DIMA_OREVALUE));
        if ((DIMA_OREINSTANCE) == (35989)) {
            DIMANEEDORE_COUNT = (DIMANEEDORE_COUNT) + (MAX);
            if ((DIMANEEDORE_COUNT) >= (100)) {
                DIMANEEDORE_ENOUGH = TRUE;
                if ((DIMANEEDORE_COUNT) > (100)) {
                    AI_FUNCTION(SELF, 71413);
                };
            };
        };
        if (((DIMA_OREINSTANCE) == (35989)) && ((DIMANEEDORE_ENOUGH) == (FALSE))) {
            DIA_DIMA_SELLORE_CHOICES();
        } else {
            DIA_DIMA_SELLORE_BACK();
        };
    };
    if ((NPC_HASITEMS(OTHER, DIMA_OREINSTANCE)) == (0)) {
        DIA_DIMA_SELLORE_BACK();
        B_SAY(SELF, OTHER, "$NOITEMS");
    };
}

func void DIA_DIMA_SELLORE_1() {
    if ((NPC_HASITEMS(OTHER, DIMA_OREINSTANCE)) >= (1)) {
        B_GIVEINVITEMS(OTHER, SELF, DIMA_OREINSTANCE, 1);
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        B_SAY(SELF, OTHER, "$REWARD_CALM");
        AI_RESETFACEANI(SELF);
        CREATEINVITEMS(SELF, 34203, DIMA_OREVALUE);
        if ((DIMA_OREINSTANCE) == (35989)) {
            DIMANEEDORE_COUNT = (DIMANEEDORE_COUNT) + (1);
            if ((DIMANEEDORE_COUNT) >= (100)) {
                DIMANEEDORE_ENOUGH = TRUE;
                if ((DIMANEEDORE_COUNT) > (100)) {
                    AI_FUNCTION(SELF, 71413);
                };
            };
        };
        if (((DIMA_OREINSTANCE) == (35989)) && ((DIMANEEDORE_ENOUGH) == (FALSE))) {
            DIA_DIMA_SELLORE_CHOICES();
        } else {
            DIA_DIMA_SELLORE_BACK();
        };
    };
    if ((NPC_HASITEMS(OTHER, DIMA_OREINSTANCE)) == (0)) {
        DIA_DIMA_SELLORE_BACK();
        B_SAY(SELF, OTHER, "$NOITEMS");
    };
}

func void DIMA_GIVEBACKSTUFF_ORE() {
    NPC_REMOVEINVITEMS(SLD_5001_DIMA, 34203, (VALUE_ITCR_MAGICORE_POWDERED) * ((DIMANEEDORE_COUNT) - (100)));
    PRINTSCREENS(PRINT_DIMAORE, -(1), -(1), FONT_SCREENSMALL, 4);
    B_GIVEINVITEMS(HERO, SLD_5001_DIMA, 34203, (VALUE_ITCR_MAGICORE_POWDERED) * ((DIMANEEDORE_COUNT) - (100)));
}

