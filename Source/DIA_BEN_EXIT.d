instance DIA_BEN_EXIT(C_INFO) {
    NPC = 58599;
    NR = 999;
    CONDITION = DIA_BEN_EXIT_CONDITION;
    INFORMATION = DIA_BEN_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_BEN_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_BEN_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_BEN_KILLFOOL(C_INFO) {
    NPC = 58599;
    NR = 1;
    CONDITION = DIA_BEN_KILLFOOL_CONDITION;
    INFORMATION = DIA_BEN_KILLFOOL_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BEN_KILLFOOL_CONDITION() {
    if ((NPC_ISINSTATE(SELF, 61599)) && ((NPC_KNOWSINFO(OTHER, 83854)) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void BEN_KILLMARVIN() {
    MDL_APPLYOVERLAYMDS(HERO, "HUMANS_SUDDENDEATH.MDS");
    AI_PLAYANI(NONE_7500_BEN, "T_2HATTACKL");
    AI_WAIT(HERO, 1069547520);
    AI_PLAYANI(HERO, T_DEAD);
    SND_PLAY("FIG_SwordFinal");
    SND_PLAY("SVM_15_DEAD");
    HERO.ATTRIBUTE[1] = -(1);
    HERO.ATTRIBUTE[0] = -(1);
    AI_REMOVEWEAPON(NONE_7500_BEN);
    HERO.AIVAR[4] = FALSE;
}

func void DIA_BEN_KILLFOOL_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_KillFool_03_01");
    B_STANDUP();
    HERO.ATTRIBUTE[0] = 1;
    AI_DRAWWEAPON(SELF);
    AI_SETWALKMODE(SELF, NPC_WALK);
    AI_GOTONPC(SELF, OTHER);
    AI_WAITTILLEND(OTHER, SELF);
    AI_WAITTILLEND(SELF, OTHER);
    AI_FUNCTION(SELF, 83377);
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_BEN_HELLO(C_INFO) {
    NPC = 58599;
    NR = 2;
    CONDITION = DIA_BEN_HELLO_CONDITION;
    INFORMATION = DIA_BEN_HELLO_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BEN_HELLO_CONDITION() {
    if ((NPC_ISINSTATE(SELF, 61599)) && (NPC_KNOWSINFO(OTHER, 83854))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

var int BEN_HELLO_CORTEZ;
var int BEN_HELLO_INFORMATION;
var int BEN_HELLO_JOB;
var int BEN_HELLO_SOMETHING;
var int BEN_HELLO_GOAWAY;
var int BEN_HELLO_GOLD;
var int BEN_HELLO_JORN;
var int BEN_HELLO_NOWAY;
func void DIA_BEN_HELLO_CHOICES() {
    INFO_CLEARCHOICES(83379);
    if ((BEN_HELLO_CORTEZ) == (FALSE)) {
        INFO_ADDCHOICE(83379, "I thought Cortez was in charge here.", 83391);
    };
    if ((BEN_HELLO_INFORMATION) == (FALSE)) {
        INFO_ADDCHOICE(83379, "I just need one piece of information from you.", 83392);
    };
    if (((OTHER.GUILD) == (GIL_MIL)) && ((BEN_HELLO_JOB) == (FALSE))) {
        INFO_ADDCHOICE(83379, "I know you take all kinds of jobs, even kidnappings.", 83393);
    };
    if ((BEN_HELLO_INFORMATION) == (TRUE)) {
        if ((BEN_HELLO_SOMETHING) == (FALSE)) {
            INFO_ADDCHOICE(83379, "There must be something that convinces you to tell me something.", 83395);
        } else if ((BEN_HELLO_GOLD) == (FALSE)) {
            INFO_ADDCHOICE(83379, "I can pay you for any information.", 83396);
        };
        if ((BEN_HELLO_JORN) == (FALSE)) {
            INFO_ADDCHOICE(83379, "His name was Jorn. Does that name really mean nothing to you?", 83397);
        };
        if ((BEN_HELLO_GOAWAY) == (FALSE)) {
            INFO_ADDCHOICE(83379, "(Move along)", 83399);
        };
    };
}

func void DIA_BEN_HELLO_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_HELLO_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_03_02");
    if ((Q306_TOURNAMENTSTATUS) == (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_03_03");
        AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_03_04");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_03_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_03_08");
    DIA_BEN_HELLO_CHOICES();
}

func void DIA_BEN_HELLO_CORTEZ() {
    BEN_HELLO_CORTEZ = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_HELLO_Cortez_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Cortez_03_02");
    if ((Q306_TOURNAMENTSTATUS) == (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Cortez_03_03");
        AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Cortez_03_04");
        INFO_CLEARCHOICES(83379);
        INFO_ADDCHOICE(83379, "You didn't seem so threatening in the arena.", 83394);
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Cortez_03_05");
    DIA_BEN_HELLO_CHOICES();
}

func void DIA_BEN_HELLO_INFORMATION() {
    BEN_HELLO_INFORMATION = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_HELLO_Information_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Information_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_HELLO_Information_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Information_03_04");
    if ((Q306_TOURNAMENTSTATUS) != (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Information_03_05");
    };
    DIA_BEN_HELLO_CHOICES();
}

func void DIA_BEN_HELLO_JOB() {
    BEN_HELLO_JOB = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_HELLO_Job_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Job_03_04");
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_HELLO_Job_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Job_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Job_03_06");
    DIA_BEN_HELLO_CHOICES();
}

func void DIA_BEN_HELLO_CORTEZ_SMUG() {
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_HELLO_Smug_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Smug_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Smug_03_03");
    DIA_BEN_HELLO_CHOICES();
}

func void DIA_BEN_HELLO_INFORMATION_SOMETHING() {
    BEN_HELLO_SOMETHING = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_HELLO_Something_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Something_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Something_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Something_03_04");
    if ((Q306_TOURNAMENTSTATUS) != (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Something_03_05");
    };
    DIA_BEN_HELLO_CHOICES();
}

func void DIA_BEN_HELLO_INFORMATION_SOMETHING_GOLD() {
    BEN_HELLO_GOLD = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_HELLO_Gold_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Gold_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Gold_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Gold_03_04");
    if ((Q306_TOURNAMENTSTATUS) != (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Gold_03_05");
    };
    DIA_BEN_HELLO_CHOICES();
}

func void DIA_BEN_HELLO_INFORMATION_SOMETHING_JORN() {
    BEN_HELLO_JORN = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_HELLO_Jorn_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Jorn_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Jorn_03_03");
    if ((Q306_TOURNAMENTSTATUS) != (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Jorn_03_04");
        AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Jorn_03_05");
        AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Jorn_03_06");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Jorn_03_07");
    if ((Q306_TOURNAMENTSTATUS) == (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Jorn_03_08");
    };
    INFO_CLEARCHOICES(83379);
    INFO_ADDCHOICE(83379, "I just want to know where he is.", 83398);
}

func void DIA_BEN_HELLO_INFORMATION_SOMETHING_JORN_WHERE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_HELLO_Where_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_HELLO_Where_15_02");
    if ((Q306_TOURNAMENTSTATUS) == (1)) {
        AI_OUTPUT(OTHER, SELF, "DIA_Ben_HELLO_Where_15_03");
        AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Where_03_04");
        AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Where_03_06");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Where_03_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_Where_03_08");
    DIA_BEN_HELLO_CHOICES();
}

func void DIA_BEN_HELLO_INFORMATION_GOAWAY() {
    AI_TURNAWAY(OTHER, SELF);
    AI_WAITTILLEND(SELF, OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_GoAway_03_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_HELLO_GoAway_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_GoAway_03_03");
    if ((Q306_TOURNAMENTSTATUS) != (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_GoAway_03_04");
        CREATEINVITEMS(SELF, 34203, Q306_BENREWARD);
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_HELLO_GoAway_03_05");
    AI_FUNCTION(SELF, 83400);
}

func void BEN_HELLO_GOODBYE() {
    Q307_CANUSEBARRELPOISON = TRUE;
    INFO_CLEARCHOICES(83379);
    AI_STOPPROCESSINFOS(NONE_7500_BEN);
    AI_LOGENTRY(TOPIC_Q301, LOG_Q301_BENTALK);
    LOG_CREATETOPIC(TOPIC_Q307, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_Q307), TOPIC_Q307, LOG_RUNNING);
    if ((NPC_HASITEMS(HERO, 36950)) >= (1)) {
        AI_LOGENTRY(TOPIC_Q307, LOG_Q307_STARTV2);
    };
    AI_LOGENTRY(TOPIC_Q307, LOG_Q307_START);
}

instance DIA_BEN_POISON(C_INFO) {
    NPC = 58599;
    NR = 1;
    CONDITION = DIA_BEN_POISON_CONDITION;
    INFORMATION = DIA_BEN_POISON_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func void BEN_PREPAREIVY() {
    B_STARTOTHERROUTINE(NONE_16_IVY, "OUTSIDETAVERN");
    NPC_REFRESH(NONE_16_IVY);
    TELEPORTNPCTOWP(58543, "P17_HAVEN_BAR_OUT_03");
    AI_TELEPORTALWAYS(NONE_16_IVY, "P17_HAVEN_BAR_OUT_03", TRUE);
    PRINTD("Ivy przed karczm¹!");
}

func int DIA_BEN_POISON_CONDITION() {
    if (((NPC_ISINSTATE(SELF, 61599)) && ((LOG_GETSTATUS(MIS_Q307)) == (LOG_RUNNING))) && ((Q307_WAITPOISONWAIT) == (TRUE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void BEN_GIVEBENHUMANSHURT() {
    MDL_APPLYOVERLAYMDS(NONE_7500_BEN, "HUMANS_HURT_BEN.MDS");
    HERO.AIVAR[4] = FALSE;
}

var int BEN_ANTIDOTECHOICE;
func void BEN_KILLBEN_POISON() {
    NONE_7500_BEN.ATTRIBUTE[0] = 1;
    B_MAGICHURTNPC(HERO, NONE_7500_BEN, 99999);
}

func void BEN_REMOVEMDS() {
    MDL_REMOVEOVERLAYMDS(NONE_7500_BEN, "HUMANS_HURT_BEN.MDS");
    NPC_CHANGEARMOR(NONE_7500_BEN, 35384);
    NPC_REMOVEINVITEMS(NONE_7500_BEN, 35383, NPC_HASITEMS(NONE_7500_BEN, 35383));
}

func void DIA_BEN_POISON_END() {
    if ((BEN_Q307_DECISION) == (2)) {
        AI_FUNCTION(SELF, 83407);
        NPC_EXCHANGEROUTINE(SELF, "SLEEP");
        if ((Q307_BIGBENJORNQUESTIONS) >= (6)) {
            B_LOGENTRY(TOPIC_Q307, LOG_Q307_AFTERBENDIALOGUEV1);
            B_LOGENTRY(TOPIC_Q301, LOG_Q307_AFTERBENDIALOGUEV1);
        } else {
            B_LOGENTRY(TOPIC_Q307, LOG_Q307_AFTERBENDIALOGUEV2);
            B_LOGENTRY(TOPIC_Q301, LOG_Q307_AFTERBENDIALOGUEV2);
        };
    };
    if ((Q307_BIGBENJORNQUESTIONS) >= (6)) {
        B_LOGENTRY(TOPIC_Q307, LOG_Q307_AFTERBENDIALOGUEV3);
        B_LOGENTRY(TOPIC_Q301, LOG_Q307_AFTERBENDIALOGUEV3);
    };
    B_LOGENTRY(TOPIC_Q307, LOG_Q307_AFTERBENDIALOGUEV4);
    B_LOGENTRY(TOPIC_Q301, LOG_Q307_AFTERBENDIALOGUEV4);
    LOG_SETSTATUS(_@(MIS_Q307), TOPIC_Q307, LOG_SUCCESS);
    INFO_CLEARCHOICES(83401);
    AI_STOPPROCESSINFOS(SELF);
    AI_STOPPROCESSINFOS(HERO);
    BEN_PREPAREIVY();
}

func void DIA_BEN_KILLBENWEAPON() {
    NONE_7500_BEN.AIVAR[52] = TRUE;
    SELF.ATTRIBUTE[0] = 1;
    SELF.FLAGS = 0;
    B_MARVIN_ATTACKINDIALOGUE_PREPARE();
    AI_FUNCTION(OTHER, 83410);
    B_MARVIN_ATTACKINDIALOGUE_ATTACK();
}

func void BEN_KILLBEN() {
    MDL_APPLYOVERLAYMDS(NONE_7500_BEN, "HUMANS_SUDDENDEATH.MDS");
    AI_PLAYANI(NONE_7500_BEN, T_DEAD);
    SND_PLAY("FIG_SwordFinal");
    SND_PLAY("SVM_53_DEAD");
    B_MAGICHURTNPC(HERO, NONE_7500_BEN, 99999);
    AI_LOGENTRY(TOPIC_Q307, LOG_Q307_KILLBEN);
    AI_REMOVEWEAPON(HERO);
    HERO.AIVAR[4] = FALSE;
    DIA_BEN_POISON_END();
}

var int BEN_POISON_WHO;
var int BEN_POISON_SECOND;
var int BEN_POISON_TAKEOVER;
var int BEN_POISON_SURE;
var int BEN_POISON_SMUGGLERS;
var int BEN_POISON_HOWMANY;
var int BEN_POISON_RENEGADES;
var int BEN_POISON_RING;
var int BEN_POISON_WHATRING;
var int BEN_POISON_KILL;
var int BEN_POISON_KURT;
var int BEN_POISON_SILBACH;
var int BEN_POISON_DICKON;
var int BEN_POISON_ESCAPE;
func void DIA_BEN_POISON_CHOICES() {
    INFO_CLEARCHOICES(83401);
    if ((BEN_POISON_WHO) == (FALSE)) {
        INFO_ADDCHOICE(83401, "Who ordered you to kidnap him?", 83437);
    };
    if ((BEN_POISON_SECOND) == (FALSE)) {
        if (((GQ001_INFOFROMDICKON) == (TRUE)) || ((GQ001_TALKEDWITHHUNTER) == (TRUE))) {
            INFO_ADDCHOICE(83401, "Who was the other kidnapper?", 83438);
        };
    };
    if ((BEN_POISON_TAKEOVER) == (FALSE)) {
        INFO_ADDCHOICE(83401, "Who was supposed to take him over? You didn't see anyone?", 83439);
    };
    if (((BEN_POISON_TAKEOVER) == (TRUE)) && ((BEN_POISON_SURE) == (FALSE))) {
        INFO_ADDCHOICE(83401, "Are you sure you didn't see anyone?", 83440);
    };
    if ((BEN_POISON_SMUGGLERS) == (FALSE)) {
        if ((LOG_GETSTATUS(MIS_Q206)) == (LOG_SUCCESS)) {
            INFO_ADDCHOICE(83401, "Did the smugglers have anything to do with it?", 83441);
        };
    };
    if (((BEN_POISON_SMUGGLERS) == (TRUE)) && ((BEN_POISON_HOWMANY) == (FALSE))) {
        INFO_ADDCHOICE(83401, "How much did you get for kidnapping my brother?", 83442);
    };
    if ((BEN_POISON_RENEGADES) == (FALSE)) {
        if ((LOG_GETSTATUS(MIS_Q205)) == (LOG_SUCCESS)) {
            INFO_ADDCHOICE(83401, "Did the renegades have anything to do with it?", 83443);
        };
    };
    if ((BEN_POISON_RING) == (FALSE)) {
        if ((NPC_HASITEMS(OTHER, 37146)) >= (1)) {
            INFO_ADDCHOICE(83401, "You know that ring?", 83444);
        };
    };
    if (((BEN_POISON_RING) == (TRUE)) && ((BEN_POISON_WHATRING) == (FALSE))) {
        INFO_ADDCHOICE(83401, "Why would you recognize him by it?", 83445);
    };
    if ((((BEN_POISON_RING) == (TRUE)) && ((BEN_POISON_WHATRING) == (TRUE))) && ((BEN_POISON_KILL) == (FALSE))) {
        INFO_ADDCHOICE(83401, "I think I'm gonna hit you now. (Kill)", 83446);
    };
    if ((BEN_POISON_KURT) == (FALSE)) {
        if (((GQ001_KURTFOUNDPOCKET01) == (TRUE)) || ((GQ001_KURTFOUNDPOCKET02) == (TRUE))) {
            INFO_ADDCHOICE(83401, "Why didn't you take the gold from Kurt's hut?", 83447);
        };
    };
    if ((BEN_POISON_SILBACH) == (FALSE)) {
        INFO_ADDCHOICE(83401, "How did you get into the village?", 83448);
    };
    if ((BEN_POISON_DICKON) == (FALSE)) {
        if ((GQ001_INFOFROMDICKON) == (TRUE)) {
            INFO_ADDCHOICE(83401, "How did you get past Felix the sentry?", 83449);
        };
    };
    if ((BEN_POISON_ESCAPE) == (FALSE)) {
        if (((BEN_POISON_SILBACH) == (TRUE)) || ((BEN_POISON_DICKON) == (TRUE))) {
            INFO_ADDCHOICE(83401, "Why didn't you escape through one of the unguarded entrances?", 83450);
        };
    };
    if ((Q307_BIGBENJORNQUESTIONS) >= (3)) {
        INFO_ADDCHOICE(83401, "(FINISH CONVERSATION)", 83427);
    };
}

var int BEN_Q307_DECISION;
func void DIA_BEN_POISON_QUESTIONS_FINALMOVE() {
    INFO_CLEARCHOICES(83401);
    if ((NPC_HASITEMS(OTHER, 36951)) >= (1)) {
        INFO_ADDCHOICE(83401, "That's enough for me. Drink this.", 83429);
    };
    INFO_ADDCHOICE(83401, "That's enough for me. Now you can die in your ditch.", 83430);
    INFO_ADDCHOICE(83401, "(GET BACK TO THE QUESTIONS)", 83428);
}

func void DIA_BEN_POISON_QUESTIONS_COMEBACK() {
    DIA_BEN_POISON_CHOICES();
}

func void DIA_BEN_POISON_QUESTIONS_SAVEBEN() {
    BEN_Q307_DECISION = 2;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_SaveBen_15_01");
    B_GIVEINVITEMS(OTHER, SELF, 36951, 1);
    B_STANDUP();
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_SaveBen_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_SaveBen_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_SaveBen_15_04");
    CREATEINVITEMS(SELF, 36062, 1);
    AI_WAITTILLEND(SELF, OTHER);
    AI_STOPLOOKAT(SELF);
    AI_USEITEM(SELF, 36062);
    AI_WAITTILLEND(SELF, OTHER);
    AI_LOOKATNPC(SELF, OTHER);
    DIA_BEN_POISON_END();
}

func void DIA_BEN_POISON_QUESTIONS_KILLBEN() {
    BEN_Q307_DECISION = 1;
    NONE_7500_BEN.FLAGS = 0;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_KillBen_15_01");
    B_STANDUP();
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_KillBen_03_02");
    AI_FUNCTION(SELF, 83406);
    DIA_BEN_POISON_END();
}

func void DIA_BEN_POISON_INFO() {
    B_STARTOTHERROUTINE(NONE_16_IVY, "OUTSIDETAVERN");
    NPC_REFRESH(NONE_16_IVY);
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_03_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_03_05");
    AI_DRAWWEAPON(SELF);
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_15_06");
    AI_REMOVEWEAPON(SELF);
    AI_WAITTILLEND(SELF, OTHER);
    AI_PLAYANI(SELF, "T_BEN_TRANSITION");
    AI_WAIT(OTHER, 1075838976);
    AI_FUNCTION(OTHER, 83404);
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_03_07");
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_15_08");
    INFO_CLEARCHOICES(83401);
    INFO_ADDCHOICE(83401, "I have the antidote. I'll give it to you for information on Jorn.", 83435);
    INFO_ADDCHOICE(83401, "I hid the antidote well. Answer my questions.", 83436);
}

func void DIA_BEN_KILLMARVIN() {
    SELF.FLAGS = 0;
    SELF.ATTRIBUTE[0] = (SELF.ATTRIBUTE[0]) / (10);
    SELF.AIVAR[52] = TRUE;
    Q307_BENATTACKMARVIN = 1;
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_KillMarvin_03_01");
    INFO_CLEARCHOICES(83401);
    AI_STOPPROCESSINFOS(SELF);
    AI_LOGENTRY(TOPIC_Q307, LOG_Q307_BENATTACKMARVIN);
    B_ATTACK(SELF, OTHER, AR_KILL, 1);
}

func void DIA_BEN_SCREAMFORANTIDOTE() {
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Questions_03_09");
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Questions_15_10");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Questions_03_11");
    AI_STARTFACEANI(SELF, S_SAD, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Questions_03_12");
    AI_PLAYANIBS(SELF, T_STAND_2_SIT, BS_SIT);
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Questions_15_13");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Questions_03_14");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Questions_03_15");
    DIA_BEN_POISON_CHOICES();
}

func void DIA_BEN_WHATHAPPENDWITHJORN() {
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_WhatHappend_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_WhatHappend_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_WhatHappend_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_WhatHappend_03_04");
    AI_LOGENTRY(TOPIC_Q307, LOG_Q307_BENTOLDABOUTJORN);
    if ((BEN_ANTIDOTECHOICE) == (1)) {
        DIA_BEN_KILLMARVIN();
    };
    DIA_BEN_SCREAMFORANTIDOTE();
}

func void DIA_BEN_POISON_ANTIDOTE() {
    BEN_ANTIDOTECHOICE = 1;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Antidote_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Antidote_03_02");
    DIA_BEN_WHATHAPPENDWITHJORN();
}

func void DIA_BEN_POISON_QUESTIONS() {
    BEN_ANTIDOTECHOICE = 2;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Questions_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Questions_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Questions_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Questions_03_04");
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Questions_15_05");
    DIA_BEN_WHATHAPPENDWITHJORN();
}

func void DIA_BEN_POISON_QUESTIONS_WHO() {
    BEN_POISON_WHO = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Who_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Who_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Who_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Who_03_04");
    CREATEINVITEMS(SELF, 40350, 1);
    B_GIVEINVITEMS(SELF, OTHER, 40350, 1);
    AI_LOGENTRY(TOPIC_Q307, LOG_Q307_BENDIALOGUE_01);
    Q307_BIGBENJORNQUESTIONS = (Q307_BIGBENJORNQUESTIONS) + (1);
    DIA_BEN_POISON_CHOICES();
}

func void DIA_BEN_POISON_QUESTIONS_SECOND() {
    BEN_POISON_SECOND = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Second_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Second_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Second_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Second_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Second_03_05");
    AI_LOGENTRY(TOPIC_Q307, LOG_Q307_BENDIALOGUE_02);
    Q307_BIGBENJORNQUESTIONS = (Q307_BIGBENJORNQUESTIONS) + (1);
    DIA_BEN_POISON_CHOICES();
}

func void DIA_BEN_POISON_QUESTIONS_TAKEOVER() {
    BEN_POISON_TAKEOVER = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_TakeOver_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_TakeOver_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_TakeOver_03_03");
    AI_LOGENTRY(TOPIC_Q307, LOG_Q307_BENDIALOGUE_03);
    Q307_BIGBENJORNQUESTIONS = (Q307_BIGBENJORNQUESTIONS) + (1);
    DIA_BEN_POISON_CHOICES();
}

func void DIA_BEN_POISON_QUESTIONS_TAKEOVER_SURE() {
    BEN_POISON_SURE = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Sure_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Sure_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Sure_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Sure_03_04");
    AI_LOGENTRY(TOPIC_Q307, LOG_Q307_BENDIALOGUE_04);
    Q307_BIGBENJORNQUESTIONS = (Q307_BIGBENJORNQUESTIONS) + (1);
    DIA_BEN_POISON_CHOICES();
}

func void DIA_BEN_POISON_QUESTIONS_SMUGGLERS() {
    BEN_POISON_SMUGGLERS = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Smugglers_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Smugglers_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Smugglers_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Smugglers_03_04");
    AI_LOGENTRY(TOPIC_Q307, LOG_Q307_BENDIALOGUE_05);
    Q307_BIGBENJORNQUESTIONS = (Q307_BIGBENJORNQUESTIONS) + (1);
    DIA_BEN_POISON_CHOICES();
}

func void DIA_BEN_POISON_QUESTIONS_SMUGGLERS_HOWMANY() {
    BEN_POISON_HOWMANY = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_HowMany_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_HowMany_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_HowMany_03_03");
    AI_LOGENTRY(TOPIC_Q307, LOG_Q307_BENDIALOGUE_06);
    Q307_BIGBENJORNQUESTIONS = (Q307_BIGBENJORNQUESTIONS) + (1);
    DIA_BEN_POISON_CHOICES();
}

func void DIA_BEN_POISON_QUESTIONS_RENEGADES() {
    BEN_POISON_RENEGADES = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Renegades_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Renegades_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Renegades_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Renegades_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Renegades_03_05");
    AI_LOGENTRY(TOPIC_Q307, LOG_Q307_BENDIALOGUE_07);
    Q307_BIGBENJORNQUESTIONS = (Q307_BIGBENJORNQUESTIONS) + (1);
    DIA_BEN_POISON_CHOICES();
}

func void DIA_BEN_POISON_QUESTIONS_RING() {
    BEN_POISON_RING = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Ring_15_01");
    B_USEFAKEWATERRING_MARVIN();
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Ring_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Ring_03_03");
    AI_LOGENTRY(TOPIC_Q307, LOG_Q307_BENDIALOGUE_08);
    Q307_BIGBENJORNQUESTIONS = (Q307_BIGBENJORNQUESTIONS) + (1);
    DIA_BEN_POISON_CHOICES();
}

func void DIA_BEN_POISON_QUESTIONS_RING_WHATRING() {
    BEN_POISON_WHATRING = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_WhatRing_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_WhatRing_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_WhatRing_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_WhatRing_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_WhatRing_03_05");
    AI_LOGENTRY(TOPIC_Q307, LOG_Q307_BENDIALOGUE_09);
    Q307_BIGBENJORNQUESTIONS = (Q307_BIGBENJORNQUESTIONS) + (1);
    DIA_BEN_POISON_CHOICES();
}

func void DIA_BEN_POISON_QUESTIONS_RING_WHATRING_KILL() {
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Kill_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Kill_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Kill_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Kill_15_04");
    Q307_BIGBENJORNQUESTIONS = (Q307_BIGBENJORNQUESTIONS) + (1);
    DIA_BEN_KILLBENWEAPON();
}

func void DIA_BEN_POISON_QUESTIONS_KURT() {
    BEN_POISON_KURT = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Kurt_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Kurt_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Kurt_03_03");
    AI_LOGENTRY(TOPIC_Q307, LOG_Q307_BENDIALOGUE_10);
    Q307_BIGBENJORNQUESTIONS = (Q307_BIGBENJORNQUESTIONS) + (1);
    DIA_BEN_POISON_CHOICES();
}

func void DIA_BEN_POISON_QUESTIONS_SILBACH() {
    BEN_POISON_SILBACH = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Silbach_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Silbach_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Silbach_03_03");
    AI_LOGENTRY(TOPIC_Q307, LOG_Q307_BENDIALOGUE_11);
    Q307_BIGBENJORNQUESTIONS = (Q307_BIGBENJORNQUESTIONS) + (1);
    DIA_BEN_POISON_CHOICES();
}

func void DIA_BEN_POISON_QUESTIONS_DICKON() {
    BEN_POISON_DICKON = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Dickon_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Dickon_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Dickon_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Dickon_03_04");
    AI_LOGENTRY(TOPIC_Q307, LOG_Q307_BENDIALOGUE_12);
    Q307_BIGBENJORNQUESTIONS = (Q307_BIGBENJORNQUESTIONS) + (1);
    DIA_BEN_POISON_CHOICES();
}

func void DIA_BEN_POISON_QUESTIONS_ESCAPE() {
    BEN_POISON_ESCAPE = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Poison_Escape_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Escape_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Poison_Escape_03_03");
    Q307_BIGBENJORNQUESTIONS = (Q307_BIGBENJORNQUESTIONS) + (1);
    DIA_BEN_POISON_CHOICES();
}

instance DIA_BEN_WHATHERE(C_INFO) {
    NPC = 58599;
    NR = 1;
    CONDITION = DIA_BEN_WHATHERE_CONDITION;
    INFORMATION = DIA_BEN_WHATHERE_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Ben, what are you doing here?";
}

func int DIA_BEN_WHATHERE_CONDITION() {
    if ((KAPITEL) == (5)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BEN_WHATHERE_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_WhatHere_15_01");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_WhatHere_03_02");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

instance DIA_BEN_WHATHAPPEND(C_INFO) {
    NPC = 58599;
    NR = 1;
    CONDITION = DIA_BEN_WHATHAPPEND_CONDITION;
    INFORMATION = DIA_BEN_WHATHAPPEND_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Didn't you say I added the poison?";
}

func int DIA_BEN_WHATHAPPEND_CONDITION() {
    if (((((KAPITEL) >= (5)) && ((Q307_POISONWAY) == (1))) && (NPC_KNOWSINFO(OTHER, 83451))) && ((Q509_BENVOLFZACKE) == (0))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BEN_WHATHAPPEND_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_WhatHappend_15_01");
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_WhatHappend_03_02");
}

instance DIA_BEN_Q509_QUESTION(C_INFO) {
    NPC = 58599;
    NR = 1;
    CONDITION = DIA_BEN_Q509_QUESTION_CONDITION;
    INFORMATION = DIA_BEN_Q509_QUESTION_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I need your help.";
}

func int DIA_BEN_Q509_QUESTION_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_Q509)) == (LOG_RUNNING)) && ((Q509_COUNTWARRIORS) < (4))) && (NPC_KNOWSINFO(OTHER, 83451))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BEN_Q509_QUESTION_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Q509_Question_15_01");
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Q509_Question_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Q509_Question_15_02");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Q509_Question_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Q509_Question_03_06");
    B_STANDUP();
    AI_PLAYANI(SELF, T_PLUNDER);
    AI_FUNCTION(SELF, 83460);
    AI_WAITTILLEND(OTHER, SELF);
    AI_WAITTILLEND(SELF, OTHER);
    AI_STOPPROCESSINFOS(SELF);
    B_GIVEPLAYERXP(XP_VARHDAL_RECRUIT);
    SELF.AIVAR[15] = TRUE;
    SELF.FLAGS = 2;
    Q509_BENVOLFZACKE = 1;
    NPC_EXCHANGEROUTINE(SELF, "Q509_WAIT");
    AI_LOGENTRY(TOPIC_Q509, LOG_Q509_BEN);
    AI_FUNCTION(SELF, 63308);
    AI_FUNCTION(SELF, 83461);
}

func void BEN_Q509_CHANGEARMOR() {
    CREATEINVITEMS(NONE_7500_BEN, 35387, 1);
    AI_EQUIPARMOR(NONE_7500_BEN, 35387);
    NPC_REMOVEINVITEMS(NONE_7500_BEN, 35383, 1);
}

func void Q509_FISHERMANSFLEE() {
    B_STARTOTHERROUTINE(NONE_13787_FISHERMAN, FLEE);
    NPC_REFRESH(NONE_13787_FISHERMAN);
    B_STARTOTHERROUTINE(NONE_13788_FISHERMAN, FLEE);
    NPC_REFRESH(NONE_13788_FISHERMAN);
    B_STARTOTHERROUTINE(NONE_13789_FISHERMAN, FLEE);
    NPC_REFRESH(NONE_13789_FISHERMAN);
}

instance DIA_BEN_Q509_FEEL(C_INFO) {
    NPC = 58599;
    NR = 90;
    CONDITION = DIA_BEN_Q509_FEEL_CONDITION;
    INFORMATION = DIA_BEN_Q509_FEEL_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "How's the morale?";
}

func int DIA_BEN_Q509_FEEL_CONDITION() {
    if (((NPC_GETDISTTOWP(SELF, "PART5_Q509_BEN")) <= (2000)) && ((Q509_BENVOLFZACKE) == (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BEN_Q509_FEEL_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    B_SAY(OTHER, SELF, "$MARVIN_VolfzackMorale3");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Ben_Q509_Feel_03_02");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

instance DIA_BEN_AMBIENT(C_INFO) {
    NPC = 58599;
    NR = 998;
    CONDITION = DIA_BEN_AMBIENT_CONDITION;
    INFORMATION = DIA_BEN_AMBIENT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Aren't you comfortable here?";
}

func int DIA_BEN_AMBIENT_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 83379)) && ((Q509_BENVOLFZACKE) != (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BEN_AMBIENT_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Ben_Ambient_15_00");
    if ((LOG_GETSTATUS(MIS_Q306)) != (LOG_SUCCESS)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Ben_Ambient_03_01");
    };
    if (((LOG_GETSTATUS(MIS_Q306)) == (LOG_SUCCESS)) && ((Q306_TOURNAMENTSTATUS) == (1))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Ben_Ambient_03_02");
    };
    if (((LOG_GETSTATUS(MIS_Q306)) == (LOG_SUCCESS)) && ((Q306_TOURNAMENTSTATUS) == (2))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Ben_Ambient_03_03");
    };
    if ((KAPITEL) == (5)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Ben_Ambient_03_06");
    };
}

instance DIA_BEN_PICKPOCKET(C_INFO) {
    NPC = 58599;
    NR = 900;
    CONDITION = DIA_BEN_PICKPOCKET_CONDITION;
    INFORMATION = DIA_BEN_PICKPOCKET_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = PICKPOCKET_120;
}

func int DIA_BEN_PICKPOCKET_CONDITION() {
    if (((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (1)) && ((SELF.AIVAR[6]) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BEN_PICKPOCKET_INFO() {
    INFO_CLEARCHOICES(83468);
    INFO_ADDCHOICE(83468, DIALOG_BACK, 83472);
    INFO_ADDCHOICE(83468, DIALOG_PICKPOCKET, 83471);
}

func void DIA_BEN_PICKPOCKET_DOIT() {
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (3)) {
        CREATEINVITEMS(SELF, 36373, 2);
        B_GIVEINVITEMS(SELF, OTHER, 36373, 2);
        B_PICKPOCKET_AMBIENT_TIER_3();
        SELF.AIVAR[6] = TRUE;
        INFO_CLEARCHOICES(83468);
    };
    AI_PLAYANI(HERO, T_CANNOTTAKE);
    PRINTSCREEN(PRINT_CANTPICKPOCKETTHISPERSON, -(1), -(1), FONT_SCREEN, 4);
    INFO_CLEARCHOICES(83468);
}

func void DIA_BEN_PICKPOCKET_BACK() {
    INFO_CLEARCHOICES(83468);
}

