prototype MST_DEFAULT_STONEGOLEM(C_NPC) {
    NAME[0] = NAME_STONEGOLEM;
    GUILD = GIL_STONEGOLEM;
    AIVAR[43] = ID_STONEGOLEM;
    LEVEL = 25;
    ATTRIBUTE[4] = 125;
    ATTRIBUTE[5] = 125;
    ATTRIBUTE[1] = 250;
    ATTRIBUTE[0] = 250;
    ATTRIBUTE[3] = 100;
    ATTRIBUTE[2] = 100;
    PROTECTION[1] = 110;
    PROTECTION[2] = 140;
    PROTECTION[6] = 200;
    PROTECTION[3] = 100;
    PROTECTION[4] = 200;
    PROTECTION[5] = 60;
    DAMAGETYPE = DAM_FLY;
    FIGHT_TACTIC = FAI_STONEGOLEM;
    SENSES = ((SENSE_HEAR) | (SENSE_SEE)) | (SENSE_SMELL);
    SENSES_RANGE = PERC_DIST_MONSTER_ACTIVE_MAX;
    AIVAR[27] = FOLLOWTIME_MEDIUM;
    AIVAR[28] = TRUE;
    START_AISTATE = ZS_MM_ALLSCHEDULER;
    AIVAR[32] = ONLYROUTINE;
}

func void B_SETVISUALS_STONEGOLEM() {
    MDL_SETVISUAL(SELF, "Golem.mds");
    MDL_SETVISUALBODY(SELF, "Gol_Body", DEFAULT, DEFAULT, "", DEFAULT, DEFAULT, -(1));
}

func void B_SETVISUALS_STONECURSEDGOLEM() {
    MDL_SETVISUAL(SELF, "Golem.mds");
    MDL_SETVISUALBODY(SELF, "GOL_Curse_BODY", DEFAULT, DEFAULT, "", DEFAULT, DEFAULT, -(1));
}

func void B_SETVISUALS_STONEGOLEM_SUM() {
    MDL_SETVISUAL(SELF, "GOLEM_SUMMON.mds");
    MDL_SETVISUALBODY(SELF, "GOL_SUM_BODY", DEFAULT, DEFAULT, "", DEFAULT, DEFAULT, -(1));
}

func void B_SETVISUALS_STONEGOLEM_VOLFZACKE() {
    MDL_SETVISUAL(SELF, "Golem.mds");
    MDL_SETVISUALBODY(SELF, "GOL_CURSE_BODY", DEFAULT, DEFAULT, "", DEFAULT, DEFAULT, -(1));
}

func void B_SETVISUALS_NATUREGOLEM() {
    MDL_SETVISUAL(SELF, "Golem.mds");
    MDL_SETVISUALBODY(SELF, "KM_NATUREGOLEM_BODY", DEFAULT, DEFAULT, "", DEFAULT, DEFAULT, -(1));
}

func void B_SETVISUALS_MAGICGOLEM() {
    MDL_SETVISUAL(SELF, "Golem.mds");
    MDL_SETVISUALBODY(SELF, "KM_MAGICGOLEM_BODY", DEFAULT, DEFAULT, "", DEFAULT, DEFAULT, -(1));
}

instance STONEGOLEM(MST_DEFAULT_STONEGOLEM) {
    MST_DEFAULT_STONEGOLEM();
    B_SETVISUALS_STONEGOLEM();
    NPC_SETTOFISTMODE(STONEGOLEM);
    CREATEINVITEMS(STONEGOLEM, 35989, 3);
}

instance CURSEDSTONEGOLEM(MST_DEFAULT_STONEGOLEM) {
    MST_DEFAULT_STONEGOLEM();
    NAME[0] = NAME_CURSEDGOLEM;
    LEVEL = 50;
    ATTRIBUTE[4] = 220;
    ATTRIBUTE[5] = 250;
    ATTRIBUTE[1] = 500;
    ATTRIBUTE[0] = 500;
    ATTRIBUTE[3] = 200;
    ATTRIBUTE[2] = 200;
    PROTECTION[1] = 170;
    PROTECTION[2] = 200;
    PROTECTION[6] = 220;
    PROTECTION[3] = 150;
    PROTECTION[4] = 220;
    PROTECTION[5] = 140;
    B_SETVISUALS_STONECURSEDGOLEM();
    NPC_SETTOFISTMODE(CURSEDSTONEGOLEM);
    CREATEINVITEMS(CURSEDSTONEGOLEM, 35989, 11);
}

const int SUMMONEDGOLEM_STR = 150;
const int SUMMONEDGOLEM_HP = 1000;
const int SUMMONEDGOLEM_DEF_BLUNT = 50;
const int SUMMONEDGOLEM_DEF_EDGE = 180;
const int SUMMONEDGOLEM_DEF_POINT = 250;
const int SUMMONEDGOLEM_DEF_FIRE = 150;
const int SUMMONEDGOLEM_DEF_FLY = 250;
const int SUMMONEDGOLEM_DEF_MAGIC = 100;
instance SUMMONED_GOLEM(MST_DEFAULT_STONEGOLEM) {
    MST_DEFAULT_STONEGOLEM();
    NAME[0] = NAME_SUMMONEDGOLEM;
    GUILD = GIL_SUMMONED_GOLEM;
    AIVAR[43] = ID_SUMMONED_GOLEM;
    LEVEL = 0;
    ATTRIBUTE[4] = (SUMMONEDGOLEM_STR) + (SUMMONER_SETBONUS_DAMAGE);
    ATTRIBUTE[1] = (SUMMONEDGOLEM_HP) + (SUMMONER_SETBONUS_HP);
    ATTRIBUTE[0] = (SUMMONEDGOLEM_HP) + (SUMMONER_SETBONUS_HP);
    PROTECTION[1] = (SUMMONEDGOLEM_DEF_BLUNT) + (SUMMONER_SETBONUS_DEF);
    PROTECTION[2] = (SUMMONEDGOLEM_DEF_EDGE) + (SUMMONER_SETBONUS_DEF);
    PROTECTION[6] = (SUMMONEDGOLEM_DEF_POINT) + (SUMMONER_SETBONUS_DEF);
    PROTECTION[3] = (SUMMONEDGOLEM_DEF_FIRE) + (SUMMONER_SETBONUS_DEF);
    PROTECTION[4] = (SUMMONEDGOLEM_DEF_FLY) + (SUMMONER_SETBONUS_DEF);
    PROTECTION[5] = (SUMMONEDGOLEM_DEF_MAGIC) + (SUMMONER_SETBONUS_DEF);
    AIVAR[15] = TRUE;
    B_SETATTITUDE(SUMMONED_GOLEM, ATT_FRIENDLY);
    START_AISTATE = ZS_MM_RTN_SUMMONED;
    B_SETVISUALS_STONEGOLEM_SUM();
    NPC_SETTOFISTMODE(SUMMONED_GOLEM);
    FIGHT_TACTIC = FAI_GOLEM_SUMMON;
    BODYSTATEINTERRUPTABLEOVERRIDE = TRUE;
}

instance NATURE_GOLEM(MST_DEFAULT_STONEGOLEM) {
    MST_DEFAULT_STONEGOLEM();
    NAME[0] = "";
    AIVAR[43] = ID_GOLEMNATURE;
    B_SETVISUALS_NATUREGOLEM();
    NPC_SETTOFISTMODE(NATURE_GOLEM);
    CREATEINVITEMS(NATURE_GOLEM, 35989, 7);
    FLAGS = NPC_FLAG_IMMORTAL;
    NOFOCUS = TRUE;
    START_AISTATE = ZS_NATUREGOLEMDOWN;
    BODYSTATEINTERRUPTABLEOVERRIDE = TRUE;
    AIVAR[32] = ONLYROUTINE;
}

func void ZS_GOLEMDOWN() {
    SELF.SENSES = SENSE_SMELL;
    SELF.SENSES_RANGE = 3500;
    NPC_SETPERCTIME(SELF, 1065353216);
    NPC_PERCENABLE(SELF, PERC_ASSESSPLAYER, 50985);
    SELF.AIVAR[19] = NOTINPOS;
}

func int ZS_GOLEMDOWN_LOOP() {
    if ((SELF.AIVAR[19]) == (NOTINPOS)) {
        AI_PLAYANI(SELF, T_DEAD);
        SELF.AIVAR[19] = ISINPOS;
    };
    return LOOP_CONTINUE;
}

func void ZS_GOLEMDOWN_END() {
}

func void B_GOLEMRISE_START() {
    AI_PLAYANI(SELF, "T_RISE");
    SELF.NOFOCUS = FALSE;
    SELF.NAME[0] = "";
    SELF.FLAGS = 0;
    AI_STARTSTATE(SELF, 91674, 0, "");
    SELF.BODYSTATEINTERRUPTABLEOVERRIDE = FALSE;
    SELF.START_AISTATE = ZS_MM_ALLSCHEDULER;
    SELF.AIVAR[32] = ONLYROUTINE;
}

func void B_GOLEMRISE() {
    if (((NPC_GETDISTTONPC(SELF, HERO)) <= (700)) || ((SELF.ATTRIBUTE[0]) != (SELF.ATTRIBUTE[1]))) {
        if ((CURRENTLEVEL) == (ARCHOLOS_VOLFZACKE_ZEN)) {
            if ((Q514_CRAWLER_FINISH) == (1)) {
                B_GOLEMRISE_START();
            } else {
                PRINTD("Nie spe³niasz warunków");
            };
        } else {
            B_GOLEMRISE_START();
        };
    };
}

func void ZS_NATUREGOLEMDOWN() {
    SELF.SENSES = SENSE_SMELL;
    SELF.SENSES_RANGE = 3500;
    NPC_SETPERCTIME(SELF, 1065353216);
    NPC_PERCENABLE(SELF, PERC_ASSESSPLAYER, 50990);
    SELF.AIVAR[19] = NOTINPOS;
}

func int ZS_NATUREGOLEMDOWN_LOOP() {
    if ((SELF.AIVAR[19]) == (NOTINPOS)) {
        AI_PLAYANI(SELF, T_DEAD);
        SELF.AIVAR[19] = ISINPOS;
    };
    return LOOP_CONTINUE;
}

func void ZS_NATUREGOLEMDOWN_END() {
}

func void B_NATUREGOLEMRISE_START() {
    AI_PLAYANI(SELF, "T_RISE");
    SELF.NOFOCUS = FALSE;
    SELF.NAME[0] = NAME_NATUREGOLEM;
    SELF.FLAGS = 0;
    AI_STARTSTATE(SELF, 91674, 0, "");
    SELF.BODYSTATEINTERRUPTABLEOVERRIDE = FALSE;
    SELF.START_AISTATE = ZS_MM_ALLSCHEDULER;
    SELF.AIVAR[32] = ONLYROUTINE;
}

func void B_NATUREGOLEMRISE() {
    if ((((NPC_GETDISTTONPC(SELF, HERO)) <= (700)) && (NPC_HASITEMS(OTHER, 36967))) || ((SELF.ATTRIBUTE[0]) != (SELF.ATTRIBUTE[1]))) {
        AI_PLAYANI(SELF, "T_RISE");
        SELF.NOFOCUS = FALSE;
        SELF.NAME[0] = NAME_NATUREGOLEM;
        SELF.FLAGS = 0;
        AI_STARTSTATE(SELF, 91674, 0, "");
        SELF.BODYSTATEINTERRUPTABLEOVERRIDE = FALSE;
        SELF.START_AISTATE = ZS_MM_ALLSCHEDULER;
        SELF.AIVAR[32] = ONLYROUTINE;
    };
}

instance SHATTERED_GOLEM(MST_DEFAULT_STONEGOLEM) {
    MST_DEFAULT_STONEGOLEM();
    NAME[0] = "";
    GUILD = GIL_STONEGOLEM;
    AIVAR[43] = ID_STONEGOLEM;
    LEVEL = 18;
    FLAGS = NPC_FLAG_IMMORTAL;
    BODYSTATEINTERRUPTABLEOVERRIDE = TRUE;
    B_SETVISUALS_STONEGOLEM();
    NPC_SETTOFISTMODE(SHATTERED_GOLEM);
    START_AISTATE = ZS_GOLEMDOWN;
    AIVAR[32] = ONLYROUTINE;
}

instance GOLEM_VOLFZACKE_01(MST_DEFAULT_STONEGOLEM) {
    MST_DEFAULT_STONEGOLEM();
    NAME[0] = NAME_AWAKENEDGOLEM;
    B_SETVISUALS_STONEGOLEM_VOLFZACKE();
    NPC_SETTOFISTMODE(GOLEM_VOLFZACKE_01);
    AIVAR[43] = ID_GOLEMVOLFZACKE;
    DAMAGETYPE = DAM_BLUNT;
    CREATEINVITEMS(GOLEM_VOLFZACKE_01, 35989, 7);
}

instance GOLEM_VOLFZACKE_02(MST_DEFAULT_STONEGOLEM) {
    MST_DEFAULT_STONEGOLEM();
    NAME[0] = NAME_AWAKENEDGOLEM;
    B_SETVISUALS_STONEGOLEM_VOLFZACKE();
    NPC_SETTOFISTMODE(GOLEM_VOLFZACKE_02);
    AIVAR[43] = ID_GOLEMVOLFZACKE;
    DAMAGETYPE = DAM_BLUNT;
    CREATEINVITEMS(GOLEM_VOLFZACKE_02, 35989, 7);
}

instance GOLEM_VOLFZACKE_03(MST_DEFAULT_STONEGOLEM) {
    MST_DEFAULT_STONEGOLEM();
    NAME[0] = NAME_AWAKENEDGOLEM;
    B_SETVISUALS_STONEGOLEM_VOLFZACKE();
    NPC_SETTOFISTMODE(GOLEM_VOLFZACKE_03);
    AIVAR[43] = ID_GOLEMVOLFZACKE;
    DAMAGETYPE = DAM_BLUNT;
    CREATEINVITEMS(GOLEM_VOLFZACKE_03, 35989, 7);
}

instance SQ312_STONEGOLEM_01(MST_DEFAULT_STONEGOLEM) {
    MST_DEFAULT_STONEGOLEM();
    B_SETVISUALS_STONEGOLEM();
    NPC_SETTOFISTMODE(SQ312_STONEGOLEM_01);
    CREATEINVITEMS(SQ312_STONEGOLEM_01, 35989, 3);
}

instance SQ312_STONEGOLEM_02(MST_DEFAULT_STONEGOLEM) {
    MST_DEFAULT_STONEGOLEM();
    B_SETVISUALS_STONEGOLEM();
    NPC_SETTOFISTMODE(SQ312_STONEGOLEM_02);
    CREATEINVITEMS(SQ312_STONEGOLEM_02, 35989, 2);
}

instance SQ312_STONEGOLEM_03(MST_DEFAULT_STONEGOLEM) {
    MST_DEFAULT_STONEGOLEM();
    B_SETVISUALS_STONEGOLEM();
    NPC_SETTOFISTMODE(SQ312_STONEGOLEM_03);
    CREATEINVITEMS(SQ312_STONEGOLEM_03, 35989, 3);
}

instance SQ312_STONEGOLEM_04(MST_DEFAULT_STONEGOLEM) {
    MST_DEFAULT_STONEGOLEM();
    B_SETVISUALS_STONEGOLEM();
    NPC_SETTOFISTMODE(SQ312_STONEGOLEM_04);
    CREATEINVITEMS(SQ312_STONEGOLEM_04, 35989, 2);
}

instance STONEGOLEM_Q403(MST_DEFAULT_STONEGOLEM) {
    MST_DEFAULT_STONEGOLEM();
    B_SETVISUALS_STONEGOLEM();
    NPC_SETTOFISTMODE(STONEGOLEM_Q403);
    CREATEINVITEMS(STONEGOLEM_Q403, 35989, 4);
}

