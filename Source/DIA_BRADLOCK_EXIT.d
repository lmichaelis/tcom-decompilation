instance DIA_BRADLOCK_EXIT(C_INFO) {
    NPC = 53358;
    NR = 999;
    CONDITION = DIA_BRADLOCK_EXIT_CONDITION;
    INFORMATION = DIA_BRADLOCK_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_BRADLOCK_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_BRADLOCK_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_BRADLOCK_HELLO(C_INFO) {
    NPC = 53358;
    NR = 1;
    CONDITION = DIA_BRADLOCK_HELLO_CONDITION;
    INFORMATION = DIA_BRADLOCK_HELLO_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Nice house.";
}

func int DIA_BRADLOCK_HELLO_CONDITION() {
    if ((NPC_GETDISTTOWP(SELF, "PARTM4_VOLKER_IVY")) <= (2000)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BRADLOCK_HELLO_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_HELLO_15_01");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_HELLO_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_HELLO_15_03");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_HELLO_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_HELLO_03_05");
}

instance DIA_BRADLOCK_VOLKER(C_INFO) {
    NPC = 53358;
    NR = 1;
    CONDITION = DIA_BRADLOCK_VOLKER_CONDITION;
    INFORMATION = DIA_BRADLOCK_VOLKER_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Who is this Volker guy?";
}

func int DIA_BRADLOCK_VOLKER_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 68730)) && ((NPC_KNOWSINFO(OTHER, 73494)) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BRADLOCK_VOLKER_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Volker_15_01");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Volker_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Volker_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Volker_03_04");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Volker_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Volker_03_06");
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Volker_15_07");
    AI_RESETFACEANI(OTHER);
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Volker_03_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Volker_03_09");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Volker_03_10");
}

instance DIA_BRADLOCK_LOAN(C_INFO) {
    NPC = 53358;
    NR = 10;
    CONDITION = DIA_BRADLOCK_LOAN_CONDITION;
    INFORMATION = DIA_BRADLOCK_LOAN_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "And can I apply for a loan?";
}

func int DIA_BRADLOCK_LOAN_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 68733)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BRADLOCK_LOAN_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Loan_15_01");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    if ((LOG_GETSTATUS(MIS_SQ225)) >= (1)) {
        B_SAY(SELF, OTHER, "$NO");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Loan_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Loan_03_03");
    AI_RESETFACEANI(SELF);
}

instance DIA_BRADLOCK_SQ225_START(C_INFO) {
    NPC = 53358;
    NR = 1;
    CONDITION = DIA_BRADLOCK_SQ225_START_CONDITION;
    INFORMATION = DIA_BRADLOCK_SQ225_START_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Do you have a job for me?";
}

func int DIA_BRADLOCK_SQ225_START_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 68733)) && (NPC_KNOWSINFO(OTHER, 80600))) {
        if ((LOG_GETSTATUS(MIS_Q308)) == (0)) {
            if ((KAPITEL) < (4)) {
                return TRUE;
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_BRADLOCK_SQ225_START_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Start_15_01");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Start_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Start_15_03");
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Start_03_04");
    B_STANDUP();
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Start_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Start_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Start_03_07");
    CREATEINVITEMS(SELF, 37081, 1);
    B_GIVEINVITEMS(SELF, OTHER, 37081, 1);
    LOG_CREATETOPIC(TOPIC_SQ225, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ225), TOPIC_SQ225, LOG_RUNNING);
    AI_LOGENTRY(TOPIC_SQ225, LOG_SQ225_START);
    NPC_CLEARAIQUEUE(MIL_6371_DUSTER);
    B_STARTOTHERROUTINE(MIL_6371_DUSTER, "SQ225_WAIT");
    SQ225_DUSTER_RTNCHECK = 1;
}

instance DIA_BRADLOCK_SQ225_QUESTIONS(C_INFO) {
    NPC = 53358;
    NR = 50;
    CONDITION = DIA_BRADLOCK_SQ225_QUESTIONS_CONDITION;
    INFORMATION = DIA_BRADLOCK_SQ225_QUESTIONS_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "I have a few questions...";
}

func int DIA_BRADLOCK_SQ225_QUESTIONS_CONDITION() {
    if (((LOG_GETSTATUS(MIS_SQ225)) == (LOG_RUNNING)) && ((SQ225_READVOLKERBOOK) == (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

var int BRADLOCK_SQ225_QUESTIONS_ANDERAS;
var int BRADLOCK_SQ225_QUESTIONS_HOLDWIG;
func void DIA_BRADLOCK_SQ225_QUESTIONS_CHOICES() {
    INFO_CLEARCHOICES(68742);
    INFO_ADDCHOICE(68742, DIALOG_BACK, 68748);
    if ((BRADLOCK_SQ225_QUESTIONS_HOLDWIG) == (FALSE)) {
        INFO_ADDCHOICE(68742, "Do you know anything about Holdwig?", 68750);
    };
    if ((BRADLOCK_SQ225_QUESTIONS_ANDERAS) == (FALSE)) {
        INFO_ADDCHOICE(68742, "What can you tell me about Andreas?", 68749);
    };
}

func void DIA_BRADLOCK_SQ225_QUESTIONS_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Questions_15_01");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Questions_03_02");
    B_STANDUP();
    AI_RESETFACEANI(SELF);
    DIA_BRADLOCK_SQ225_QUESTIONS_CHOICES();
}

func void DIA_BRADLOCK_SQ225_QUESTIONS_BACK() {
    INFO_CLEARCHOICES(68742);
}

func void DIA_BRADLOCK_SQ225_QUESTIONS_ANDERAS() {
    BRADLOCK_SQ225_QUESTIONS_ANDERAS = 1;
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Questions_Anderas_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Questions_Anderas_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Questions_Anderas_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Questions_Anderas_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Questions_Anderas_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Questions_Anderas_03_06");
    AI_LOGENTRY(TOPIC_SQ225, LOG_SQ225_BRADLOCK_GERHARD);
    INFO_CLEARCHOICES(68742);
    INFO_ADDCHOICE(68742, "Where can I find him?", 68751);
}

func void DIA_BRADLOCK_SQ225_QUESTIONS_HOLDWIG() {
    BRADLOCK_SQ225_QUESTIONS_HOLDWIG = 1;
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Questions_Holdwig_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Questions_Holdwig_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Questions_Holdwig_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Questions_Holdwig_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Questions_Holdwig_03_05");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Questions_Holdwig_15_06");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Questions_Holdwig_03_07");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Questions_Holdwig_15_08");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Questions_Holdwig_03_09");
    AI_LOGENTRY(TOPIC_SQ225, LOG_SQ225_BRADLOCK_HOLDWIG);
    DIA_BRADLOCK_SQ225_QUESTIONS_CHOICES();
}

func void DIA_BRADLOCK_SQ225_QUESTIONS_ANDERAS_WHERE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Questions_Where_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Questions_Where_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Questions_Where_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Questions_Where_03_04");
    AI_PLAYANI(SELF, "T_WHISTLE");
    AI_FUNCTION(SELF, 68752);
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Questions_Where_03_05");
    AI_LOGENTRY(TOPIC_SQ225, LOG_SQ225_BRADLOCK_ANDREAS);
    DIA_BRADLOCK_SQ225_QUESTIONS_CHOICES();
}

func void BRADLOCK_SQ225_GUIDE() {
    SQ225_FOLLOWVOLKERGUARD = 1;
    PRINTD("Biegn¹");
    B_STARTOTHERROUTINE(NONE_6397_VOLKERGUARD, "SQ225");
    NPC_REFRESH(NONE_6397_VOLKERGUARD);
    B_STARTOTHERROUTINE(NONE_6396_VOLKERGUARD, "SQ225");
    NPC_REFRESH(NONE_6396_VOLKERGUARD);
}

instance DIA_BRADLOCK_SQ225_FINISH(C_INFO) {
    NPC = 53358;
    NR = 1;
    CONDITION = DIA_BRADLOCK_SQ225_FINISH_CONDITION;
    INFORMATION = DIA_BRADLOCK_SQ225_FINISH_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BRADLOCK_SQ225_FINISH_CONDITION() {
    if ((NPC_ISINSTATE(SELF, 61599)) && ((LOG_GETSTATUS(MIS_SQ225)) == (LOG_RUNNING))) {
        if ((((SQ225_VALERIOTESTAMENT) == (2)) || (NPC_KNOWSINFO(OTHER, 72226))) || (NPC_KNOWSINFO(OTHER, 65191))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_BRADLOCK_SQ225_FINISH_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Finish_03_01");
    INFO_CLEARCHOICES(68753);
    if (NPC_KNOWSINFO(OTHER, 65191)) {
        INFO_ADDCHOICE(68753, "Holdwig has full control of the vineyard.", 68758);
    };
    if (NPC_KNOWSINFO(OTHER, 72226)) {
        INFO_ADDCHOICE(68753, "Andreas regained control of the vineyard.", 68759);
    };
    if ((SQ225_VALERIOTESTAMENT) == (2)) {
        INFO_ADDCHOICE(68753, "The brothers manage the vineyard together.", 68760);
    };
    INFO_ADDCHOICE(68753, "Shouldn't I report to the boss?", 68756);
    NPC_EXCHANGEROUTINE(NONE_839_GERSTAND, START);
}

func void DIA_BRADLOCK_SQ225_FINISH_VOLKER() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Finish_Volker_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Finish_Volker_03_02");
}

func void DIA_BRADLOCK_SQ225_FINISH_END() {
    SQ225_BRADLOCKREWARDWAIT = 1;
    SQ225_BRADLOCKREWARDWAIT_DAY = WLD_GETDAY();
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Finish_Holdwig_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Finish_Holdwig_03_06");
    AI_LOGENTRY(TOPIC_SQ225, LOG_SQ225_FINISH);
    LOG_SETSTATUS(_@(MIS_SQ225), TOPIC_SQ225, LOG_SUCCESS);
    B_GIVEPLAYERXP(XP_SQ225_FINISH);
    INFO_CLEARCHOICES(68753);
    AI_STOPPROCESSINFOS(SELF);
    NPC_EXCHANGEROUTINE(SELF, "VOLKERTRIALOG");
    SQ225_EVENTS_AFTERQUEST();
}

func void DIA_BRADLOCK_SQ225_FINISH_HOLDWIG() {
    SQ225_FINISHWAY = 1;
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Finish_Holdwig_15_01");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Finish_Holdwig_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Finish_Holdwig_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Finish_Holdwig_03_04");
    DIA_BRADLOCK_SQ225_FINISH_END();
}

func void DIA_BRADLOCK_SQ225_FINISH_ANDREAS() {
    SQ225_FINISHWAY = 2;
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Finish_Andreas_15_01");
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Finish_Andreas_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Finish_Andreas_15_03");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Finish_Andreas_03_04");
    DIA_BRADLOCK_SQ225_FINISH_END();
}

func void DIA_BRADLOCK_SQ225_FINISH_LIAM() {
    GAMESERVICES_UNLOCKACHIEVEMENT(ACH_39);
    SQ225_FINISHWAY = 3;
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Finish_Liam_15_01");
    B_STANDUP();
    AI_STARTFACEANI(SELF, S_SURPRISE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Finish_Liam_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Finish_Liam_15_03");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Finish_Liam_03_04");
    DIA_BRADLOCK_SQ225_FINISH_END();
}

instance DIA_BRADLOCK_SQ225_REWARD(C_INFO) {
    NPC = 53358;
    NR = 1;
    CONDITION = DIA_BRADLOCK_SQ225_REWARD_CONDITION;
    INFORMATION = DIA_BRADLOCK_SQ225_REWARD_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "What about my reward?";
}

func int DIA_BRADLOCK_SQ225_REWARD_CONDITION() {
    if (((LOG_GETSTATUS(MIS_SQ225)) == (LOG_SUCCESS)) && ((SQ225_BRADLOCKREWARDWAIT) == (2))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BRADLOCK_SQ225_REWARD_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Reward_15_01");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Reward_03_02");
    if ((SQ225_FINISHWAY) == (3)) {
        CREATEINVITEMS(SELF, 34203, SQ225_FINALREWARD_V2);
        B_GIVEINVITEMS(SELF, OTHER, 34203, SQ225_FINALREWARD_V2);
        AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
        AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Reward_15_10");
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Reward_03_11");
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Reward_03_12");
        AI_RESETFACEANI(OTHER);
        AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Reward_15_13");
    };
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Reward_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Reward_03_04");
    AI_RESETFACEANI(OTHER);
    CREATEINVITEMS(SELF, 34203, SQ225_FINALREWARD_V1);
    B_GIVEINVITEMS(SELF, OTHER, 34203, SQ225_FINALREWARD_V1);
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Reward_15_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Reward_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Reward_03_07");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ225_Reward_15_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ225_Reward_03_09");
}

instance DIA_BRADLOCK_Q308HELLO(C_INFO) {
    NPC = 53358;
    NR = 1;
    CONDITION = DIA_BRADLOCK_Q308HELLO_CONDITION;
    INFORMATION = DIA_BRADLOCK_Q308HELLO_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BRADLOCK_Q308HELLO_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q308)) == (LOG_RUNNING)) && ((MADOG_CANENTERVOLKERHOUSE) == (TRUE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BRADLOCK_Q308HELLO_INVESTIGATIONADDCHOICE() {
    INFO_ADDCHOICE(68764, "I'm here about the investigation.", 68773);
}

func void DIA_BRADLOCK_Q308HELLO_INFO() {
    B_STANDUP();
    Q308_MILITIARETURNRTN();
    SQ225_FAILQUEST();
    AI_DRAWWEAPON(SELF);
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_03_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Q308Hello_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_03_03");
    INFO_CLEARCHOICES(68764);
    DIA_BRADLOCK_Q308HELLO_INVESTIGATIONADDCHOICE();
    INFO_ADDCHOICE(68764, "I want to work for him.", 68772);
}

func void DIA_BRADLOCK_Q308HELLO_COMEIN() {
    AI_REMOVEWEAPON(SELF);
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_NotBad_03_09");
    INFO_CLEARCHOICES(68764);
    AI_STOPPROCESSINFOS(SELF);
    SELF.AIVAR[15] = TRUE;
    NPC_EXCHANGEROUTINE(SELF, "VOLKERTRIALOG");
    B_STARTOTHERROUTINE(VLK_15000_VOLKER, "VOLKERTRIALOG");
    TELEPORTNPCTOWP(53402, "PARTM4_VOLKER_HOUSE_FIREPLACE");
}

func void DIA_BRADLOCK_Q308HELLO_WORK_GETORYX_CANGO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Q308Hello_CanGo_15_01");
    DIA_BRADLOCK_Q308HELLO_COMEIN();
}

func void DIA_BRADLOCK_Q308HELLO_WORK_GETORYX_CANGO_NOTNICE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Q308Hello_CanGo_NotNice_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_CanGo_NotNice_03_02");
    DIA_BRADLOCK_Q308HELLO_COMEIN();
}

func void DIA_BRADLOCK_Q308HELLO_FINALCHOICE() {
    INFO_CLEARCHOICES(68764);
    INFO_ADDCHOICE(68764, "Does that mean you'll take me to Volker?", 68769);
    INFO_ADDCHOICE(68764, "Does that mean you'll take me to the Usurer?", 68770);
}

func void DIA_BRADLOCK_Q308HELLO_WORK() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Q308Hello_Work_15_01");
    if ((LOG_GETSTATUS(MIS_SQ225)) == (LOG_SUCCESS)) {
        Q308_BRADLOCK_WANTSTOWORK = TRUE;
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_Work_03_03");
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_Work_03_04");
        AI_LOGENTRY(TOPIC_Q308, LOG_Q308_BRADLOCKENTER_V4);
        DIA_BRADLOCK_Q308HELLO_FINALCHOICE();
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_Work_03_02");
    INFO_CLEARCHOICES(68764);
    INFO_ADDCHOICE(68764, "I have valuable skills.", 68774);
}

func void DIA_BRADLOCK_Q308HELLO_INVESTIGATION() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Q308Hello_Investigation_15_01");
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_Investigation_03_02");
    if ((OTHER.GUILD) == (GIL_MIL)) {
        AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Q308Hello_Investigation_15_03");
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_Investigation_03_04");
        AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Q308Hello_Investigation_15_05");
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_Investigation_03_06");
    };
    if ((OTHER.GUILD) == (GIL_SLD)) {
        AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Q308Hello_Investigation_15_07");
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_Investigation_03_08");
        AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Q308Hello_Investigation_15_09");
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_Investigation_03_10");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_Investigation_03_11");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Q308Hello_Investigation_15_12");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_Investigation_03_13");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_Investigation_03_14");
    if ((OTHER.GUILD) == (GIL_MIL)) {
        AI_LOGENTRY(TOPIC_Q308, LOG_Q308_BRADLOCKENTER_V1);
    };
    if ((OTHER.GUILD) == (GIL_SLD)) {
        AI_LOGENTRY(TOPIC_Q308, LOG_Q308_BRADLOCKENTER_V2);
    };
    DIA_BRADLOCK_Q308HELLO_FINALCHOICE();
}

func void DIA_BRADLOCK_Q308HELLO_WORK_SKILL() {
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Q308Hello_Skill_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_Skill_03_02");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_Skill_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_Skill_03_04");
    INFO_CLEARCHOICES(68764);
    DIA_BRADLOCK_Q308HELLO_INVESTIGATIONADDCHOICE();
    if ((Q306_TOURNAMENTSTATUS) == (1)) {
        INFO_ADDCHOICE(68764, "I deal with thugs pretty well.", 68775);
    };
}

func void DIA_BRADLOCK_Q308HELLO_WORK_SKILL_NOTBAD() {
    Q308_BRADLOCK_WANTSTOWORK = TRUE;
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Q308Hello_NotBad_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_NotBad_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Q308Hello_NotBad_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_NotBad_03_04");
    if (NPC_ISDEAD(NONE_7500_BEN)) {
        AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Q308Hello_NotBad_15_05");
    };
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Q308Hello_NotBad_15_06");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_NotBad_03_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Q308Hello_NotBad_03_08");
    AI_LOGENTRY(TOPIC_Q308, LOG_Q308_BRADLOCKENTER_V3);
    DIA_BRADLOCK_Q308HELLO_FINALCHOICE();
}

instance DIA_BRADLOCK_VOLKERTRIALOG(C_INFO) {
    NPC = 53358;
    NR = 1;
    CONDITION = DIA_BRADLOCK_VOLKERTRIALOG_CONDITION;
    INFORMATION = DIA_BRADLOCK_VOLKERTRIALOG_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BRADLOCK_VOLKERTRIALOG_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q308)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 68764))) {
        if (((NPC_GETDISTTOWP(NONE_2246_BRADLOCK, "PARTM4_VOLKER_HOUSE_22")) <= (350)) && ((NPC_GETDISTTOWP(VLK_15000_VOLKER, "PARTM4_VOLKER_HOUSE_FIREPLACE")) <= (350))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_BRADLOCK_VOLKERTRIALOG_INFO() {
    AI_TURNTONPC(SELF, OTHER);
    AI_TURNTONPC(OTHER, SELF);
    if ((Q308_BRADLOCK_WANTSTOWORK) == (TRUE)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_VOLKERTRIALOG_03_01");
    };
    AI_PLAYANI(SELF, T_YES);
    AI_PLAYANI(SELF, "T_IGETYOU");
    AI_STOPPROCESSINFOS(SELF);
    SELF.AIVAR[15] = FALSE;
    AI_STOPLOOKAT(HERO);
    AI_STOPLOOKAT(SELF);
    NPC_EXCHANGEROUTINE(NONE_2246_BRADLOCK, START);
    B_STARTOTHERROUTINE(VLK_15000_VOLKER, START);
    NPC_REFRESH(VLK_15000_VOLKER);
}

instance DIA_BRADLOCK_INFORMATIONS(C_INFO) {
    NPC = 53358;
    NR = 1;
    CONDITION = DIA_BRADLOCK_INFORMATIONS_CONDITION;
    INFORMATION = DIA_BRADLOCK_INFORMATIONS_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "What do you know about the assassination?";
}

func int DIA_BRADLOCK_INFORMATIONS_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q308)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 73494))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BRADLOCK_INFORMATIONS_INFO() {
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Informations_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Informations_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Informations_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Informations_03_04");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Informations_15_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Informations_03_06");
    INFO_CLEARCHOICES(68779);
    INFO_ADDCHOICE(68779, "And yet, by some miracle, the attempt happened.", 68782);
}

func void DIA_BRADLOCK_INFORMATIONS_INFOS() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Informations_Info_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Informations_Info_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Informations_Info_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Informations_Info_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Informations_Info_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Informations_Info_03_06");
    INFO_CLEARCHOICES(68779);
    INFO_ADDCHOICE(68779, "Tell me about this boy.", 68783);
}

func void DIA_BRADLOCK_INFORMATIONS_INFO_BOY() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Informations_Boy_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Informations_Boy_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Informations_Boy_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Informations_Boy_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Informations_Boy_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Informations_Boy_03_06");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Informations_Boy_15_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Informations_Boy_03_08");
    INFO_CLEARCHOICES(68779);
    INFO_ADDCHOICE(68779, "Do you have the bolthead with you?", 68784);
}

func void DIA_BRADLOCK_INFORMATIONS_INFO_BOY_BOLT() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Informations_Bolt_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Informations_Bolt_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Informations_Bolt_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Informations_Bolt_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Informations_Bolt_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Informations_Bolt_03_06");
    AI_RESETFACEANI(SELF);
    INFO_CLEARCHOICES(68779);
    AI_STOPPROCESSINFOS(SELF);
    AI_LOGENTRY(TOPIC_Q309, LOG_Q308_BRADLOCK_BOLT);
    B_Q309_GRAVETELEPORT();
}

var int BRADLOCKNOTEACH;
instance DIA_BRADLOCK_AFTERMINE(C_INFO) {
    NPC = 53358;
    NR = 1;
    CONDITION = DIA_BRADLOCK_AFTERMINE_CONDITION;
    INFORMATION = DIA_BRADLOCK_AFTERMINE_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BRADLOCK_AFTERMINE_CONDITION() {
    if ((Q404_MARVINFINISHEDMINE) == (2)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BRADLOCK_AFTERMINE_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_AfterMine_03_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_AfterMine_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_AfterMine_03_03");
    INFO_CLEARCHOICES(68786);
    if ((Q402_STRANGENOTELOGENTRY) == (TRUE)) {
        INFO_ADDCHOICE(68786, "I'm close to finding out where this organization's hideout is.", 68793);
    };
    if (NPC_KNOWSINFO(OTHER, 81258)) {
        INFO_ADDCHOICE(68786, "I was attacked by several people in the Den.", 68792);
    };
    if (NPC_KNOWSINFO(OTHER, 81833)) {
        INFO_ADDCHOICE(68786, "Has Ivy been here lately?", 68791);
    };
    INFO_ADDCHOICE(68786, "Why doesn't Volker let anyone in?", 68790);
}

func void DIA_BRADLOCK_AFTERMINE_END() {
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_AfterMine_NearEnd_03_03");
    if ((Q402_STRANGENOTELOGENTRY) == (FALSE)) {
        AI_LOGENTRY(TOPIC_Q402, LOG_Q402_BRADLOCKTALKNOWOLFSDEN);
    };
    AI_STOPPROCESSINFOS(SELF);
}

func void DIA_BRADLOCK_AFTERMINE_WHY() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_AfterMine_Why_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_AfterMine_Why_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_AfterMine_Why_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_AfterMine_Why_03_04");
    if ((Q402_STRANGENOTELOGENTRY) == (FALSE)) {
        DIA_BRADLOCK_AFTERMINE_END();
    };
}

func void DIA_BRADLOCK_AFTERMINE_IVY() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_AfterMine_Ivy_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_AfterMine_Ivy_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_AfterMine_Ivy_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_AfterMine_Ivy_03_04");
}

func void DIA_BRADLOCK_AFTERMINE_BANDITS() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_AfterMine_Bandits_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_AfterMine_Bandits_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_AfterMine_Bandits_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_AfterMine_Bandits_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_AfterMine_Bandits_03_05");
}

func void DIA_BRADLOCK_AFTERMINE_NEAREND() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_AfterMine_NearEnd_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_AfterMine_NearEnd_03_02");
    if (((LOG_GETSTATUS(MIS_Q402)) == (LOG_RUNNING)) && ((Q402_LUDWIG_FINISHEDMAP) < (1))) {
        AI_LOGENTRY(TOPIC_Q402, LOG_Q402_BRADLOCKTALK);
    };
    if (((LOG_GETSTATUS(MIS_Q402)) == (LOG_RUNNING)) && ((Q402_LUDWIG_FINISHEDMAP) >= (1))) {
        AI_LOGENTRY(TOPIC_Q402, LOG_Q402_BRADLOCKTALKWAITFORMAP);
    };
    DIA_BRADLOCK_AFTERMINE_END();
    BRADLOCKNOTEACH = TRUE;
}

instance DIA_BRADLOCK_CANTPASS(C_INFO) {
    NPC = 53358;
    NR = 1;
    CONDITION = DIA_BRADLOCK_CANTPASS_CONDITION;
    INFORMATION = DIA_BRADLOCK_CANTPASS_INFO;
    PERMANENT = TRUE;
    IMPORTANT = TRUE;
}

func int DIA_BRADLOCK_CANTPASS_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 68786)) && (NPC_ISINSTATE(SELF, 61599))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BRADLOCK_CANTPASS_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_CantPass_03_01");
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_BRADLOCK_CANYOUTEACHME(C_INFO) {
    NPC = 53358;
    NR = 4;
    CONDITION = DIA_BRADLOCK_CANYOUTEACHME_CONDITION;
    INFORMATION = DIA_BRADLOCK_CANYOUTEACHME_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Could you teach me something?";
}

func int DIA_BRADLOCK_CANYOUTEACHME_CONDITION() {
    if ((((NPC_KNOWSINFO(OTHER, 68779)) && (NPC_ISINSTATE(SELF, 61599))) && ((LOG_GETSTATUS(MIS_Q308)) == (LOG_RUNNING))) || ((((LOG_GETSTATUS(MIS_Q308)) == (LOG_SUCCESS)) && ((BRADLOCKNOTEACH) == (FALSE))) && ((KAPITEL) < (5)))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BRADLOCK_CANYOUTEACHME_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Canyouteachme_15_00");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Canyouteachme_03_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Canyouteachme_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Canyouteachme_03_03");
    LOG_CREATETOPIC(TOPIC_CITYTEACHER, LOG_NOTE);
    AI_LOGENTRY(TOPIC_CITYTEACHER, LOG_CITYTEACHER_BRADLOCK);
}

var int BRADLOCK_CURRENTSTRLEVEL;
var int BRADLOCK_NOMORE;
var string BRADLOCK_PRINTS;
const int BRADLOCK_RLEVEL = 30;
instance DIA_BRADLOCK_TRAIN(C_INFO) {
    NPC = 53358;
    NR = 7;
    CONDITION = DIA_BRADLOCK_TRAIN_CONDITION;
    INFORMATION = DIA_BRADLOCK_TRAIN_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Let's start training.";
}

func int DIA_BRADLOCK_TRAIN_CONDITION() {
    if ((((NPC_KNOWSINFO(OTHER, 68797)) && ((BRADLOCK_NOMORE) == (FALSE))) && ((BRADLOCKNOTEACH) == (FALSE))) && ((KAPITEL) < (5))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BRADLOCK_TRAIN_CHOICES() {
    var int BRADLOCK_GOLDCOST;
    BRADLOCK_GOLDCOST = 25;
    BRADLOCK_CURRENTSTRLEVEL = OTHER.AIVAR[81];
    INFO_CLEARCHOICES(68804);
    INFO_ADDCHOICE(68804, DIALOG_BACK, 68809);
    INFO_ADDCHOICE(68804, B_BUILDLEARNSTRING2(PRINT_LEARNSTR1, B_GETLEARNCOSTATTRIBUTE(OTHER, ATR_STRENGTH, 1), BRADLOCK_GOLDCOST), 68810);
    INFO_ADDCHOICE(68804, B_BUILDLEARNSTRING2(PRINT_LEARNSTR5, B_GETLEARNCOSTATTRIBUTE(OTHER, ATR_STRENGTH, 5), (BRADLOCK_GOLDCOST) * (5)), 68811);
}

func void DIA_BRADLOCK_TRAIN_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_Train_15_00");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Train_03_01");
    DIA_BRADLOCK_TRAIN_CHOICES();
}

func void DIA_BRADLOCK_TRAIN_BACK() {
    if ((OTHER.AIVAR[81]) > (BRADLOCK_CURRENTSTRLEVEL)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Train_Back_03_00");
    };
    if ((OTHER.AIVAR[81]) >= (120)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Train_Back_03_01");
        BRADLOCK_NOMORE = TRUE;
    };
    INFO_CLEARCHOICES(68804);
}

func void DIA_BRADLOCK_TRAINSTR_1() {
    if (((NPC_HASITEMS(OTHER, 34203)) >= (BRADLOCK_PAYMENT1)) && ((OTHER.AIVAR[81]) >= (30))) {
        if ((BRADLOCK_CURRENTSTRLEVEL) < (OTHER.AIVAR[81])) {
            SND_PLAY(GELDBEUTEL);
            B_GIVEINVITEMS(OTHER, SELF, 34203, BRADLOCK_PAYMENT1);
            NPC_REMOVEINVITEMS(SELF, 34203, BRADLOCK_PAYMENT1);
        };
        B_TEACHATTRIBUTEPOINTS(SELF, OTHER, ATR_STRENGTH, 1, 120);
        DIA_BRADLOCK_TRAIN_CHOICES();
    };
    if ((NPC_HASITEMS(OTHER, 34203)) < (BRADLOCK_PAYMENT1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Train_STR1_13_00");
        BRADLOCK_PRINTS = CONCATSTRINGS(PRINT_RGOLD, INTTOSTRING(BRADLOCK_PAYMENT1));
        PRINTSCREEN(BRADLOCK_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BRADLOCK_TRAIN_CHOICES();
    };
    if ((OTHER.AIVAR[81]) < (30)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Train_STR1_13_01");
        BRADLOCK_PRINTS = CONCATSTRINGS(PRINT_MINATR, INTTOSTRING(BRADLOCK_RLEVEL));
        PRINTSCREEN(BRADLOCK_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BRADLOCK_TRAIN_CHOICES();
    };
}

func void DIA_BRADLOCK_TRAINSTR_5() {
    if (((NPC_HASITEMS(OTHER, 34203)) >= (BRADLOCK_PAYMENT5)) && ((OTHER.AIVAR[81]) >= (30))) {
        if ((BRADLOCK_CURRENTSTRLEVEL) < (OTHER.AIVAR[81])) {
            SND_PLAY(GELDBEUTEL);
            B_GIVEINVITEMS(OTHER, SELF, 34203, BRADLOCK_PAYMENT5);
            NPC_REMOVEINVITEMS(SELF, 34203, BRADLOCK_PAYMENT5);
        };
        B_TEACHATTRIBUTEPOINTS(SELF, OTHER, ATR_STRENGTH, 5, 120);
        DIA_BRADLOCK_TRAIN_CHOICES();
    };
    if ((NPC_HASITEMS(OTHER, 34203)) < (BRADLOCK_PAYMENT5)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Train_STR5_13_00");
        BRADLOCK_PRINTS = CONCATSTRINGS(PRINT_RGOLD, INTTOSTRING(BRADLOCK_PAYMENT5));
        PRINTSCREEN(BRADLOCK_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BRADLOCK_TRAIN_CHOICES();
    };
    if ((OTHER.AIVAR[81]) < (30)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Train_STR5_13_01");
        BRADLOCK_PRINTS = CONCATSTRINGS(PRINT_MINATR, INTTOSTRING(BRADLOCK_RLEVEL));
        PRINTSCREEN(BRADLOCK_PRINTS, -(1), -(1), FONT_SCREEN, 2);
        DIA_BRADLOCK_TRAIN_CHOICES();
    };
}

instance DIA_BRADLOCK_SQ207_VOLKER(C_INFO) {
    NPC = 53358;
    NR = 1;
    CONDITION = DIA_BRADLOCK_SQ207_VOLKER_CONDITION;
    INFORMATION = DIA_BRADLOCK_SQ207_VOLKER_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "There's something Volker needs to know!";
}

func int DIA_BRADLOCK_SQ207_VOLKER_CONDITION() {
    if ((((((LOG_GETSTATUS(MIS_SQ207)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 74416))) && (NPC_KNOWSINFO(OTHER, 68730))) && ((SQ207_BORISRESULT) == (0))) && ((SQ207_FAILED) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BRADLOCK_SQ207_VOLKER_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ207_Volker_15_01");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ207_Volker_03_02");
    INFO_CLEARCHOICES(68812);
    INFO_ADDCHOICE(68812, "Why do you allow your men to make life miserable for honest citizens?", 68818);
}

func void BRADLOCK_SQ207_SUMMONMAN() {
    B_STARTOTHERROUTINE(NONE_13748_VOLKERGUARD, "SQ207_RUNTOBRADLOCK");
    NPC_REFRESH(NONE_13748_VOLKERGUARD);
}

func void BRADLOCK_SQ207_KILLSCARMAN() {
    B_STARTOTHERROUTINE(NONE_13748_VOLKERGUARD, "SQ207_RUNTOSCARMAN");
    NPC_REFRESH(NONE_13748_VOLKERGUARD);
    B_REMOVENPC(53490);
    SQ207_SCARMANCORPSE_PREPARE();
}

func void BRADLOCK_SQ207_MANCOMEBACK() {
    B_STARTOTHERROUTINE(NONE_13748_VOLKERGUARD, START);
    NPC_REFRESH(NONE_13748_VOLKERGUARD);
}

func void DIA_BRADLOCK_SQ207_VOLKER_WHY() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ207_Volker_Why_15_01");
    B_STANDUP();
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ207_Volker_Why_03_02");
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ207_Volker_Why_15_03");
    AI_STARTFACEANI(SELF, "S_HOSTILE", 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ207_Volker_Why_03_04");
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ207_Volker_Why_15_05");
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ207_Volker_Why_03_06");
    AI_TURNTONPC(NONE_2246_BRADLOCK, NONE_13748_VOLKERGUARD);
    AI_PLAYANI(SELF, "T_WHISTLE");
    AI_FUNCTION(SELF, 68815);
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ207_Volker_Why_03_07");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ207_Volker_Why_03_08");
    AI_WAITTILLEND(NONE_13748_VOLKERGUARD, NONE_2246_BRADLOCK);
    AI_FUNCTION(SELF, 68816);
    B_STANDUP();
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ207_Volker_Why_03_09");
    AI_STARTFACEANI(SELF, S_TIRED, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ207_Volker_Why_03_10");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ207_Volker_Why_03_11");
    CREATEINVITEMS(SELF, 37133, 1);
    B_GIVEINVITEMS(SELF, OTHER, 37133, 1);
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ207_Volker_Why_03_12");
    CREATEINVITEMS(SELF, 34737, 1);
    B_GIVEINVITEMS(SELF, OTHER, 34737, 1);
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ207_Volker_Why_03_13");
    INFO_CLEARCHOICES(68812);
    INFO_ADDCHOICE(68812, "You get business done quickly.", 68819);
}

func void DIA_BRADLOCK_SQ207_VOLKER_WHY_FAST() {
    SQ207_BORISRESULT = 2;
    AI_STARTFACEANI(OTHER, S_SURPRISE, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Bradlock_SQ207_Volker_Fast_15_01");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_SQ207_Volker_Fast_03_02");
    AI_LOGENTRY(TOPIC_SQ207, LOG_SQ207_BRADLOCK_ABOUTSCARMAN);
    INFO_CLEARCHOICES(68812);
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    AI_FUNCTION(SELF, 68817);
}

instance DIA_BRADLOCK_AMBIENT(C_INFO) {
    NPC = 53358;
    NR = 997;
    CONDITION = DIA_BRADLOCK_AMBIENT_CONDITION;
    INFORMATION = DIA_BRADLOCK_AMBIENT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "How are you doing?";
}

func int DIA_BRADLOCK_AMBIENT_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 68733)) && (!(NPC_KNOWSINFO(OTHER, 68786)))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BRADLOCK_AMBIENT_INFO() {
    B_SAY(OTHER, SELF, "$MARVIN_WhatNew2");
    if ((((LOG_GETSTATUS(MIS_Q308)) != (LOG_SUCCESS)) && ((LOG_GETSTATUS(MIS_Q308)) != (LOG_RUNNING))) && ((OTHER.GUILD) == (GIL_MIL))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Ambient_13_01");
    };
    if ((((LOG_GETSTATUS(MIS_Q308)) != (LOG_SUCCESS)) && ((LOG_GETSTATUS(MIS_Q308)) != (LOG_RUNNING))) && ((OTHER.GUILD) == (GIL_SLD))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Ambient_13_02");
    };
    if ((((LOG_GETSTATUS(MIS_Q308)) != (LOG_SUCCESS)) && ((LOG_GETSTATUS(MIS_Q308)) != (LOG_RUNNING))) && (((OTHER.GUILD) == (GIL_NONE)) || ((OTHER.GUILD) == (GIL_VLK)))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Ambient_13_03");
    };
    if (((LOG_GETSTATUS(MIS_Q309)) == (LOG_RUNNING)) || ((LOG_GETSTATUS(MIS_Q311)) == (LOG_RUNNING))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Ambient_13_04");
    };
    if ((LOG_GETSTATUS(MIS_Q308)) == (LOG_SUCCESS)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Ambient_13_05");
    };
    if ((((LOG_GETSTATUS(MIS_Q308)) == (LOG_RUNNING)) && ((LOG_GETSTATUS(MIS_Q309)) != (LOG_RUNNING))) && ((LOG_GETSTATUS(MIS_Q311)) != (LOG_RUNNING))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Ambient_13_06");
    };
}

instance DIA_BRADLOCK_FREEARMOR(C_INFO) {
    NPC = 53358;
    NR = 1;
    CONDITION = DIA_BRADLOCK_FREEARMOR_CONDITION;
    INFORMATION = DIA_BRADLOCK_FREEARMOR_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_BRADLOCK_FREEARMOR_CONDITION() {
    if ((((KAPITEL) == (4)) && ((LOG_GETSTATUS(MIS_Q401)) == (0))) && ((LOG_GETSTATUS(MIS_SQ225)) == (LOG_SUCCESS))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BRADLOCK_FREEARMOR_INFO() {
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_FreeArmor_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_Freearmor_03_02");
    if ((OTHER.GUILD) == (GIL_MIL)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_FreeArmor_03_03");
    };
    if ((OTHER.GUILD) == (GIL_SLD)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_FreeArmor_03_04");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_FreeArmor_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Bradlock_FreeArmor_03_06");
    AI_RESETFACEANI(SELF);
    AI_WAITTILLEND(OTHER, SELF);
    CREATEINVITEMS(SELF, 35479, 1);
    B_GIVEINVITEMS(SELF, OTHER, 35479, 1);
    AI_EQUIPARMOR(OTHER, 35479);
}

instance DIA_BRADLOCK_PICKPOCKET(C_INFO) {
    NPC = 53358;
    NR = 900;
    CONDITION = DIA_BRADLOCK_PICKPOCKET_CONDITION;
    INFORMATION = DIA_BRADLOCK_PICKPOCKET_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = PICKPOCKET_80;
}

func int DIA_BRADLOCK_PICKPOCKET_CONDITION() {
    if (((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (1)) && ((SELF.AIVAR[6]) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_BRADLOCK_PICKPOCKET_INFO() {
    INFO_CLEARCHOICES(68826);
    INFO_ADDCHOICE(68826, DIALOG_BACK, 68830);
    INFO_ADDCHOICE(68826, DIALOG_PICKPOCKET, 68829);
}

func void DIA_BRADLOCK_PICKPOCKET_DOIT() {
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (2)) {
        CREATEINVITEMS(SELF, 34194, 2);
        B_GIVEINVITEMS(SELF, OTHER, 34194, 2);
        B_PICKPOCKET_AMBIENT_TIER_2();
        SELF.AIVAR[6] = TRUE;
        INFO_CLEARCHOICES(68826);
    };
    AI_PLAYANI(HERO, T_CANNOTTAKE);
    PRINTSCREEN(PRINT_CANTPICKPOCKETTHISPERSON, -(1), -(1), FONT_SCREEN, 4);
    INFO_CLEARCHOICES(68826);
}

func void DIA_BRADLOCK_PICKPOCKET_BACK() {
    INFO_CLEARCHOICES(68826);
}

