var int OLDDOG_POINTS;
var int OLDDOG_CANEATTODAY;
var int OLDDOG_COUNTER;
var int OLDDOG_COUNTERLOG;
var int OLDDOG_HAPPYDOGLOG;
var int OLDDOG_QUESTFINISHLOG;
var int OLDDOG_GOBBOBONE;
var int OLDDOG_FISH;
var int OLDDOG_BACON;
var int OLDDOG_SAUSAGE;
var int OLDDOG_ROASTEDRATMEAT;
var int OLDDOG_SKELETONBONE;
var int OLDDOG_ROTTENFISH;
var int OLDDOG_RATMEATRAW;
var int OLDDOG_MEATBUG;
var int OLDDOG_CRABRAWMEAT;
var int OLDDOG_SHADOWRAWMEAT;
var int OLDDOG_WOLFRAWMEAT;
var int OLDDOG_WOLFMEAT;
var int OLDDOG_MEATBUG_FRIED;
instance DIA_OLDDOG_EXIT(C_INFO) {
    NPC = 53064;
    NR = 999;
    CONDITION = DIA_OLDDOG_EXIT_CONDITION;
    INFORMATION = DIA_OLDDOG_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_OLDDOG_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_OLDDOG_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_OLDDOG_WOOF(C_INFO) {
    NPC = 53064;
    NR = 1;
    CONDITION = DIA_OLDDOG_WOOF_CONDITION;
    INFORMATION = DIA_OLDDOG_WOOF_INFO;
    PERMANENT = TRUE;
    IMPORTANT = TRUE;
}

func int DIA_OLDDOG_WOOF_CONDITION() {
    if (NPC_ISINSTATE(SELF, 61599)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_OLDDOG_WOOF_DIALOGUE() {
    AI_OUTPUT(SELF, OTHER, "DIA_OldDog_Woof_03_01");
}

func void DIA_OLDDOG_WOOF_INFO() {
    DIA_OLDDOG_WOOF_DIALOGUE();
    if ((LOG_GETSTATUS(MIS_SQ231)) == (LOG_RUNNING)) {
        if ((OLDDOG_CANEATTODAY) != (WLD_GETDAY())) {
            OLDDOG_CANEATTODAY = WLD_GETDAY();
            OLDDOG_COUNTER = 0;
            PRINTD("Punty psa wyzerowane");
        };
    };
}

instance DIA_OLDDOG_TRYPET(C_INFO) {
    NPC = 53064;
    NR = 1;
    CONDITION = DIA_OLDDOG_TRYPET_CONDITION;
    INFORMATION = DIA_OLDDOG_TRYPET_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "(Try to pet)";
}

func int DIA_OLDDOG_TRYPET_CONDITION() {
    return TRUE;
}

func void DIA_OLDDOG_TRYPET_INFO() {
    AI_STOPLOOKAT(SELF);
    AI_STOPLOOKAT(OTHER);
    AI_WAITTILLEND(OTHER, SELF);
    AI_WAITTILLEND(SELF, OTHER);
    AI_STANDUP(SELF);
    AI_PLAYANIBS(SELF, T_SIT_2_STAND, BS_STAND);
    AI_TURNTONPC(SELF, OTHER);
    AI_WAITTILLEND(OTHER, SELF);
    AI_TURNTONPC(OTHER, SELF);
    AI_SETWALKMODE(SELF, NPC_WALK);
    AI_GOTONPC(SELF, OTHER);
    AI_WAIT(SELF, 1036831949);
    AI_PLAYANIBS(SELF, T_WARN, BS_STAND);
    OLDDOG_CANEATTODAY = WLD_GETDAY();
    LOG_CREATETOPIC(TOPIC_SQ231, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_SQ231), TOPIC_SQ231, LOG_RUNNING);
    AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_START);
}

func void DIA_OLDDOG_DOGISFULL() {
    AI_OUTPUT(OTHER, SELF, "DIA_OldDog_ChooseFood_15_00");
    AI_OUTPUT(OTHER, SELF, "DIA_OldDog_ChooseFood_15_01");
    if ((OLDDOG_COUNTERLOG) == (FALSE)) {
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_STOPH);
        OLDDOG_COUNTERLOG = TRUE;
    };
    AI_WAITTILLEND(SELF, OTHER);
    AI_STOPPROCESSINFOS(SELF);
}

func void DIA_OLDDOG_CHOOSEFOOD_CHOICES() {
    INFO_CLEARCHOICES(73142);
    INFO_ADDCHOICE(73142, "I don't have any idea.", 73146);
    if ((NPC_HASITEMS(OTHER, 33874)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give goblin bone)", 73148);
    };
    if ((NPC_HASITEMS(OTHER, 33972)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give raw fish)", 73149);
    };
    if ((NPC_HASITEMS(OTHER, 33968)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give ham)", 73150);
    };
    if ((NPC_HASITEMS(OTHER, 33978)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give sausage)", 73151);
    };
    if (((NPC_HASITEMS(OTHER, 33875)) >= (1)) && ((OLDDOG_SKELETONBONE) == (FALSE))) {
        INFO_ADDCHOICE(73142, "(Give skeleton bone)", 73153);
    };
    if (((NPC_HASITEMS(OTHER, 36401)) >= (1)) && ((OLDDOG_ROTTENFISH) == (FALSE))) {
        INFO_ADDCHOICE(73142, "(Give rotten fish)", 73154);
    };
    if ((NPC_HASITEMS(OTHER, 36409)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give fried boar meat)", 73188);
    };
    if ((NPC_HASITEMS(OTHER, 36407)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give raw boar meat)", 73186);
    };
    if ((NPC_HASITEMS(OTHER, 36413)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give fried sheep meet)", 73184);
    };
    if ((NPC_HASITEMS(OTHER, 36411)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give raw sheep meat)", 73182);
    };
    if ((NPC_HASITEMS(OTHER, 36417)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give fried molerat meat)", 73180);
    };
    if ((NPC_HASITEMS(OTHER, 36415)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give raw molerat meat)", 73178);
    };
    if ((NPC_HASITEMS(OTHER, 36425)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give fried shadowbeast meat)", 73176);
    };
    if (((NPC_HASITEMS(OTHER, 36423)) >= (1)) && ((OLDDOG_SHADOWRAWMEAT) == (FALSE))) {
        INFO_ADDCHOICE(73142, "(Give raw shadowbeast meat)", 73175);
    };
    if ((NPC_HASITEMS(OTHER, 36429)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give fried scavenger meat)", 73173);
    };
    if ((NPC_HASITEMS(OTHER, 36427)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give raw scavenger meat)", 73171);
    };
    if ((NPC_HASITEMS(OTHER, 36433)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give fried troll meat)", 73169);
    };
    if ((NPC_HASITEMS(OTHER, 36431)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give raw troll meat)", 73167);
    };
    if ((NPC_HASITEMS(OTHER, 36437)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give fried bear meat)", 73165);
    };
    if ((NPC_HASITEMS(OTHER, 36435)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give raw bear meat)", 73163);
    };
    if ((NPC_HASITEMS(OTHER, 36441)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give fried crab pincers)", 73161);
    };
    if (((NPC_HASITEMS(OTHER, 36439)) >= (1)) && ((OLDDOG_CRABRAWMEAT) == (FALSE))) {
        INFO_ADDCHOICE(73142, "(Give crab pincers)", 73160);
    };
    if (((NPC_HASITEMS(OTHER, 36421)) >= (1)) && ((OLDDOG_WOLFMEAT) == (FALSE))) {
        INFO_ADDCHOICE(73142, "(Give fried wolf meat)", 73159);
    };
    if (((NPC_HASITEMS(OTHER, 36419)) >= (1)) && ((OLDDOG_WOLFRAWMEAT) == (FALSE))) {
        INFO_ADDCHOICE(73142, "(Give raw wolf meat)", 73158);
    };
    if ((NPC_HASITEMS(OTHER, 36405)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give fried rat meat)", 73152);
    };
    if (((NPC_HASITEMS(OTHER, 36403)) >= (1)) && ((OLDDOG_RATMEATRAW) == (FALSE))) {
        INFO_ADDCHOICE(73142, "(Give raw rat meat)", 73155);
    };
    if ((NPC_HASITEMS(OTHER, 33845)) >= (1)) {
        INFO_ADDCHOICE(73142, "(Give fried insect meat)", 73157);
    };
    if (((NPC_HASITEMS(OTHER, 33843)) >= (1)) && ((OLDDOG_MEATBUG) == (FALSE))) {
        INFO_ADDCHOICE(73142, "(Give insect meat)", 73156);
    };
}

func int DIA_OLDDOG_CHOOSEFOOD_FULLPOINTS() {
    if ((OLDDOG_POINTS) >= (6)) {
        if ((OLDDOG_HAPPYDOGLOG) == (FALSE)) {
            AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_HAPPYDOG);
            OLDDOG_HAPPYDOGLOG = TRUE;
            INFO_CLEARCHOICES(73142);
        };
    };
    if ((OLDDOG_COUNTER) == (2)) {
        DIA_OLDDOG_DOGISFULL();
    };
    DIA_OLDDOG_CHOOSEFOOD_CHOICES();
    return 0 /* !broken stack! */;
}

instance DIA_OLDDOG_CHOOSEFOOD(C_INFO) {
    NPC = 53064;
    NR = 1;
    CONDITION = DIA_OLDDOG_CHOOSEFOOD_CONDITION;
    INFORMATION = DIA_OLDDOG_CHOOSEFOOD_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Let's think, what will you like? (Give food)";
}

func int DIA_OLDDOG_CHOOSEFOOD_CONDITION() {
    if ((LOG_GETSTATUS(MIS_SQ231)) == (LOG_RUNNING)) {
        if ((OLDDOG_POINTS) < (6)) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func int DIA_OLDDOG_CHOOSEFOOD_EATING() {
    AI_PLAYANI(SELF, "R_ROAM2");
    return 0 /* !broken stack! */;
}

func void DIA_OLDDOG_CHOOSEFOOD_INFO() {
    if ((OLDDOG_COUNTER) == (2)) {
        DIA_OLDDOG_DOGISFULL();
        INFO_CLEARCHOICES(73142);
        AI_STOPPROCESSINFOS(OTHER);
    };
    AI_OUTPUT(OTHER, SELF, "DIA_OldDog_ChooseFood_15_02");
    DIA_OLDDOG_CHOOSEFOOD_CHOICES();
}

func void DIA_OLDDOG_CHOOSEFOOD_BACK() {
    AI_OUTPUT(OTHER, SELF, "DIA_OldDog_ChooseFood_Back_15_01");
    AI_WAITTILLEND(SELF, OTHER);
    INFO_CLEARCHOICES(73142);
    AI_STOPPROCESSINFOS(SELF);
}

func void DIA_OLDDOG_ADDPOINTS() {
    B_STANDUP();
    DIA_OLDDOG_WOOF_DIALOGUE();
    OLDDOG_POINTS = (OLDDOG_POINTS) + (1);
    OLDDOG_COUNTER = (OLDDOG_COUNTER) + (1);
    DIA_OLDDOG_CHOOSEFOOD_FULLPOINTS();
}

func void DIA_OLDDOG_GOBBOBONE() {
    if ((OLDDOG_GOBBOBONE) == (FALSE)) {
        OLDDOG_GOBBOBONE = TRUE;
        B_GIVEPLAYERXP(XP_SQ231_NEWFOOD);
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_GOBBOBONE);
    };
    NPC_REMOVEINVITEM(SELF, 33874);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 33874, 1);
}

func void DIA_OLDDOG_FISH() {
    if ((OLDDOG_FISH) == (FALSE)) {
        B_GIVEPLAYERXP(XP_SQ231_NEWFOOD);
        OLDDOG_FISH = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_FISH);
    };
    NPC_REMOVEINVITEM(SELF, 33972);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 33972, 1);
}

func void DIA_OLDDOG_BACON() {
    if ((OLDDOG_BACON) == (FALSE)) {
        B_GIVEPLAYERXP(XP_SQ231_NEWFOOD);
        OLDDOG_BACON = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_BACON);
    };
    NPC_REMOVEINVITEM(SELF, 33968);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 33968, 1);
}

func void DIA_OLDDOG_SAUSAGE() {
    OLDDOG_POINTS = (OLDDOG_POINTS) + (1);
    if ((OLDDOG_SAUSAGE) == (FALSE)) {
        B_GIVEPLAYERXP((2) * (XP_SQ231_NEWFOOD));
        OLDDOG_SAUSAGE = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_SAUSAGE);
    };
    NPC_REMOVEINVITEM(SELF, 33978);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 33978, 1);
}

func void DIA_OLDDOG_ROASTEDRATMEAT() {
    if ((OLDDOG_ROASTEDRATMEAT) == (FALSE)) {
        B_GIVEPLAYERXP(XP_SQ231_NEWFOOD);
        OLDDOG_ROASTEDRATMEAT = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_ROASTEDRATMEAT);
    };
    NPC_REMOVEINVITEM(SELF, 36405);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 36405, 1);
}

func void DIA_OLDDOG_SKELETONBONE() {
    AI_PLAYANIBS(SELF, T_WARN, BS_STAND);
    if ((OLDDOG_SKELETONBONE) == (FALSE)) {
        OLDDOG_SKELETONBONE = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_SKELETONBONE);
    };
}

func void DIA_OLDDOG_ROTTENFISH() {
    AI_PLAYANIBS(SELF, T_WARN, BS_STAND);
    if ((OLDDOG_ROTTENFISH) == (FALSE)) {
        OLDDOG_ROTTENFISH = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_ROTTENFISH);
    };
}

func void DIA_OLDDOG_RATMEATRAW() {
    AI_PLAYANIBS(SELF, T_WARN, BS_STAND);
    if ((OLDDOG_RATMEATRAW) == (FALSE)) {
        OLDDOG_RATMEATRAW = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_RATMEATRAW);
    };
}

func void DIA_OLDDOG_MEATBUG() {
    AI_PLAYANIBS(SELF, T_WARN, BS_STAND);
    if ((OLDDOG_MEATBUG) == (FALSE)) {
        OLDDOG_MEATBUG = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_MEATBUG);
    };
}

func void DIA_OLDDOG_MEATBUG_FRIED() {
    AI_PLAYANIBS(SELF, T_WARN, BS_STAND);
    if ((OLDDOG_MEATBUG_FRIED) == (FALSE)) {
        OLDDOG_MEATBUG_FRIED = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_MEATBUG_FRIED);
    };
}

func void DIA_OLDDOG_WOLF_RAW() {
    AI_PLAYANIBS(SELF, T_WARN, BS_STAND);
    if ((OLDDOG_WOLFRAWMEAT) == (FALSE)) {
        OLDDOG_WOLFRAWMEAT = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_WOLFMEAT_RAW);
    };
}

func void DIA_OLDDOG_WOLF() {
    AI_PLAYANIBS(SELF, T_WARN, BS_STAND);
    if ((OLDDOG_WOLFMEAT) == (FALSE)) {
        OLDDOG_WOLFMEAT = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_WOLFMEAT);
    };
}

func void DIA_OLDDOG_CRAB_RAW() {
    AI_PLAYANIBS(SELF, T_WARN, BS_STAND);
    if ((OLDDOG_CRABRAWMEAT) == (FALSE)) {
        OLDDOG_CRABRAWMEAT = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_CRABMEAT_RAW);
    };
}

func void DIA_OLDDOG_CRAB() {
    var int OLDDOG_CRABMEAT;
    if ((OLDDOG_CRABMEAT) == (FALSE)) {
        B_GIVEPLAYERXP(XP_SQ231_NEWFOOD);
        OLDDOG_CRABMEAT = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_CRABMEAT);
    };
    NPC_REMOVEINVITEM(SELF, 36441);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 36441, 1);
}

func void DIA_OLDDOG_BEAR_RAW() {
    var int OLDDOG_BEARMEAT_RAW;
    if ((OLDDOG_BEARMEAT_RAW) == (FALSE)) {
        B_GIVEPLAYERXP(XP_SQ231_NEWFOOD);
        OLDDOG_BEARMEAT_RAW = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_BEARMEAT_RAW);
    };
    NPC_REMOVEINVITEM(SELF, 36435);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 36435, 1);
}

func void DIA_OLDDOG_BEAR() {
    var int OLDDOG_BEARMEAT;
    OLDDOG_POINTS = (OLDDOG_POINTS) + (1);
    if ((OLDDOG_BEARMEAT) == (FALSE)) {
        B_GIVEPLAYERXP(XP_SQ231_NEWFOOD);
        OLDDOG_BEARMEAT = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_BEARMEAT);
    };
    NPC_REMOVEINVITEM(SELF, 36437);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 36437, 1);
}

func void DIA_OLDDOG_TROLLMEAT_RAW() {
    var int OLDDOG_TROLLMEAT_RAW;
    if ((OLDDOG_TROLLMEAT_RAW) == (FALSE)) {
        B_GIVEPLAYERXP(XP_SQ231_NEWFOOD);
        OLDDOG_TROLLMEAT_RAW = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_TROLLMEAT_RAW);
    };
    NPC_REMOVEINVITEM(SELF, 36431);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 36431, 1);
}

func void DIA_OLDDOG_TROLLMEAT() {
    var int OLDDOG_TROLLMEAT;
    OLDDOG_POINTS = (OLDDOG_POINTS) + (1);
    if ((OLDDOG_TROLLMEAT) == (FALSE)) {
        B_GIVEPLAYERXP(XP_SQ231_NEWFOOD);
        OLDDOG_TROLLMEAT = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_TROLLMEAT);
    };
    NPC_REMOVEINVITEM(SELF, 36433);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 36433, 1);
}

func void DIA_OLDDOG_SCAVENGERMEAT_RAW() {
    var int OLDDOG_SCAVENGERMEAT_RAW;
    if ((OLDDOG_SCAVENGERMEAT_RAW) == (FALSE)) {
        B_GIVEPLAYERXP(XP_SQ231_NEWFOOD);
        OLDDOG_SCAVENGERMEAT_RAW = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_SCAVENGERMEAT_RAW);
    };
    NPC_REMOVEINVITEM(SELF, 36427);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 36427, 1);
}

func void DIA_OLDDOG_SCAVENGERMEAT() {
    var int OLDDOG_SCAVENGERMEAT;
    if ((OLDDOG_SCAVENGERMEAT) == (FALSE)) {
        B_GIVEPLAYERXP(XP_SQ231_NEWFOOD);
        OLDDOG_SCAVENGERMEAT = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_SCAVENGERMEAT);
    };
    NPC_REMOVEINVITEM(SELF, 36429);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 36429, 1);
}

func void DIA_OLDDOG_SHADOWMEAT_RAW() {
    AI_PLAYANIBS(SELF, T_WARN, BS_STAND);
    if ((OLDDOG_SHADOWRAWMEAT) == (FALSE)) {
        OLDDOG_SHADOWRAWMEAT = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_SHADOWMEAT_RAW);
    };
}

func void DIA_OLDDOG_SHADOWMEAT() {
    var int OLDDOG_SHADOWMEAT;
    if ((OLDDOG_SHADOWMEAT) == (FALSE)) {
        B_GIVEPLAYERXP(XP_SQ231_NEWFOOD);
        OLDDOG_SHADOWMEAT = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_SHADOWMEAT);
    };
    NPC_REMOVEINVITEM(SELF, 36425);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 36425, 1);
}

func void DIA_OLDDOG_MOLERATMEAT_RAW() {
    var int OLDDOG_MOLERATMEAT_RAW;
    if ((OLDDOG_MOLERATMEAT_RAW) == (FALSE)) {
        B_GIVEPLAYERXP(XP_SQ231_NEWFOOD);
        OLDDOG_MOLERATMEAT_RAW = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_MOLERATMEAT_RAW);
    };
    NPC_REMOVEINVITEM(SELF, 36415);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 36415, 1);
}

func void DIA_OLDDOG_MOLERATMEAT() {
    var int OLDDOG_MOLERATMEAT;
    if ((OLDDOG_MOLERATMEAT) == (FALSE)) {
        B_GIVEPLAYERXP(XP_SQ231_NEWFOOD);
        OLDDOG_MOLERATMEAT = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_MOLERATMEAT);
    };
    NPC_REMOVEINVITEM(SELF, 36417);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 36417, 1);
}

func void DIA_OLDDOG_SHEEP_RAW() {
    var int OLDDOG_SHEEP_RAW;
    if ((OLDDOG_SHEEP_RAW) == (FALSE)) {
        B_GIVEPLAYERXP(XP_SQ231_NEWFOOD);
        OLDDOG_SHEEP_RAW = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_SHEEP_RAW);
    };
    NPC_REMOVEINVITEM(SELF, 36411);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 36411, 1);
}

func void DIA_OLDDOG_SHEEPFRIED() {
    var int OLDDOG_SHEEPFRIED;
    OLDDOG_POINTS = (OLDDOG_POINTS) + (1);
    if ((OLDDOG_SHEEPFRIED) == (FALSE)) {
        B_GIVEPLAYERXP(XP_SQ231_NEWFOOD);
        OLDDOG_SHEEPFRIED = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_SHEEP);
    };
    NPC_REMOVEINVITEM(SELF, 36413);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 36413, 1);
}

func void DIA_OLDDOG_BOAR_RAW() {
    var int OLDDOG_BOARMEAT_RAW;
    if ((OLDDOG_BOARMEAT_RAW) == (FALSE)) {
        B_GIVEPLAYERXP(XP_SQ231_NEWFOOD);
        OLDDOG_BOARMEAT_RAW = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_BOARMEAT_RAW);
    };
    NPC_REMOVEINVITEM(SELF, 36407);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 36407, 1);
}

func void DIA_OLDDOG_BOAR() {
    var int OLDDOG_BOARMEAT;
    OLDDOG_POINTS = (OLDDOG_POINTS) + (1);
    if ((OLDDOG_BOARMEAT) == (FALSE)) {
        B_GIVEPLAYERXP(XP_SQ231_NEWFOOD);
        OLDDOG_BOARMEAT = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_BOARMEAT);
    };
    NPC_REMOVEINVITEM(SELF, 36409);
    DIA_OLDDOG_ADDPOINTS();
    B_GIVEINVITEMS(OTHER, SELF, 36409, 1);
}

instance DIA_OLDDOG_PET(C_INFO) {
    NPC = 53064;
    NR = 1;
    CONDITION = DIA_OLDDOG_PET_CONDITION;
    INFORMATION = DIA_OLDDOG_PET_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_PET;
}

func int DIA_OLDDOG_PET_CONDITION() {
    if ((OLDDOG_HAPPYDOGLOG) == (TRUE)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_OLDDOG_PET_INFO() {
    GAMESERVICES_UNLOCKACHIEVEMENT(ACH_30);
    if ((OLDDOG_QUESTFINISHLOG) == (FALSE)) {
        B_GIVEPLAYERXP(XP_SQ231_FINISH);
        OLDDOG_QUESTFINISHLOG = TRUE;
        AI_LOGENTRY(TOPIC_SQ231, LOG_SQ231_FINISH);
        LOG_SETSTATUS(_@(MIS_SQ231), TOPIC_SQ231, LOG_SUCCESS);
    };
    AI_STOPLOOKAT(SELF);
    AI_STOPLOOKAT(OTHER);
    AI_WAITTILLEND(OTHER, SELF);
    AI_WAITTILLEND(SELF, OTHER);
    AI_STANDUP(SELF);
    AI_PLAYANIBS(SELF, T_SIT_2_STAND, BS_STAND);
    AI_TURNTONPC(SELF, OTHER);
    AI_WAITTILLEND(OTHER, SELF);
    AI_TURNTONPC(OTHER, SELF);
    AI_SETWALKMODE(SELF, NPC_WALK);
    AI_GOTONPC(SELF, OTHER);
    AI_WAIT(SELF, 1036831949);
    AI_PLAYANIBS(SELF, "T_READYTOPET", BS_SIT);
    AI_WAITTILLEND(SELF, OTHER);
    AI_WAITTILLEND(OTHER, SELF);
    AI_PLAYANI(SELF, "T_PET_START");
    AI_SETWALKMODE(OTHER, NPC_WALK);
    AI_GOTONPC(OTHER, SELF);
    AI_PLAYANI(OTHER, "T_PET_START");
    AI_FUNCTION(SELF, 73193);
    INFO_CLEARCHOICES(73190);
    INFO_ADDCHOICE(73190, DIALOG_FINISH, 73194);
}

func void OLDDOG_APPLYMDS() {
    MDL_APPLYOVERLAYMDS(HERO, "Humans_PetDog.mds");
}

func void DIA_OLDDOG_PET_STOP() {
    AI_PLAYANI(OTHER, "T_PET_REMVOE");
    AI_FUNCTION(OTHER, 73195);
    INFO_CLEARCHOICES(73190);
    AI_WAITTILLEND(SELF, OTHER);
    AI_PLAYANIBS(SELF, "T_UNREADYTOPET", BS_STAND);
    AI_WAIT(OTHER, 1045220557);
    AI_STOPPROCESSINFOS(OTHER);
}

func void OLDDOG_REMOVEMDS() {
    MDL_REMOVEOVERLAYMDS(HERO, "Humans_PetDog.mds");
}

