func void EVENTSMANAGER_Q311() {
    if ((LOG_GETSTATUS(MIS_Q311)) != (LOG_RUNNING)) {
        return;
    };
    if (NPC_KNOWSINFO(HERO, 76253)) {
        if ((Q311_TAVERNCUTSCENE) == (0)) {
            if ((NPC_GETDISTTOWP(HERO, "PARTM4_TAVERN_05")) <= (450)) {
                Q311_TAVERNCUTSCENE = 1;
                HERO.AIVAR[4] = TRUE;
                FF_APPLYONCEEXT(63765, 75, 4);
            };
        };
    };
    if (((((Q311_PROPAGANDIST02FLEE) == (FALSE)) && (NPC_HASGUILDARMOREQUIPPED(HERO, GIL_MIL))) && ((NPC_GETDISTTONPC(HERO, VLK_6416_PROPAGANDIST)) <= (750))) && (!(NPC_KNOWSINFO(HERO, 76539)))) {
        Q311_PROPAGANDISTRUNAWAY_V1();
        AI_OUTPUT(VLK_6416_PROPAGANDIST, HERO, "DIA_Propagandist_Talk02_03_01");
        Q311_PROPAGANDISTCOUNT = (Q311_PROPAGANDISTCOUNT) + (1);
    };
    if ((((Q311_PROPAGANDIST02FLEE) == (TRUE)) && ((NPC_GETDISTTOWP(VLK_6416_PROPAGANDIST, "PARTM1_PATH_95")) <= (500))) && ((NPC_ISINSTATE(VLK_6416_PROPAGANDIST, 61599)) == (FALSE))) {
        VLK_6416_PROPAGANDIST.AIVAR[15] = FALSE;
        Q311_PROPAGANDIST02FLEE = 2;
        B_STARTOTHERROUTINE(VLK_6416_PROPAGANDIST, "SCARED");
        NPC_REFRESH(VLK_6416_PROPAGANDIST);
        PRINTD("Agitator 02 zmieni³ RTN!");
    };
}

