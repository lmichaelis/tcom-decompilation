instance Q305_BECKETTISBACK(CUTSCENE) {
    ONSTART = FUNCTION(92466);
}

func void Q305_BECKETTISBACK_WAIT() {
    AI_WAITTILLEND(PIR_6330_CAPTAIN_ARCHOLOS, PIR_1308_SIMON);
    AI_WAITTILLEND(PIR_1308_SIMON, PIR_6330_CAPTAIN_ARCHOLOS);
}

func void Q305_BECKETTISBACK_START() {
    WLD_SENDTRIGGER("KM_PIRATESMALLTALK");
    TELEPORTNPCTOWP(51488, "P17_HAVEN_SMALLTALK_01");
    TELEPORTNPCTOWP(58703, "P17_HAVEN_SMALLTALK_02");
    NPC_CLEARAIQUEUE(PIR_6330_CAPTAIN_ARCHOLOS);
    NPC_CLEARAIQUEUE(PIR_1308_SIMON);
    PIR_6330_CAPTAIN_ARCHOLOS.AIVAR[92] = TRUE;
    PIR_1308_SIMON.AIVAR[92] = TRUE;
    B_TURNTONPC(PIR_6330_CAPTAIN_ARCHOLOS, PIR_1308_SIMON);
    B_TURNTONPC(PIR_1308_SIMON, PIR_6330_CAPTAIN_ARCHOLOS);
    AI_STARTFACEANI(PIR_6330_CAPTAIN_ARCHOLOS, S_ANGRY, 1, -(1));
    AI_STARTFACEANI(PIR_1308_SIMON, S_ANGRY, 1, -(1));
    Q305_BECKETTISBACK_WAIT();
    AI_OUTPUT(PIR_1308_SIMON, HERO, "DIA_Simon_Q305_Cutscene_03_01");
    Q305_BECKETTISBACK_WAIT();
    AI_OUTPUT(PIR_6330_CAPTAIN_ARCHOLOS, HERO, "DIA_Beckett_Q305_Cutscene_03_02");
    Q305_BECKETTISBACK_WAIT();
    AI_OUTPUT(PIR_1308_SIMON, HERO, "DIA_Simon_Q305_Cutscene_03_03");
    Q305_BECKETTISBACK_WAIT();
    AI_OUTPUT(PIR_6330_CAPTAIN_ARCHOLOS, HERO, "DIA_Beckett_Q305_Cutscene_03_04");
    Q305_BECKETTISBACK_WAIT();
    AI_OUTPUT(PIR_1308_SIMON, HERO, "DIA_Simon_Q305_Cutscene_03_05");
    Q305_BECKETTISBACK_WAIT();
    AI_RESETFACEANI(PIR_6330_CAPTAIN_ARCHOLOS);
    AI_RESETFACEANI(PIR_1308_SIMON);
    AI_FUNCTION(PIR_6330_CAPTAIN_ARCHOLOS, 60935);
}

