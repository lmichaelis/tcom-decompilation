func void ZS_GUIDE_PLAYER_NOIQ() {
    PERCEPTION_SET_NONE();
    B_RESETALL(SELF);
    SELF.SENSES = ((SENSE_SEE) | (SENSE_HEAR)) | (SENSE_SMELL);
    SELF.SENSES_RANGE = 2000;
    NPC_SETPERCTIME(SELF, 1065353216);
    NPC_PERCENABLE(SELF, PERC_ASSESSPLAYER, 46074);
    NPC_PERCENABLE(SELF, PERC_ASSESSTALK, 41645);
    NPC_PERCENABLE(SELF, PERC_MOVEMOB, 41654);
}

func int ZS_GUIDE_PLAYER_NOIQ_LOOP() {
    if (((NPC_GETDISTTONPC(SELF, HERO)) > (800)) && ((NPC_GETDISTTOWP(SELF, SELF.WP)) < (NPC_GETDISTTOWP(HERO, SELF.WP)))) {
        B_ASSESSGUIDEPLAYER();
    };
    if ((NPC_GETDISTTOWP(SELF, SELF.WP)) > (300)) {
        if (!(C_BODYSTATECONTAINS(SELF, BS_SWIM))) {
            AI_SETWALKMODE(SELF, NPC_RUN);
        };
        AI_GOTOWP(SELF, SELF.WP);
    };
    B_TURNTONPC(SELF, HERO);
    return LOOP_CONTINUE;
}

func int ZS_GUIDE_PLAYER_NOIQ_END() {
    return 0 /* !broken stack! */;
}

func void ZS_GUIDE_PLAYER_NOSOUND() {
    NPC_PERCENABLE(SELF, PERC_ASSESSPLAYER, 46074);
    NPC_PERCENABLE(SELF, PERC_ASSESSENEMY, 41633);
    NPC_PERCENABLE(SELF, PERC_ASSESSMAGIC, 43309);
    NPC_PERCENABLE(SELF, PERC_ASSESSDAMAGE, 41635);
    NPC_PERCENABLE(SELF, PERC_ASSESSMURDER, 41642);
    NPC_PERCENABLE(SELF, PERC_ASSESSTHEFT, 41649);
    NPC_PERCENABLE(SELF, PERC_ASSESSUSEMOB, 41651);
    NPC_PERCENABLE(SELF, PERC_ASSESSENTERROOM, 41639);
    NPC_PERCENABLE(SELF, PERC_ASSESSTALK, 41645);
    NPC_PERCENABLE(SELF, PERC_MOVEMOB, 41654);
    NPC_PERCENABLE(SELF, PERC_ASSESSWARN, 41653);
    NPC_PERCENABLE(SELF, PERC_ASSESSTHREAT, 41650);
    B_RESETALL(SELF);
    SELF.SENSES = ((SENSE_SEE) | (SENSE_HEAR)) | (SENSE_SMELL);
    SELF.SENSES_RANGE = 2000;
    NPC_SETPERCTIME(SELF, 1065353216);
}

func int ZS_GUIDE_PLAYER_NOSOUND_LOOP() {
    if (((NPC_GETDISTTONPC(SELF, HERO)) > (800)) && ((NPC_GETDISTTOWP(SELF, SELF.WP)) < (NPC_GETDISTTOWP(HERO, SELF.WP)))) {
        B_ASSESSGUIDEPLAYER();
    };
    if ((NPC_GETDISTTOWP(SELF, SELF.WP)) > (300)) {
        if (!(C_BODYSTATECONTAINS(SELF, BS_SWIM))) {
            AI_SETWALKMODE(SELF, NPC_RUN);
        };
        AI_GOTOWP(SELF, SELF.WP);
    };
    B_TURNTONPC(SELF, HERO);
    return LOOP_CONTINUE;
}

func int ZS_GUIDE_PLAYER_NOSOUND_END() {
    return 0 /* !broken stack! */;
}

func void ZS_GUIDE_PLAYER_BLIND() {
    NPC_PERCENABLE(SELF, PERC_ASSESSPLAYER, 46074);
    NPC_PERCENABLE(SELF, PERC_ASSESSMAGIC, 43309);
    NPC_PERCENABLE(SELF, PERC_ASSESSDAMAGE, 41635);
    NPC_PERCENABLE(SELF, PERC_ASSESSMURDER, 41642);
    NPC_PERCENABLE(SELF, PERC_ASSESSTHEFT, 41649);
    NPC_PERCENABLE(SELF, PERC_ASSESSUSEMOB, 41651);
    NPC_PERCENABLE(SELF, PERC_ASSESSENTERROOM, 41639);
    NPC_PERCENABLE(SELF, PERC_ASSESSTALK, 41645);
    NPC_PERCENABLE(SELF, PERC_MOVEMOB, 41654);
    NPC_PERCENABLE(SELF, PERC_ASSESSWARN, 41653);
    NPC_PERCENABLE(SELF, PERC_ASSESSTHREAT, 41650);
    B_RESETALL(SELF);
    SELF.SENSES = ((SENSE_SEE) | (SENSE_HEAR)) | (SENSE_SMELL);
    SELF.SENSES_RANGE = 2000;
    NPC_SETPERCTIME(SELF, 1065353216);
}

func int ZS_GUIDE_PLAYER_BLIND_LOOP() {
    if (((NPC_GETDISTTONPC(SELF, HERO)) > (800)) && ((NPC_GETDISTTOWP(SELF, SELF.WP)) < (NPC_GETDISTTOWP(HERO, SELF.WP)))) {
        B_ASSESSGUIDEPLAYER();
    };
    if ((NPC_GETDISTTOWP(SELF, SELF.WP)) > (300)) {
        if (!(C_BODYSTATECONTAINS(SELF, BS_SWIM))) {
            AI_SETWALKMODE(SELF, NPC_RUN);
        };
        AI_GOTOWP(SELF, SELF.WP);
    };
    B_TURNTONPC(SELF, HERO);
    return LOOP_CONTINUE;
}

func int ZS_GUIDE_PLAYER_BLIND_END() {
    return 0 /* !broken stack! */;
}

