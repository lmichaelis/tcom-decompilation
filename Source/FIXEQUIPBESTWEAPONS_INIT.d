func void FIXEQUIPBESTWEAPONS_INIT() {
    var int NOP20BYTES;
    MEMORYPROTECTIONOVERRIDE(OCNPC__ENABLE_EQUIPBESTWEAPONS, 18);
    MEM_COPYBYTES(_@(NOP20BYTES[0]), OCNPC__ENABLE_EQUIPBESTWEAPONS, 18);
    HOOKENGINEF(OCNPC__ENABLE_EQUIPBESTWEAPONS, 5, 20634);
}

func void NPCEQUIPBESTWEAPONBYTYPE(var C_NPC NPC, var int TYPE) {
    var int CALL;
    var int NPCPTR;
    NPCPTR = _@(20630);
    if (CALL_BEGIN(CALL)) {
        CALL_INTPARAM(_@(TYPE));
        CALL__THISCALL(_@(NPCPTR), OCNPC__EQUIPBESTWEAPON);
        CALL = CALL_END();
    };
}

func void _FIXEQUIPBESTWEAPONS() {
    var C_NPC NPC;
    NPC = _^(ESI);
    if ((NPC.FLAGS) == (2)) {
        return;
    };
    NPCEQUIPBESTWEAPONBYTYPE(NPC, ITEM_KAT_NF);
    NPCEQUIPBESTWEAPONBYTYPE(NPC, ITEM_KAT_FF);
}

