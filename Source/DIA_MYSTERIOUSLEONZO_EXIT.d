instance DIA_MYSTERIOUSLEONZO_EXIT(C_INFO) {
    NPC = 53110;
    NR = 999;
    CONDITION = DIA_MYSTERIOUSLEONZO_EXIT_CONDITION;
    INFORMATION = DIA_MYSTERIOUSLEONZO_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_MYSTERIOUSLEONZO_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_MYSTERIOUSLEONZO_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_MYSTERIOUSLEONZO_MYSTERY(C_INFO) {
    NPC = 53110;
    NR = 1;
    CONDITION = DIA_MYSTERIOUSLEONZO_MYSTERY_CONDITION;
    INFORMATION = DIA_MYSTERIOUSLEONZO_MYSTERY_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_MYSTERIOUSLEONZO_MYSTERY_CONDITION() {
    return TRUE;
}

func void DIA_MYSTERIOUSLEONZO_MYSTERY_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_Mystery_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_Mystery_03_02");
}

instance DIA_MYSTERIOUSLEONZO_WHATSUP(C_INFO) {
    NPC = 53110;
    NR = 2;
    CONDITION = DIA_MYSTERIOUSLEONZO_WHATSUP_CONDITION;
    INFORMATION = DIA_MYSTERIOUSLEONZO_WHATSUP_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "What's the matter?";
}

func int DIA_MYSTERIOUSLEONZO_WHATSUP_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 72049)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_MYSTERIOUSLEONZO_WHATSUP_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_MysteriousLeonzo_WhatsUp_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_WhatsUp_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_WhatsUp_03_03");
    AI_OUTPUT(OTHER, SELF, "DIA_MysteriousLeonzo_WhatsUp_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_WhatsUp_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_WhatsUp_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_WhatsUp_03_07");
}

instance DIA_MYSTERIOUSLEONZO_ADVENTUREQUEST(C_INFO) {
    NPC = 53110;
    NR = 3;
    CONDITION = DIA_MYSTERIOUSLEONZO_ADVENTUREQUEST_CONDITION;
    INFORMATION = DIA_MYSTERIOUSLEONZO_ADVENTUREQUEST_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I'll keep an eye on your book.";
}

func int DIA_MYSTERIOUSLEONZO_ADVENTUREQUEST_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 72052)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_MYSTERIOUSLEONZO_ADVENTUREQUEST_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_MysteriousLeonzo_AdventureQuest_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_AdventureQuest_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_AdventureQuest_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_AdventureQuest_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_AdventureQuest_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_AdventureQuest_03_06");
    MYSTERIOUSLEONZO_DAY = WLD_GETDAY();
    NPC_EXCHANGEROUTINE(SELF, "LEANTOT");
    CREATEINVITEMS(SELF, 39847, 1);
    B_GIVEINVITEMS(SELF, OTHER, 39847, 1);
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_MYSTERIOUSLEONZO_AMBIENTTALK1(C_INFO) {
    NPC = 53110;
    NR = 4;
    CONDITION = DIA_MYSTERIOUSLEONZO_AMBIENTTALK1_CONDITION;
    INFORMATION = DIA_MYSTERIOUSLEONZO_AMBIENTTALK1_INFO;
    PERMANENT = TRUE;
    IMPORTANT = TRUE;
}

func int DIA_MYSTERIOUSLEONZO_AMBIENTTALK1_CONDITION() {
    if (((NPC_KNOWSINFO(OTHER, 72055)) && (NPC_ISINSTATE(SELF, 61599))) && ((NPC_GETDISTTOWP(VLK_11156_MYSTERIOUSLEONZO, RNG_NS03_WAYPOINT)) <= (6500))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_MYSTERIOUSLEONZO_AMBIENTTALK1_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_AmbientTalk1_03_01");
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_MYSTERIOUSLEONZO_HELLOAGAIN(C_INFO) {
    NPC = 53110;
    NR = 5;
    CONDITION = DIA_MYSTERIOUSLEONZO_HELLOAGAIN_CONDITION;
    INFORMATION = DIA_MYSTERIOUSLEONZO_HELLOAGAIN_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_MYSTERIOUSLEONZO_HELLOAGAIN_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 72055)) && ((MYSTERIOUSLEONZO_DAY) <= ((WLD_GETDAY()) - (3)))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_MYSTERIOUSLEONZO_HELLOAGAIN_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_HelloAgain_03_01");
}

instance DIA_MYSTERIOUSLEONZO_BOOK(C_INFO) {
    NPC = 53110;
    NR = 6;
    CONDITION = DIA_MYSTERIOUSLEONZO_BOOK_CONDITION;
    INFORMATION = DIA_MYSTERIOUSLEONZO_BOOK_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Here's your book.";
}

func int DIA_MYSTERIOUSLEONZO_BOOK_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 72061)) && ((NPC_HASITEMS(OTHER, 39847)) >= (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_MYSTERIOUSLEONZO_BOOK_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_MysteriousLeonzo_Book_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_Book_03_02");
    B_GIVEINVITEMS(OTHER, SELF, 39847, 1);
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_Book_03_03");
    CREATEINVITEMS(SELF, 34203, EVENT_MYSTERIOUSLEONZO_BOOK);
    B_GIVEINVITEMS(SELF, OTHER, 34203, EVENT_MYSTERIOUSLEONZO_BOOK);
    B_GIVEPLAYERXP(XP_EVENT_MYSTERIOUSLEONZO);
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_Book_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_Book_03_05");
    NPC_EXCHANGEROUTINE(SELF, TOT);
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_MYSTERIOUSLEONZO_WTF(C_INFO) {
    NPC = 53110;
    NR = 7;
    CONDITION = DIA_MYSTERIOUSLEONZO_WTF_CONDITION;
    INFORMATION = DIA_MYSTERIOUSLEONZO_WTF_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Am I not due a word of explanation after all this?";
}

func int DIA_MYSTERIOUSLEONZO_WTF_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 72064)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_MYSTERIOUSLEONZO_WTF_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_MysteriousLeonzo_WTF_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_WTF_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_WTF_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_WTF_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_MysteriousLeonzo_WTF_03_05");
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_LEONZO_MYBROTHER(C_INFO) {
    NPC = 53110;
    NR = 2;
    CONDITION = DIA_LEONZO_MYBROTHER_CONDITION;
    INFORMATION = DIA_LEONZO_MYBROTHER_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Who are you?";
}

func int DIA_LEONZO_MYBROTHER_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 72049)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_LEONZO_MYBROTHER_INFO() {
    B_SAY(OTHER, SELF, "$MARVIN_WhoAreYou");
    AI_OUTPUT(SELF, OTHER, "DIA_Leonzo_MyBrother_03_02");
}

