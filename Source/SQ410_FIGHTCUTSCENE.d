instance SQ410_FIGHTCUTSCENE(CUTSCENE) {
    ONSTART = FUNCTION(92964);
}

func void SQ410_FIGHTCUTSCENE_WAIT() {
    AI_WAITTILLEND(HERO, BAU_702_VIKTOR);
    AI_WAITTILLEND(HERO, MIL_6318_LUTZ);
    AI_WAITTILLEND(BAU_702_VIKTOR, HERO);
    AI_WAITTILLEND(BAU_702_VIKTOR, MIL_6318_LUTZ);
    AI_WAITTILLEND(MIL_6318_LUTZ, HERO);
    AI_WAITTILLEND(MIL_6318_LUTZ, BAU_702_VIKTOR);
}

func void SQ410_FIGHTCUTSCENE_START() {
    WLD_SENDTRIGGER("SQ410_FIGHT_01");
    TELEPORTNPCTOWP(1819, "VILLAGE_CHAIR_05");
    TELEPORTNPCTOWP(57528, BAU_702_VIKTOR.WP);
    TELEPORTNPCTOWP(52420, MIL_6318_LUTZ.WP);
    NPC_CLEARAIQUEUE(BAU_702_VIKTOR);
    NPC_CLEARAIQUEUE(MIL_6318_LUTZ);
    BAU_702_VIKTOR.AIVAR[92] = TRUE;
    MIL_6318_LUTZ.AIVAR[92] = TRUE;
    BAU_702_VIKTOR.FIGHT_TACTIC = FAI_HUMAN_NOJUMP;
    MIL_6318_LUTZ.FIGHT_TACTIC = FAI_HUMAN_NOJUMP;
    B_TURNTONPC(BAU_702_VIKTOR, MIL_6318_LUTZ);
    B_TURNTONPC(MIL_6318_LUTZ, BAU_702_VIKTOR);
    B_TURNTONPC(HERO, BAU_702_VIKTOR);
    SQ410_FIGHTCUTSCENE_WAIT();
    AI_STARTFACEANI(BAU_702_VIKTOR, "S_HOSTILE", 1, -(1));
    AI_STARTFACEANI(MIL_6318_LUTZ, S_ANGRY, 1, -(1));
    AI_OUTPUT(MIL_6318_LUTZ, HERO, "DIA_Lutz_SQ410_Cutscene_03_01");
    SQ410_FIGHTCUTSCENE_WAIT();
    AI_FUNCTION(BAU_702_VIKTOR, 92966);
    AI_OUTPUT(BAU_702_VIKTOR, HERO, "DIA_Viktor_SQ410_Cutscene_03_02");
    SQ410_FIGHTCUTSCENE_WAIT();
    AI_OUTPUT(MIL_6318_LUTZ, HERO, "DIA_Lutz_SQ410_Cutscene_03_03");
    SQ410_FIGHTCUTSCENE_WAIT();
    AI_OUTPUT(BAU_702_VIKTOR, HERO, "DIA_Viktor_SQ410_Cutscene_03_04");
    SQ410_FIGHTCUTSCENE_WAIT();
    AI_FUNCTION(BAU_702_VIKTOR, 92965);
}

func void SQ410_FIGHTCUTSCENE_END() {
    WLD_SENDTRIGGER("SQ410_FIGHT_03");
    WLD_SENDUNTRIGGER("SQ410_FIGHT_01");
    WLD_SENDUNTRIGGER("SQ410_FIGHT_02");
    B_STARTOTHERROUTINE(BAU_702_VIKTOR, "SQ410_FIGHT");
    SQ410_VIKTOR_RTNCHECK = 3;
    NPC_REFRESH(BAU_702_VIKTOR);
    BAU_702_VIKTOR.AIVAR[96] = -(1);
    B_STARTOTHERROUTINE(MIL_6318_LUTZ, "SQ410_FIGHT");
    NPC_REFRESH(MIL_6318_LUTZ);
    MIL_6318_LUTZ.FLAGS = 2;
    MDL_APPLYOVERLAYMDS(MIL_6318_LUTZ, "HumanS_Sit_SlavSquat.mds");
    BAU_702_VIKTOR.AIVAR[92] = FALSE;
    MIL_6318_LUTZ.AIVAR[92] = FALSE;
}

func void SQ410_FIGHTCUTSCENE_CAMERA_01() {
    WLD_SENDTRIGGER("SQ410_FIGHT_02");
    WLD_SENDUNTRIGGER("SQ410_FIGHT_01");
}

