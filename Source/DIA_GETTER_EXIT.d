instance DIA_GETTER_EXIT(C_INFO) {
    NPC = 58768;
    NR = 999;
    CONDITION = DIA_GETTER_EXIT_CONDITION;
    INFORMATION = DIA_GETTER_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_GETTER_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_GETTER_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_GETTER_HAVEPURSE(C_INFO) {
    NPC = 58768;
    NR = 1;
    CONDITION = DIA_GETTER_HAVEPURSE_CONDITION;
    INFORMATION = DIA_GETTER_HAVEPURSE_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I hear you're carrying Larry's pouch.";
}

var int GETTER_GOTLARRYPURSE;
func int DIA_GETTER_HAVEPURSE_CONDITION() {
    if (((LOG_GETSTATUS(MIS_SQ303)) == (LOG_RUNNING)) && ((GETTER_GOTLARRYPURSE) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GETTER_STARTDUEL() {
    HERO.AIVAR[95] = TRUE;
    HERO.AIVAR[94] = TRUE;
    SELF.AIVAR[94] = TRUE;
    HERO.AIVAR[96] = 10;
    SELF.AIVAR[96] = 10;
    SELF.AIVAR[45] = AF_RUNNING;
    AI_STOPPROCESSINFOS(SELF);
    B_ATTACK(SELF, HERO, AR_SUDDENENEMYINFERNO, 1);
}

func void DIA_GETTER_SCARED() {
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_GiveMeGold_03_04");
}

func void DIA_GETTER_HAVEPURSE_INFO() {
    CREATEINVITEMS(SELF, 37281, 1);
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_HavePurse_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_HavePurse_13_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_HavePurse_15_03");
    if ((Q302_PLAYERDUELWITHGETTERSTATE) == (2)) {
        GETTER_GOTLARRYPURSE = TRUE;
        DIA_GETTER_SCARED();
        B_GIVEINVITEMS(SELF, OTHER, 37281, 1);
        AI_LOGENTRY(TOPIC_SQ303, LOG_Q302_LARRYPURSE);
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_HavePurse_13_04");
    INFO_CLEARCHOICES(84594);
    INFO_ADDCHOICE(84594, "Nothing, we'll talk about it another time.", 84601);
    INFO_ADDCHOICE(84594, "Give me the pocket or I'll take it myself.", 84602);
}

var int STEALPURSE;
func void DIA_GETTER_HAVEPURSE_LATER() {
    STEALPURSE = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_HavePurse_Later_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_HavePurse_Later_13_02");
    AI_STOPPROCESSINFOS(SELF);
}

func void DIA_GETTER_HAVEPURSE_GIVEIT() {
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_HavePurse_GiveIt_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_HavePurse_GiveIt_13_02");
    DIA_GETTER_STARTDUEL();
}

var int Q302_PLAYERDUELWITHGETTERDAY;
var int Q302_PLAYERDUELWITHGETTERSTATE;
instance DIA_GETTER_HELLO(C_INFO) {
    NPC = 58768;
    NR = 1;
    CONDITION = DIA_GETTER_HELLO_CONDITION;
    INFORMATION = DIA_GETTER_HELLO_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_GETTER_HELLO_CONDITION() {
    if ((((SQ406_GETTER_POTION) != (3)) && ((Q302_PLAYERDUELWITHGETTERSTATE) == (0))) && ((Q306_STATE) == (0))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GETTER_HELLO_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_Hello_13_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_Hello_13_02");
    INFO_CLEARCHOICES(84605);
    INFO_ADDCHOICE(84605, "What do you need gold for?", 84610);
    INFO_ADDCHOICE(84605, "Sorry, you're not getting anything.", 84609);
    INFO_ADDCHOICE(84605, "Sure, why not. Cheers. (Give 20 GP)", 84608);
}

func void DIA_GETTER_HELLO_PAY() {
    INFO_CLEARCHOICES(84605);
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_Hello_Pay_15_01");
    if ((NPC_HASITEMS(OTHER, 34203)) >= (GETTER_WANTSGOLD)) {
        B_GIVEINVITEMS(OTHER, SELF, 34203, GETTER_WANTSGOLD);
        AI_OUTPUT(SELF, OTHER, "DIA_Getter_Hello_Pay_13_01");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_Hello_Pay_13_02");
    Q302_PLAYERDUELWITHGETTERSTATE = 1;
    Q302_PLAYERDUELWITHGETTERDAY = WLD_GETDAY();
}

func void DIA_GETTER_HELLO_WONTGETANYTHING() {
    INFO_CLEARCHOICES(84605);
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_Hello_WontGetAnything_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_Hello_WontGetAnything_13_01");
    DIA_GETTER_STARTDUEL();
}

func void DIA_GETTER_WHYYOUWANTGOLD() {
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_Hello_WhyYouWantGold_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_Hello_WhyYouWantGold_13_01");
    INFO_CLEARCHOICES(84605);
    INFO_ADDCHOICE(84605, "Sorry, you won't be drinking at my expense.", 84611);
    INFO_ADDCHOICE(84605, "Eh, okay, take it.", 84612);
}

func void DIA_GETTER_WHYYOUWANTGOLD_WONTGETANYTHING() {
    INFO_CLEARCHOICES(84605);
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_Hello_WhyYouWantGold_WontGetAnything_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_Hello_WhyYouWantGold_WontGetAnything_13_01");
    DIA_GETTER_STARTDUEL();
}

func void DIA_GETTER_WHYYOUWANTGOLD_PAY() {
    INFO_CLEARCHOICES(84605);
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_Hello_WhyYouWantGold_Pay_15_01");
    if ((NPC_HASITEMS(OTHER, 34203)) >= (GETTER_WANTSGOLD)) {
        B_GIVEINVITEMS(OTHER, SELF, 34203, GETTER_WANTSGOLD);
        AI_OUTPUT(SELF, OTHER, "DIA_Getter_Hello_WhyYouWantGold_Pay_13_01");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_Hello_Pay_13_02");
    Q302_PLAYERDUELWITHGETTERSTATE = 1;
    Q302_PLAYERDUELWITHGETTERDAY = WLD_GETDAY();
}

instance DIA_GETTER_DUELAFTER(C_INFO) {
    NPC = 58768;
    NR = 1;
    CONDITION = DIA_GETTER_DUELAFTER_CONDITION;
    INFORMATION = DIA_GETTER_DUELAFTER_INFO;
    PERMANENT = TRUE;
    IMPORTANT = TRUE;
}

func int DIA_GETTER_DUELAFTER_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q306)) == (LOG_SUCCESS)) && ((KAPITEL) != (4))) {
        return FALSE;
    };
    if (((SELF.AIVAR[64]) == (FALSE)) && ((SELF.AIVAR[0]) != (FIGHT_NONE))) {
        if ((SELF.AIVAR[45]) != (AF_NONE)) {
            return TRUE;
        };
        if (NPC_ISINSTATE(SELF, 61599)) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_GETTER_DUELAFTER_INFO() {
    B_HEALNPC_SELF();
    HERO.AIVAR[95] = FALSE;
    HERO.AIVAR[94] = FALSE;
    SELF.AIVAR[94] = FALSE;
    if ((SELF.AIVAR[0]) == (FIGHT_WON)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Getter_DuelAfter_13_01");
        AI_OUTPUT(SELF, OTHER, "DIA_Getter_DuelAfter_13_02");
        Q302_PLAYERDUELWITHGETTERSTATE = 1;
        Q302_PLAYERDUELWITHGETTERDAY = WLD_GETDAY();
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_DuelAfter_13_03");
    if ((LOG_GETSTATUS(MIS_Q302)) == (LOG_RUNNING)) {
        AI_LOGENTRY(TOPIC_Q302, LOG_Q302_GETTERWEWON);
    };
    Q302_PLAYERDUELWITHGETTERSTATE = 2;
    if ((((B_COUNTDUELSQ302()) > (2)) && ((Q302_PRICEWILLBELOWER_ENTRY) == (FALSE))) && ((LOG_GETSTATUS(MIS_Q302)) == (LOG_RUNNING))) {
        AI_LOGENTRY(TOPIC_Q302, LOG_Q302_THEYKNOWME);
        Q302_PRICEWILLBELOWER_ENTRY = TRUE;
    };
    SELF.AIVAR[45] = AF_NONE;
    SELF.AIVAR[64] = TRUE;
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_GETTER_NEXTDAY(C_INFO) {
    NPC = 58768;
    NR = 1;
    CONDITION = DIA_GETTER_NEXTDAY_CONDITION;
    INFORMATION = DIA_GETTER_NEXTDAY_INFO;
    PERMANENT = TRUE;
    IMPORTANT = TRUE;
}

func int DIA_GETTER_NEXTDAY_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q306)) == (LOG_SUCCESS)) && ((KAPITEL) != (4))) {
        return FALSE;
    };
    if ((Q302_PLAYERDUELWITHGETTERSTATE) == (1)) {
        if ((Q302_PLAYERDUELWITHGETTERDAY) <= ((WLD_GETDAY()) - (1))) {
            if (((SQ406_GETTER_POTION) != (3)) && ((Q306_STATE) == (0))) {
                return TRUE;
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_GETTER_NEXTDAY_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_NextDay_13_01");
    INFO_CLEARCHOICES(84616);
    INFO_ADDCHOICE(84616, "No, it's over.", 84620);
    if ((NPC_HASITEMS(OTHER, 34203)) >= (GETTER_WANTSGOLD)) {
        INFO_ADDCHOICE(84616, "Yes...", 84619);
    };
}

func void DIA_GETTER_NEXTDAY_YES() {
    B_GIVEINVITEMS(OTHER, SELF, 34203, GETTER_WANTSGOLD);
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_NextDay_Yes_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_NextDay_Yes_13_02");
    AI_STOPPROCESSINFOS(SELF);
}

func void DIA_GETTER_NEXTDAY_NO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_NextDay_No_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_NextDay_No_13_02");
    DIA_GETTER_STARTDUEL();
}

instance DIA_GETTER_GIVEMEGOLD(C_INFO) {
    NPC = 58768;
    NR = 100;
    CONDITION = DIA_GETTER_GIVEMEGOLD_CONDITION;
    INFORMATION = DIA_GETTER_GIVEMEGOLD_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "How about it, you got my 20 gold pieces?";
}

func int DIA_GETTER_GIVEMEGOLD_CONDITION() {
    if ((Q302_PLAYERDUELWITHGETTERSTATE) == (2)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GETTER_GIVEMEGOLD_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_GiveMeGold_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_GiveMeGold_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_GiveMeGold_15_03");
    DIA_GETTER_SCARED();
    CREATEINVITEMS(SELF, 34203, GETTER_WANTSGOLD);
    B_GIVEINVITEMS(SELF, OTHER, 34203, GETTER_WANTSGOLD);
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_GETTER_WONFIGHTWITHDAN(C_INFO) {
    NPC = 58768;
    NR = 100;
    CONDITION = DIA_GETTER_WONFIGHTWITHDAN_CONDITION;
    INFORMATION = DIA_GETTER_WONFIGHTWITHDAN_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_GETTER_WONFIGHTWITHDAN_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q306)) == (LOG_SUCCESS)) && ((KAPITEL) != (4))) {
        return FALSE;
    };
    if ((Q302_PLAYERDUELWITHDANSTATE) == (2)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GETTER_WONFIGHTWITHDAN_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_WonFightWithDan_13_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_WonFightWithDan_13_02");
    AI_STOPPROCESSINFOS(SELF);
}

var int STEALPURSEDAY;
instance DIA_GETTER_STEALPURSEAFTERDAY(C_INFO) {
    NPC = 58768;
    NR = 100;
    CONDITION = DIA_GETTER_STEALPURSEAFTERDAY_CONDITION;
    INFORMATION = DIA_GETTER_STEALPURSEAFTERDAY_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_GETTER_STEALPURSEAFTERDAY_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q306)) == (LOG_SUCCESS)) && ((KAPITEL) != (4))) {
        return FALSE;
    };
    if (((STEALPURSE) == (TRUE)) && ((WLD_GETDAY()) > (STEALPURSEDAY))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GETTER_STEALPURSEAFTERDAY_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_StealPurseAfterDay_13_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_StealPurseAfterDay_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_StealPurseAfterDay_13_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_StealPurseAfterDay_15_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_StealPurseAfterDay_13_05");
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_GETTER_SQ406_HUNT(C_INFO) {
    NPC = 58768;
    NR = 1;
    CONDITION = DIA_GETTER_SQ406_HUNT_CONDITION;
    INFORMATION = DIA_GETTER_SQ406_HUNT_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Would you care to stretch your bones? (Lead out)";
}

func int DIA_GETTER_SQ406_HUNT_CONDITION() {
    if ((LOG_GETSTATUS(MIS_SQ406)) == (LOG_RUNNING)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GETTER_SQ406_HUNT_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_SQ406_Hunt_15_01");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_SQ406_Hunt_03_02");
    if ((Q306_TOURNAMENTSTATUS) == (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Getter_SQ406_Hunt_03_03");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_SQ406_Hunt_03_04");
}

instance DIA_GETTER_SQ406_LETSGO(C_INFO) {
    NPC = 58768;
    NR = 1;
    CONDITION = DIA_GETTER_SQ406_LETSGO_CONDITION;
    INFORMATION = DIA_GETTER_SQ406_LETSGO_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Let's go on this hunt.";
}

func int DIA_GETTER_SQ406_LETSGO_CONDITION() {
    if (((LOG_GETSTATUS(MIS_SQ406)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 84631))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GETTER_SQ406_LETSGO_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_SQ406_LetsGo_15_01");
    SELF.AIVAR[15] = TRUE;
    NPC_EXCHANGEROUTINE(SELF, "SQ406_GUIDE");
    AI_STOPPROCESSINFOS(OTHER);
    SQ406_SPAWNMONSTERS();
}

instance DIA_GETTER_SQ406_POTION(C_INFO) {
    NPC = 58768;
    NR = 2;
    CONDITION = DIA_GETTER_SQ406_POTION_CONDITION;
    INFORMATION = DIA_GETTER_SQ406_POTION_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_GETTER_SQ406_POTION_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_SQ406)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 84634))) && ((NPC_GETDISTTOWP(SELF, "PART17_PATH_19")) <= (700))) {
        if ((((NPC_ISDEAD(BLOODFLY_SWAMP_RUNE_SQ406_01)) && (NPC_ISDEAD(BLOODFLY_SWAMP_RUNE_SQ406_02))) && (NPC_ISDEAD(BLOODFLY_SWAMP_RUNE_SQ406_03))) && (NPC_ISDEAD(BLOODFLY_SWAMP_RUNE_SQ406_04))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_GETTER_SQ406_POTION_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_SQ406_Potion_03_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_SQ406_Potion_15_02");
    CREATEINVITEMS(OTHER, 36092, 1);
    B_USEITEM(OTHER, 36092);
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_SQ406_Potion_15_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_SQ406_Potion_03_04");
    INFO_CLEARCHOICES(84637);
    if ((NPC_HASITEMS(OTHER, 37367)) >= (1)) {
        INFO_ADDCHOICE(84637, "(Give strong transformation potion)", 84645);
    };
    if ((NPC_HASITEMS(OTHER, 37366)) >= (1)) {
        INFO_ADDCHOICE(84637, "(Give transformation potion)", 84644);
    };
    if ((NPC_HASITEMS(OTHER, 37365)) >= (1)) {
        INFO_ADDCHOICE(84637, "(Give weak transformation potion)", 84643);
    };
}

func void DIA_GETTER_SQ406_POTION_END() {
    INFO_CLEARCHOICES(84637);
    AI_STOPPROCESSINFOS(SELF);
    SELF.AIVAR[15] = FALSE;
    NPC_EXCHANGEROUTINE(SELF, START);
}

func void DIA_GETTER_SQ406_POTION_END_RUNAWAY() {
    INFO_CLEARCHOICES(84637);
    AI_STOPPROCESSINFOS(SELF);
    SELF.AIVAR[15] = FALSE;
    NPC_EXCHANGEROUTINE(SELF, "SQ406_FLEE");
}

func void GETTER_SQ406_REMOVEHEAD() {
    MDL_SETVISUALBODY(PIR_1313_GETTER, "KM_ARMOR_CHAIN_RAZOR", 1, 0, HUMHEADNOTHING, FACE_L_GETTER, 0, NO_ARMOR);
    if ((NPC_HASITEMS(PIR_1313_GETTER, 35398)) >= (1)) {
        NPC_REMOVEINVITEMS(PIR_1313_GETTER, 35398, 1);
    };
    B_REMOVEALLINVENTORY(PIR_1313_GETTER);
}

func void DIA_GETTER_SQ406_POTION_TRANSFORML() {
    SQ406_GETTER_POTION = 1;
    SQ406_GETTER_DRINKPOTION();
    AI_STARTFACEANI(SELF, S_DISGUST, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_SQ406_Potion_TransformL_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_SQ406_Potion_TransformL_03_02");
    INFO_CLEARCHOICES(84637);
    INFO_ADDCHOICE(84637, "Enjoy your beer!", 84650);
    INFO_ADDCHOICE(84637, "If I were you, I would hold off on this for a while.", 84649);
}

func void DIA_GETTER_SQ406_POTION_TRANSFORMM() {
    SQ406_GETTER_POTION = 2;
    SQ406_GETTER_DRINKPOTION();
    AI_PLAYANI(SELF, "R_VOMIT_SUNDER");
    AI_STARTFACEANI(SELF, S_DISGUST, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_SQ406_Potion_TransformM_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_SQ406_Potion_TransformM_03_02");
    DIA_GETTER_SQ406_POTION_END();
    AI_LOGENTRY(TOPIC_SQ406, LOG_SQ406_GETTER_POTION_M);
}

func void DIA_GETTER_SQ406_POTION_TRANSFORMH() {
    SQ406_GETTER_POTION = 3;
    SQ406_GETTER_DRINKPOTION();
    AI_STARTFACEANI(SELF, S_SURPRISE, 1, -(1));
    AI_FUNCTION(SELF, 84646);
    AI_PLAYANI(SELF, "T_STOMACHHURT_START_GUIDO");
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_SQ406_Potion_TransformH_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_SQ406_Potion_TransformH_03_02");
    AI_FUNCTION(SELF, 84642);
    AI_PLAYANI(SELF, "T_STOMACHHURT_REMOVE");
    AI_FUNCTION(SELF, 84647);
    DIA_GETTER_SQ406_POTION_END_RUNAWAY();
    AI_LOGENTRY(TOPIC_SQ406, LOG_SQ406_GETTER_POTION_H);
}

func void GETTER_APPLYSTOMACHHURTMDS() {
    MDL_APPLYOVERLAYMDS(PIR_1313_GETTER, "HumanS_StomachHurt.MDS");
}

func void GETTER_REMOVESTOMACHHURTMDS() {
    MDL_REMOVEOVERLAYMDS(PIR_1313_GETTER, "HumanS_StomachHurt.MDS");
}

func void DIA_GETTER_SQ406_POTION_TRANSFORML_NEXT() {
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_SQ406_Potion_Next_03_01");
    AI_LOGENTRY(TOPIC_SQ406, LOG_SQ406_GETTER_POTION_L);
    DIA_GETTER_SQ406_POTION_END();
}

func void DIA_GETTER_SQ406_POTION_TRANSFORML_WAIT() {
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_SQ406_Potion_Wait_15_01");
    DIA_GETTER_SQ406_POTION_TRANSFORML_NEXT();
}

func void DIA_GETTER_SQ406_POTION_TRANSFORML_BEER() {
    AI_STARTFACEANI(OTHER, S_SMILE, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_SQ406_Potion_Beer_15_01");
    DIA_GETTER_SQ406_POTION_TRANSFORML_NEXT();
}

instance DIA_GETTER_SQ406_MONSTER(C_INFO) {
    NPC = 58768;
    NR = 1;
    CONDITION = DIA_GETTER_SQ406_MONSTER_CONDITION;
    INFORMATION = DIA_GETTER_SQ406_MONSTER_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_GETTER_SQ406_MONSTER_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_SQ406)) == (LOG_RUNNING)) && ((SQ406_GETTER_POTION) == (3))) && ((NPC_GETDISTTOWP(SELF, "PART17_CAVE_CAMPFIRE_01")) <= (1200))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GETTER_SQ406_MONSTER_INFO() {
    SQ406_RAZOR_FIGHTWITH_GETTER = 1;
    SQ406_TESTERPOTIONH = 1;
    SELF.FLAGS = 0;
    SELF.AIVAR[52] = TRUE;
    B_SAY(OTHER, SELF, "$SQ406_FoundYou");
    B_STANDUP();
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_SQ406_Monster_03_02");
    AI_PLAYANI(SELF, "T_FINGERSCOUNT_START_GUIDO");
    AI_FUNCTION(SELF, 84654);
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_SQ406_Monster_03_03");
    AI_PLAYANI(SELF, "T_SHOWFIST_REMOVE");
    AI_FUNCTION(SELF, 84655);
    AI_LOGENTRY(TOPIC_SQ406, LOG_SQ406_GETTER_MONSTER);
    AI_STOPPROCESSINFOS(SELF);
    B_ATTACK(SELF, OTHER, AR_KILL, 1);
}

func void GETTER_APPLYSHOWFISTMDS() {
    MDL_APPLYOVERLAYMDS(PIR_1313_GETTER, "HumanS_FistShow.MDS");
}

func void GETTER_REMOVESHOWFISTMDS() {
    MDL_REMOVEOVERLAYMDS(PIR_1313_GETTER, "HumanS_FistShow.MDS");
}

instance DIA_GETTER_PICKPOCKET(C_INFO) {
    NPC = 58768;
    NR = 900;
    CONDITION = DIA_GETTER_PICKPOCKET_CONDITION;
    INFORMATION = DIA_GETTER_PICKPOCKET_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = PICKPOCKET_40;
}

func int DIA_GETTER_PICKPOCKET_CONDITION() {
    if (((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (1)) && ((SELF.AIVAR[6]) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GETTER_PICKPOCKET_INFO() {
    INFO_CLEARCHOICES(84656);
    INFO_ADDCHOICE(84656, DIALOG_BACK, 84660);
    INFO_ADDCHOICE(84656, DIALOG_PICKPOCKET, 84659);
}

func void DIA_GETTER_PICKPOCKET_DOIT() {
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (1)) {
        B_PICKPOCKET_AMBIENT_TIER_1();
        if ((((LOG_GETSTATUS(MIS_SQ303)) == (LOG_RUNNING)) && ((NPC_HASITEMS(OTHER, 37281)) == (0))) && ((GETTER_GOTLARRYPURSE) == (FALSE))) {
            GETTER_GOTLARRYPURSE = TRUE;
            B_GIVEINVITEMS(SELF, OTHER, 37281, 1);
            AI_LOGENTRY(TOPIC_SQ303, LOG_Q302_LARRYPURSE_STEAL);
            STEALPURSE = TRUE;
            STEALPURSEDAY = WLD_GETDAY();
        };
        SELF.AIVAR[6] = TRUE;
        INFO_CLEARCHOICES(84656);
    };
    AI_PLAYANI(HERO, T_CANNOTTAKE);
    PRINTSCREEN(PRINT_CANTPICKPOCKETTHISPERSON, -(1), -(1), FONT_SCREEN, 4);
    INFO_CLEARCHOICES(84656);
}

func void DIA_GETTER_PICKPOCKET_BACK() {
    INFO_CLEARCHOICES(84656);
}

instance DIA_GETTER_AMBIENT(C_INFO) {
    NPC = 58768;
    NR = 100;
    CONDITION = DIA_GETTER_AMBIENT_CONDITION;
    INFORMATION = DIA_GETTER_AMBIENT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "How are you doing?";
}

func int DIA_GETTER_AMBIENT_CONDITION() {
    if ((Q302_PLAYERDUELWITHGETTERSTATE) == (2)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GETTER_AMBIENT_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Getter_Ambient_15_01");
    NPC_INITAMBIENTS(SELF, 3);
    if ((NPC_GETLASTAMBIENT(SELF)) == (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Getter_Ambient_03_02");
    };
    if ((NPC_GETLASTAMBIENT(SELF)) == (2)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Getter_Ambient_03_03");
    };
    if ((NPC_GETLASTAMBIENT(SELF)) == (3)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Getter_Ambient_03_04");
    };
}

instance DIA_GETTER_Q306_AFTERTOURNAMENT(C_INFO) {
    NPC = 58768;
    NR = 1;
    CONDITION = DIA_GETTER_Q306_AFTERTOURNAMENT_CONDITION;
    INFORMATION = DIA_GETTER_Q306_AFTERTOURNAMENT_INFO;
    PERMANENT = TRUE;
    IMPORTANT = TRUE;
}

func int DIA_GETTER_Q306_AFTERTOURNAMENT_CONDITION() {
    if (((NPC_ISINSTATE(SELF, 61599)) && ((Q301_AFTERQ306) == (TRUE))) && ((KAPITEL) < (4))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GETTER_Q306_AFTERTOURNAMENT_INFO() {
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Getter_Q306_AfterTournament_03_01");
    AI_STOPPROCESSINFOS(SELF);
}

