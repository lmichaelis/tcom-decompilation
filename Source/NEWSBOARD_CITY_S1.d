func void NEWSBOARD_CITY_S1() {
    var C_NPC HER;
    HER = HLP_GETNPC(50091);
    if ((HLP_GETINSTANCEID(SELF)) == (HLP_GETINSTANCEID(HER))) {
        if (((SILBACHSLEEP) != (2)) || ((KAPITEL) == (6))) {
            B_SAY(HERO, HERO, "$MARVIN_QuestRefused2");
        } else {
            SELF.AIVAR[4] = TRUE;
            PLAYER_MOBSI_PRODUCTION = MOBSI_NEWSBOARD_CITY;
            AI_PROCESSINFOS(HER);
        };
    };
}

instance PC_SQ411_POSTER(C_INFO) {
    NPC = 50091;
    NR = 1;
    CONDITION = PC_SQ411_POSTER_CONDITION;
    INFORMATION = PC_SQ411_POSTER_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_LEFTHOMEINFO;
}

var int SQ411_PARTM2_POSTER;
var int SQ411_PARTM3_POSTER;
var int SQ411_PARTM5_A_POSTER;
var int SQ411_PARTM5_B_POSTER;
var int SQ411_PARTM6_POSTER;
func int PC_SQ411_POSTER_CONDITION() {
    if (((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_CITY)) && ((LOG_GETSTATUS(MIS_SQ411)) == (LOG_RUNNING))) {
        if (((NPC_HASITEMS(SELF, 37369)) >= (1)) || ((NPC_HASITEMS(SELF, 37370)) >= (1))) {
            if ((((((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM2_NEWSBOARD")) && ((SQ411_PARTM2_POSTER) == (FALSE))) || ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM3_NEWSBOARD")) && ((SQ411_PARTM3_POSTER) == (FALSE)))) || ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM5_A_NEWSBOARD")) && ((SQ411_PARTM5_A_POSTER) == (FALSE)))) || ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM5_B_NEWSBOARD")) && ((SQ411_PARTM5_B_POSTER) == (FALSE)))) || ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM6_NEWSBOARD")) && ((SQ411_PARTM6_POSTER) == (FALSE)))) {
                return TRUE;
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void PC_SQ411_POSTER_INFO() {
    var int SQ411_VENZELMISTAKE;
    if ((SQ411_VENZELMISTAKE) == (FALSE)) {
        SQ411_VENZELMISTAKE = TRUE;
        AI_OUTPUT(HERO, HERO, "DIA_Marvin_SQ411_Poster_15_01");
        AI_LOGENTRY(TOPIC_SQ411, LOG_SQ411_NEWSBOARD_IDEA);
    };
    INFO_CLEARCHOICES(64289);
    INFO_ADDCHOICE(64289, DIALOG_BACK, 64298);
    if ((NPC_HASITEMS(SELF, 37369)) >= (1)) {
        INFO_ADDCHOICE(64289, "(Leave a notice)", 64300);
    };
}

func void PC_SQ411_POSTER_BACK() {
    INFO_CLEARCHOICES(64289);
}

func void PC_SQ411_POSTER_NEXT() {
    if (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM2_NEWSBOARD")) {
        if ((SQ411_PARTM2_POSTER) == (FALSE)) {
            SQ411_PARTM2_POSTER = TRUE;
            B_LOGENTRY(TOPIC_SQ411, LOG_SQ411_POSTER_MARKETPLACE);
        };
    };
    if (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM3_NEWSBOARD")) {
        if ((SQ411_PARTM3_POSTER) == (FALSE)) {
            SQ411_PARTM3_POSTER = TRUE;
            B_LOGENTRY(TOPIC_SQ411, LOG_SQ411_POSTER_CRAFTSMAN);
        };
    };
    if (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM5_A_NEWSBOARD")) {
        if ((SQ411_PARTM5_A_POSTER) == (FALSE)) {
            SQ411_PARTM5_A_POSTER = TRUE;
            B_LOGENTRY(TOPIC_SQ411, LOG_SQ411_POSTER_ERNESTO);
        };
    };
    if (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM5_B_NEWSBOARD")) {
        if ((SQ411_PARTM5_B_POSTER) == (FALSE)) {
            SQ411_PARTM5_B_POSTER = TRUE;
            B_LOGENTRY(TOPIC_SQ411, LOG_SQ411_POSTER_OLDCITY);
        };
    };
    if (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM6_NEWSBOARD")) {
        if ((SQ411_PARTM6_POSTER) == (FALSE)) {
            SQ411_PARTM6_POSTER = TRUE;
            B_LOGENTRY(TOPIC_SQ411, LOG_SQ411_POSTER_FISH);
            WLD_INSERTNPC(51423, HARBOUR_PATH_19);
        };
    };
    if ((((((SQ411_PARTM2_POSTER) == (TRUE)) && ((SQ411_PARTM3_POSTER) == (TRUE))) && ((SQ411_PARTM5_A_POSTER) == (TRUE))) && ((SQ411_PARTM5_B_POSTER) == (TRUE))) && ((SQ411_PARTM6_POSTER) == (TRUE))) {
        if ((SQ411_ALLPOSTERSDONE) == (FALSE)) {
            if ((SQ411_POSTERS_GOOD) > (SQ411_POSTERS_FAKE)) {
                SQ411_ALLPOSTERSDONE = 1;
                B_LOGENTRY(TOPIC_SQ411, LOG_SQ411_ALLPOSTERSDONE_GOOD);
                if ((SQ411_KAZEEMWILLHELP) == (1)) {
                    NPC_CLEARAIQUEUE(NONE_100012_KAZEEM_CHAPTER4);
                    B_STARTOTHERROUTINE(NONE_100012_KAZEEM_CHAPTER4, "SQ411_FISH");
                    TELEPORTNPCTOWP(51423, NONE_100012_KAZEEM_CHAPTER4.WP);
                };
            } else {
                SQ411_ALLPOSTERSDONE = 2;
                B_LOGENTRY(TOPIC_SQ411, LOG_SQ411_ALLPOSTERSDONE_BAD);
            };
        };
    };
    PC_SQ411_POSTER_BACK();
}

func void PC_SQ411_POSTER_REAL() {
    NPC_REMOVEINVITEM(SELF, 37369);
    SQ411_POSTERS_FAKE = (SQ411_POSTERS_FAKE) + (1);
    PC_SQ411_POSTER_NEXT();
}

func void PC_SQ411_POSTER_FAKE() {
    NPC_REMOVEINVITEM(SELF, 37370);
    SQ411_POSTERS_FAKE = (SQ411_POSTERS_FAKE) + (1);
    PC_SQ411_POSTER_NEXT();
}

instance PC_SQ411_ENDE(C_INFO) {
    NPC = 50091;
    NR = 999;
    CONDITION = PC_SQ411_ENDE_CONDITION;
    INFORMATION = PC_SQ411_ENDE_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int PC_SQ411_ENDE_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_CITY)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_SQ411_ENDE_INFO() {
    SPRITEMAP_DESTROY();
    AI_STOPPROCESSINFOS(SELF);
    SELF.AIVAR[4] = FALSE;
    PLAYER_MOBSI_PRODUCTION = MOBSI_NONE;
}

instance PC_SQ411_SHOWMAP(C_INFO) {
    NPC = 50091;
    NR = 998;
    CONDITION = PC_SQ411_SHOWMAP_CONDITION;
    INFORMATION = PC_SQ411_SHOWMAP_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_SHOWMAP;
}

func int PC_SQ411_SHOWMAP_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_CITY)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_SQ411_SHOWMAP_INFO() {
    if (NPC_ISPLAYER(SELF)) {
        B_SETPLAYERMAP(39818);
    };
    SPRITEMAP_INIT(-(125124), -(90178), -(86124), -(129178), "MAP_CITY.tga", TRUE, CURRENTLEVEL, ARCHOLOS_ZEN);
}

instance PC_SQ411_SHOWNEWS(C_INFO) {
    NPC = 50091;
    NR = 995;
    CONDITION = PC_SQ411_SHOWNEWS_CONDITION;
    INFORMATION = PC_SQ411_SHOWNEWS_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_SHOWNEWS;
}

func int PC_SQ411_SHOWNEWS_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_CITY)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

var int SHOWNEWS_HOUSE_01;
var int SHOWNEWS_SALTMINE;
var int SHOWNEWS_RUNES;
var int SHOWNEWS_LONDRAM;
var int SHOWNEWS_VALLEY;
var int SHOWNEWS_SEWERS;
var int SHOWNEWS_NEWREFUGEE;
var int SHOWNEWS_KING;
var int SHOWNEWS_VOLKER;
var int SHOWNEWS_WOLFSDEN;
var int SHOWNEWS_DANGER;
var int SHOWNEWS_MUSEUM;
var int SHOWNEWS_SELL_IRON;
var int SHOWNEWS_SELL_ORE;
var int SHOWNEWS_SELL_SILVER;
func void PC_SQ411_SHOWNEWS_BACK() {
    INFO_CLEARCHOICES(64308);
}

func void PC_SQ411_SHOWNEWS_INFO() {
    INFO_CLEARCHOICES(64308);
    INFO_ADDCHOICE(64308, DIALOG_BACK, 64325);
    if (((SHOWNEWS_SELL_SILVER) == (FALSE)) && ((KAPITEL) >= (5))) {
        INFO_ADDCHOICE(64308, NAME_NEWSBOARD_CITY_NEWS_SELLSILVER, 64343);
    };
    if ((SHOWNEWS_RUNES) == (FALSE)) {
        INFO_ADDCHOICE(64308, NAME_NEWSBOARD_SILBACH_RUNES, 64331);
    };
    if (((SHOWNEWS_LONDRAM) == (FALSE)) && ((LOG_GETSTATUS(MIS_Q312)) >= (1))) {
        INFO_ADDCHOICE(64308, NAME_NEWSBOARD_CITY_NEWS_LONDRAM, 64332);
    };
    if (((SHOWNEWS_VOLKER) == (FALSE)) && ((LOG_GETSTATUS(MIS_Q312)) >= (1))) {
        INFO_ADDCHOICE(64308, NAME_NEWSBOARD_CITY_NEWS_VOLKER, 64336);
    };
    if ((SHOWNEWS_VALLEY) == (FALSE)) {
        INFO_ADDCHOICE(64308, NAME_NEWSBOARD_CITY_NEWS_VALLEY, 64333);
    };
    if ((SHOWNEWS_SEWERS) == (FALSE)) {
        INFO_ADDCHOICE(64308, NAME_NEWSBOARD_CITY_NEWS_SEWERS, 64334);
    };
    if (((SHOWNEWS_NEWREFUGEE) == (FALSE)) && ((KAPITEL) == (4))) {
        INFO_ADDCHOICE(64308, NAME_NEWSBOARD_CITY_NEWS_NEWREFUGEE, 64335);
    };
    if (((SHOWNEWS_KING) == (FALSE)) && ((Q404_REMOVEKURT) == (TRUE))) {
        INFO_ADDCHOICE(64308, NAME_NEWSBOARD_CITY_NEWS_KING, 64337);
    };
    if ((SHOWNEWS_WOLFSDEN) == (FALSE)) {
        INFO_ADDCHOICE(64308, NAME_NEWSBOARD_CITY_NEWS_WOLFSDEN, 64338);
    };
    if ((SHOWNEWS_DANGER) == (FALSE)) {
        INFO_ADDCHOICE(64308, NAME_NEWSBOARD_CITY_NEWS_DANGER, 64339);
    };
    if ((SHOWNEWS_MUSEUM) == (FALSE)) {
        INFO_ADDCHOICE(64308, NAME_NEWSBOARD_CITY_NEWS_MUSEUM, 64340);
    };
    if (((SHOWNEWS_SELL_IRON) == (FALSE)) && ((KAPITEL) >= (3))) {
        INFO_ADDCHOICE(64308, NAME_NEWSBOARD_CITY_NEWS_SELLIRON, 64341);
    };
    if (((SHOWNEWS_SELL_ORE) == (FALSE)) && ((KAPITEL) >= (3))) {
        INFO_ADDCHOICE(64308, NAME_NEWSBOARD_CITY_NEWS_SELLORE, 64342);
    };
    if ((SILBACH_NEWS_GOLDMINE) == (FALSE)) {
        INFO_ADDCHOICE(64308, NAME_NEWSBOARD_SILBACH_GOLDMINE, 64329);
    };
    if ((SILBACH_NEWS_FRIDA) == (FALSE)) {
        INFO_ADDCHOICE(64308, NAME_NEWSBOARD_SILBACH_FRIDA, 64328);
    };
    if (((SHOWNEWS_HOUSE_01) == (FALSE)) && ((LOG_GETSTATUS(MIS_SQ411)) == (0))) {
        INFO_ADDCHOICE(64308, NAME_NEWSBOARD_CITY_NEWS_HOUSE_01, 64327);
    };
    if ((((SHOWNEWS_SALTMINE) == (FALSE)) && ((KAPITEL) == (3))) && ((LOG_GETSTATUS(MIS_SQ312)) == (0))) {
        INFO_ADDCHOICE(64308, NAME_NEWSBOARD_CITY_NEWS_SALTMINE, 64330);
    };
}

func void PC_SQ411_SHOWNEWS_HOUSE_01() {
    SHOWNEWS_HOUSE_01 = TRUE;
    B_PLAYERFINDITEM(41138, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_FRIDA() {
    SILBACH_NEWS_FRIDA = TRUE;
    B_PLAYERFINDITEM(41199, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_GOLDMINE() {
    SILBACH_NEWS_GOLDMINE = TRUE;
    B_PLAYERFINDITEM(41205, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_SALTMINE() {
    SHOWNEWS_SALTMINE = TRUE;
    B_PLAYERFINDITEM(41141, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_RUNES() {
    SHOWNEWS_RUNES = TRUE;
    B_PLAYERFINDITEM(41225, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_LONDRAM() {
    SHOWNEWS_LONDRAM = TRUE;
    B_PLAYERFINDITEM(41145, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_VALLEY() {
    SHOWNEWS_VALLEY = TRUE;
    B_PLAYERFINDITEM(41148, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_SEWERS() {
    SHOWNEWS_SEWERS = TRUE;
    B_PLAYERFINDITEM(41151, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_NEWREFUGEE() {
    SHOWNEWS_NEWREFUGEE = TRUE;
    B_PLAYERFINDITEM(41154, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_VOLKER() {
    SHOWNEWS_VOLKER = TRUE;
    B_PLAYERFINDITEM(41157, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_KING() {
    SHOWNEWS_KING = TRUE;
    B_PLAYERFINDITEM(41160, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_WOLFSDEN() {
    SHOWNEWS_WOLFSDEN = TRUE;
    B_PLAYERFINDITEM(41163, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_DANGER() {
    SHOWNEWS_DANGER = TRUE;
    B_PLAYERFINDITEM(41166, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_MUSEUM() {
    SHOWNEWS_MUSEUM = TRUE;
    B_PLAYERFINDITEM(41169, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_SELLIRON() {
    SHOWNEWS_SELL_IRON = TRUE;
    B_PLAYERFINDITEM(41172, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_SELLORE() {
    SHOWNEWS_SELL_ORE = TRUE;
    B_PLAYERFINDITEM(41175, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWNEWS_NEWS_SELLSILVER() {
    SHOWNEWS_SELL_SILVER = TRUE;
    B_PLAYERFINDITEM(41178, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

instance PC_SQ411_SHOWTRADETRAIN_CITY(C_INFO) {
    NPC = 50091;
    NR = 996;
    CONDITION = PC_SQ411_SHOWTRADETRAIN_CITY_CONDITION;
    INFORMATION = PC_SQ411_SHOWTRADETRAIN_CITY_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_SHOWOFFERS;
}

var int CITY_TRAINING_MILITIA;
var int CITY_TRAINING_ARAXOS;
var int CITY_TRAINING_NORMAN;
var int CITY_TRAINING_ODGAR;
var int CITY_TRAINING_NIRKA;
var int CITY_TRAINING_ALLAN;
var int CITY_TRAINING_DACK;
var int CITY_TRADE;
var int HARBOUR_TRADE;
func int PC_SQ411_SHOWTRADETRAIN_CITY_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_CITY)) {
        if ((((((((((CITY_TRAINING_MILITIA) == (FALSE)) || ((CITY_TRAINING_ARAXOS) == (FALSE))) || ((CITY_TRAINING_NORMAN) == (FALSE))) || ((CITY_TRAINING_ODGAR) == (FALSE))) || ((CITY_TRADE) == (FALSE))) || ((CITY_TRAINING_NIRKA) == (FALSE))) || ((CITY_TRAINING_ALLAN) == (FALSE))) || ((CITY_TRAINING_DACK) == (FALSE))) || ((HARBOUR_TRADE) == (FALSE))) {
            if (((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM2_NEWSBOARD")) || (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM3_NEWSBOARD"))) || (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM6_NEWSBOARD"))) {
                return TRUE;
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void PC_SQ411_SHOWTRADETRAIN_CITY_BACK() {
    INFO_CLEARCHOICES(64344);
}

func void PC_SQ411_SHOWTRADETRAIN_CITY_INFO() {
    INFO_CLEARCHOICES(64344);
    INFO_ADDCHOICE(64344, DIALOG_BACK, 64355);
    if ((CITY_TRAINING_MILITIA) == (FALSE)) {
        INFO_ADDCHOICE(64344, NAME_NEWSBOARD_CITY_TRAINING_MILITIA, 64357);
    };
    if ((CITY_TRAINING_ARAXOS) == (FALSE)) {
        INFO_ADDCHOICE(64344, NAME_NEWSBOARD_CITY_TRAINING_ARAXOS, 64358);
    };
    if ((CITY_TRAINING_NORMAN) == (FALSE)) {
        INFO_ADDCHOICE(64344, NAME_NEWSBOARD_CITY_TRAINING_NORMAN, 64359);
    };
    if ((CITY_TRAINING_ODGAR) == (FALSE)) {
        INFO_ADDCHOICE(64344, NAME_NEWSBOARD_CITY_TRAINING_ODGAR, 64360);
    };
    if ((CITY_TRAINING_ALLAN) == (FALSE)) {
        INFO_ADDCHOICE(64344, NAME_NEWSBOARD_CITY_TRAINING_ALLAN, 64362);
    };
    if ((CITY_TRAINING_NIRKA) == (FALSE)) {
        INFO_ADDCHOICE(64344, NAME_NEWSBOARD_CITY_TRAINING_NIRKA, 64363);
    };
    if ((CITY_TRAINING_DACK) == (FALSE)) {
        INFO_ADDCHOICE(64344, NAME_NEWSBOARD_CITY_TRAINING_DACK, 64364);
    };
    if ((CITY_TRADE) == (FALSE)) {
        INFO_ADDCHOICE(64344, NAME_NEWSBOARD_CITY_TRADE, 64361);
    };
    if ((HARBOUR_TRADE) == (FALSE)) {
        INFO_ADDCHOICE(64344, NAME_NEWSBOARD_HARBOUR_TRADE, 64365);
    };
}

func void PC_SQ411_CITY_TRAINING_MILITIA() {
    CITY_TRAINING_MILITIA = TRUE;
    B_PLAYERFINDITEM(41105, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_CITY_TRAINING_ARAXOS() {
    CITY_TRAINING_ARAXOS = TRUE;
    B_PLAYERFINDITEM(41108, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_CITY_TRAINING_NORMAN() {
    CITY_TRAINING_NORMAN = TRUE;
    B_PLAYERFINDITEM(41111, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_CITY_TRAINING_ODGAR() {
    CITY_TRAINING_ODGAR = TRUE;
    B_PLAYERFINDITEM(41114, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_CITY_TRADE() {
    CITY_TRADE = TRUE;
    B_PLAYERFINDITEM(41129, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_CITY_TRAINING_ALLAN() {
    CITY_TRAINING_ALLAN = TRUE;
    B_PLAYERFINDITEM(41117, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_CITY_TRAINING_NIRKA() {
    CITY_TRAINING_NIRKA = TRUE;
    B_PLAYERFINDITEM(41120, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_CITY_TRAINING_DACK() {
    CITY_TRAINING_DACK = TRUE;
    B_PLAYERFINDITEM(41123, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_CITY_TRADE_HARBOUR() {
    HARBOUR_TRADE = TRUE;
    B_PLAYERFINDITEM(41132, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

instance PC_SQ411_SHOWTRADETRAIN_OLDCITY(C_INFO) {
    NPC = 50091;
    NR = 996;
    CONDITION = PC_SQ411_SHOWTRADETRAIN_OLDCITY_CONDITION;
    INFORMATION = PC_SQ411_SHOWTRADETRAIN_OLDCITY_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_SHOWOFFERS;
}

var int OLDCITY_TRADE;
func int PC_SQ411_SHOWTRADETRAIN_OLDCITY_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_CITY)) {
        if ((OLDCITY_TRADE) == (FALSE)) {
            if ((HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM5_A_NEWSBOARD")) || (HLP_STRCMP(NPC_GETNEARESTWP(SELF), "PARTM5_B_NEWSBOARD"))) {
                return TRUE;
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void PC_SQ411_SHOWTRADETRAIN_OLDCITY_BACK() {
    INFO_CLEARCHOICES(64366);
}

func void PC_SQ411_SHOWTRADETRAIN_OLDCITY_INFO() {
    INFO_CLEARCHOICES(64366);
    INFO_ADDCHOICE(64366, DIALOG_BACK, 64369);
    if ((OLDCITY_TRADE) == (FALSE)) {
        INFO_ADDCHOICE(64366, NAME_NEWSBOARD_OLDCITY_TRADE, 64371);
    };
}

func void PC_SQ411_CITY_TRADE_OLDCITY() {
    OLDCITY_TRADE = TRUE;
    B_PLAYERFINDITEM(41135, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

instance PC_SQ411_SHOWBOUNTY(C_INFO) {
    NPC = 50091;
    NR = 997;
    CONDITION = PC_SQ411_SHOWBOUNTY_CONDITION;
    INFORMATION = PC_SQ411_SHOWBOUNTY_INFO;
    IMPORTANT = FALSE;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_SHOWWANTEDPOSTERS;
}

func int PC_SQ411_SHOWBOUNTY_CONDITION() {
    if ((PLAYER_MOBSI_PRODUCTION) == (MOBSI_NEWSBOARD_CITY)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void PC_SQ411_SHOWBOUNTY_BACK() {
    INFO_CLEARCHOICES(64372);
}

var int SHOWBOUNTY_SLIPPY;
var int SHOWBOUNTY_LURKER;
var int SHOWBOUNTY_MADCUTTER;
var int SHOWBOUNTY_COLLECTOR;
var int SHOWBOUNTY_SEWERS;
var int SHOWBOUNTY_NOVIZE;
var int SHOWBOUNTY_FROST;
var int SHOWBOUNTY_HYENA;
var int SHOWBOUNTY_WIDOW;
var int SHOWBOUNTY_PUMA;
var int SHOWBOUNTY_PROPHET;
var int SHOWBOUNTY_HAVDAN;
var int SHOWBOUNTY_BOAR;
var int SHOWBOUNTY_SCAVENGER;
var int SHOWBOUNTY_MOLERAT;
var int SHOWBOUNTY_CRAB;
var int SHOWBOUNTY_BAT;
var int SHOWBOUNTY_ICEWOLF;
var int SHOWBOUNTY_WHITEBEAR;
var int SHOWBOUNTY_SHADOWBEAST;
var int SHOWBOUNTY_RAT;
var int SHOWBOUNTY_GOLEM;
var int SHOWBOUNTY_TROLL;
var int SHOWBOUNTY_FIREWARAN;
func void PC_SQ411_SHOWBOUNTY_INFO() {
    INFO_CLEARCHOICES(64372);
    INFO_ADDCHOICE(64372, DIALOG_BACK, 64374);
    if ((KAPITEL) >= (2)) {
        if ((SHOWBOUNTY_SLIPPY) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_SLIPPY, 64400);
        };
        if ((SHOWBOUNTY_LURKER) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_LURKER, 64401);
        };
        if ((SHOWBOUNTY_MADCUTTER) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_MADCUTTER, 64402);
        };
        if ((SHOWBOUNTY_BOAR) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_BOAR, 64412);
        };
        if ((SHOWBOUNTY_SCAVENGER) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_SCAVENGER, 64413);
        };
        if ((SHOWBOUNTY_MOLERAT) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_MOLERAT, 64414);
        };
    };
    if ((KAPITEL) >= (3)) {
        if ((SHOWBOUNTY_COLLECTOR) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_COLLECTOR, 64403);
        };
        if ((SHOWBOUNTY_SEWERS) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_SEWERBOY_MANY, 64404);
        };
        if ((SHOWBOUNTY_NOVIZE) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_NOVIZE, 64405);
        };
        if ((SHOWBOUNTY_CRAB) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_CRAB, 64415);
        };
        if ((SHOWBOUNTY_BAT) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_BAT, 64416);
        };
        if ((SHOWBOUNTY_ICEWOLF) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_ICEWOLF_MANY, 64417);
        };
    };
    if ((KAPITEL) >= (4)) {
        if ((SHOWBOUNTY_FROST) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_FROST, 64406);
        };
        if ((SHOWBOUNTY_HYENA) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_HYENA, 64407);
        };
        if ((SHOWBOUNTY_WIDOW) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_WIDOW, 64408);
        };
        if ((SHOWBOUNTY_WHITEBEAR) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_WHITEBEAR, 64418);
        };
        if ((SHOWBOUNTY_SHADOWBEAST) == (FALSE)) {
            if ((LOG_GETSTATUS(MIS_Q400)) == (LOG_SUCCESS)) {
                INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_SHADOWBEAST, 64419);
            };
        };
        if ((SHOWBOUNTY_RAT) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_RAT_MANY, 64420);
        };
    };
    if ((KAPITEL) >= (5)) {
        if ((SHOWBOUNTY_PUMA) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_PUMA, 64409);
        };
        if ((SHOWBOUNTY_PROPHET) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_PROPHET, 64410);
        };
        if ((SHOWBOUNTY_HAVDAN) == (FALSE)) {
            INFO_ADDCHOICE(64372, NPCNAME_HAVDAN, 64411);
        };
        if ((SHOWBOUNTY_GOLEM) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_GOLEM, 64421);
        };
        if ((SHOWBOUNTY_TROLL) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_TROLL_MANY, 64422);
        };
        if ((SHOWBOUNTY_FIREWARAN) == (FALSE)) {
            INFO_ADDCHOICE(64372, NAME_WANTEDPOSTER_FIREWARAN_MANY, 64423);
        };
    };
}

func void PC_SQ411_SHOWBOUNTY_SLIPPY() {
    SHOWBOUNTY_SLIPPY = TRUE;
    B_PLAYERFINDITEM(40716, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_LURKER() {
    SHOWBOUNTY_LURKER = TRUE;
    B_PLAYERFINDITEM(40719, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_MADCUTTER() {
    SHOWBOUNTY_MADCUTTER = TRUE;
    B_PLAYERFINDITEM(40722, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_COLLECTOR() {
    SHOWBOUNTY_COLLECTOR = TRUE;
    B_PLAYERFINDITEM(40725, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_SEWERS() {
    SHOWBOUNTY_SEWERS = TRUE;
    B_PLAYERFINDITEM(40728, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_NOVIZE() {
    SHOWBOUNTY_NOVIZE = TRUE;
    B_PLAYERFINDITEM(40731, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_FROST() {
    SHOWBOUNTY_FROST = TRUE;
    B_PLAYERFINDITEM(40734, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_HYENA() {
    SHOWBOUNTY_HYENA = TRUE;
    B_PLAYERFINDITEM(40737, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_WIDOW() {
    SHOWBOUNTY_WIDOW = TRUE;
    B_PLAYERFINDITEM(40740, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_PUMA() {
    SHOWBOUNTY_PUMA = TRUE;
    B_PLAYERFINDITEM(40743, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_PROPHET() {
    SHOWBOUNTY_PROPHET = TRUE;
    B_PLAYERFINDITEM(40746, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_HAVDAN() {
    SHOWBOUNTY_HAVDAN = TRUE;
    B_PLAYERFINDITEM(40749, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_BOAR() {
    SHOWBOUNTY_BOAR = TRUE;
    B_PLAYERFINDITEM(40752, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_SCAVENGER() {
    SHOWBOUNTY_SCAVENGER = TRUE;
    B_PLAYERFINDITEM(40755, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_MOLERAT() {
    SHOWBOUNTY_MOLERAT = TRUE;
    B_PLAYERFINDITEM(40758, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_CRAB() {
    SHOWBOUNTY_CRAB = TRUE;
    B_PLAYERFINDITEM(40761, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_BAT() {
    SHOWBOUNTY_BAT = TRUE;
    B_PLAYERFINDITEM(40764, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_ICEWOLF() {
    SHOWBOUNTY_ICEWOLF = TRUE;
    B_PLAYERFINDITEM(40767, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_WHITEBEAR() {
    SHOWBOUNTY_WHITEBEAR = TRUE;
    B_PLAYERFINDITEM(40770, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_SHADOWBEAST() {
    SHOWBOUNTY_SHADOWBEAST = TRUE;
    B_PLAYERFINDITEM(40773, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_RAT() {
    SHOWBOUNTY_RAT = TRUE;
    B_PLAYERFINDITEM(40776, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_GOLEM() {
    SHOWBOUNTY_GOLEM = TRUE;
    B_PLAYERFINDITEM(40779, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_TROLL() {
    SHOWBOUNTY_TROLL = TRUE;
    B_PLAYERFINDITEM(40787, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

func void PC_SQ411_SHOWBOUNTY_FIREWARAN() {
    SHOWBOUNTY_FIREWARAN = TRUE;
    B_PLAYERFINDITEM(40790, 1);
    SND_PLAY("KAJMA_SCROLL_UP");
}

