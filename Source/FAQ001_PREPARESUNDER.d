func void FAQ001_PREPARESUNDER() {
    FAQ001_SUNDER_RTNCHECK = 1;
    B_STARTOTHERROUTINE(SLD_5002_SUNDER, "FAQ001_PUB");
    NPC_CHANGEARMOR(SLD_5002_SUNDER, 35462);
    NPC_REMOVEINVITEMS(SLD_5002_SUNDER, 35465, NPC_HASITEMS(SLD_5002_SUNDER, 35465));
}

func void FAQ001_PREPARECORPSES() {
    FF_APPLYONCEEXTGT(62750, 0, -(1));
    if ((FAQ001_MARVINWENTSEARCHBODY) == (FALSE)) {
        FAQ001_MARVINWENTSEARCHBODY = TRUE;
    };
}

func void FAQ001_PREPARECORPSES_APPLY() {
    var int MOVPTR1;
    var ZCMOVER MOVER1;
    var int FAQ001_PREPARECORPSES_COLLISION;
    if ((FAQ001_PREPARECORPSES_COLLISION) == (0)) {
        PRINTD("Rozpoczynam - FAQ001_PrepareCorpses_Apply");
        MOVPTR1 = MEM_SEARCHVOBBYNAME("KM_DIMA_MOVER");
        MOVER1 = MEM_PTRTOINST(MOVPTR1);
        CHANGEVOBCOLLISION("FAQ001_CORPSE", FALSE, FALSE, FALSE, TRUE);
        WLD_SENDTRIGGER("KM_DIMA_MOVER");
        FAQ001_PREPARECORPSES_COLLISION = 1;
    };
    if (((MOVER1.MOVERSTATE) != (MOVER_STATE_OPENING)) && ((MOVER1.MOVERSTATE) != (MOVER_STATE_CLOSING))) {
        PRINTD("Skoñczy³em - FAQ001_PrepareCorpses_Apply");
        CHANGEVOBCOLLISION("FAQ001_CORPSE", TRUE, TRUE, TRUE, TRUE);
        FF_REMOVE(62750);
        FAQ001_PREPARECORPSES_COLLISION = 0;
    };
}

func void FAQ001_REPLACSUNDERMDS() {
    NPC_CHANGEARMOR(SLD_5002_SUNDER, 35465);
    NPC_REMOVEINVITEMS(SLD_5002_SUNDER, 35462, NPC_HASITEMS(SLD_5002_SUNDER, 35462));
    MDL_REMOVEOVERLAYMDS(SLD_5002_SUNDER, HUMANSDRUNKENMDS);
    RESTOREROUTINE_SUNDER();
}

func void FAQ001_TELEPORTSUNDER() {
    WLD_INSERTITEM(33984, "FP_PART12_STAND_01");
    FAQ001_SUNDER_RTNCHECK = 4;
    B_STARTOTHERROUTINE(SLD_5002_SUNDER, "FAQ001_SMALLTALK");
    NPC_REFRESH(SLD_5002_SUNDER);
    TELEPORTNPCTOWP(57718, SLD_5002_SUNDER.WP);
    B_STARTOTHERROUTINE(MIL_709_KIPPER, "FAQ001_SMALLTALK");
    NPC_REFRESH(MIL_709_KIPPER);
    TELEPORTNPCTOWP(57674, MIL_709_KIPPER.WP);
}

