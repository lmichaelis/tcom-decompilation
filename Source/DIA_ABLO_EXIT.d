instance DIA_ABLO_EXIT(C_INFO) {
    NPC = 58900;
    NR = 999;
    CONDITION = DIA_ABLO_EXIT_CONDITION;
    INFORMATION = DIA_ABLO_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_ABLO_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_ABLO_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_ABLO_WHATTHEHELL(C_INFO) {
    NPC = 58900;
    NR = 1;
    CONDITION = DIA_ABLO_WHATTHEHELL_CONDITION;
    INFORMATION = DIA_ABLO_WHATTHEHELL_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "What are you doing here?";
}

func int DIA_ABLO_WHATTHEHELL_CONDITION() {
    return TRUE;
}

func void DIA_ABLO_WHATTHEHELL_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Ablo_WhatTheHell_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ablo_WhatTheHell_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ablo_WhatTheHell_03_03");
}

instance DIA_ABLO_BADIDEA(C_INFO) {
    NPC = 58900;
    NR = 2;
    CONDITION = DIA_ABLO_BADIDEA_CONDITION;
    INFORMATION = DIA_ABLO_BADIDEA_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "That sounds like a very bad idea.";
}

func int DIA_ABLO_BADIDEA_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 68229)) && (!(NPC_KNOWSINFO(OTHER, 68238)))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ABLO_BADIDEA_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Ablo_BadIdea_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ablo_BadIdea_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ablo_BadIdea_03_03");
    NPC_EXCHANGEROUTINE(SELF, "AFTER");
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_ABLO_MYTHCONFIRMED(C_INFO) {
    NPC = 58900;
    NR = 3;
    CONDITION = DIA_ABLO_MYTHCONFIRMED_CONDITION;
    INFORMATION = DIA_ABLO_MYTHCONFIRMED_INFO;
    PERMANENT = TRUE;
    IMPORTANT = TRUE;
}

func int DIA_ABLO_MYTHCONFIRMED_CONDITION() {
    if (((NPC_KNOWSINFO(OTHER, 68232)) && (NPC_ISINSTATE(SELF, 61599))) && ((NPC_HASITEMS(OTHER, 37722)) == (0))) {
        return TRUE;
    };
    if ((NPC_KNOWSINFO(OTHER, 68238)) && (NPC_ISINSTATE(SELF, 61599))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ABLO_MYTHCONFIRMED_INFO() {
    AI_OUTPUT(SELF, OTHER, "DIA_Ablo_MythConfirmed_03_01");
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_ABLO_WHOLSOMEMYTH(C_INFO) {
    NPC = 58900;
    NR = 1;
    CONDITION = DIA_ABLO_WHOLSOMEMYTH_CONDITION;
    INFORMATION = DIA_ABLO_WHOLSOMEMYTH_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Maybe you'd better test this potion.";
}

func int DIA_ABLO_WHOLSOMEMYTH_CONDITION() {
    if (((NPC_HASITEMS(OTHER, 37722)) >= (1)) && (NPC_KNOWSINFO(OTHER, 68229))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ABLO_WHOLSOMEMYTH_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Ablo_WholsomeMyth_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Ablo_WholsomeMyth_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Ablo_WholsomeMyth_03_03");
    B_GIVEINVITEMS(OTHER, SELF, 37722, 1);
    NPC_EXCHANGEROUTINE(SELF, "AFTER");
    NONE_13405_ABLO.FLAGS = 2;
    B_GIVEPLAYERXP(XP_SECRET_ABLO);
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_ABLO_AMBIENT(C_INFO) {
    NPC = 58900;
    NR = 998;
    CONDITION = DIA_ABLO_AMBIENT_CONDITION;
    INFORMATION = DIA_ABLO_AMBIENT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "What's new?";
}

func int DIA_ABLO_AMBIENT_CONDITION() {
    if (NPC_KNOWSINFO(OTHER, 68229)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_ABLO_AMBIENT_INFO() {
    B_SAY(OTHER, SELF, "$MARVIN_WhatNew");
    AI_OUTPUT(SELF, OTHER, "DIA_Ablo_Ambient_03_01");
    AI_STOPPROCESSINFOS(SELF);
}

