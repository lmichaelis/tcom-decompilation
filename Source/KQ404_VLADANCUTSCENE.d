instance KQ404_VLADANCUTSCENE(CUTSCENE) {
    ONSTART = FUNCTION(92368);
}

func void KQ404_VLADANCUTSCENE_WAIT() {
    AI_WAITTILLEND(HERO, NONE_922_VLADAN);
    AI_WAITTILLEND(NONE_922_VLADAN, HERO);
}

func void KQ404_VLADANCUTSCENE_START() {
    KQ404_VLADANCUTSCENEENABLE = 3;
    WLD_SENDTRIGGER("KM_BROTHEL_SECRET_01");
    DIACAM_DISABLE();
    KQ404_CANOPENBROTHELSECRET = TRUE;
    TELEPORTNPCTOWP(1819, "HARBOUR_DARKSECRETS_36");
    TELEPORTNPCTOWP(54492, "HARBOUR_DARKSECRETS_CHAIR_04");
    NPC_CLEARAIQUEUE(NONE_922_VLADAN);
    AI_SETWALKMODE(NONE_922_VLADAN, NPC_WALK);
    AI_GOTOWP(NONE_922_VLADAN, "HARBOUR_DARKSECRETS_BUTTON");
    AI_USEMOB(NONE_922_VLADAN, "TOUCHPLATE", -(1));
    AI_WAIT(HERO, 1067030938);
    AI_USEMOB(NONE_922_VLADAN, "TOUCHPLATE", 1);
    AI_TURNTONPC(HERO, NONE_922_VLADAN);
    KQ404_VLADANCUTSCENE_WAIT();
    AI_FUNCTION(NONE_922_VLADAN, 92369);
    AI_TURNTONPC(NONE_922_VLADAN, HERO);
    AI_WAIT(HERO, 1045220557);
    AI_TURNAWAY(HERO, NONE_922_VLADAN);
    AI_PLAYANI(HERO, T_SEARCH);
    AI_TURNTONPC(HERO, NONE_922_VLADAN);
    AI_GOTOWP(NONE_922_VLADAN, "HARBOUR_DARKSECRETS_35");
    AI_FUNCTION(HERO, 92370);
}

func void KQ404_VLADANCUTSCENE_CAMERA_01() {
    WLD_SENDTRIGGER("KM_BROTHEL_SECRET_02");
    WLD_SENDUNTRIGGER("KM_BROTHEL_SECRET_01");
}

func void KQ404_VLADANCUTSCENE_ENABLEDIALOGUE() {
    NONE_922_VLADAN.AIVAR[4] = FALSE;
    HERO.AIVAR[4] = FALSE;
    KQ404_VLADANCUTSCENE_DIALOGUE = TRUE;
}

