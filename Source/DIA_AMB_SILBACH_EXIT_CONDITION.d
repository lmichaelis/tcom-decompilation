func int DIA_AMB_SILBACH_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_AMB_SILBACH_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_AMB_SILBACH_ABOUT(C_INFO) {
    NR = 1;
    CONDITION = DIA_AMB_SILBACH_ABOUT_CONDITION;
    INFORMATION = DIA_AMB_SILBACH_ABOUT_INFO;
    PERMANENT = TRUE;
    IMPORTANT = FALSE;
    DESCRIPTION = "What should I know about Silbach?";
}

func int DIA_AMB_SILBACH_ABOUT_CONDITION() {
    return TRUE;
}

func void DIA_AMB_SILBACH_ABOUT_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    B_SAY(OTHER, SELF, "$MARVIN_TellMeAboutVillage");
    if ((((SELF.VOICE) == (37)) || ((SELF.VOICE) == (49))) || ((SELF.VOICE) == (72))) {
        AI_STARTFACEANI(SELF, "S_TIRED", 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_SILBACH_MALE_ABOUTVILLAGE_V1_01");
        if (((HERO.GUILD) == (GIL_NONE)) || ((SILBACHREPUTATION) < (3))) {
            AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
            B_SAY(SELF, OTHER, "$AMB_SILBACH_MALE_ABOUTVILLAGE_NOGUILD_V1_02");
        };
    };
    if (((((SELF.VOICE) == (6)) || ((SELF.VOICE) == (25))) || ((SELF.VOICE) == (67))) || ((SELF.VOICE) == (59))) {
        B_SAY(SELF, OTHER, "$AMB_SILBACH_MALE_ABOUTVILLAGE_V2_01");
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_SILBACH_MALE_ABOUTVILLAGE_V2_02");
    };
    if (((SELF.VOICE) == (28)) || ((SELF.VOICE) == (64))) {
        AI_STARTFACEANI(SELF, "S_ANGRY", 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_SILBACH_MALE_ABOUTVILLAGE_V3_01");
    };
    if ((((SELF.VOICE) == (33)) || ((SELF.VOICE) == (31))) || ((SELF.VOICE) == (69))) {
        AI_STARTFACEANI(SELF, "S_TIRED", 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_SILBACH_FEMALE_ABOUTVILLAGE_V1_01");
        if (((HERO.GUILD) == (GIL_NONE)) || ((SILBACHREPUTATION) < (3))) {
            AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
            B_SAY(SELF, OTHER, "$AMB_SILBACH_FEMALE_ABOUTVILLAGE_NOGUILD_V1_02");
        };
    };
    if ((((SELF.VOICE) == (16)) || ((SELF.VOICE) == (34))) || ((SELF.VOICE) == (32))) {
        B_SAY(SELF, OTHER, "$AMB_SILBACH_FEMALE_ABOUTVILLAGE_V2_01");
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_SILBACH_FEMALE_ABOUTVILLAGE_V2_02");
    };
    AI_RESETFACEANI(OTHER);
    AI_RESETFACEANI(SELF);
}

instance DIA_AMB_SILBACH_LEADER(C_INFO) {
    NR = 2;
    CONDITION = DIA_AMB_SILBACH_LEADER_CONDITION;
    INFORMATION = DIA_AMB_SILBACH_LEADER_INFO;
    PERMANENT = TRUE;
    IMPORTANT = FALSE;
    DESCRIPTION = "Whose opinion matters here?";
}

func int DIA_AMB_SILBACH_LEADER_CONDITION() {
    return TRUE;
}

func void DIA_AMB_SILBACH_LEADER_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    B_SAY(OTHER, SELF, "$MARVIN_WhoIsImportantHere");
    if ((((SELF.VOICE) == (37)) || ((SELF.VOICE) == (72))) || ((SELF.VOICE) == (49))) {
        B_SAY(SELF, OTHER, "$AMB_SILBACH_MALE_WHOSINCHARGE_V1_01");
        if ((LOG_GETSTATUS(MIS_SQ416)) != (LOG_RUNNING)) {
            B_SAY(SELF, OTHER, "$AMB_SILBACH_MALE_WHOSINCHARGE_V1_02");
        };
    };
    if (((((SELF.VOICE) == (6)) || ((SELF.VOICE) == (25))) || ((SELF.VOICE) == (67))) || ((SELF.VOICE) == (59))) {
        B_SAY(SELF, OTHER, "$AMB_SILBACH_MALE_WHOSINCHARGE_V2_01");
        B_SAY(SELF, OTHER, "$AMB_SILBACH_MALE_WHOSINCHARGE_V2_02");
    };
    if (((SELF.VOICE) == (28)) || ((SELF.VOICE) == (64))) {
        B_SAY(SELF, OTHER, "$AMB_SILBACH_MALE_WHOSINCHARGE_V3_01");
        B_SAY(SELF, OTHER, "$AMB_SILBACH_MALE_WHOSINCHARGE_V3_02");
    };
    if (((SELF.VOICE) == (33)) || ((SELF.VOICE) == (31))) {
        B_SAY(SELF, OTHER, "$AMB_SILBACH_FEMALE_WHOSINCHARGE_V1_01");
        if ((LOG_GETSTATUS(MIS_SQ416)) != (LOG_RUNNING)) {
            B_SAY(SELF, OTHER, "$AMB_SILBACH_FEMALE_WHOSINCHARGE_V1_02");
        };
    };
    if (((SELF.VOICE) == (16)) || ((SELF.VOICE) == (34))) {
        B_SAY(SELF, OTHER, "$AMB_SILBACH_FEMALE_WHOSINCHARGE_V2_01");
        B_SAY(SELF, OTHER, "$AMB_SILBACH_FEMALE_WHOSINCHARGE_V2_02");
    };
    if (((SELF.VOICE) == (69)) || ((SELF.VOICE) == (32))) {
        B_SAY(SELF, OTHER, "$AMB_SILBACH_FEMALE_WHOSINCHARGE_V3_01");
        B_SAY(SELF, OTHER, "$AMB_SILBACH_FEMALE_WHOSINCHARGE_V3_02");
    };
    AI_RESETFACEANI(OTHER);
    AI_RESETFACEANI(SELF);
}

instance DIA_AMB_SILBACH_WHATSUP(C_INFO) {
    NR = 3;
    CONDITION = DIA_AMB_SILBACH_WHATSUP_CONDITION;
    INFORMATION = DIA_AMB_SILBACH_WHATSUP_INFO;
    PERMANENT = TRUE;
    IMPORTANT = FALSE;
    DESCRIPTION = "How are you doing?";
}

func int DIA_AMB_SILBACH_WHATSUP_CONDITION() {
    return TRUE;
}

func void DIA_AMB_SILBACH_WHATSUP_INFO() {
    AI_STARTFACEANI(OTHER, S_SMILE, 1, -(1));
    B_SAY(OTHER, SELF, "$MARVIN_WhatNew2");
    if (((((((SELF.VOICE) == (33)) || ((SELF.VOICE) == (16))) || ((SELF.VOICE) == (69))) || ((SELF.VOICE) == (32))) || ((SELF.VOICE) == (31))) || ((SELF.VOICE) == (34))) {
        if ((KAPITEL) == (1)) {
            AI_STARTFACEANI(SELF, "S_TIRED", 1, -(1));
            B_SAY(SELF, OTHER, "$AMB_SILBACH_FEMALE_WHATSNEW_CH1_01");
        } else if ((KAPITEL) == (2)) {
            AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
            B_SAY(SELF, OTHER, "$AMB_SILBACH_FEMALE_WHATSNEW_CH2_01");
        } else if ((KAPITEL) == (3)) {
            AI_STARTFACEANI(SELF, "S_TIRED", 1, -(1));
            B_SAY(SELF, OTHER, "$AMB_SILBACH_FEMALE_WHATSNEW_CH3_01");
        } else if ((KAPITEL) == (4)) {
            if ((SELF.VOICE) == (31)) {
                AI_STARTFACEANI(SELF, "S_TIRED", 1, -(1));
                B_SAY(SELF, OTHER, "$AMB_SILBACH_FEMALE_WHATSNEW_CH3_01");
            } else if ((LOG_GETSTATUS(MIS_SQ416)) != (LOG_RUNNING)) {
                AI_STARTFACEANI(SELF, "S_TIRED", 1, -(1));
                B_SAY(SELF, OTHER, "$AMB_SILBACH_FEMALE_WHATSNEW_CH4_BEASTALIVE_01");
            } else if ((LOG_GETSTATUS(MIS_SQ416)) == (LOG_SUCCESS)) {
                AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
                B_SAY(SELF, OTHER, "$AMB_SILBACH_FEMALE_WHATSNEW_CH4_BEASTADEAD_01");
            };
        } else if ((KAPITEL) == (5)) {
            AI_STARTFACEANI(SELF, "S_TIRED", 1, -(1));
            B_SAY(SELF, OTHER, "$AMB_SILBACH_FEMALE_WHATSNEW_CH5_01");
        };
    };
    if ((KAPITEL) == (1)) {
        AI_STARTFACEANI(SELF, "S_TIRED", 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_SILBACH_MALE_WHATSNEW_CH1_01");
    };
    if ((KAPITEL) == (2)) {
        AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_SILBACH_MALE_WHATSNEW_CH2_01");
    };
    if ((KAPITEL) == (3)) {
        AI_STARTFACEANI(SELF, "S_TIRED", 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_SILBACH_MALE_WHATSNEW_CH3_01");
    };
    if ((KAPITEL) == (4)) {
        if ((LOG_GETSTATUS(MIS_SQ416)) != (LOG_RUNNING)) {
            AI_STARTFACEANI(SELF, "S_TIRED", 1, -(1));
            B_SAY(SELF, OTHER, "$AMB_SILBACH_MALE_WHATSNEW_CH4_BEASTALIVE_01");
        } else if ((LOG_GETSTATUS(MIS_SQ416)) == (LOG_SUCCESS)) {
            AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
            B_SAY(SELF, OTHER, "$AMB_SILBACH_MALE_WHATSNEW_CH4_BEASTADEAD_01");
        };
    };
    if ((KAPITEL) == (5)) {
        AI_STARTFACEANI(SELF, "S_TIRED", 1, -(1));
        B_SAY(SELF, OTHER, "$AMB_SILBACH_MALE_WHATSNEW_CH5_01");
    };
    AI_RESETFACEANI(OTHER);
    AI_RESETFACEANI(SELF);
}

func void B_ASSIGNAMBIENTINFOS_AMB_SILBACH(var C_NPC SLF) {
    DIA_AMB_SILBACH_EXIT.NPC = HLP_GETINSTANCEID(SLF);
    DIA_AMB_SILBACH_ABOUT.NPC = HLP_GETINSTANCEID(SLF);
    DIA_AMB_SILBACH_LEADER.NPC = HLP_GETINSTANCEID(SLF);
    DIA_AMB_SILBACH_WHATSUP.NPC = HLP_GETINSTANCEID(SLF);
}

