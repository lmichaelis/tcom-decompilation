func int DIA_SLD_SQ127_NEWS_CONDITION() {
    if ((((((LOG_GETSTATUS(MIS_SQ127)) == (LOG_SUCCESS)) && (((KAPITEL) >= ((SQ127_WAITINGTIME) + (2))) == (TRUE))) && ((SQ127_WORKWITHGUMBERT) == (3))) && ((NPC_KNOWSINFO(OTHER, 65040)) == (FALSE))) && ((SELF.VOICE) != (28))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_SLD_SQ127_NEWS_INFO() {
    AMBIENT_ASKWHOYOUARE();
    B_SAY(SELF, OTHER, "$DIA_SLD_SQ127_News_08_01");
    LOG_CREATETOPIC(TOPIC_OURVINE, LOG_NOTE);
    AI_LOGENTRY(TOPIC_OURVINE, LOG_OURVINE_NEWINFO);
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_SLD_SQ116_NEWS(C_INFO) {
    NR = 11;
    CONDITION = DIA_SLD_SQ116_NEWS_CONDITION;
    INFORMATION = DIA_SLD_SQ116_NEWS_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_SLD_SQ116_NEWS_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_Q202)) == (LOG_SUCCESS)) && ((HERO.GUILD) == (GIL_VLK))) && ((SQ116_GOTKURTLETTER) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_SLD_SQ116_NEWS_INFO() {
    SQ116_GOTKURTLETTER = TRUE;
    AMBIENT_ASKWHOYOUARE();
    if ((SELF.VOICE) == (28)) {
        B_SAY(SELF, OTHER, "$REWARD_CALM");
    };
    B_SAY(SELF, OTHER, "$DIA_SLD_SQ116_News_08_01");
    CREATEINVITEMS(SELF, 37021, 1);
    B_GIVEINVITEMS(SELF, OTHER, 37021, 1);
    AI_STOPPROCESSINFOS(SELF);
    NPC_EXCHANGEROUTINE(SLD_1020_ARAXOS, TOT);
}

instance DIA_SLD_SQ411_NEWS(C_INFO) {
    NR = 12;
    CONDITION = DIA_SLD_SQ411_NEWS_CONDITION;
    INFORMATION = DIA_SLD_SQ411_NEWS_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

var int SQ411_GOTLETTER;
func int DIA_SLD_SQ411_NEWS_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_SQ411)) == (0)) && ((OLDCITYENTERED) == (TRUE))) && ((SQ411_GOTLETTER) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_SLD_SQ411_NEWS_INFO() {
    SQ411_GOTLETTER = TRUE;
    B_SAY(SELF, OTHER, "$REWARD_CALM");
    CREATEINVITEMS(SELF, 37375, 1);
    B_GIVEINVITEMS(SELF, OTHER, 37375, 1);
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_SLD_SQ225_GERSTAND(C_INFO) {
    NR = 13;
    CONDITION = DIA_SLD_SQ225_GERSTAND_CONDITION;
    INFORMATION = DIA_SLD_SQ225_GERSTAND_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_SLD_SQ225_GERSTAND_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_SQ225)) == (LOG_RUNNING)) && ((SQ225_GERHARD_WAITFORACTION) == (2))) && ((SQ225_ANDERASWAY_AGREED) == (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_SLD_SQ225_GERSTAND_INFO() {
    AMBIENT_ASKWHOYOUARE();
    B_SAY(SELF, OTHER, "$DIA_SLD_SQ225_Gerstand_08_01");
    B_SAY(SELF, OTHER, "$DIA_SLD_SQ225_Gerstand_08_02");
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_SLD_PROMOTIONAVAILABLE(C_INFO) {
    NR = 14;
    CONDITION = DIA_SLD_PROMOTIONAVAILABLE_CONDITION;
    INFORMATION = DIA_SLD_PROMOTIONAVAILABLE_INFO;
    PERMANENT = TRUE;
    IMPORTANT = TRUE;
}

func int DIA_SLD_PROMOTIONAVAILABLE_CONDITION() {
    if ((HERO.GUILD) == (GIL_SLD)) {
        if ((OTHER.AIVAR[93]) <= (WLD_GETDAY())) {
            if (((((((((((((LOG_GETSTATUS(MIS_Q206)) == (LOG_SUCCESS)) && ((Q206_AFTERQUEST) == (1))) && ((Q206_AFTERQUEST_DAY) <= ((WLD_GETDAY()) - (1)))) && ((NPC_KNOWSINFO(OTHER, 71240)) == (FALSE))) || ((((((LOG_GETSTATUS(MIS_QA203)) == (LOG_SUCCESS)) && ((LOG_GETSTATUS(MIS_QA305)) == (LOG_SUCCESS))) && ((QA305_FINISH) == (TRUE))) && ((QA305_FINISH_DAY) <= ((WLD_GETDAY()) - (1)))) && ((NPC_KNOWSINFO(OTHER, 71243)) == (FALSE)))) || ((((((LOG_GETSTATUS(MIS_QA202)) == (LOG_SUCCESS)) && ((LOG_GETSTATUS(MIS_QA303)) == (LOG_SUCCESS))) && ((QA303_FINISH) == (TRUE))) && ((QA303_FINISH_DAY) <= ((WLD_GETDAY()) - (1)))) && ((NPC_KNOWSINFO(OTHER, 71243)) == (FALSE)))) || ((((((((MARVIN_ARAXOSSPECIALIZATION) == (ARAXOS_SPECIALIZATION_NONE)) && ((MARVIN_ARAXOSSPECIALIZATION_CANJOIN_FIGHTER) == (TRUE))) && ((MARVIN_ARAXOSSPECIALIZATION_CANJOIN_ARCHER) == (FALSE))) && ((LOG_GETSTATUS(MIS_QA202)) == (LOG_SUCCESS))) && ((LOG_GETSTATUS(MIS_QA303)) == (LOG_SUCCESS))) && ((QA303_FINISH) == (TRUE))) && ((QA303_FINISH_DAY) <= ((WLD_GETDAY()) - (1))))) || ((((((((MARVIN_ARAXOSSPECIALIZATION) == (ARAXOS_SPECIALIZATION_NONE)) && ((MARVIN_ARAXOSSPECIALIZATION_CANJOIN_FIGHTER) == (FALSE))) && ((MARVIN_ARAXOSSPECIALIZATION_CANJOIN_ARCHER) == (TRUE))) && ((LOG_GETSTATUS(MIS_QA203)) == (LOG_SUCCESS))) && ((LOG_GETSTATUS(MIS_QA305)) == (LOG_SUCCESS))) && ((QA305_FINISH) == (TRUE))) && ((QA305_FINISH_DAY) <= ((WLD_GETDAY()) - (1))))) || ((((((((((((MARVIN_ARAXOSSPECIALIZATION) == (ARAXOS_SPECIALIZATION_FIGHTER)) && ((LOG_GETSTATUS(MIS_QA301)) == (LOG_SUCCESS))) && ((LOG_GETSTATUS(MIS_QA401)) == (LOG_SUCCESS))) && ((LOG_GETSTATUS(MIS_KQ403)) == (LOG_SUCCESS))) && ((QA401_FINISH) == (TRUE))) && ((QA401_FINISH_DAY) <= ((WLD_GETDAY()) - (1)))) && ((QA301_FINISH) == (TRUE))) && ((QA301_FINISH_DAY) <= ((WLD_GETDAY()) - (1)))) && ((KQ403_FINISH) == (TRUE))) && ((KQ403_FINISH_DAY) <= ((WLD_GETDAY()) - (1)))) && ((NPC_KNOWSINFO(OTHER, 71287)) == (FALSE)))) || ((((((((((((MARVIN_ARAXOSSPECIALIZATION) == (ARAXOS_SPECIALIZATION_ARCHER)) && ((LOG_GETSTATUS(MIS_QA302)) == (LOG_SUCCESS))) && ((LOG_GETSTATUS(MIS_QA401)) == (LOG_SUCCESS))) && ((LOG_GETSTATUS(MIS_KQ403)) == (LOG_SUCCESS))) && ((QA401_FINISH) == (TRUE))) && ((QA401_FINISH_DAY) <= ((WLD_GETDAY()) - (1)))) && ((QA302_FINISH) == (TRUE))) && ((QA302_FINISH_DAY) <= ((WLD_GETDAY()) - (1)))) && ((KQ403_FINISH) == (TRUE))) && ((KQ403_FINISH_DAY) <= ((WLD_GETDAY()) - (1)))) && ((NPC_KNOWSINFO(OTHER, 71287)) == (FALSE)))) || (((KAPITEL) == (5)) && ((NPC_KNOWSINFO(OTHER, 71200)) == (FALSE)))) || (((((((KAPITEL) == (5)) && ((MARVIN_ARAXOSSPECIALIZATION) >= (3))) && ((SQ503_GUILDFINALTIER) == (TRUE))) && ((SQ503_GUILDFINALTIER_DAY) <= ((WLD_GETDAY()) - (1)))) && ((LOG_GETSTATUS(MIS_QA306)) == (LOG_SUCCESS))) && ((NPC_KNOWSINFO(OTHER, 71228)) == (FALSE)))) {
                return TRUE;
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_SLD_PROMOTIONAVAILABLE_INFO() {
    AMBIENT_ASKWHOYOUARE();
    B_SAY(SELF, OTHER, "$GUILDAMBIENT_Araxos_LorenzoLooking");
    OTHER.AIVAR[93] = (WLD_GETDAY()) + (1);
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_SLD_LORENZO(C_INFO) {
    NR = 15;
    CONDITION = DIA_SLD_LORENZO_CONDITION;
    INFORMATION = DIA_SLD_LORENZO_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_SLD_LORENZO_CONDITION() {
    if ((((Q404_MARVINFINISHEDMINE) == (2)) && ((LOG_GETSTATUS(MIS_Q402)) == (LOG_RUNNING))) && ((HERO.GUILD) == (GIL_SLD))) {
        if ((Q402_ARAXOS_MESSAGE) == (FALSE)) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_SLD_LORENZO_END() {
    INFO_CLEARCHOICES(42362);
    AI_STOPPROCESSINFOS(SELF);
    CITYAFTERMINE_ARAXOS_LOGENTRY();
}

func void DIA_SLD_LORENZO_INFO() {
    AMBIENT_ASKWHOYOUARE();
    B_SAY(SELF, OTHER, "$DIA_SLD_Lorenzo_08_01");
    AI_OUTPUT(OTHER, SELF, "DIA_SLD_Lorenzo_15_02");
    B_SAY(SELF, OTHER, "$DIA_SLD_Lorenzo_08_03");
    B_SAY(SELF, OTHER, "$DIA_SLD_Lorenzo_08_04");
    INFO_CLEARCHOICES(42362);
    INFO_ADDCHOICE(42362, "The Royal Envoy?", 42366);
    INFO_ADDCHOICE(42362, "Thanks for your message.", 42367);
}

func void DIA_SLD_LORENZO_WHAT() {
    AI_OUTPUT(OTHER, SELF, "DIA_SLD_Lorenzo_What_15_01");
    B_SAY(SELF, OTHER, "$DIA_SLD_Lorenzo_What_08_02");
    AI_OUTPUT(OTHER, SELF, "DIA_SLD_Lorenzo_What_15_03");
    B_SAY(SELF, OTHER, "$DIA_SLD_Lorenzo_What_08_04");
    DIA_SLD_LORENZO_END();
}

func void DIA_SLD_LORENZO_THANKS() {
    AI_OUTPUT(OTHER, SELF, "DIA_SLD_Lorenzo_Thanks_15_01");
    B_SAY(SELF, OTHER, "$DIA_SLD_Lorenzo_Thanks_08_02");
    DIA_SLD_LORENZO_END();
}

instance DIA_SLD_LATE(C_INFO) {
    NR = 16;
    CONDITION = DIA_SLD_LATE_CONDITION;
    INFORMATION = DIA_SLD_LATE_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_SLD_LATE_CONDITION() {
    if (((((Q402_MARVINISLATE) == (TRUE)) && ((HERO.GUILD) == (GIL_SLD))) && ((LOG_GETSTATUS(MIS_Q402)) == (LOG_RUNNING))) && ((NPC_KNOWSINFO(OTHER, 71162)) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_SLD_LATE_INFO() {
    AMBIENT_ASKWHOYOUARE();
    B_SAY(SELF, OTHER, "$DIA_SLD_Late_08_03");
    AI_OUTPUT(OTHER, SELF, "DIA_SLD_Late_15_04");
    AI_STOPPROCESSINFOS(SELF);
    CITYAFTERMINE_ARAXOS_LATE_LOGENTRY();
}

instance DIA_SLD_GIVEARMORBACK(C_INFO) {
    NR = 17;
    CONDITION = DIA_SLD_GIVEARMORBACK_CONDITION;
    INFORMATION = DIA_SLD_GIVEARMORBACK_INFO;
    PERMANENT = TRUE;
    IMPORTANT = TRUE;
}

func int DIA_SLD_GIVEARMORBACK_CONDITION() {
    if ((MARVIN_LOSTGUILDARAXOS) == (TRUE)) {
        if (NPC_HASGUILDARMORINEQ(HERO, GIL_SLD)) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_SLD_GIVEARMORBACK_INFO() {
    B_SAY(SELF, OTHER, "$DIA_SLD_GiveArmorBack_08_01");
    AI_OUTPUT(OTHER, SELF, "DIA_SLD_GiveArmorBack_15_02");
    if ((MARVIN_LOSTGUILDARAXOS) == (TRUE)) {
        B_SAY(SELF, OTHER, "$DIA_SLD_GiveArmorBack_08_04");
        NPC_REMOVEALLGUILDARMORS(HERO, GIL_SLD);
    };
    B_SAY(SELF, OTHER, "$DIA_SLD_GiveArmorBack_08_05");
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_SLD_LUDWIGMESSAGE(C_INFO) {
    NR = 18;
    CONDITION = DIA_SLD_LUDWIGMESSAGE_CONDITION;
    INFORMATION = DIA_SLD_LUDWIGMESSAGE_INFO;
    PERMANENT = TRUE;
    IMPORTANT = TRUE;
}

func int DIA_SLD_LUDWIGMESSAGE_CONDITION() {
    if (((LOG_GETSTATUS(MIS_Q402)) == (LOG_RUNNING)) && ((Q402_LUDWIG_FINISHEDMAP) == (2))) {
        if ((Q402_ARAXOS_LUDWIGMESSAGE) == (FALSE)) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_SLD_LUDWIGMESSAGE_INFO() {
    AMBIENT_ASKWHOYOUARE();
    B_SAY(SELF, OTHER, "$DIA_SLD_LudwigMessage_08_05");
    AI_OUTPUT(OTHER, SELF, "DIA_SLD_LudwigMessage_15_06");
    B_SAY(SELF, OTHER, "$DIA_SLD_LudwigMessage_08_07");
    AI_STOPPROCESSINFOS(SELF);
    CITYAFTERMINE_ARAXOS_LUDWIGMESSAGE_LOGENTRY();
}

func void B_ASSIGNAMBIENTINFOS_SLD_CITY(var C_NPC SLF) {
    DIA_SLD_PROMOTIONAVAILABLE.NPC = HLP_GETINSTANCEID(SLF);
    DIA_SLD_SQ225_GERSTAND.NPC = HLP_GETINSTANCEID(SLF);
    DIA_SLD_LORENZO.NPC = HLP_GETINSTANCEID(SLF);
    DIA_SLD_LATE.NPC = HLP_GETINSTANCEID(SLF);
    DIA_SLD_GIVEARMORBACK.NPC = HLP_GETINSTANCEID(SLF);
    DIA_SLD_LUDWIGMESSAGE.NPC = HLP_GETINSTANCEID(SLF);
    DIA_SLD_SQ116_NEWS.NPC = HLP_GETINSTANCEID(SLF);
    DIA_SLD_SQ127_NEWS.NPC = HLP_GETINSTANCEID(SLF);
    DIA_SLD_SQ411_NEWS.NPC = HLP_GETINSTANCEID(SLF);
}

