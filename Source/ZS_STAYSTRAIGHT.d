func void ZS_STAYSTRAIGHT() {
    PERCEPTION_SET_NORMAL();
    B_RESETALL(SELF);
    AI_SETWALKMODE(SELF, NPC_WALK);
    if ((NPC_GETDISTTOWP(SELF, SELF.WP)) > (TA_DIST_SELFWP_MAX)) {
        AI_GOTOWP(SELF, SELF.WP);
    };
    SELF.AIVAR[19] = NOTINPOS;
}

func int ZS_STAYSTRAIGHT_LOOP() {
    if ((NPC_GETSTATETIME(SELF)) >= (5)) {
        if ((NPC_GETDISTTONPC(SELF, HERO)) > (PERC_DIST_DIALOG)) {
            AI_ALIGNTOWP(SELF);
            NPC_SETSTATETIME(SELF, 0);
        };
    };
    return LOOP_CONTINUE;
}

func void ZS_STAYSTRAIGHT_END() {
}

func void ZS_STAYSTRAIGHT_NODIALOGE() {
    PERCEPTION_SET_INTROVERT();
    B_RESETALL(SELF);
    AI_SETWALKMODE(SELF, NPC_WALK);
    if ((NPC_GETDISTTOWP(SELF, SELF.WP)) > (TA_DIST_SELFWP_MAX)) {
        AI_GOTOWP(SELF, SELF.WP);
    };
    SELF.AIVAR[19] = NOTINPOS;
}

func int ZS_STAYSTRAIGHT_NODIALOGE_LOOP() {
    if ((NPC_GETSTATETIME(SELF)) >= (5)) {
        if ((NPC_GETDISTTONPC(SELF, HERO)) > (PERC_DIST_DIALOG)) {
            AI_ALIGNTOWP(SELF);
            NPC_SETSTATETIME(SELF, 0);
        };
    };
    return LOOP_CONTINUE;
}

func void ZS_STAYSTRAIGHT_NODIALOGE_END() {
}

func void ZS_STAYSTRAIGHT_DUMB() {
    PERCEPTION_SET_DUMB();
    B_RESETALL(SELF);
    AI_SETWALKMODE(SELF, NPC_WALK);
    if ((NPC_GETDISTTOWP(SELF, SELF.WP)) > (TA_DIST_SELFWP_MAX)) {
        AI_GOTOWP(SELF, SELF.WP);
    };
    SELF.AIVAR[19] = NOTINPOS;
}

func int ZS_STAYSTRAIGHT_DUMB_LOOP() {
    if ((NPC_GETSTATETIME(SELF)) >= (5)) {
        if ((NPC_GETDISTTONPC(SELF, HERO)) > (PERC_DIST_DIALOG)) {
            AI_ALIGNTOWP(SELF);
            NPC_SETSTATETIME(SELF, 0);
        };
    };
    return LOOP_CONTINUE;
}

func void ZS_STAYSTRAIGHT_DUMB_END() {
}

func void ZS_STAYSTRAIGHT_NOIQ() {
    PERCEPTION_SET_NONE();
    B_RESETALL(SELF);
    AI_SETWALKMODE(SELF, NPC_WALK);
    if ((NPC_GETDISTTOWP(SELF, SELF.WP)) > (TA_DIST_SELFWP_MAX)) {
        AI_GOTOWP(SELF, SELF.WP);
    };
    SELF.AIVAR[19] = NOTINPOS;
}

func int ZS_STAYSTRAIGHT_NOIQ_LOOP() {
    if ((NPC_GETSTATETIME(SELF)) >= (5)) {
        AI_ALIGNTOWP(SELF);
        NPC_SETSTATETIME(SELF, 0);
    };
    return LOOP_CONTINUE;
}

func void ZS_STAYSTRAIGHT_NOIQ_END() {
}

func void ZS_STAYSTRAIGHT_BLINDED() {
    PERCEPTION_SET_BLINDED();
    B_RESETALL(SELF);
    AI_SETWALKMODE(SELF, NPC_SNEAK);
    if ((NPC_GETDISTTOWP(SELF, SELF.WP)) > (TA_DIST_SELFWP_MAX)) {
        AI_GOTOWP(SELF, SELF.WP);
    };
    SELF.AIVAR[19] = NOTINPOS;
}

func int ZS_STAYSTRAIGHT_BLINDED_LOOP() {
    if ((NPC_GETSTATETIME(SELF)) >= (5)) {
        if ((NPC_GETDISTTONPC(SELF, HERO)) > (PERC_DIST_DIALOG)) {
            AI_ALIGNTOWP(SELF);
            NPC_SETSTATETIME(SELF, 0);
        };
    };
    return LOOP_CONTINUE;
}

func void ZS_STAYSTRAIGHT_BLINDED_END() {
}

func void ZS_STAYSTRAIGHT_Q602() {
    NPC_SETPERCTIME(SELF, 1065353216);
    NPC_PERCENABLE(SELF, PERC_ASSESSMAGIC, 43309);
    NPC_PERCENABLE(SELF, PERC_ASSESSDAMAGE, 41635);
    NPC_PERCENABLE(SELF, PERC_ASSESSWARN, 41653);
    NPC_PERCENABLE(SELF, PERC_ASSESSPLAYER, 43306);
    if ((C_NPC_ICANTTALK(SELF)) == (FALSE)) {
        NPC_PERCENABLE(SELF, PERC_ASSESSTALK, 41645);
    };
    if ((C_NPC_ICANTTALK(SELF)) == (TRUE)) {
        NPC_PERCENABLE(SELF, PERC_ASSESSENEMY, 41633);
        NPC_PERCENABLE(SELF, PERC_ASSESSFIGHTSOUND, 41641);
    };
    B_RESETALL(SELF);
    AI_SETWALKMODE(SELF, NPC_WALK);
    if ((NPC_GETDISTTOWP(SELF, SELF.WP)) > (TA_DIST_SELFWP_MAX)) {
        AI_GOTOWP(SELF, SELF.WP);
    };
    SELF.AIVAR[19] = NOTINPOS;
}

func int ZS_STAYSTRAIGHT_Q602_LOOP() {
    if ((NPC_GETSTATETIME(SELF)) >= (5)) {
        if ((NPC_GETDISTTONPC(SELF, HERO)) > (PERC_DIST_DIALOG)) {
            AI_ALIGNTOWP(SELF);
            NPC_SETSTATETIME(SELF, 0);
        };
    };
    return LOOP_CONTINUE;
}

func void ZS_STAYSTRAIGHT_Q602_END() {
}

