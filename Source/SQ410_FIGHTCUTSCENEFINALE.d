instance SQ410_FIGHTCUTSCENEFINALE(CUTSCENE) {
    ONSTART = FUNCTION(92969);
}

func void SQ410_FIGHTCUTSCENEFINALE_WAIT() {
    AI_WAITTILLEND(HERO, MIL_6318_LUTZ);
    AI_WAITTILLEND(MIL_6318_LUTZ, HERO);
}

func void SQ410_FIGHTCUTSCENEFINALE_START() {
    WLD_SENDTRIGGER("SQ410_FIGHT_04");
    WLD_SENDUNTRIGGER("SQ410_FIGHT_03");
    NPC_CLEARAIQUEUE(MIL_6318_LUTZ);
    MIL_6318_LUTZ.AIVAR[92] = TRUE;
    B_TURNTONPC(MIL_6318_LUTZ, BAU_702_VIKTOR);
    B_TURNTONPC(HERO, MIL_6318_LUTZ);
    SQ410_FIGHTCUTSCENEFINALE_WAIT();
    AI_REMOVEWEAPON(MIL_6318_LUTZ);
    AI_STARTFACEANI(MIL_6318_LUTZ, S_ANGRY, 1, -(1));
    AI_SETWALKMODE(MIL_6318_LUTZ, NPC_WALK);
    AI_GOTONPC(MIL_6318_LUTZ, BAU_702_VIKTOR);
    AI_PLAYANIBS(MIL_6318_LUTZ, T_STAND_2_SIT, BS_SIT);
    AI_OUTPUT(MIL_6318_LUTZ, HERO, "DIA_Lutz_SQ410_Cutscene_03_05");
    AI_OUTPUT(MIL_6318_LUTZ, HERO, "DIA_Lutz_SQ410_Cutscene_03_06");
    AI_OUTPUT(MIL_6318_LUTZ, HERO, "DIA_Lutz_SQ410_Cutscene_03_07");
    SQ410_FIGHTCUTSCENEFINALE_WAIT();
    AI_FUNCTION(HERO, 92971);
    AI_WAIT(HERO, 1036831949);
    AI_PLAYANI(HERO, "T_FACEPALM");
    AI_WAIT(HERO, 1036831949);
    AI_FUNCTION(HERO, 92970);
}

func void SQ410_FIGHTCUTSCENEFINALE_END() {
    SQ410_ENDING_V1 = 3;
    WLD_SENDUNTRIGGER("SQ410_FIGHT_01");
    WLD_SENDUNTRIGGER("SQ410_FIGHT_02");
    WLD_SENDUNTRIGGER("SQ410_FIGHT_03");
    WLD_SENDUNTRIGGER("SQ410_FIGHT_04");
    WLD_SENDUNTRIGGER("SQ410_FIGHT_05");
    BAU_702_VIKTOR.FIGHT_TACTIC = FAI_HUMAN_COWARD;
    MIL_6318_LUTZ.FIGHT_TACTIC = FAI_HUMAN_MASTER;
    BAU_702_VIKTOR.AIVAR[96] = 10;
    RESTOREROUTINE_VIKTOR();
    B_STARTOTHERROUTINE(MIL_6318_LUTZ, "SQ410_START");
    NPC_REFRESH(MIL_6318_LUTZ);
    MIL_6318_LUTZ.FLAGS = NPC_FLAG_IMPORTANT;
    MDL_REMOVEOVERLAYMDS(MIL_6318_LUTZ, "HumanS_Sit_SlavSquat.mds");
    MIL_6318_LUTZ.AIVAR[92] = FALSE;
    HERO.AIVAR[4] = FALSE;
}

func void SQ410_FIGHTCUTSCENEFINALE_CAMERA_01() {
    WLD_SENDTRIGGER("SQ410_FIGHT_05");
    WLD_SENDUNTRIGGER("SQ410_FIGHT_04");
}

