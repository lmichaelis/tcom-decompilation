instance DIA_GAROS_EXIT(C_INFO) {
    NPC = 52041;
    NR = 999;
    CONDITION = DIA_GAROS_EXIT_CONDITION;
    INFORMATION = DIA_GAROS_EXIT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = DIALOG_ENDE;
}

func int DIA_GAROS_EXIT_CONDITION() {
    return TRUE;
}

func void DIA_GAROS_EXIT_INFO() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_GAROS_QA202_START(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_QA202_START_CONDITION;
    INFORMATION = DIA_GAROS_QA202_START_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I'm here for an assignment.";
}

func int DIA_GAROS_QA202_START_CONDITION() {
    if ((LOG_GETSTATUS(MIS_QA202)) == (LOG_RUNNING)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

var int GAROS_QA202_START_WHAT;
var int GAROS_QA202_START_HELP;
var int GAROS_QA202_START_HURT;
func void DIA_GAROS_QA202_START_NEXT() {
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Start_Next_03_01");
    AI_LOGENTRY(TOPIC_QA202, LOG_QA202_GAROS);
    INFO_CLEARCHOICES(70528);
    AI_STOPPROCESSINFOS(SELF);
}

func void DIA_GAROS_QA202_START_CHOICES() {
    AI_RESETFACEANI(SELF);
    INFO_CLEARCHOICES(70528);
    if ((((GAROS_QA202_START_WHAT) == (TRUE)) && ((GAROS_QA202_START_HELP) == (TRUE))) && ((GAROS_QA202_START_HURT) == (TRUE))) {
        DIA_GAROS_QA202_START_NEXT();
    };
    if ((GAROS_QA202_START_HURT) == (FALSE)) {
        INFO_ADDCHOICE(70528, "What if something happens to her?", 70538);
    };
    if ((GAROS_QA202_START_HELP) == (FALSE)) {
        INFO_ADDCHOICE(70528, "That help is the only condition?", 70537);
    };
    if ((GAROS_QA202_START_WHAT) == (FALSE)) {
        INFO_ADDCHOICE(70528, "What kind of escapade?", 70536);
    };
}

func void DIA_GAROS_QA202_START_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA202_Start_15_01");
    AI_STARTFACEANI(SELF, "S_REALLY", 1, -(1));
    if ((KAPITEL) <= (2)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Start_03_02");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Start_03_03");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Start_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Start_03_05");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Start_03_06");
    DIA_GAROS_QA202_START_CHOICES();
}

func void DIA_GAROS_QA202_START_WHAT() {
    GAROS_QA202_START_WHAT = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA202_Start_What_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Start_What_03_02");
    DIA_GAROS_QA202_START_CHOICES();
}

func void DIA_GAROS_QA202_START_HELP() {
    GAROS_QA202_START_HELP = TRUE;
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA202_Start_Help_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Start_Help_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Start_Help_03_03");
    DIA_GAROS_QA202_START_CHOICES();
}

func void DIA_GAROS_QA202_START_HURT() {
    GAROS_QA202_START_HURT = TRUE;
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA202_Start_Hurt_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Start_Hurt_03_02");
    DIA_GAROS_QA202_START_CHOICES();
}

instance DIA_GAROS_QA202_WHERE(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_QA202_WHERE_CONDITION;
    INFORMATION = DIA_GAROS_QA202_WHERE_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Where can I find Ramha?";
}

func int DIA_GAROS_QA202_WHERE_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_QA202)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 70528))) && (!(NPC_KNOWSINFO(OTHER, 76351)))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_QA202_WHERE_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA202_Where_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Where_03_02");
}

instance DIA_GAROS_QA202_FINISH(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_QA202_FINISH_CONDITION;
    INFORMATION = DIA_GAROS_QA202_FINISH_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_GAROS_QA202_FINISH_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_QA202)) == (LOG_RUNNING)) && ((QA202_RAMHAAFTERPLANT) >= (1))) && (NPC_ISINSTATE(SELF, 61599))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_QA202_FINISH_INFO() {
    if ((QA202_RAMHAAFTERPLANT) == (1)) {
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA202_Finish_15_01");
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Finish_03_02");
        AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA202_Finish_15_03");
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Finish_03_04");
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Finish_03_05");
        CREATEINVITEMS(SELF, 34203, QA202_REWARD);
        B_GIVEINVITEMS(SELF, OTHER, 34203, QA202_REWARD);
        B_GIVEPLAYERXP(QA202_FINISH_V1);
        AI_LOGENTRY(TOPIC_QA202, LOG_QA202_FINISH_V1);
        PRINTD("+3 rep do £owców");
        PRINTD(CS2("Aktualna reputacja wœród £owców:", INTTOSTRING(ARAXOS_HUNTERSREPUTATION)));
    };
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Finish_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Finish_03_07");
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA202_Finish_15_08");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Finish_03_09");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Finish_03_10");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA202_Finish_03_11");
    B_GIVEPLAYERXP(QA202_FINISH_V2);
    AI_LOGENTRY(TOPIC_QA202, LOG_QA202_FINISH_V2);
    PRINTD("+1 rep do £owców");
    PRINTD(CS2("Aktualna reputacja wœród £owców:", INTTOSTRING(ARAXOS_HUNTERSREPUTATION)));
    SCATTY_TEACH_PERM2 = FALSE;
    B_STARTOTHERROUTINE(VLK_6407_RAMHA, START);
    LOG_SETSTATUS(_@(MIS_QA202), TOPIC_QA202, LOG_SUCCESS);
    AI_RESETFACEANI(SELF);
    AI_STOPPROCESSINFOS(SELF);
    RESTOREROUTINE_FIGARO();
    AI_FUNCTION(SELF, 70545);
}

func void GAROS_QA202_SPAWNSNAPPERS() {
    WLD_INSERTNPC(50892, "PART7_MOB_21");
    WLD_INSERTNPC(50892, "PART7_MOB_22");
    WLD_INSERTNPC(51018, "PART7_CUTSCENE_QA202_HERO");
}

instance DIA_GAROS_QA302_START(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_QA302_START_CONDITION;
    INFORMATION = DIA_GAROS_QA302_START_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Is there a job specifically for a tracker?";
}

func int DIA_GAROS_QA302_START_CONDITION() {
    if ((((HERO.GUILD) == (GIL_SLD)) && ((MARVIN_ARAXOSSPECIALIZATION) == (ARAXOS_SPECIALIZATION_ARCHER))) && ((LOG_GETSTATUS(MIS_QA303)) == (LOG_SUCCESS))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

var int GAROS_QA302_START_WHY;
var int GAROS_QA302_START_MANY;
var int GAROS_QA302_START_WHO;
func void DIA_GAROS_QA302_START_NEXT() {
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Start_Next_03_01");
    LOG_CREATETOPIC(TOPIC_QA302, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_QA302), TOPIC_QA302, LOG_RUNNING);
    AI_LOGENTRY(TOPIC_QA302, LOG_QA302_START);
    INFO_CLEARCHOICES(70546);
    QA302_PREPAREQUEST();
}

func void DIA_GAROS_QA302_CHOICES() {
    INFO_CLEARCHOICES(70546);
    if ((((GAROS_QA302_START_WHY) == (FALSE)) || ((GAROS_QA302_START_MANY) == (FALSE))) || ((GAROS_QA302_START_WHO) == (FALSE))) {
        if ((GAROS_QA302_START_WHO) == (FALSE)) {
            INFO_ADDCHOICE(70546, "Do I get anyone to help me?", 70556);
        };
        if ((GAROS_QA302_START_MANY) == (FALSE)) {
            INFO_ADDCHOICE(70546, "There are several roads leading to the Great Vineyard...", 70555);
        };
        if ((GAROS_QA302_START_WHY) == (FALSE)) {
            INFO_ADDCHOICE(70546, "Why does he go to the Great Vineyard?", 70554);
        };
    };
    DIA_GAROS_QA302_START_NEXT();
}

func void DIA_GAROS_QA302_START_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_Start_15_01");
    AI_STARTFACEANI(SELF, S_THINK, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Start_03_02");
    B_STANDUP();
    B_USEFAKESCROLL();
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Start_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Start_03_04");
    DIA_GAROS_QA302_CHOICES();
}

func void DIA_GAROS_QA302_START_WHY() {
    GAROS_QA302_START_WHY = TRUE;
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_Start_Why_15_01");
    AI_RESETFACEANI(OTHER);
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Start_Why_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Start_Why_03_03");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_Start_Why_15_04");
    DIA_GAROS_QA302_CHOICES();
}

func void DIA_GAROS_QA302_START_MANY() {
    GAROS_QA302_START_MANY = TRUE;
    AI_STARTFACEANI(OTHER, S_DOUBT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_Start_Many_15_01");
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Start_Many_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Start_Many_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Start_Many_03_04");
    DIA_GAROS_QA302_CHOICES();
}

func void DIA_GAROS_QA302_START_WHO() {
    GAROS_QA302_START_WHO = TRUE;
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_Start_Who_15_01");
    AI_RESETFACEANI(OTHER);
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Start_Who_03_02");
    DIA_GAROS_QA302_CHOICES();
}

instance DIA_GAROS_QA302_ROUTESDONE(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_QA302_ROUTESDONE_CONDITION;
    INFORMATION = DIA_GAROS_QA302_ROUTESDONE_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I checked both ways.";
}

func int DIA_GAROS_QA302_ROUTESDONE_CONDITION() {
    if (((LOG_GETSTATUS(MIS_QA302)) == (LOG_RUNNING)) && ((QA302_ALLROUTESDONE) == (1))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_QA302_ROUTESDONE_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_RoutesDone_15_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_RoutesDone_15_02");
    AI_STARTFACEANI(OTHER, S_TIRED, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_RoutesDone_15_03");
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_RoutesDone_15_04");
    AI_STARTFACEANI(SELF, S_THINK, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_RoutesDone_03_05");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_RoutesDone_15_06");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_RoutesDone_03_07");
    INFO_CLEARCHOICES(70557);
    INFO_ADDCHOICE(70557, "Do you think this is some kind of trap?", 70561);
    INFO_ADDCHOICE(70557, "Ernesto will have protection?", 70562);
}

func void DIA_GAROS_QA302_ROUTESDONE_NEXT() {
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_RoutesDone_Next_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_RoutesDone_Next_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_RoutesDone_Next_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_RoutesDone_Next_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_RoutesDone_Next_03_05");
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_RoutesDone_Next_15_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_RoutesDone_Next_03_07");
    INFO_CLEARCHOICES(70557);
    AI_LOGENTRY(TOPIC_QA302, LOG_QA302_GAROS_PLAN);
}

func void DIA_GAROS_QA302_ROUTESDONE_THINK() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_RoutesDone_Think_15_01");
    AI_STARTFACEANI(SELF, S_THINK, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_RoutesDone_Think_03_02");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_RoutesDone_Think_03_03");
    DIA_GAROS_QA302_ROUTESDONE_NEXT();
}

func void DIA_GAROS_QA302_ROUTESDONE_ERNESTO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_RoutesDone_Ernesto_15_01");
    AI_STARTFACEANI(SELF, S_THINK, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_RoutesDone_Ernesto_03_02");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_RoutesDone_Ernesto_03_03");
    DIA_GAROS_QA302_ROUTESDONE_NEXT();
}

instance DIA_GAROS_QA302_FINISH(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_QA302_FINISH_CONDITION;
    INFORMATION = DIA_GAROS_QA302_FINISH_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "It's done.";
}

func int DIA_GAROS_QA302_FINISH_CONDITION() {
    if (((LOG_GETSTATUS(MIS_QA302)) == (LOG_RUNNING)) && ((QA302_FINALFIGHT) == (2))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_QA302_FINISH_INFO() {
    var int GAROS_QA302_GOODPOINTS;
    GAROS_QA302_GOODPOINTS = (GAROS_QA302_GOODPOINTS) + (1);
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_Finish_15_01");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Finish_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_Finish_15_03");
    if ((QA302_CARAMONHELP) == (2)) {
        AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_Finish_15_04");
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Finish_03_05");
        AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Finish_03_09");
    };
    GAROS_QA302_GOODPOINTS = (GAROS_QA302_GOODPOINTS) + (1);
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_Finish_15_06");
    AI_STARTFACEANI(SELF, S_SURPRISE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Finish_03_07");
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Finish_03_08");
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_Finish_15_10");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Finish_03_11");
    if ((QA302_READERNESTOLIST) == (TRUE)) {
        GAROS_QA302_GOODPOINTS = (GAROS_QA302_GOODPOINTS) + (1);
        AI_STARTFACEANI(OTHER, S_SMILE, 1, -(1));
        AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_Finish_15_12");
        B_GIVEINVITEMS(OTHER, SELF, 37206, 1);
        B_STANDUP();
        B_USEFAKESCROLL();
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Finish_03_13");
    };
    AI_STARTFACEANI(OTHER, S_TIRED, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_Finish_15_14");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Finish_03_15");
    AI_RESETFACEANI(OTHER);
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Finish_03_16");
    if ((QA302_ERNESTODIALOGUE) == (1)) {
        GAROS_QA302_GOODPOINTS = (GAROS_QA302_GOODPOINTS) + (1);
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Finish_03_17");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Finish_03_18");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Finish_03_19");
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    if ((QA302_ARAXOSARMOREQUIPED) == (TRUE)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Finish_03_20");
    };
    GAROS_QA302_GOODPOINTS = (GAROS_QA302_GOODPOINTS) + (1);
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Finish_03_21");
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA302_Finish_15_22");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA302_Finish_03_23");
    AI_LOGENTRY(TOPIC_QA302, LOG_QA302_FINISH);
    LOG_SETSTATUS(_@(MIS_QA302), TOPIC_QA302, LOG_SUCCESS);
    RESTOREROUTINE_CARAMON();
    QA302_BRINGBACK_RANDOM_TRAPS();
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    QA302_FINISH = TRUE;
    QA302_FINISH_DAY = WLD_GETDAY();
    FF_APPLYONCEEXTGT(61428, 0, -(1));
    B_GIVEPLAYERXP((XP_QA302_FINISH) * (GAROS_QA302_GOODPOINTS));
    CREATEINVITEMS(SELF, 34203, (QA302_REWARD) * (GAROS_QA302_GOODPOINTS));
    B_GIVEINVITEMS(SELF, OTHER, 34203, (QA302_REWARD) * (GAROS_QA302_GOODPOINTS));
    Q204_ARAXOSGUILDREPUTATION = ((Q204_ARAXOSGUILDREPUTATION) + (1)) + ((Q204_ARAXOSGUILDREPUTATION) + (GAROS_QA302_GOODPOINTS));
    PRINTD(CS2("Rep do reputacji w Gildii: ", INTTOSTRING((GAROS_QA302_GOODPOINTS) + (1))));
    PRINTD(CS2("Aktualna reputacja w Gildii: ", INTTOSTRING(Q204_ARAXOSGUILDREPUTATION)));
}

instance DIA_GAROS_QA303_START(C_INFO) {
    NPC = 52041;
    NR = 2;
    CONDITION = DIA_GAROS_QA303_START_CONDITION;
    INFORMATION = DIA_GAROS_QA303_START_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_GAROS_QA303_START_CONDITION() {
    if ((((KAPITEL) >= (3)) && ((HERO.GUILD) == (GIL_SLD))) && ((LOG_GETSTATUS(MIS_QA202)) == (LOG_SUCCESS))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_QA303_START_INFO() {
    CREATEINVITEMS(SELF, 37209, 1);
    B_GIVEINVITEMS(SELF, OTHER, 37209, 1);
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA303_Start_03_01");
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA303_Start_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA303_Start_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA303_Start_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA303_Start_03_05");
    LOG_CREATETOPIC(TOPIC_QA303, LOG_MISSION);
    LOG_SETSTATUS(_@(MIS_QA303), TOPIC_QA303, LOG_RUNNING);
    AI_LOGENTRY(TOPIC_QA303, LOG_QA303_START);
}

instance DIA_GAROS_QA303_FINISH(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_QA303_FINISH_CONDITION;
    INFORMATION = DIA_GAROS_QA303_FINISH_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I assessed all the guidelines.";
}

func int DIA_GAROS_QA303_FINISH_CONDITION() {
    if (((LOG_GETSTATUS(MIS_QA303)) == (LOG_RUNNING)) && ((QA303_ALLJOBDONE) == (TRUE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_QA303_FINISH_INFO() {
    var int GAROS_QA303_GOODPOINTS;
    GAROS_QA303_GOODPOINTS = (GAROS_QA303_GOODPOINTS) + (1);
    QA303_FINISH = TRUE;
    QA303_FINISH_DAY = WLD_GETDAY();
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA303_Finish_15_01");
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA303_Finish_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA303_Finish_15_03");
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA303_Finish_15_04");
    if ((QA303_ALLSKELETONSDEAD) == (TRUE)) {
        GAROS_QA303_GOODPOINTS = (GAROS_QA303_GOODPOINTS) + (1);
        AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA303_Finish_15_05");
    };
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA303_Finish_15_06");
    if ((QA303_ALLSEASHARKDEAD) == (TRUE)) {
        GAROS_QA303_GOODPOINTS = (GAROS_QA303_GOODPOINTS) + (1);
        AI_OUTPUT(OTHER, SELF, "DIA_Garos_QA303_Finish_15_07");
    };
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_QA303_Finish_03_08");
    AI_LOGENTRY(TOPIC_QA303, LOG_QA303_FINISH);
    LOG_SETSTATUS(_@(MIS_QA303), TOPIC_QA303, LOG_SUCCESS);
    B_GIVEPLAYERXP((XP_QA303_FINISH) * (GAROS_QA303_GOODPOINTS));
    CREATEINVITEMS(SELF, 34203, (QA303_REWARD) * (GAROS_QA303_GOODPOINTS));
    B_GIVEINVITEMS(SELF, OTHER, 34203, (QA303_REWARD) * (GAROS_QA303_GOODPOINTS));
    Q204_ARAXOSGUILDREPUTATION = ((Q204_ARAXOSGUILDREPUTATION) + (1)) + ((Q204_ARAXOSGUILDREPUTATION) + (GAROS_QA303_GOODPOINTS));
    PRINTD(CS2("Rep do reputacji w Gildii: ", INTTOSTRING((GAROS_QA303_GOODPOINTS) + (1))));
    PRINTD(CS2("Aktualna reputacja w Gildii: ", INTTOSTRING(Q204_ARAXOSGUILDREPUTATION)));
}

instance DIA_GAROS_PROMOTION_TIER1_QUESTION(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_PROMOTION_TIER1_QUESTION_CONDITION;
    INFORMATION = DIA_GAROS_PROMOTION_TIER1_QUESTION_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "I hear you want me in your unit.";
}

func int DIA_GAROS_PROMOTION_TIER1_QUESTION_CONDITION() {
    if ((HERO.GUILD) == (GIL_SLD)) {
        if (((MARVIN_ARAXOSSPECIALIZATION) == (ARAXOS_SPECIALIZATION_NONE)) && ((MARVIN_ARAXOSSPECIALIZATION_CANJOIN_ARCHER) == (TRUE))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_PROMOTION_TIER1_QUESTION_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_Promotion_Tier1_Question_15_01");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_Promotion_Tier1_Question_03_02");
    AI_RESETFACEANI(SELF);
}

instance DIA_GAROS_PROMOTION_TIER1_READY(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_PROMOTION_TIER1_READY_CONDITION;
    INFORMATION = DIA_GAROS_PROMOTION_TIER1_READY_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "I'm ready to join your unit.";
}

func int DIA_GAROS_PROMOTION_TIER1_READY_CONDITION() {
    if ((HERO.GUILD) == (GIL_SLD)) {
        if (NPC_KNOWSINFO(OTHER, 70574)) {
            if (((MARVIN_ARAXOSSPECIALIZATION) == (ARAXOS_SPECIALIZATION_NONE)) && ((MARVIN_ARAXOSSPECIALIZATION_CANJOIN_ARCHER) == (TRUE))) {
                return TRUE;
            };
        };
    };
    return 0 /* !broken stack! */;
}

func void GAROS_CARAMONSPECIALIZATION_TIER1() {
    if ((CARAMON_TIERARMOR) == (3)) {
        CARAMON_TIERARMOR = 4;
        NPC_CHANGEARMOR(SLD_1009_CARAMON, 35475);
        NPC_REMOVEINVITEMS(SLD_1009_CARAMON, 35470, 1);
        EQUIPITEM(SLD_1009_CARAMON, 39751);
        CREATEINVITEMS(SLD_1009_CARAMON, 34383, 20);
        B_SETATTRIBUTESTOLEVEL(SLD_1009_CARAMON, 50);
    };
    CARAMON_TIERARMOR = 3;
    NPC_CHANGEARMOR(SLD_1009_CARAMON, 35470);
    NPC_REMOVEINVITEMS(SLD_1009_CARAMON, 35465, 1);
    EQUIPITEM(SLD_1009_CARAMON, 39749);
    CREATEINVITEMS(SLD_1009_CARAMON, 34383, 20);
    B_SETATTRIBUTESTOLEVEL(SLD_1009_CARAMON, 40);
}

func void DIA_GAROS_PROMOTION_TIER1_READY_INFO() {
    var string GAROS_CHECKSMARVINBOWLEVEL;
    var string MARVIN_CURRENTBOWLEVEL_GAROS;
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_Promotion_Tier1_Ready_15_01");
    if (((OTHER.HITCHANCE[3]) >= (40)) || ((OTHER.HITCHANCE[4]) >= (40))) {
        MARVIN_ARAXOS_WHEREJOINED = 2;
        MARVIN_ARAXOSSPECIALIZATION = ARAXOS_SPECIALIZATION_ARCHER;
        SND_PLAY("LEVELUP");
        B_GIVEPLAYERXP(XP_ARAXOS_PROMOTION_TIER2);
        AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Promotion_Tier1_Ready_03_02");
        B_STANDUP();
        B_USEFAKESCROLL();
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Promotion_Tier1_Ready_03_03");
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Promotion_Tier1_Ready_03_04");
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Promotion_Tier1_Ready_03_05");
        AI_STARTFACEANI(OTHER, S_SMILE, 1, -(1));
        AI_OUTPUT(OTHER, SELF, "DIA_Garos_Promotion_Tier1_Ready_15_06");
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Promotion_Tier1_Ready_03_07");
        AI_FUNCTION(SELF, 70579);
    };
    if ((OTHER.HITCHANCE[3]) > (OTHER.HITCHANCE[4])) {
        MARVIN_CURRENTBOWLEVEL_GAROS = INTTOSTRING((40) - (HERO.HITCHANCE[3]));
        GAROS_CHECKSMARVINBOWLEVEL = CONCATSTRINGS(MARVIN_CURRENTBOWLEVEL_GAROS, PRINT_NEEDEDBOWLEVEL);
    };
    MARVIN_CURRENTBOWLEVEL_GAROS = INTTOSTRING((40) - (HERO.HITCHANCE[4]));
    GAROS_CHECKSMARVINBOWLEVEL = CONCATSTRINGS(MARVIN_CURRENTBOWLEVEL_GAROS, PRINT_NEEDEDCBOWLEVEL);
    AI_PRINTSCREEN(GAROS_CHECKSMARVINBOWLEVEL, -(1), -(1), FONT_SCREEN, 3);
    AI_STARTFACEANI(SELF, S_WHAT, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_Promotion_Tier1_Ready_03_08");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_Promotion_Tier1_Ready_03_09");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

instance DIA_GAROS_SQ503_PLAN(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_SQ503_PLAN_CONDITION;
    INFORMATION = DIA_GAROS_SQ503_PLAN_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "What do you think of this plan?";
}

func int DIA_GAROS_SQ503_PLAN_CONDITION() {
    if (((LOG_GETSTATUS(MIS_SQ503)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 67582))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_SQ503_PLAN_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_SQ503_Plan_15_01");
    AI_RESETFACEANI(OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_SQ503_Plan_03_02");
    if ((HERO.GUILD) == (GIL_SLD)) {
        AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_SQ503_Plan_03_03");
    };
}

instance DIA_GAROS_SQ503_AFTERCORTEZ(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_SQ503_AFTERCORTEZ_CONDITION;
    INFORMATION = DIA_GAROS_SQ503_AFTERCORTEZ_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_GAROS_SQ503_AFTERCORTEZ_CONDITION() {
    if (((LOG_GETSTATUS(MIS_SQ503)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 67588))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_SQ503_AFTERCORTEZ_INFO() {
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_SQ503_AfterCortez_03_01");
    if ((SQ503_HAVENDECISION) != (1)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_SQ503_AfterCortez_03_02");
    };
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_GAROS_KQ407_ORCSNEWS(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_KQ407_ORCSNEWS_CONDITION;
    INFORMATION = DIA_GAROS_KQ407_ORCSNEWS_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Did any of the warlords reveal themselves?";
}

func int DIA_GAROS_KQ407_ORCSNEWS_CONDITION() {
    if (((LOG_GETSTATUS(MIS_KQ407)) == (LOG_RUNNING)) && ((KQ407_GRAYSONPLANCUTSCENE) == (3))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_KQ407_ORCSNEWS_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_KQ407_OrcsNews_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_KQ407_OrcsNews_03_02");
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_TURNTONPC(SELF, MIL_4016_WEGAR);
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_KQ407_OrcsNews_03_03");
    AI_TURNTONPC(SELF, OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_KQ407_OrcsNews_03_04");
    AI_TURNTONPC(SELF, SLD_1000_ADELARD);
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_KQ407_OrcsNews_03_05");
    AI_TURNTONPC(SELF, OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_KQ407_OrcsNews_03_06");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    AI_LOGENTRY(TOPIC_KQ407, LOG_KQ407_GAROS_FIRSTORCLEADER);
    AI_FUNCTION(SELF, 61793);
    AI_FUNCTION(SELF, 61786);
}

instance DIA_GAROS_KQ407_ORCSROUNDTWO(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_KQ407_ORCSROUNDTWO_CONDITION;
    INFORMATION = DIA_GAROS_KQ407_ORCSROUNDTWO_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "We got rid of the orcs in the swamps and the Lurkers' Coast.";
}

func int DIA_GAROS_KQ407_ORCSROUNDTWO_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_KQ407)) == (LOG_RUNNING)) && ((KQ407_ORCLEADER_PART13_DEAD) == (TRUE))) && ((KQ407_ORCLEADER_PART17_DEAD) == (TRUE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_KQ407_ORCSROUNDTWO_INFO() {
    AI_STARTFACEANI(OTHER, S_SMUG, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_KQ407_OrcsRoundTwo_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_KQ407_OrcsRoundTwo_03_02");
    AI_TURNTONPC(SELF, MIL_4001_OKTAV);
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_KQ407_OrcsRoundTwo_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_KQ407_OrcsRoundTwo_03_05");
    AI_RESETFACEANI(SELF);
    AI_TURNTONPC(SELF, OTHER);
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_KQ407_OrcsRoundTwo_03_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_KQ407_OrcsRoundTwo_03_07");
    AI_STOPPROCESSINFOS(SELF);
    AI_LOGENTRY(TOPIC_KQ407, LOG_KQ407_GAROS_SECONDORCLEADER);
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
    KQ407_BLOCK_WEIGARQUEST = FALSE;
    AI_FUNCTION(SELF, 61799);
    AI_FUNCTION(SELF, 61802);
}

instance DIA_GAROS_KQ407_READY(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_KQ407_READY_CONDITION;
    INFORMATION = DIA_GAROS_KQ407_READY_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Do you have a plan on how to get to the lighthouse?";
}

func int DIA_GAROS_KQ407_READY_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_KQ407)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 70592))) && ((NPC_GETDISTTOWP(SELF, "PART1_KQ407_GAROS_STAND_01")) <= (700))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_KQ407_READY_INFO() {
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_KQ407_Ready_15_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_KQ407_Ready_03_02");
    AI_STARTFACEANI(SELF, S_SERIOUS, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_KQ407_Ready_03_03");
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

instance DIA_GAROS_KQ407_LETSATTACK(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_KQ407_LETSATTACK_CONDITION;
    INFORMATION = DIA_GAROS_KQ407_LETSATTACK_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Let's get to work.";
}

func int DIA_GAROS_KQ407_LETSATTACK_CONDITION() {
    if (((LOG_GETSTATUS(MIS_KQ407)) == (LOG_RUNNING)) && (NPC_KNOWSINFO(OTHER, 70595))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_KQ407_LETSATTACK_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_KQ407_LetsAttack_15_01");
    AI_WAITTILLEND(SELF, OTHER);
    AI_STOPPROCESSINFOS(SELF);
    AI_FUNCTION(SELF, 61815);
}

instance DIA_GAROS_KQ407_AFTERFIGHT(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_KQ407_AFTERFIGHT_CONDITION;
    INFORMATION = DIA_GAROS_KQ407_AFTERFIGHT_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_GAROS_KQ407_AFTERFIGHT_CONDITION() {
    if ((((LOG_GETSTATUS(MIS_KQ407)) == (LOG_RUNNING)) && ((NPC_GETDISTTOWP(SELF, "PART1_KQ407_GAROS_STAND_04")) <= (1000))) && (NPC_KNOWSINFO(OTHER, 70598))) {
        if ((NPC_ISDEAD(ORCLEADER_PART1)) || ((KQ407_FIGHTLIGHTHOUSE) == (2))) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_KQ407_AFTERFIGHT_INFO() {
    KQ407_ORCLEADER_PART1_DEAD = TRUE;
    KQ407_PART1_REMOVEGAROS = 1;
    SLD_1017_GAROS.AIVAR[15] = FALSE;
    SLD_13661_ARAXOS.AIVAR[15] = FALSE;
    SLD_13662_ARAXOS.AIVAR[15] = FALSE;
    AI_STARTFACEANI(SELF, S_ANGRY, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_KQ407_AfterFight_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_KQ407_AfterFight_03_02");
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_KQ407_AfterFight_15_03");
    AI_RESETFACEANI(SELF);
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_KQ407_AfterFight_03_04");
    AI_LOGENTRY(TOPIC_KQ407, LOG_KQ407_GAROS_PART1CLEAR);
    NPC_EXCHANGEROUTINE(SELF, "KQ407_ORCFIGHT_PLUNDER");
    KQ407_GAROS_RTNCHECK = 4;
    INFO_CLEARCHOICES(70601);
    INFO_ADDCHOICE(70601, "(Stay in the lighthouse)", 70605);
    INFO_ADDCHOICE(70601, "(Return by boat to the other side)", 70604);
}

func void DIA_GAROS_KQ407_AFTERFIGHT_BOAT() {
    AI_STOPPROCESSINFOS(SELF);
    AI_FUNCTION(SELF, 61817);
}

func void DIA_GAROS_KQ407_AFTERFIGHT_STAY() {
    AI_STOPPROCESSINFOS(SELF);
}

instance DIA_GAROS_CANYOUTEACH(C_INFO) {
    NPC = 52041;
    NR = 3;
    CONDITION = DIA_GAROS_CANYOUTEACH_CONDITION;
    INFORMATION = DIA_GAROS_CANYOUTEACH_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Could I train with you?";
}

func int DIA_GAROS_CANYOUTEACH_CONDITION() {
    if ((OTHER.GUILD) == (GIL_SLD)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_CANYOUTEACH_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_CanYouTeach_15_00");
    if ((MARVIN_ARAXOSSPECIALIZATION) == (4)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_CanYouTeach_03_01");
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_CanYouTeach_03_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_CanYouTeach_03_03");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_CanYouTeach_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_CanYouTeach_03_05");
    LOG_CREATETOPIC(TOPIC_ARAXOSTEACHER, LOG_NOTE);
    AI_LOGENTRY(TOPIC_ARAXOSTEACHER, LOG_ARAXOSTEACHER_GAROS);
}

var int GAROS_NOMORE;
var int GAROS_CURRENTBLEVEL;
var int GAROS_CURRENTDEXLEVEL;
var string GAROS_PRINTS;
const int GAROS_RLEVEL = 60;
const int GAROS_RLEVELDEX = 120;
instance DIA_GAROS_TEACH(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_TEACH_CONDITION;
    INFORMATION = DIA_GAROS_TEACH_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "I want to train.";
}

func int DIA_GAROS_TEACH_CONDITION() {
    if (((NPC_KNOWSINFO(OTHER, 70606)) && ((GAROS_NOMORE) == (FALSE))) && ((OTHER.GUILD) == (GIL_SLD))) {
        if ((MARVIN_ARAXOSSPECIALIZATION) == (4)) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_TEACH_CHOICES() {
    var int GAROS_GOLDCOST;
    GAROS_CURRENTBLEVEL = OTHER.AIVAR[86];
    GAROS_CURRENTDEXLEVEL = OTHER.AIVAR[82];
    GAROS_GOLDCOST = 0;
    INFO_CLEARCHOICES(70615);
    INFO_ADDCHOICE(70615, DIALOG_BACK, 70620);
    INFO_ADDCHOICE(70615, B_BUILDLEARNSTRING2(PRINT_LEARNBOW1, B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_BOW, 1), GAROS_GOLDCOST), 70621);
    INFO_ADDCHOICE(70615, B_BUILDLEARNSTRING2(PRINT_LEARNBOW5, B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_BOW, 5), (GAROS_GOLDCOST) * (5)), 70622);
    INFO_ADDCHOICE(70615, B_BUILDLEARNSTRING2(PRINT_LEARNDEX1, B_GETLEARNCOSTATTRIBUTE(OTHER, ATR_DEXTERITY, 1), GAROS_GOLDCOST), 70623);
    INFO_ADDCHOICE(70615, B_BUILDLEARNSTRING2(PRINT_LEARNDEX5, B_GETLEARNCOSTATTRIBUTE(OTHER, ATR_DEXTERITY, 5), (GAROS_GOLDCOST) * (5)), 70624);
}

func void DIA_GAROS_TEACH_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_Teach_15_00");
    if (((OTHER.AIVAR[86]) >= (90)) && ((OTHER.AIVAR[82]) >= (160))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_NoMore_03_01");
        GAROS_NOMORE = TRUE;
    };
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_Teach_03_01");
    DIA_GAROS_TEACH_CHOICES();
}

func void DIA_GAROS_TEACH_BACK() {
    INFO_CLEARCHOICES(70615);
}

func void DIA_GAROS_TEACH_B1() {
    if ((OTHER.AIVAR[86]) < (GAROS_RLEVEL)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Teach_B1_03_00");
        GAROS_PRINTS = CONCATSTRINGS(PRINT_MINSKILL, INTTOSTRING(GAROS_RLEVEL));
    };
    if ((GAROS_CURRENTBLEVEL) < (OTHER.AIVAR[86])) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Teach_B1_03_01");
    };
    B_TEACHFIGHTTALENTPERCENT(SELF, OTHER, NPC_TALENT_BOW, 1, 90);
    DIA_GAROS_TEACH_CHOICES();
}

func void DIA_GAROS_TEACH_B5() {
    if ((OTHER.AIVAR[86]) < (GAROS_RLEVEL)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Teach_B5_03_02");
        GAROS_PRINTS = CONCATSTRINGS(PRINT_MINSKILL, INTTOSTRING(GAROS_RLEVEL));
    };
    if ((GAROS_CURRENTBLEVEL) < (OTHER.AIVAR[86])) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Teach_B5_03_03");
    };
    B_TEACHFIGHTTALENTPERCENT(SELF, OTHER, NPC_TALENT_BOW, 5, 90);
    DIA_GAROS_TEACH_CHOICES();
}

func void DIA_GAROS_TEACHDEX1() {
    if ((OTHER.AIVAR[82]) < (GAROS_RLEVELDEX)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_TeachDEX1_03_00");
        GAROS_PRINTS = CONCATSTRINGS(PRINT_MINATR, INTTOSTRING(GAROS_RLEVELDEX));
    };
    if ((GAROS_CURRENTDEXLEVEL) < (OTHER.AIVAR[82])) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_TeachDEX1_03_01");
    };
    B_TEACHATTRIBUTEPOINTS(SELF, OTHER, ATR_DEXTERITY, 1, 160);
    DIA_GAROS_TEACH_CHOICES();
}

func void DIA_GAROS_TEACHDEX5() {
    if ((OTHER.AIVAR[82]) < (GAROS_RLEVELDEX)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_TeachDEX5_03_00");
        GAROS_PRINTS = CONCATSTRINGS(PRINT_MINATR, INTTOSTRING(GAROS_RLEVELDEX));
    };
    if ((GAROS_CURRENTDEXLEVEL) < (OTHER.AIVAR[82])) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_TeachDEX5_03_01");
    };
    B_TEACHATTRIBUTEPOINTS(SELF, OTHER, ATR_DEXTERITY, 5, 160);
    DIA_GAROS_TEACH_CHOICES();
}

instance DIA_GAROS_PROMOTION_TIER2(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_PROMOTION_TIER2_CONDITION;
    INFORMATION = DIA_GAROS_PROMOTION_TIER2_INFO;
    PERMANENT = FALSE;
    IMPORTANT = TRUE;
}

func int DIA_GAROS_PROMOTION_TIER2_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 71287)) && ((MARVIN_ARAXOSSPECIALIZATION) == (ARAXOS_SPECIALIZATION_MASTERARCHER))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_PROMOTION_TIER2_INFO() {
    CREATEINVITEMS(SELF, 35475, 1);
    B_GIVEINVITEMS(SELF, OTHER, 35475, 1);
    AI_EQUIPARMOR(SELF, 35475);
    PROMOTION_GAROS_RTNCHECK = 0;
    AI_STARTFACEANI(SELF, S_SMILE, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_Promotion_Tier2_03_01");
    AI_STARTFACEANI(OTHER, S_WHAT, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_Promotion_Tier2_15_02");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_Promotion_Tier2_03_03");
    AI_WAITTILLEND(OTHER, SELF);
    AI_EQUIPARMOR(OTHER, 35475);
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_Promotion_Tier2_03_04");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_Promotion_Tier2_03_05");
    AI_STARTFACEANI(OTHER, S_SMILE, 1, -(1));
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_Promotion_Tier2_15_06");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_Promotion_Tier2_03_07");
    RESTOREROUTINE_GAROS();
    AI_STOPPROCESSINFOS(SELF);
    AI_RESETFACEANI(SELF);
    AI_RESETFACEANI(OTHER);
}

instance DIA_GAROS_HELLO(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_HELLO_CONDITION;
    INFORMATION = DIA_GAROS_HELLO_INFO;
    PERMANENT = FALSE;
    DESCRIPTION = "Who are you?";
}

func int DIA_GAROS_HELLO_CONDITION() {
    if ((HERO.GUILD) != (GIL_SLD)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_HELLO_INFO() {
    B_SAY(OTHER, SELF, "$MARVIN_WhoAreYou");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_Hello_09_01");
}

instance DIA_GAROS_AMBIENT(C_INFO) {
    NPC = 52041;
    NR = 997;
    CONDITION = DIA_GAROS_AMBIENT_CONDITION;
    INFORMATION = DIA_GAROS_AMBIENT_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "How are you doing?";
}

func int DIA_GAROS_AMBIENT_CONDITION() {
    if ((NPC_KNOWSINFO(OTHER, 70628)) || ((HERO.GUILD) == (GIL_SLD))) {
        if ((NPC_GETDISTTOWP(SELF, "PARTM1_LOOKOUT_01")) <= (7000)) {
            return TRUE;
        };
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_AMBIENT_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_Ambient_15_00");
    if (((OTHER.GUILD) == (GIL_SLD)) && ((MARVIN_ARAXOSSPECIALIZATION) == (ARAXOS_SPECIALIZATION_NONE))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Ambient_13_01");
    };
    if (((OTHER.GUILD) == (GIL_SLD)) && ((MARVIN_ARAXOSSPECIALIZATION) == (ARAXOS_SPECIALIZATION_ARCHER))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Ambient_13_02");
    };
    if (((OTHER.GUILD) == (GIL_SLD)) && ((MARVIN_ARAXOSSPECIALIZATION) == (ARAXOS_SPECIALIZATION_MASTERARCHER))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Ambient_13_03");
    };
    if (((OTHER.GUILD) == (GIL_SLD)) && ((MARVIN_ARAXOSSPECIALIZATION) == (ARAXOS_SPECIALIZATION_FIGHTER))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Ambient_13_04");
    };
    if (((OTHER.GUILD) == (GIL_SLD)) && ((MARVIN_ARAXOSSPECIALIZATION) == (ARAXOS_SPECIALIZATION_MASTERFIGHTER))) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Ambient_13_05");
    };
    if ((OTHER.GUILD) != (GIL_SLD)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Ambient_13_06");
    };
}

var int GAROS_ALLHUNT;
instance DIA_GAROS_HUNTING_SPECIAL(C_INFO) {
    NPC = 52041;
    NR = 1;
    CONDITION = DIA_GAROS_HUNTING_SPECIAL_CONDITION;
    INFORMATION = DIA_GAROS_HUNTING_SPECIAL_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "Can you teach me something about hunting?";
}

func int DIA_GAROS_HUNTING_SPECIAL_CONDITION() {
    if ((((NPC_KNOWSINFO(OTHER, 70606)) && ((OTHER.GUILD) == (GIL_SLD))) && ((GAROS_ALLHUNT) == (FALSE))) && ((PLAYER_TALENT_TAKEANIMALTROPHY[2]) == (TRUE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_HUNTING_SPECIAL_CHOICES() {
    INFO_CLEARCHOICES(70635);
    INFO_ADDCHOICE(70635, DIALOG_BACK, 70639);
    if ((PLAYER_TALENT_TAKEANIMALTROPHY[0]) == (FALSE)) {
        INFO_ADDCHOICE(70635, B_BUILDLEARNSTRING2(PRINT_TEACHTEETH, B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_TAKEANIMALTROPHY, TROPHY_TEETH), GAROS_TEETHTROPHY), 70640);
    };
    if ((PLAYER_TALENT_TAKEANIMALTROPHY[1]) == (FALSE)) {
        INFO_ADDCHOICE(70635, B_BUILDLEARNSTRING2(PRINT_TEACHCLAWS, B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_TAKEANIMALTROPHY, TROPHY_CLAWS), GAROS_CLAWSTROPHY), 70641);
    };
    if ((PLAYER_TALENT_TAKEANIMALTROPHY[5]) == (FALSE)) {
        INFO_ADDCHOICE(70635, B_BUILDLEARNSTRING2(PRINT_TEACHFIRETONGUE, B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_TAKEANIMALTROPHY, TROPHY_FIRETONGUE), GAROS_FIRETONGUETROPHY), 70642);
    };
    if ((PLAYER_TALENT_TAKEANIMALTROPHY[13]) == (FALSE)) {
        INFO_ADDCHOICE(70635, B_BUILDLEARNSTRING2(PRINT_TEACHREPTILESKIN, B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_TAKEANIMALTROPHY, TROPHY_REPTILESKIN), GAROS_REPTILESKINTROPHY), 70643);
    };
    if ((PLAYER_TALENT_TAKEANIMALTROPHY[4]) == (FALSE)) {
        INFO_ADDCHOICE(70635, B_BUILDLEARNSTRING2(PRINT_TEACHSHADOWHORN, B_GETLEARNCOSTTALENT(OTHER, NPC_TALENT_TAKEANIMALTROPHY, TROPHY_SHADOWHORN), GAROS_SHADOWHORNTROPHY), 70644);
    };
}

func void DIA_GAROS_HUNTING_SPECIAL_INFO() {
    B_SAY(OTHER, SELF, "$MARVIN_CanYouTeachMeHunting");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_Hunting_Special_03_01");
    DIA_GAROS_HUNTING_SPECIAL_CHOICES();
}

func void DIA_GAROS_HUNTING_SPECIAL_BACK() {
    INFO_CLEARCHOICES(70635);
    if ((((((PLAYER_TALENT_TAKEANIMALTROPHY[0]) == (TRUE)) && ((PLAYER_TALENT_TAKEANIMALTROPHY[1]) == (TRUE))) && ((PLAYER_TALENT_TAKEANIMALTROPHY[5]) == (TRUE))) && ((PLAYER_TALENT_TAKEANIMALTROPHY[13]) == (TRUE))) && ((PLAYER_TALENT_TAKEANIMALTROPHY[4]) == (TRUE))) {
        GAROS_ALLHUNT = TRUE;
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_AllHunt_03_01");
    };
}

func void DIA_GAROS_HUNTING_SPECIAL_TEETH() {
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_Hunting_Special_Teeth_15_01");
    if ((NPC_HASITEMS(OTHER, 34203)) >= (GAROS_TEETHTROPHY)) {
        if ((PLAYER_TALENT_TAKEANIMALTROPHY[0]) == (TRUE)) {
            NPC_REMOVEINVITEMS(SELF, 34203, GAROS_TEETHTROPHY);
            AI_OUTPUT(SELF, OTHER, "DIA_Garos_Hunting_Special_Teeth_03_02");
            B_GIVEINVITEMS(OTHER, SELF, 34203, GAROS_TEETHTROPHY);
            PRINTSCREEN(PRINT_LEARNTAKEANIMALTROPHYTEETH, -(1), -(1), FONT_SCREEN, 2);
        };
    };
    if ((NPC_HASITEMS(OTHER, 34203)) < (GAROS_TEETHTROPHY)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Hunting_Special_Teeth_03_03");
    };
    DIA_GAROS_HUNTING_SPECIAL_CHOICES();
}

func void DIA_GAROS_HUNTING_SPECIAL_CLAWS() {
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_Hunting_Special_Claws_15_01");
    if ((NPC_HASITEMS(OTHER, 34203)) >= (GAROS_CLAWSTROPHY)) {
        if ((PLAYER_TALENT_TAKEANIMALTROPHY[1]) == (TRUE)) {
            NPC_REMOVEINVITEMS(SELF, 34203, GAROS_CLAWSTROPHY);
            AI_OUTPUT(SELF, OTHER, "DIA_Garos_Hunting_Special_Claws_03_02");
            B_GIVEINVITEMS(OTHER, SELF, 34203, GAROS_CLAWSTROPHY);
            PRINTSCREEN(PRINT_LEARNTAKEANIMALTROPHYCLAWS, -(1), -(1), FONT_SCREEN, 2);
        };
    };
    if ((NPC_HASITEMS(OTHER, 34203)) < (GAROS_CLAWSTROPHY)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Hunting_Special_Claws_03_03");
    };
    DIA_GAROS_HUNTING_SPECIAL_CHOICES();
}

func void DIA_GAROS_HUNTING_SPECIAL_FIRETONGUE() {
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_Hunting_Special_FireTongue_15_01");
    if ((NPC_HASITEMS(OTHER, 34203)) >= (GAROS_FIRETONGUETROPHY)) {
        if ((PLAYER_TALENT_TAKEANIMALTROPHY[5]) == (TRUE)) {
            NPC_REMOVEINVITEMS(SELF, 34203, GAROS_FIRETONGUETROPHY);
            AI_OUTPUT(SELF, OTHER, "DIA_Garos_Hunting_Special_FireTongue_03_02");
            B_GIVEINVITEMS(OTHER, SELF, 34203, GAROS_FIRETONGUETROPHY);
            AI_OUTPUT(SELF, OTHER, "DIA_Garos_Hunting_Special_FireTongue_03_03");
            PRINTSCREEN(PRINT_LEARNTAKEANIMALTROPHYFIRETONGUE, -(1), -(1), FONT_SCREEN, 2);
        };
    };
    if ((NPC_HASITEMS(OTHER, 34203)) < (GAROS_FIRETONGUETROPHY)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Hunting_Special_FireTongue_03_04");
    };
    DIA_GAROS_HUNTING_SPECIAL_CHOICES();
}

func void DIA_GAROS_HUNTING_SPECIAL_REPTILESKIN() {
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_Hunting_Special_ReptileSkin_15_01");
    if ((NPC_HASITEMS(OTHER, 34203)) >= (GAROS_REPTILESKINTROPHY)) {
        if ((PLAYER_TALENT_TAKEANIMALTROPHY[13]) == (TRUE)) {
            NPC_REMOVEINVITEMS(SELF, 34203, GAROS_REPTILESKINTROPHY);
            AI_OUTPUT(SELF, OTHER, "DIA_Garos_Hunting_Special_ReptileSkin_03_02");
            B_GIVEINVITEMS(OTHER, SELF, 34203, GAROS_REPTILESKINTROPHY);
            AI_OUTPUT(SELF, OTHER, "DIA_Garos_Hunting_Special_ReptileSkin_03_03");
            PRINTSCREEN(PRINT_LEARNTAKEANIMALTROPHYREPTILESKIN, -(1), -(1), FONT_SCREEN, 2);
        };
    };
    if ((NPC_HASITEMS(OTHER, 34203)) < (GAROS_REPTILESKINTROPHY)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Hunting_Special_ReptileSkin_03_04");
    };
    DIA_GAROS_HUNTING_SPECIAL_CHOICES();
}

func void DIA_GAROS_HUNTING_SPECIAL_SHADOWHORN() {
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_Hunting_Special_ShadowHorn_15_01");
    if ((NPC_HASITEMS(OTHER, 34203)) >= (GAROS_SHADOWHORNTROPHY)) {
        if ((PLAYER_TALENT_TAKEANIMALTROPHY[4]) == (TRUE)) {
            NPC_REMOVEINVITEMS(SELF, 34203, GAROS_SHADOWHORNTROPHY);
            AI_OUTPUT(SELF, OTHER, "DIA_Garos_Hunting_Special_ShadowHorn_03_02");
            B_GIVEINVITEMS(OTHER, SELF, 34203, GAROS_SHADOWHORNTROPHY);
            AI_OUTPUT(SELF, OTHER, "DIA_Garos_Hunting_Special_ShadowHorn_03_03");
            PRINTSCREEN(PRINT_LEARNTAKEANIMALTROPHYHORN, -(1), -(1), FONT_SCREEN, 2);
        };
    };
    if ((NPC_HASITEMS(OTHER, 34203)) < (GAROS_SHADOWHORNTROPHY)) {
        AI_OUTPUT(SELF, OTHER, "DIA_Garos_Hunting_Special_ShadowHorn_03_04");
    };
    DIA_GAROS_HUNTING_SPECIAL_CHOICES();
}

instance DIA_GAROS_BOUNTY(C_INFO) {
    NPC = 52041;
    NR = 900;
    CONDITION = DIA_GAROS_BOUNTY_CONDITION;
    INFORMATION = DIA_GAROS_BOUNTY_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = "I want to collect the reward for the beast I hunted.";
}

func int DIA_GAROS_BOUNTY_CONDITION() {
    if ((NPC_GETDISTTOWP(SELF, "PARTM1_LOOKOUT_01")) <= (7000)) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

var int GAROS_WANTEDPOSTER_REWARD;
func void DIA_GAROS_BOUNTY_CHOICES() {
    GAROS_WANTEDPOSTER_REWARD = 0;
    INFO_CLEARCHOICES(70645);
    INFO_ADDCHOICE(70645, DIALOG_BACK, 70650);
    if (((BOUNTY_BOAR_SPAWN) == (TRUE)) && ((BOUNTY_BOAR_SPAWNINARCHOLOS) == (3))) {
        if (NPC_ISDEAD(BDT_8018_KEILER)) {
            INFO_ADDCHOICE(70645, NAME_WANTEDPOSTER_BOAR, 70653);
        };
    };
    if (((BOUNTY_SCAVENGER_SPAWN) == (TRUE)) && ((BOUNTY_SCAVENGER_SPAWNINARCHOLOS) == (3))) {
        if (NPC_ISDEAD(BDT_8019_SCAVENGER)) {
            INFO_ADDCHOICE(70645, NAME_WANTEDPOSTER_SCAVENGER, 70654);
        };
    };
    if (((BOUNTY_MOLERAT_SPAWN) == (TRUE)) && ((BOUNTY_MOLERAT_SPAWNINARCHOLOS) == (3))) {
        if (NPC_ISDEAD(BDT_8020_MOLERAT)) {
            INFO_ADDCHOICE(70645, NAME_WANTEDPOSTER_MOLERAT, 70655);
        };
    };
    if (((BOUNTY_CRAB_SPAWN) == (TRUE)) && ((BOUNTY_CRAB_SPAWNINARCHOLOS) == (3))) {
        if (NPC_ISDEAD(BDT_8021_CRAB)) {
            INFO_ADDCHOICE(70645, NAME_WANTEDPOSTER_CRAB, 70656);
        };
    };
    if (((BOUNTY_BAT_SPAWN) == (TRUE)) && ((BOUNTY_BAT_SPAWNINARCHOLOS) == (3))) {
        if (NPC_ISDEAD(BDT_8022_BAT)) {
            INFO_ADDCHOICE(70645, NAME_WANTEDPOSTER_BAT, 70657);
        };
    };
    if (((BOUNTY_ICEWOLF_SPAWN) == (TRUE)) && ((BOUNTY_ICEWOLF_SPAWNINARCHOLOS) == (3))) {
        if (((NPC_ISDEAD(BDT_8023_ICEWOLF)) && (NPC_ISDEAD(BDT_8024_ICEWOLF))) && (NPC_ISDEAD(BDT_8025_ICEWOLF))) {
            INFO_ADDCHOICE(70645, NAME_WANTEDPOSTER_ICEWOLF_MANY, 70658);
        };
    };
    if (((BOUNTY_WHITEBEAR_SPAWN) == (TRUE)) && ((BOUNTY_WHITEBEAR_SPAWNINARCHOLOS) == (3))) {
        if (NPC_ISDEAD(BDT_8026_WHITEBEAR)) {
            INFO_ADDCHOICE(70645, NAME_WANTEDPOSTER_WHITEBEAR, 70659);
        };
    };
    if (((BOUNTY_SHADOWBEAST_SPAWN) == (TRUE)) && ((BOUNTY_SHADOWBEAST_SPAWNINARCHOLOS) == (3))) {
        if (NPC_ISDEAD(BDT_8027_SHADOWBEAST)) {
            INFO_ADDCHOICE(70645, NAME_WANTEDPOSTER_SHADOWBEAST, 70660);
        };
    };
    if (((BOUNTY_RAT_SPAWN) == (TRUE)) && ((BOUNTY_RAT_SPAWNINARCHOLOS) == (3))) {
        if (((NPC_ISDEAD(BDT_8028_RAT)) && (NPC_ISDEAD(BDT_8029_RAT))) && (NPC_ISDEAD(BDT_8030_RAT))) {
            INFO_ADDCHOICE(70645, NAME_WANTEDPOSTER_RAT_MANY, 70661);
        };
    };
    if (((BOUNTY_GOLEM_SPAWN) == (TRUE)) && ((BOUNTY_GOLEM_SPAWNINARCHOLOS) == (3))) {
        if (NPC_ISDEAD(BDT_8031_GOLEM)) {
            INFO_ADDCHOICE(70645, NAME_WANTEDPOSTER_GOLEM, 70662);
        };
    };
    if (((BOUNTY_TROLL_SPAWN) == (TRUE)) && ((BOUNTY_TROLL_SPAWNINARCHOLOS) == (3))) {
        if (((NPC_ISDEAD(BDT_8032_TROLL)) && (NPC_ISDEAD(BDT_8033_TROLL))) && (NPC_ISDEAD(BDT_8034_TROLL))) {
            INFO_ADDCHOICE(70645, NAME_WANTEDPOSTER_TROLL_MANY, 70663);
        };
    };
    if (((BOUNTY_FIREWARAN_SPAWN) == (TRUE)) && ((BOUNTY_FIREWARAN_SPAWNINARCHOLOS) == (3))) {
        if (((NPC_ISDEAD(BDT_8035_FIREWARAN)) && (NPC_ISDEAD(BDT_8036_FIREWARAN))) && (NPC_ISDEAD(BDT_8037_FIREWARAN))) {
            INFO_ADDCHOICE(70645, NAME_WANTEDPOSTER_FIREWARAN_MANY, 70664);
        };
    };
}

func void DIA_GAROS_BOUNTY_INFO() {
    AI_OUTPUT(OTHER, SELF, "DIA_Garos_Bounty_15_01");
    DIA_GAROS_BOUNTY_CHOICES();
}

func void DIA_GAROS_BOUNTY_BACK() {
    INFO_CLEARCHOICES(70645);
}

func void DIA_GAROS_BOUNTY_COMMENT() {
    AI_STARTFACEANI(SELF, S_SMUG, 1, -(1));
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_Bounty_GoodJob_03_01");
    AI_OUTPUT(SELF, OTHER, "DIA_Garos_Bounty_GoodJob_03_02");
    AI_RESETFACEANI(SELF);
}

func void DIA_GAROS_BOUNTY_GIVEGOLD() {
    GAMESERVICES_INCREMENTSTATANDCHECKACHIEVEMENT(STAT_ACH_28, 1, ACH_28, STAT_ACH_28_REQUIRED);
    CREATEINVITEMS(SELF, 34203, GAROS_WANTEDPOSTER_REWARD);
    B_GIVEINVITEMS(SELF, OTHER, 34203, GAROS_WANTEDPOSTER_REWARD);
    B_GIVEPLAYERXP(GAROS_WANTEDPOSTER_REWARD);
}

func void DIA_GAROS_BOUNTY_BOAR() {
    GAROS_WANTEDPOSTER_REWARD = 100;
    BOUNTY_BOAR_SPAWN = 2;
    DIA_GAROS_BOUNTY_COMMENT();
    DIA_GAROS_BOUNTY_GIVEGOLD();
    DIA_GAROS_BOUNTY_CHOICES();
}

func void DIA_GAROS_BOUNTY_SCAVENGER() {
    GAROS_WANTEDPOSTER_REWARD = 150;
    BOUNTY_SCAVENGER_SPAWN = 2;
    DIA_GAROS_BOUNTY_COMMENT();
    DIA_GAROS_BOUNTY_GIVEGOLD();
    DIA_GAROS_BOUNTY_CHOICES();
}

func void DIA_GAROS_BOUNTY_MOLERAT() {
    GAROS_WANTEDPOSTER_REWARD = 100;
    BOUNTY_MOLERAT_SPAWN = 2;
    DIA_GAROS_BOUNTY_COMMENT();
    DIA_GAROS_BOUNTY_GIVEGOLD();
    DIA_GAROS_BOUNTY_CHOICES();
}

func void DIA_GAROS_BOUNTY_CRAB() {
    GAROS_WANTEDPOSTER_REWARD = 200;
    BOUNTY_CRAB_SPAWN = 2;
    DIA_GAROS_BOUNTY_COMMENT();
    DIA_GAROS_BOUNTY_GIVEGOLD();
    DIA_GAROS_BOUNTY_CHOICES();
}

func void DIA_GAROS_BOUNTY_BAT() {
    GAROS_WANTEDPOSTER_REWARD = 250;
    BOUNTY_BAT_SPAWN = 2;
    DIA_GAROS_BOUNTY_COMMENT();
    DIA_GAROS_BOUNTY_GIVEGOLD();
    DIA_GAROS_BOUNTY_CHOICES();
}

func void DIA_GAROS_BOUNTY_ICEWOLF() {
    GAROS_WANTEDPOSTER_REWARD = 200;
    BOUNTY_ICEWOLF_SPAWN = 2;
    DIA_GAROS_BOUNTY_COMMENT();
    DIA_GAROS_BOUNTY_GIVEGOLD();
    DIA_GAROS_BOUNTY_CHOICES();
}

func void DIA_GAROS_BOUNTY_WHITEBEAR() {
    GAROS_WANTEDPOSTER_REWARD = 300;
    BOUNTY_WHITEBEAR_SPAWN = 2;
    TRAP54_SPAWNED = 1;
    DIA_GAROS_BOUNTY_COMMENT();
    DIA_GAROS_BOUNTY_GIVEGOLD();
    DIA_GAROS_BOUNTY_CHOICES();
}

func void DIA_GAROS_BOUNTY_SHADOWBEAST() {
    GAROS_WANTEDPOSTER_REWARD = 300;
    BOUNTY_SHADOWBEAST_SPAWN = 2;
    DIA_GAROS_BOUNTY_COMMENT();
    DIA_GAROS_BOUNTY_GIVEGOLD();
    DIA_GAROS_BOUNTY_CHOICES();
}

func void DIA_GAROS_BOUNTY_RAT() {
    GAROS_WANTEDPOSTER_REWARD = 450;
    BOUNTY_RAT_SPAWN = 2;
    DIA_GAROS_BOUNTY_COMMENT();
    DIA_GAROS_BOUNTY_GIVEGOLD();
    DIA_GAROS_BOUNTY_CHOICES();
}

func void DIA_GAROS_BOUNTY_GOLEM() {
    GAROS_WANTEDPOSTER_REWARD = 500;
    BOUNTY_GOLEM_SPAWN = 2;
    DIA_GAROS_BOUNTY_COMMENT();
    DIA_GAROS_BOUNTY_GIVEGOLD();
    DIA_GAROS_BOUNTY_CHOICES();
    BOUNTY_NOVIZECORPSE();
}

func void DIA_GAROS_BOUNTY_TROLL() {
    GAROS_WANTEDPOSTER_REWARD = 500;
    BOUNTY_TROLL_SPAWN = 2;
    DIA_GAROS_BOUNTY_COMMENT();
    DIA_GAROS_BOUNTY_GIVEGOLD();
    DIA_GAROS_BOUNTY_CHOICES();
}

func void DIA_GAROS_BOUNTY_FIREWARAN() {
    GAROS_WANTEDPOSTER_REWARD = 600;
    BOUNTY_FIREWARAN_SPAWN = 2;
    DIA_GAROS_BOUNTY_COMMENT();
    DIA_GAROS_BOUNTY_GIVEGOLD();
    DIA_GAROS_BOUNTY_CHOICES();
}

instance DIA_GAROS_PICKPOCKET(C_INFO) {
    NPC = 52041;
    NR = 900;
    CONDITION = DIA_GAROS_PICKPOCKET_CONDITION;
    INFORMATION = DIA_GAROS_PICKPOCKET_INFO;
    PERMANENT = TRUE;
    DESCRIPTION = PICKPOCKET_120;
}

func int DIA_GAROS_PICKPOCKET_CONDITION() {
    if (((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (1)) && ((SELF.AIVAR[6]) == (FALSE))) {
        return TRUE;
    };
    return 0 /* !broken stack! */;
}

func void DIA_GAROS_PICKPOCKET_INFO() {
    INFO_CLEARCHOICES(70665);
    INFO_ADDCHOICE(70665, DIALOG_BACK, 70669);
    INFO_ADDCHOICE(70665, DIALOG_PICKPOCKET, 70668);
}

func void DIA_GAROS_PICKPOCKET_DOIT() {
    if ((NPC_GETTALENTSKILL(OTHER, NPC_TALENT_PICKPOCKET)) >= (3)) {
        CREATEINVITEMS(SELF, 33861, 1);
        B_GIVEINVITEMS(SELF, OTHER, 33861, 1);
        B_PICKPOCKET_AMBIENT_TIER_3();
        SELF.AIVAR[6] = TRUE;
        INFO_CLEARCHOICES(70665);
    };
    AI_PLAYANI(HERO, T_CANNOTTAKE);
    PRINTSCREEN(PRINT_CANTPICKPOCKETTHISPERSON, -(1), -(1), FONT_SCREEN, 4);
    INFO_CLEARCHOICES(70665);
}

func void DIA_GAROS_PICKPOCKET_BACK() {
    INFO_CLEARCHOICES(70665);
}

